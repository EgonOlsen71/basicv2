PROGRAMSTART:
JSR START
0:
NOP
JSR CLR
NOP
JSR COMPACTMAX
MOV Y,#14{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
MOV A,#{home*2}{STRING}
JSR STROUT
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOVB 59468,#12{INTEGER}
NOP
JSR COMPACTMAX
MOV Y,#142{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
1:
NOP
MOV A,#{clear}{down*8}{STRING}
JSR STROUT
NOP
MOV Y,#15{INTEGER}
CHGCTX #1
JSR SPC
NOP
MOV A,#blackjack{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV Y,#12{INTEGER}
CHGCTX #1
JSR SPC
NOP
MOV A,#copyright 1978{STRING}
JSR STROUT
JSR LINEBREAK
2:
NOP
MOV Y,#4{INTEGER}
CHGCTX #1
JSR SPC
NOP
MOV A,#commodore business machines inc{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV Y,#1000{INTEGER}
MOV I{REAL},Y
NOP
3:
NOP
5:
6:
NOP
NOP
NOP
NOP
NOP
7:
NOP
MOV B,#{STRING}
MOV B${STRING},B
NOP
MOV Y,#1{INTEGER}
MOV Z1{REAL},Y
NOP
MOV Y,#30{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(Z1{REAL})
JSR INITFOR
NOP
JSR COMPACTMAX
MOV B,# {STRING}
MOV A,B${STRING}
JSR CONCAT
JSR COPYSTR
MOV B${STRING},A
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
8:
NOP
NOP
NOP
NOP
MOV Y,#1{INTEGER}
MOV FF{REAL},Y
22:
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
NOP
JSR GOSUB
JSR 30
NOP
JMP 235
30:
NOP
MOV B,#s h u f f l i n g{STRING}
MOV W${STRING},B
NOP
JSR GOSUB
JSR 50110
NOP
JSR GOSUB
JSR 51540
35:
NOP
MOV Y,#0{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#51{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
MOV Y,I{REAL}
PUSH Y
NOP
POP X
MOV Y,I{REAL}
MOV G,C%[]{INTEGER}
JSR ARRAYSTORE
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
40:
NOP
MOV Y,#0{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#51{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
41:
NOP
MOV Y,#1{INTEGER}
RND X,Y
MOV Y,#51{INTEGER}
MUL X,Y
MOV Y,#1{INTEGER}
ADD X,Y
MOV R{REAL},X
42:
NOP
MOV X,I{REAL}
MOV G,C%[]{INTEGER}
CHGCTX #0
JSR ARRAYACCESS
MOV TE{REAL},X
NOP
MOV Y,I{REAL}
PUSH Y
NOP
MOV X,R{REAL}
MOV G,C%[]{INTEGER}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,X
POP X
MOV G,C%[]{INTEGER}
JSR ARRAYSTORE
NOP
MOV Y,R{REAL}
PUSH Y
NOP
POP X
MOV Y,TE{REAL}
MOV G,C%[]{INTEGER}
JSR ARRAYSTORE
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
MOV Y,#0{INTEGER}
MOV R{REAL},Y
NOP
45:
NOP
JMP RETURN
100:
NOP
MOV A,#{reverse on}a{down}{left}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{right*2}{down} {left}{down*2}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{left}{down*2} {right*2}{down}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{down}{left}a{reverse off}{STRING}
JSR STROUT
NOP
JMP RETURN
101:
NOP
MOV A,#{reverse on}2{down}{left}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{right*2}{down}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{left}{down*4}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{right*2}{down}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{down}{left}2{reverse off}{STRING}
JSR STROUT
NOP
JMP RETURN
102:
NOP
MOV A,#{reverse on}3{down}{left}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{right*2}{down}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{left}{down*2}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{left}{down*2}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{right*2}{down}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{down}{left}3{reverse off}{STRING}
JSR STROUT
NOP
JMP RETURN
103:
NOP
JSR GOSUB
JSR 116
NOP
JMP 119
104:
NOP
JSR GOSUB
JSR 103
NOP
JMP 121
105:
NOP
JSR GOSUB
JSR 117
NOP
JMP 119
106:
NOP
JSR GOSUB
JSR 105
NOP
MOV A,#{reverse on}{up*4}{left*3}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
JMP RETURN
107:
NOP
JSR GOSUB
JSR 118
NOP
JMP 119
108:
NOP
JSR GOSUB
JSR 107
NOP
JMP 121
109:
NOP
JSR GOSUB
JSR 118
NOP
MOV A,#{reverse on}{down*2}{STRING}
JSR STROUT
NOP
MOV A,#{up*9}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#10{down}{right}{down}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{left}{down*4}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{right*2}{down*2}{left}10{reverse off}{STRING}
JSR STROUT
NOP
JMP RETURN
110:
NOP
MOV A,#{down}{reverse on}{space*2}{reverse on}{cm asterisk}{reverse off} {reverse on}{sh pound}{right*2}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{down}{right}G{cm n} {cm g}{right*2}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{down}{right}G{reverse off}{space*3}{right*3}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{down}{reverse on}G{reverse off}{space*3}{reverse on}H{right}{STRING}
JSR STROUT
111:
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{reverse on}{down}{right} {reverse off}{space*3}{reverse on}H{right}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{down}{right*2}{reverse off}{space*3}{reverse on}H{right}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{right*2}{cm m*2}{cm g}H{right}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{reverse off}{down}{right*2}{sh pound} {cm asterisk}{reverse off}{right*2}{STRING}
JSR STROUT
NOP
JMP 119
112:
NOP
MOV A,#{down}{reverse on}{space*2}{reverse on}{sh pound}{cm t}T {right}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{down}{right}{reverse off}{sh pound}{reverse on}B {cm j}{right*2}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{down}{right}{reverse off}{space*4}{reverse on}{cm f}{right*2}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{reverse off}{down}{space*5}{STRING}
JSR STROUT
113:
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{down}{right*2}{reverse on}{cm c}{reverse off}{space*4}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{reverse on}{down}{right*3}{cm l} {sh -}{sh pound}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{reverse off}{down}{right*2}{reverse on} Y{cm @}{reverse off}{sh pound}{reverse off}{right*2}{STRING}
JSR STROUT
NOP
JMP 119
114:
NOP
MOV A,#{down}{reverse on}{space*2}{reverse on}{cm asterisk}{reverse off}{space*2}{reverse on}{sh pound}{right*2}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{down} {cm n} {reverse off} {right*2}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{down}{right}{reverse off}{sh pound}{space*3}{cm c}{right}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{down}{reverse on} {reverse off}{space*5}{reverse on} {STRING}
JSR STROUT
115:
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{down}{right}{reverse off}{cm f}{reverse off}{space*3}{reverse on}{sh pound}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{down}{right*2}{reverse off}{space*3}{reverse on}H{right}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{right*2} {reverse off} {reverse on}{cm m}{cm g}{right}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,#{reverse off}{down}{right*2}{sh pound}{space*2}{cm asterisk}{right*2}{STRING}
JSR STROUT
NOP
JMP 119
116:
NOP
MOV A,#{reverse on}{sh space}{down}{left} {STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{right*3}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{down*6}{left*5}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{right*3}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,# {reverse off}{STRING}
JSR STROUT
NOP
JMP RETURN
117:
NOP
JSR GOSUB
JSR 116
NOP
MOV A,#{reverse on}{left*6}{up*3}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{right*3}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{down*3}{right}{reverse off}{STRING}
JSR STROUT
NOP
JMP RETURN
118:
NOP
JSR GOSUB
JSR 116
NOP
MOV A,#{reverse on}{up*4}{left*6}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{right*3}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{down*2}{left*5}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{right*3}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{down*2}{right}{reverse off}{STRING}
JSR STROUT
NOP
JMP RETURN
119:
NOP
MOV B,#p{STRING}
MOV A,X${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
NOP
MOV A,#{up*9}{STRING}
JSR STROUT
NOP
MOV A,#{reverse on}{down*2}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,N${STRING}
JSR STROUT
NOP
MOV A,#{left}{down}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{down*9}{STRING}
JSR STROUT
NOP
MOV A,#{right*7}{STRING}
JSR STROUT
NOP
MOV A,#{left*2}{up*2}{STRING}
JSR STROUT
NOP
MOV A,N${STRING}
JSR STROUT
NOP
MOV A,#{up}{left}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{left}{reverse off}{STRING}
JSR STROUT
JMP RETURN
NOP
SKIP0:
120:
NOP
MOV B,#d{STRING}
MOV A,X${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
NOP
MOV A,#{up*9}{STRING}
JSR STROUT
NOP
MOV A,#{reverse on}{down}{STRING}
JSR STROUT
NOP
MOV A,#{left*7}{STRING}
JSR STROUT
NOP
MOV A,N${STRING}
JSR STROUT
NOP
MOV A,#{left}{down}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{down*9}{STRING}
JSR STROUT
NOP
MOV A,#{right*7}{STRING}
JSR STROUT
NOP
MOV A,#{left*2}{up*2}{STRING}
JSR STROUT
NOP
MOV A,N${STRING}
JSR STROUT
NOP
MOV A,#{up}{left}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{left}{reverse off}{STRING}
JSR STROUT
JMP RETURN
NOP
SKIP1:
121:
NOP
MOV A,#{reverse on}{up*3}{left*3}{STRING}
JSR STROUT
NOP
MOV A,Y${STRING}
JSR STROUT
NOP
MOV A,#{right*3}{down*4}{reverse off}{STRING}
JSR STROUT
NOP
JMP RETURN
130:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
NEQ X,Y
CMP X,#0{REAL}
JNE NSKIP2
JMP SKIP2
NSKIP2:
JMP RETURN
NOP
SKIP2:
131:
NOP
MOV B,#you win{STRING}
MOV W${STRING},B
NOP
MOV Y,TY{REAL}
MOV X,T{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP3
JMP SKIP3
NSKIP3:
NOP
MOV B,#you split{STRING}
MOV W${STRING},B
NOP
SKIP3:
132:
NOP
MOV Y,TY{REAL}
MOV X,T{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP4
JMP SKIP4
NSKIP4:
NOP
MOV B,#dealer wins{STRING}
MOV W${STRING},B
NOP
SKIP4:
133:
NOP
JSR GOSUB
JSR 50100
NOP
MOV B,#{STRING}
MOV W${STRING},B
NOP
JMP RETURN
235:
NOP
NOP
MOV Y,#0{INTEGER}
MOV B{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV A{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV C{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV V{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV VV{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV X7{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV X8{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV Z{REAL},Y
30000:
NOP
MOV A,#{home}{STRING}
JSR STROUT
NOP
MOV Y,#20{INTEGER}
CHGCTX #1
JSR SPC
NOP
JSR COMPACTMAX
MOV C,#19{INTEGER}
CHGCTX #1
MOV B,B${STRING}
JSR LEFT
JSR STROUT
NOP
MOV A,#{home}{STRING}
JSR STROUT
NOP
MOV Y,#20{INTEGER}
CHGCTX #1
JSR SPC
NOP
MOV A,#your bet? {STRING}
JSR STROUT
NOP
MOV Y,#6{INTEGER}
MOV Z9{REAL},Y
NOP
JSR GOSUB
JSR 51530
NOP
MOV Y,#0{INTEGER}
MOV Z9{REAL},Y
30020:
NOP
MOV Y,#0{INTEGER}
MOV BJ{REAL},Y
NOP
MOV Y,X1{REAL}
INT X,Y
MOV X2{REAL},X
NOP
MOV Y,#1{INTEGER}
MOV X,X2{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP5
JMP SKIP5
NSKIP5:
JMP 30000
NOP
SKIP5:
30101:
NOP
MOV Y,#25000{INTEGER}
MOV X,X2{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP6
JMP SKIP6
NSKIP6:
NOP
MOV B,#house limit = $25000{STRING}
MOV W${STRING},B
JSR GOSUB
JSR 50100
JMP 30000
NOP
SKIP6:
30102:
NOP
MOV Y,#1{INTEGER}
MOV H{REAL},Y
NOP
NOP
MOV Y,X2{REAL}
MOV DD{REAL},Y
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
JSR GOSUB
JSR 49121
NOP
MOV A,#{home}{STRING}
JSR STROUT
NOP
MOV Y,#20{INTEGER}
CHGCTX #1
JSR SPC
NOP
MOV A,#bet ${STRING}
JSR STROUT
NOP
MOV X,X2{REAL}
JSR REALOUT
JSR LINEBREAK
30110:
NOP
MOV Y,#36{INTEGER}
MOV X,R{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP7
JMP SKIP7
NSKIP7:
JSR GOSUB
JSR 30
NOP
SKIP7:
30900:
NOP
MOV B,#p{STRING}
MOV X${STRING},B
NOP
JSR GOSUB
JSR 52000
31004:
NOP
MOV Y,X3{REAL}
MOV D2{REAL},Y
NOP
MOV B,N${STRING}
MOV D2${STRING},B
NOP
MOV B,Y${STRING}
MOV D5${STRING},B
NOP
MOV Y,#12{INTEGER}
MOV X{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV Y{REAL},Y
31300:
NOP
JSR GOSUB
JSR 53000
NOP
JSR GOSUB
JSR 50700
31910:
NOP
MOV B,#d{STRING}
MOV X${STRING},B
NOP
JSR GOSUB
JSR 52200
40100:
NOP
MOV Y,#0{INTEGER}
MOV H{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV X{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV Y{REAL},Y
NOP
JSR GOSUB
JSR 53000
40200:
NOP
MOV Y,X3{REAL}
MOV D1{REAL},Y
NOP
MOV B,N${STRING}
MOV D1${STRING},B
NOP
MOV B,Y${STRING}
MOV D3${STRING},B
NOP
MOV Y,#1{INTEGER}
MOV H{REAL},Y
NOP
MOV Y,#1{INTEGER}
MOV X,Y{REAL}
SUB X,Y
MOV Y{REAL},X
40210:
NOP
MOV B,#p{STRING}
MOV X${STRING},B
NOP
JSR GOSUB
JSR 52800
40217:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP8
JMP SKIP8
NSKIP8:
NOP
MOV Y,X8{REAL}
MOV P2{REAL},Y
NOP
SKIP8:
40218:
NOP
MOV Y,X3{REAL}
MOV D4{REAL},Y
NOP
MOV B,N${STRING}
MOV D4${STRING},B
NOP
MOV B,Y${STRING}
MOV D6${STRING},B
40224:
NOP
JSR COMPACTMAX
MOV Y,X8{REAL}
CHGCTX #1
JSR STR
JSR COPYSTR
MOV T5${STRING},A
40225:
NOP
MOV Y,#3{INTEGER}
MOV X,Y{REAL}
ADD X,Y
MOV Y{REAL},X
NOP
JSR GOSUB
JSR 53000
NOP
JSR GOSUB
JSR 50700
40360:
NOP
MOV Y,#0{INTEGER}
MOV X,Z{REAL}
GT X,Y
PUSH X
MOV Y,#1{INTEGER}
MOV X,C{REAL}
GT X,Y
POP Y
OR X,Y
CMP X,#0{REAL}
JNE NSKIP9
JMP SKIP9
NSKIP9:
JMP RETURN
NOP
SKIP9:
40370:
NOP
MOV Y,#6{INTEGER}
MOV X,Y{REAL}
ADD X,Y
MOV Y{REAL},X
40380:
NOP
MOV B,#d{STRING}
MOV X${STRING},B
NOP
JSR GOSUB
JSR 52800
NOP
JSR GOSUB
JSR 53000
NOP
MOV Y,#1{INTEGER}
MOV X,Y{REAL}
SUB X,Y
MOV Y{REAL},X
NOP
JSR GOSUB
JSR 50700
40560:
NOP
MOV Y,#2{INTEGER}
MOV X,C{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP10
JMP SKIP10
NSKIP10:
JMP RETURN
NOP
SKIP10:
40566:
NOP
MOV Y,#5{INTEGER}
MOV X,Y{REAL}
SUB X,Y
MOV Y{REAL},X
40570:
NOP
MOV Y,#1{INTEGER}
MOV X,X3{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP11
JMP SKIP11
NSKIP11:
JSR GOSUB
JSR 59700
NOP
SKIP11:
40700:
NOP
JSR COMPACTMAX
MOV Y,X8{REAL}
CHGCTX #1
JSR STR
MOV B,A
MOV A,#you have{STRING}
JSR CONCAT
JSR COPYSTR
MOV W${STRING},A
NOP
JSR GOSUB
JSR 59800
40710:
NOP
MOV Y,#21{INTEGER}
MOV X,X8{REAL}
GT X,Y
PUSH X
MOV Y,#21{INTEGER}
MOV X,X8{REAL}
EQ X,Y
PUSH X
MOV Y,#21{INTEGER}
MOV X,X7{REAL}
EQ X,Y
POP Y
OR X,Y
POP Y
OR X,Y
CMP X,#0{REAL}
JNE NSKIP12
JMP SKIP12
NSKIP12:
JMP 49000
NOP
SKIP12:
40720:
NOP
MOV Y,#22{INTEGER}
MOV X,X8{REAL}
LT X,Y
PUSH X
MOV Y,#5{INTEGER}
MOV X,C{REAL}
EQ X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP13
JMP SKIP13
NSKIP13:
JMP 49000
NOP
SKIP13:
40723:
NOP
MOV Y,#0{INTEGER}
MOV X,Z{REAL}
EQ X,Y
PUSH X
MOV Y,D2{REAL}
MOV X,D4{REAL}
EQ X,Y
PUSH X
MOV Y,#2{INTEGER}
MOV X,C{REAL}
EQ X,Y
POP Y
AND X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP14
JMP SKIP14
NSKIP14:
JMP 57000
NOP
SKIP14:
40726:
NOP
MOV B,#do you want a hit?(y/n){STRING}
MOV W${STRING},B
NOP
MOV Y,#3{INTEGER}
MOV X,C{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP15
JMP SKIP15
NSKIP15:
NOP
JSR COMPACTMAX
MOV B,#/d){STRING}
CHGCTX #0
PUSH B
MOV C,#22{INTEGER}
CHGCTX #1
MOV B,W${STRING}
JSR LEFT
POP B
JSR CONCAT
JSR COPYSTR
MOV W${STRING},A
NOP
SKIP15:
40730:
NOP
JSR GOSUB
JSR 51500
40910:
NOP
MOV B,#y{STRING}
MOV A,J${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP16
JMP SKIP16
NSKIP16:
JSR GOSUB
JSR 40210
JMP 40700
NOP
SKIP16:
40950:
NOP
MOV B,#n{STRING}
MOV A,J${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP17
JMP SKIP17
NSKIP17:
JMP 49000
NOP
SKIP17:
40956:
NOP
MOV Y,#3{INTEGER}
MOV X,C{REAL}
LT X,Y
PUSH X
CHGCTX #1
MOV B,#d{STRING}
MOV A,J${STRING}
CHGCTX #0
JSR SEQ
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP18
JMP SKIP18
NSKIP18:
JMP 59600
NOP
SKIP18:
40960:
NOP
JMP 40720
45000:
NOP
MOV Y,C{REAL}
MOV CC{REAL},Y
NOP
MOV B,#d{STRING}
MOV X${STRING},B
NOP
MOV Y,#0{INTEGER}
MOV X{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV Y{REAL},Y
NOP
JSR GOSUB
JSR 53000
NOP
MOV Y,D1{REAL}
MOV X3{REAL},Y
NOP
MOV B,D1${STRING}
MOV N${STRING},B
NOP
MOV B,D3${STRING}
MOV Y${STRING},B
NOP
JSR GOSUB
JSR 50700
NOP
MOV Y,#6{INTEGER}
MOV X,Y{REAL}
ADD X,Y
MOV Y{REAL},X
45001:
NOP
MOV Y,#21{INTEGER}
MOV X,X8{REAL}
LT X,Y
PUSH X
MOV Y,#0{INTEGER}
MOV X,VV{REAL}
EQ X,Y
PUSH X
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
EQ X,Y
POP Y
AND X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP19
JMP SKIP19
NSKIP19:
NOP
JSR COMPACTMAX
MOV Y,X8{REAL}
CHGCTX #1
JSR STR
MOV B,A
MOV A,#you have{STRING}
JSR CONCAT
JSR COPYSTR
MOV W${STRING},A
JSR GOSUB
JSR 59800
NOP
SKIP19:
45002:
NOP
MOV Y,#22{INTEGER}
MOV X,X8{REAL}
LT X,Y
PUSH X
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
LT X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP20
JMP SKIP20
NSKIP20:
NOP
JSR COMPACTMAX
MOV Y,X8{REAL}
CHGCTX #1
JSR STR
MOV B,A
MOV A,#you have{STRING}
JSR CONCAT
JSR COPYSTR
MOV W${STRING},A
JSR GOSUB
JSR 59800
NOP
SKIP20:
45015:
NOP
MOV Y,#21{INTEGER}
MOV X,X7{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP21
JMP SKIP21
NSKIP21:
JMP 45021
NOP
SKIP21:
45016:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
NEQ X,Y
PUSH X
MOV Y,#21{INTEGER}
MOV X,X8{REAL}
EQ X,Y
PUSH X
MOV Y,#2{INTEGER}
MOV X,CC{REAL}
EQ X,Y
POP Y
AND X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP22
JMP SKIP22
NSKIP22:
JMP 45021
NOP
SKIP22:
45018:
NOP
MOV Y,#16{INTEGER}
MOV X,X7{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP23
JMP SKIP23
NSKIP23:
JMP 45021
NOP
SKIP23:
45020:
NOP
MOV Y,#4{INTEGER}
MOV X,Y{REAL}
ADD X,Y
MOV Y{REAL},X
NOP
MOV Y,#4{INTEGER}
MOV C{REAL},Y
NOP
JSR GOSUB
JSR 40380
NOP
JMP 45015
45021:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
NEQ X,Y
CMP X,#0{REAL}
JNE NSKIP24
JMP SKIP24
NSKIP24:
JMP 46000
NOP
SKIP24:
45022:
NOP
MOV Y,#0{INTEGER}
MOV X,VV{REAL}
EQ X,Y
PUSH X
MOV Y,#21{INTEGER}
MOV X,P2{REAL}
EQ X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP25
JMP SKIP25
NSKIP25:
NOP
MOV Y,CC{REAL}
MOV C{REAL},Y
JMP 58000
NOP
SKIP25:
45023:
NOP
MOV Y,VV{REAL}
CMP Y,#0{REAL}
JNE NSKIP26
JMP SKIP26
NSKIP26:
JSR GOSUB
JSR 59500
NOP
SKIP26:
45024:
NOP
MOV Y,#21{INTEGER}
MOV X,P2{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP27
JMP SKIP27
NSKIP27:
JSR GOSUB
JSR 57500
NOP
SKIP27:
45025:
NOP
MOV Y,#22{INTEGER}
MOV X,X7{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP28
JMP SKIP28
NSKIP28:
JMP 45031
NOP
SKIP28:
45027:
NOP
MOV A,#{home}{down}{STRING}
JSR STROUT
NOP
MOV A,#{down*9}{STRING}
JSR STROUT
NOP
MOV A,#{reverse off}busted with{STRING}
JSR STROUT
NOP
MOV X,X7{REAL}
JSR REALOUT
JSR LINEBREAK
45028:
NOP
MOV Y,#21{INTEGER}
MOV X,P2{REAL}
LT X,Y
PUSH X
MOV Y,#0{INTEGER}
MOV X,VV{REAL}
EQ X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP29
JMP SKIP29
NSKIP29:
NOP
MOV Y,DD{REAL}
MOV X,T{REAL}
ADD X,Y
MOV T{REAL},X
NOP
SKIP29:
45029:
NOP
MOV Y,#21{INTEGER}
MOV X,P1{REAL}
LT X,Y
PUSH X
MOV Y,#0{INTEGER}
MOV X,V{REAL}
EQ X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP30
JMP SKIP30
NSKIP30:
NOP
MOV Y,X2{REAL}
MOV X,T{REAL}
ADD X,Y
MOV T{REAL},X
NOP
SKIP30:
45030:
NOP
JMP 49004
45031:
NOP
MOV Y,X7{REAL}
MOV X,P1{REAL}
GT X,Y
PUSH X
MOV Y,#21{INTEGER}
MOV X,P1{REAL}
LT X,Y
PUSH X
MOV Y,#0{INTEGER}
MOV X,V{REAL}
EQ X,Y
POP Y
AND X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP31
JMP SKIP31
NSKIP31:
NOP
MOV Y,X2{REAL}
MOV X,T{REAL}
ADD X,Y
MOV T{REAL},X
NOP
SKIP31:
45032:
NOP
MOV Y,#0{INTEGER}
MOV X,V{REAL}
EQ X,Y
PUSH X
MOV Y,P1{REAL}
MOV X,X7{REAL}
GT X,Y
PUSH X
MOV Y,#21{INTEGER}
MOV X,P1{REAL}
LT X,Y
POP Y
AND X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP32
JMP SKIP32
NSKIP32:
NOP
MOV Y,X2{REAL}
MOV X,T{REAL}
SUB X,Y
MOV T{REAL},X
NOP
SKIP32:
45033:
NOP
MOV Y,#0{INTEGER}
MOV X,VV{REAL}
EQ X,Y
PUSH X
MOV Y,P2{REAL}
MOV X,X7{REAL}
GT X,Y
PUSH X
MOV Y,#21{INTEGER}
MOV X,P2{REAL}
LT X,Y
POP Y
AND X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP33
JMP SKIP33
NSKIP33:
NOP
MOV Y,DD{REAL}
MOV X,T{REAL}
SUB X,Y
MOV T{REAL},X
NOP
SKIP33:
45034:
NOP
MOV Y,X7{REAL}
MOV X,P2{REAL}
GT X,Y
PUSH X
MOV Y,#21{INTEGER}
MOV X,P2{REAL}
LT X,Y
PUSH X
MOV Y,#0{INTEGER}
MOV X,VV{REAL}
EQ X,Y
POP Y
AND X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP34
JMP SKIP34
NSKIP34:
NOP
MOV Y,DD{REAL}
MOV X,T{REAL}
ADD X,Y
MOV T{REAL},X
NOP
SKIP34:
46000:
NOP
JMP 49004
49000:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
EQ X,Y
PUSH X
MOV Y,#22{INTEGER}
MOV X,X8{REAL}
LT X,Y
PUSH X
MOV Y,#5{INTEGER}
MOV X,C{REAL}
EQ X,Y
POP Y
AND X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP35
JMP SKIP35
NSKIP35:
NOP
MOV Y,#9{INTEGER}
MOV VV{REAL},Y
NOP
SKIP35:
49001:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
LT X,Y
PUSH X
MOV Y,#22{INTEGER}
MOV X,X8{REAL}
LT X,Y
PUSH X
MOV Y,#5{INTEGER}
MOV X,C{REAL}
EQ X,Y
POP Y
AND X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP36
JMP SKIP36
NSKIP36:
NOP
MOV Y,#8{INTEGER}
MOV V{REAL},Y
NOP
SKIP36:
49002:
NOP
MOV Y,#2{INTEGER}
MOV X,Z{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP37
JMP SKIP37
NSKIP37:
JMP 49005
NOP
SKIP37:
49003:
NOP
JMP 45000
49004:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP38
JMP SKIP38
NSKIP38:
JMP 49110
NOP
SKIP38:
49005:
NOP
MOV Y,#21{INTEGER}
MOV X,X8{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP39
JMP SKIP39
NSKIP39:
JSR GOSUB
JSR 57500
JMP 49110
NOP
SKIP39:
49006:
NOP
MOV Y,#0{INTEGER}
MOV X,V{REAL}
EQ X,Y
PUSH X
MOV Y,#21{INTEGER}
MOV X,X7{REAL}
GT X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP40
JMP SKIP40
NSKIP40:
JMP 59010
NOP
SKIP40:
49007:
NOP
MOV Y,#21{INTEGER}
MOV X,X8{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP41
JMP SKIP41
NSKIP41:
JMP 58000
NOP
SKIP41:
49009:
NOP
MOV Y,#21{INTEGER}
MOV X,X7{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP42
JMP SKIP42
NSKIP42:
JMP 58500
NOP
SKIP42:
49010:
NOP
MOV Y,#8{INTEGER}
MOV X,V{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP43
JMP SKIP43
NSKIP43:
JSR GOSUB
JSR 59500
JMP 49110
NOP
SKIP43:
49011:
NOP
MOV Y,#2{INTEGER}
MOV X,Z{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP44
JMP SKIP44
NSKIP44:
JMP 57100
NOP
SKIP44:
49015:
NOP
MOV Y,X7{REAL}
MOV X,X8{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP45
JMP SKIP45
NSKIP45:
JMP 59010
NOP
SKIP45:
49020:
NOP
MOV Y,X7{REAL}
MOV X,X8{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP46
JMP SKIP46
NSKIP46:
JMP 59030
NOP
SKIP46:
49030:
NOP
MOV Y,X7{REAL}
MOV X,X8{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP47
JMP SKIP47
NSKIP47:
JMP 59050
NOP
SKIP47:
49110:
NOP
MOV Y,#2{INTEGER}
MOV X,Z{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP48
JMP SKIP48
NSKIP48:
JMP 57100
NOP
SKIP48:
49116:
NOP
MOV Y,#22{INTEGER}
MOV X,X7{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP49
JMP SKIP49
NSKIP49:
NOP
MOV A,#{home}{down}{STRING}
JSR STROUT
NOP
MOV A,#{down*9}{STRING}
JSR STROUT
NOP
MOV A,#{reverse off}dealer has{STRING}
JSR STROUT
NOP
MOV X,X7{REAL}
JSR REALOUT
JSR LINEBREAK
NOP
SKIP49:
49117:
NOP
MOV Y,#0{INTEGER}
MOV X,Z{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP50
JMP SKIP50
NSKIP50:
JSR GOSUB
JSR 50100
NOP
SKIP50:
49120:
NOP
JSR GOSUB
JSR 130
NOP
JSR GOSUB
JSR 49121
NOP
JMP 235
49121:
NOP
MOV Y,T{REAL}
MOV TY{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV X,T{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP51
JMP SKIP51
NSKIP51:
NOP
MOV B,#broke even{STRING}
MOV W${STRING},B
NOP
SKIP51:
49122:
NOP
MOV Y,#0{INTEGER}
MOV X,T{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP52
JMP SKIP52
NSKIP52:
NOP
JSR COMPACTMAX
MOV Y,T{REAL}
CHGCTX #1
JSR STR
MOV B,A
MOV A,#winning ${STRING}
JSR CONCAT
JSR COPYSTR
MOV W${STRING},A
NOP
SKIP52:
49123:
NOP
MOV Y,#0{INTEGER}
MOV X,T{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP53
JMP SKIP53
NSKIP53:
NOP
JSR COMPACTMAX
MOV Y,T{REAL}
ABS X,Y
MOV Y,X
CHGCTX #1
JSR STR
MOV B,A
MOV A,#losing ${STRING}
JSR CONCAT
JSR COPYSTR
MOV W${STRING},A
NOP
SKIP53:
49125:
NOP
JSR COMPACTMAX
MOV B,W${STRING}
CHGCTX #0
JSR LEN
MOV Y,X
MOV X,#20{INTEGER}
SUB X,Y
MOV C,X
CHGCTX #1
MOV B,B${STRING}
JSR LEFT
MOV B,A
MOV A,W${STRING}
JSR CONCAT
JSR COPYSTR
MOV W${STRING},A
NOP
MOV Y,#0{INTEGER}
MOV X,FF{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP54
JMP SKIP54
NSKIP54:
NOP
MOV A,#{home}{STRING}
JSR STROUT
NOP
MOV A,W${STRING}
JSR STROUT
JSR LINEBREAK
NOP
SKIP54:
49126:
NOP
MOV Y,#1{INTEGER}
MOV X,FF{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP55
JMP SKIP55
NSKIP55:
NOP
MOV Y,#0{INTEGER}
MOV FF{REAL},Y
NOP
SKIP55:
49127:
NOP
JMP RETURN
50100:
NOP
MOV Y,#21{INTEGER}
MOV X,X7{REAL}
NEQ X,Y
PUSH X
MOV Y,#21{INTEGER}
MOV X,X8{REAL}
EQ X,Y
PUSH X
MOV Y,#0{INTEGER}
MOV X,BJ{REAL}
EQ X,Y
POP Y
AND X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP56
JMP SKIP56
NSKIP56:
NOP
MOV B,#you win{STRING}
MOV W${STRING},B
NOP
SKIP56:
50105:
NOP
JSR COMPACTMAX
MOV B,#{reverse off}{STRING}
MOV A,W${STRING}
JSR CONCAT
MOV B,B${STRING}
JSR CONCAT
JSR COPYSTR
MOV W${STRING},A
NOP
JSR COMPACTMAX
MOV C,#32{INTEGER}
CHGCTX #1
MOV B,W${STRING}
JSR LEFT
JSR COPYSTR
MOV W${STRING},A
50110:
NOP
MOV Y,#1{INTEGER}
MOV Z1{REAL},Y
NOP
MOV Y,#10{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(Z1{REAL})
JSR INITFOR
NOP
MOV A,#{home}{STRING}
JSR STROUT
NOP
MOV A,#{down*9}{down*3}{STRING}
JSR STROUT
NOP
MOV A,#{up}{reverse on}{STRING}
JSR STROUT
NOP
MOV A,W${STRING}
JSR STROUT
NOP
MOV A,#{home}{STRING}
JSR STROUT
NOP
MOV A,#{down*9}{down*3}{STRING}
JSR STROUT
NOP
MOV A,#{up}{reverse off}{STRING}
JSR STROUT
NOP
MOV A,W${STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV A,(Z1{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
JMP RETURN
50700:
NOP
MOV Y,X3{REAL}
INT Y,Y
ON0SUB0:
CMP Y,#1{INTEGER}
JNE ON0SUB1
JSR GOSUB
JSR 100
JMP GSKIPON0
ON0SUB1:
CMP Y,#2{INTEGER}
JNE ON0SUB2
JSR GOSUB
JSR 101
JMP GSKIPON0
ON0SUB2:
CMP Y,#3{INTEGER}
JNE ON0SUB3
JSR GOSUB
JSR 102
JMP GSKIPON0
ON0SUB3:
CMP Y,#4{INTEGER}
JNE ON0SUB4
JSR GOSUB
JSR 103
JMP GSKIPON0
ON0SUB4:
CMP Y,#5{INTEGER}
JNE ON0SUB5
JSR GOSUB
JSR 104
JMP GSKIPON0
ON0SUB5:
CMP Y,#6{INTEGER}
JNE ON0SUB6
JSR GOSUB
JSR 105
JMP GSKIPON0
ON0SUB6:
CMP Y,#7{INTEGER}
JNE ON0SUB7
JSR GOSUB
JSR 106
JMP GSKIPON0
ON0SUB7:
CMP Y,#8{INTEGER}
JNE ON0SUB8
JSR GOSUB
JSR 107
JMP GSKIPON0
ON0SUB8:
CMP Y,#9{INTEGER}
JNE ON0SUB9
JSR GOSUB
JSR 108
JMP GSKIPON0
ON0SUB9:
CMP Y,#10{INTEGER}
JNE ON0SUB10
JSR GOSUB
JSR 109
JMP GSKIPON0
ON0SUB10:
CMP Y,#11{INTEGER}
JNE ON0SUB11
JSR GOSUB
JSR 110
JMP GSKIPON0
ON0SUB11:
CMP Y,#12{INTEGER}
JNE ON0SUB12
JSR GOSUB
JSR 112
JMP GSKIPON0
ON0SUB12:
CMP Y,#13{INTEGER}
JNE GSKIPON0
JSR GOSUB
JSR 114
JMP GSKIPON0
GSKIPON0:
50740:
NOP
JMP RETURN
51500:
NOP
MOV A,#{home}{STRING}
JSR STROUT
NOP
MOV A,#{down*9}{down*3}{STRING}
JSR STROUT
NOP
MOV A,#{right*7}{STRING}
JSR STROUT
NOP
MOV A,#{up}{STRING}
JSR STROUT
NOP
MOV A,W${STRING}
JSR STROUT
NOP
MOV A,#{space*3}{left*3}{STRING}
JSR STROUT
51530:
NOP
JSR GOSUB
JSR 63000
NOP
MOV B,W${STRING}
CHGCTX #0
JSR VAL
MOV X1{REAL},X
NOP
MOV B,W${STRING}
MOV J${STRING},B
51540:
NOP
MOV A,#{home}{STRING}
JSR STROUT
NOP
MOV A,#{down*9}{down*3}{STRING}
JSR STROUT
NOP
MOV A,#{up}{STRING}
JSR STROUT
NOP
MOV A,B${STRING}
JSR STROUT
NOP
MOV A,#{space*8}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
JMP RETURN
52000:
NOP
52200:
NOP
MOV X,R{REAL}
MOV G,C%[]{INTEGER}
CHGCTX #0
JSR ARRAYACCESS
MOV TE{REAL},X
NOP
MOV A,#2{INTEGER}
MOV X,TE{REAL}
SHR X,A
MOV Y,X
INT X,Y
MOV Y,#1{INTEGER}
ADD X,Y
MOV X3{REAL},X
NOP
JSR COMPACTMAX
MOV Y,#1{INTEGER}
MOV X,X3{REAL}
SUB X,Y
MOV A,#2{INTEGER}
SHL X,A
MOV Y,X
MOV X,TE{REAL}
SUB X,Y
MOV Y,#1{INTEGER}
ADD X,Y
PUSH X
MOV C,#1{INTEGER}
PUSH C
CHGCTX #1
MOV B,#ASXZa234567891jqk{STRING}
POP D
POP C
JSR MID
JSR COPYSTR
MOV Y${STRING},A
52210:
NOP
JSR COMPACTMAX
MOV Y,#4{INTEGER}
MOV X,X3{REAL}
ADD X,Y
PUSH X
MOV C,#1{INTEGER}
PUSH C
CHGCTX #1
MOV B,#ASXZa234567891jqk{STRING}
POP D
POP C
JSR MID
JSR COPYSTR
MOV N${STRING},A
NOP
MOV Y,X3{REAL}
MOV X9{REAL},Y
52220:
NOP
MOV Y,#1{INTEGER}
MOV X,R{REAL}
ADD X,Y
MOV R{REAL},X
52620:
NOP
MOV Y,#9{INTEGER}
MOV X,X3{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP57
JMP SKIP57
NSKIP57:
NOP
MOV Y,#10{INTEGER}
MOV X9{REAL},Y
NOP
SKIP57:
52625:
NOP
MOV Y,#1{INTEGER}
MOV X,X3{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP58
JMP SKIP58
NSKIP58:
NOP
MOV Y,#11{INTEGER}
MOV X9{REAL},Y
NOP
SKIP58:
52630:
NOP
MOV B,#p{STRING}
MOV A,X${STRING}
CHGCTX #0
JSR SNEQ
CMP X,#0{REAL}
JNE NSKIP59
JMP SKIP59
NSKIP59:
JMP 52650
NOP
SKIP59:
52635:
NOP
MOV Y,X9{REAL}
MOV X,X8{REAL}
ADD X,Y
MOV X8{REAL},X
NOP
MOV Y,#1{INTEGER}
MOV X,X3{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP60
JMP SKIP60
NSKIP60:
NOP
MOV Y,#1{INTEGER}
MOV X,A{REAL}
ADD X,Y
MOV A{REAL},X
NOP
SKIP60:
52640:
NOP
MOV Y,#0{INTEGER}
MOV X,A{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP61
JMP SKIP61
NSKIP61:
NOP
MOV Y,#21{INTEGER}
MOV X,X8{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP62
JMP SKIP62
NSKIP62:
NOP
MOV Y,#10{INTEGER}
MOV X,X8{REAL}
SUB X,Y
MOV X8{REAL},X
NOP
MOV Y,#1{INTEGER}
MOV X,A{REAL}
SUB X,Y
MOV A{REAL},X
NOP
SKIP62:
NOP
SKIP61:
52645:
NOP
JMP RETURN
52650:
NOP
MOV Y,X9{REAL}
MOV X,X7{REAL}
ADD X,Y
MOV X7{REAL},X
52651:
NOP
MOV Y,#1{INTEGER}
MOV X,X3{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP63
JMP SKIP63
NSKIP63:
NOP
MOV Y,#1{INTEGER}
MOV X,B{REAL}
ADD X,Y
MOV B{REAL},X
NOP
SKIP63:
52652:
NOP
MOV Y,X8{REAL}
MOV X,X7{REAL}
EQ X,Y
PUSH X
MOV Y,#22{INTEGER}
MOV X,X8{REAL}
LT X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP64
JMP SKIP64
NSKIP64:
JMP 52670
NOP
SKIP64:
52660:
NOP
MOV Y,#21{INTEGER}
MOV X,X7{REAL}
GT X,Y
PUSH X
MOV Y,#0{INTEGER}
MOV X,B{REAL}
GT X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP65
JMP SKIP65
NSKIP65:
NOP
MOV Y,#10{INTEGER}
MOV X,X7{REAL}
SUB X,Y
MOV X7{REAL},X
NOP
MOV Y,#1{INTEGER}
MOV X,B{REAL}
SUB X,Y
MOV B{REAL},X
NOP
SKIP65:
52670:
NOP
MOV Y,#21{INTEGER}
MOV X,X8{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP66
JMP SKIP66
NSKIP66:
NOP
MOV Y,#3{INTEGER}
MOV C{REAL},Y
NOP
SKIP66:
52700:
NOP
JMP RETURN
52800:
NOP
MOV Y,#1{INTEGER}
MOV X,C{REAL}
ADD X,Y
MOV C{REAL},X
52810:
NOP
MOV B,#d{STRING}
MOV A,X${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP67
JMP SKIP67
NSKIP67:
NOP
MOV Y,#0{INTEGER}
MOV X{REAL},Y
NOP
SKIP67:
52820:
NOP
MOV B,#p{STRING}
MOV A,X${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP68
JMP SKIP68
NSKIP68:
NOP
MOV Y,#12{INTEGER}
MOV X{REAL},Y
NOP
SKIP68:
52830:
NOP
JMP 52200
53000:
NOP
MOV A,#{home}{STRING}
JSR STROUT
JSR LINEBREAK
53100:
NOP
MOV B,#p{STRING}
MOV A,X${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP69
JMP SKIP69
NSKIP69:
NOP
MOV Y,#12{INTEGER}
MOV X{REAL},Y
NOP
SKIP69:
53120:
NOP
MOV B,#d{STRING}
MOV A,X${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP70
JMP SKIP70
NSKIP70:
NOP
MOV Y,#0{INTEGER}
MOV X{REAL},Y
NOP
SKIP70:
53130:
NOP
MOV Y,#0{INTEGER}
MOV X,X{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP71
JMP SKIP71
NSKIP71:
JMP 53405
NOP
SKIP71:
53200:
NOP
MOV Y,#1{INTEGER}
MOV Z1{REAL},Y
NOP
MOV Y,X{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(Z1{REAL})
JSR INITFOR
NOP
MOV A,#{down}{STRING}
JSR STROUT
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
53405:
NOP
MOV Y,#0{INTEGER}
MOV X,Y{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP72
JMP SKIP72
NSKIP72:
JMP 53701
NOP
SKIP72:
53500:
NOP
MOV Y,#1{INTEGER}
MOV Z1{REAL},Y
NOP
MOV Y,Y{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(Z1{REAL})
JSR INITFOR
NOP
MOV A,#{right}{STRING}
JSR STROUT
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
53701:
NOP
MOV Y,#2{INTEGER}
MOV X,C{REAL}
EQ X,Y
PUSH X
CHGCTX #1
MOV B,#d{STRING}
MOV A,X${STRING}
CHGCTX #0
JSR SEQ
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP73
JMP SKIP73
NSKIP73:
JMP 53710
NOP
SKIP73:
53705:
NOP
MOV Y,#0{INTEGER}
MOV X,C{REAL}
GT X,Y
PUSH X
MOV Y,#0{INTEGER}
MOV X,Y{REAL}
GT X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP74
JMP SKIP74
NSKIP74:
NOP
MOV A,#{reverse on}{cm m}{left}{down}{cm m}{left}{down}{cm m}{left}{down}{cm m}{left}{down}{cm m}{left}{down}{cm m}{left}{down}{cm m}{left}{down}{cm m}{left}{down}{cm m}{left}{down}{STRING}
JSR STROUT
NOP
MOV A,#{up*9}{STRING}
JSR STROUT
NOP
MOV A,#{right}{STRING}
JSR STROUT
NOP
SKIP74:
53710:
NOP
MOV Y,#1{INTEGER}
MOV Z1{REAL},Y
NOP
MOV Y,#9{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(Z1{REAL})
JSR INITFOR
53805:
NOP
MOV Y,#0{INTEGER}
MOV X,H{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP75
JMP SKIP75
NSKIP75:
NOP
MOV A,#{cm +*7}{STRING}
JSR STROUT
NOP
MOV A,#{down}{left*7}{STRING}
JSR STROUT
NOP
SKIP75:
53810:
NOP
MOV Y,#1{INTEGER}
MOV X,H{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP76
JMP SKIP76
NSKIP76:
NOP
MOV A,#{reverse on}{space*7}{reverse off}{STRING}
JSR STROUT
NOP
MOV A,#{down}{left*7}{STRING}
JSR STROUT
NOP
SKIP76:
53910:
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
53920:
NOP
MOV Y,#1{INTEGER}
MOV X,H{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP77
JMP SKIP77
NSKIP77:
NOP
MOV A,#{up*9}{STRING}
JSR STROUT
NOP
SKIP77:
53930:
NOP
JMP RETURN
57000:
NOP
MOV B,#do you want to split?(y/n){STRING}
MOV W${STRING},B
NOP
JSR GOSUB
JSR 51500
57010:
NOP
MOV B,#n{STRING}
MOV A,J${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP78
JMP SKIP78
NSKIP78:
JMP 40726
NOP
SKIP78:
57015:
NOP
MOV B,#y{STRING}
MOV A,J${STRING}
CHGCTX #0
JSR SNEQ
CMP X,#0{REAL}
JNE NSKIP79
JMP SKIP79
NSKIP79:
JMP 57000
NOP
SKIP79:
57020:
NOP
MOV Y,#1{INTEGER}
MOV X,D2{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP80
JMP SKIP80
NSKIP80:
NOP
MOV Y,#1{INTEGER}
MOV A{REAL},Y
NOP
SKIP80:
57021:
NOP
MOV A,#1{INTEGER}
MOV X,X8{REAL}
SHR X,A
MOV F{REAL},X
NOP
MOV Y,#1{INTEGER}
MOV X,D2{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP81
JMP SKIP81
NSKIP81:
NOP
MOV Y,#11{INTEGER}
MOV F{REAL},Y
NOP
MOV Y,#11{INTEGER}
MOV X8{REAL},Y
NOP
SKIP81:
57025:
NOP
MOV A,#{home}{STRING}
JSR STROUT
NOP
MOV A,#{down*9}{STRING}
JSR STROUT
NOP
MOV A,#{down*3}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV Y,#1{INTEGER}
MOV Z1{REAL},Y
NOP
MOV Y,#9{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(Z1{REAL})
JSR INITFOR
NOP
MOV A,B${STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
MOV Y,#0{INTEGER}
MOV C{REAL},Y
57030:
NOP
MOV B,#p{STRING}
MOV X${STRING},B
NOP
MOV Y,#13{INTEGER}
MOV X{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV Y{REAL},Y
NOP
JSR GOSUB
JSR 53000
NOP
MOV Y,D2{REAL}
MOV X3{REAL},Y
NOP
MOV B,D2${STRING}
MOV N${STRING},B
NOP
MOV B,D5${STRING}
MOV Y${STRING},B
NOP
JSR GOSUB
JSR 50700
57040:
NOP
MOV B,#p{STRING}
MOV X${STRING},B
NOP
MOV Y,#13{INTEGER}
MOV X{REAL},Y
NOP
MOV Y,#20{INTEGER}
MOV Y{REAL},Y
NOP
JSR GOSUB
JSR 53000
NOP
MOV Y,D4{REAL}
MOV X3{REAL},Y
NOP
MOV B,D4${STRING}
MOV N${STRING},B
NOP
MOV B,D6${STRING}
MOV Y${STRING},B
NOP
JSR GOSUB
JSR 50700
57070:
NOP
MOV Y,F{REAL}
MOV X8{REAL},Y
NOP
MOV Y,#1{INTEGER}
MOV C{REAL},Y
NOP
MOV Y,#-1.0{REAL}
MOV Y{REAL},Y
NOP
MOV Y,#2{INTEGER}
MOV Z{REAL},Y
NOP
MOV Y,#13{INTEGER}
MOV X{REAL},Y
NOP
JSR GOSUB
JSR 40210
NOP
JMP 40700
57100:
NOP
MOV Y,#22{INTEGER}
MOV X,X8{REAL}
LT X,Y
PUSH X
MOV Y,#0{INTEGER}
MOV X,V{REAL}
EQ X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP82
JMP SKIP82
NSKIP82:
NOP
JSR COMPACTMAX
MOV Y,X8{REAL}
CHGCTX #1
JSR STR
MOV B,A
MOV A,#you have{STRING}
JSR CONCAT
JSR COPYSTR
MOV W${STRING},A
JSR GOSUB
JSR 59800
NOP
SKIP82:
57110:
NOP
MOV Y,#0{INTEGER}
MOV A{REAL},Y
NOP
MOV Y,X8{REAL}
MOV P1{REAL},Y
NOP
MOV Y,F{REAL}
MOV X8{REAL},Y
NOP
MOV Y,#2{INTEGER}
MOV C{REAL},Y
NOP
MOV Y,#1{INTEGER}
MOV X,D2{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP83
JMP SKIP83
NSKIP83:
NOP
MOV Y,#1{INTEGER}
MOV A{REAL},Y
NOP
SKIP83:
57170:
NOP
MOV B,#p{STRING}
MOV X${STRING},B
NOP
MOV Y,F{REAL}
MOV X8{REAL},Y
NOP
MOV Y,#1{INTEGER}
MOV C{REAL},Y
NOP
MOV Y,#19{INTEGER}
MOV Y{REAL},Y
NOP
MOV Y,#3{INTEGER}
MOV Z{REAL},Y
NOP
MOV Y,#13{INTEGER}
MOV X{REAL},Y
NOP
JSR GOSUB
JSR 40210
NOP
JMP 40700
57500:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP84
JMP SKIP84
NSKIP84:
NOP
MOV Y,DD{REAL}
MOV X,T{REAL}
SUB X,Y
MOV T{REAL},X
NOP
SKIP84:
57505:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP85
JMP SKIP85
NSKIP85:
NOP
MOV Y,X2{REAL}
MOV X,T{REAL}
SUB X,Y
MOV T{REAL},X
NOP
SKIP85:
57510:
NOP
JSR COMPACTMAX
MOV B,T5${STRING}
MOV A,#busted with{STRING}
JSR CONCAT
JSR COPYSTR
MOV W${STRING},A
NOP
JSR GOSUB
JSR 59800
NOP
NOP
MOV B,#dealer won{STRING}
MOV W${STRING},B
NOP
JMP RETURN
58000:
NOP
MOV Y,#2{INTEGER}
MOV X,C{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP86
JMP SKIP86
NSKIP86:
JMP 58100
NOP
SKIP86:
58003:
NOP
MOV Y,X8{REAL}
MOV X,X7{REAL}
EQ X,Y
PUSH X
MOV Y,#0{INTEGER}
MOV X,Z{REAL}
EQ X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP87
JMP SKIP87
NSKIP87:
JMP 59030
NOP
SKIP87:
58005:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP88
JMP SKIP88
NSKIP88:
NOP
MOV Y,DD{REAL}
MOV X,#1.5{REAL}
MUL X,Y
MOV Y,T{REAL}
ADD X,Y
MOV T{REAL},X
NOP
SKIP88:
58015:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP89
JMP SKIP89
NSKIP89:
NOP
MOV Y,X2{REAL}
MOV X,#1.5{REAL}
MUL X,Y
MOV Y,T{REAL}
ADD X,Y
MOV T{REAL},X
NOP
SKIP89:
58025:
NOP
MOV Y,#1{INTEGER}
MOV BJ{REAL},Y
NOP
MOV B,#you win with {reverse on}blackjack{reverse off}{STRING}
MOV W${STRING},B
NOP
JMP 49110
58100:
NOP
MOV Y,X8{REAL}
MOV X,X7{REAL}
EQ X,Y
PUSH X
MOV Y,#0{INTEGER}
MOV X,Z{REAL}
EQ X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP90
JMP SKIP90
NSKIP90:
JMP 59030
NOP
SKIP90:
58101:
NOP
MOV Y,#8{INTEGER}
MOV X,V{REAL}
EQ X,Y
PUSH X
MOV Y,#0{INTEGER}
MOV X,Z{REAL}
EQ X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP91
JMP SKIP91
NSKIP91:
JSR GOSUB
JSR 59500
JMP 49110
NOP
SKIP91:
58102:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP92
JMP SKIP92
NSKIP92:
NOP
MOV Y,X2{REAL}
MOV X,T{REAL}
ADD X,Y
MOV T{REAL},X
NOP
SKIP92:
58103:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP93
JMP SKIP93
NSKIP93:
NOP
MOV Y,DD{REAL}
MOV X,T{REAL}
ADD X,Y
MOV T{REAL},X
NOP
SKIP93:
58105:
NOP
MOV B,#you have 21{STRING}
MOV W${STRING},B
NOP
JSR GOSUB
JSR 59800
NOP
MOV Y,X8{REAL}
MOV X,X7{REAL}
NEQ X,Y
CMP X,#0{REAL}
JNE NSKIP94
JMP SKIP94
NSKIP94:
JMP 49110
NOP
SKIP94:
58500:
NOP
MOV Y,X8{REAL}
MOV X,X7{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP95
JMP SKIP95
NSKIP95:
JMP 59030
NOP
SKIP95:
58502:
NOP
MOV Y,#2{INTEGER}
MOV X,C{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP96
JMP SKIP96
NSKIP96:
JMP 58600
NOP
SKIP96:
58510:
NOP
MOV B,#dealer wins with {reverse on}blackjack{STRING}
MOV W${STRING},B
NOP
MOV Y,X2{REAL}
MOV X,T{REAL}
SUB X,Y
MOV T{REAL},X
NOP
JMP 49110
58600:
NOP
MOV Y,#0{INTEGER}
MOV X,Z{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP97
JMP SKIP97
NSKIP97:
NOP
MOV Y,X8{REAL}
MOV X,X7{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP98
JMP SKIP98
NSKIP98:
JMP 59030
NOP
SKIP98:
NOP
SKIP97:
58610:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP99
JMP SKIP99
NSKIP99:
NOP
MOV Y,DD{REAL}
MOV X,T{REAL}
SUB X,Y
MOV T{REAL},X
NOP
SKIP99:
58620:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP100
JMP SKIP100
NSKIP100:
NOP
MOV Y,X2{REAL}
MOV X,T{REAL}
SUB X,Y
MOV T{REAL},X
NOP
SKIP100:
58630:
NOP
MOV B,#dealer wins{STRING}
MOV W${STRING},B
NOP
JMP 49110
59010:
NOP
MOV Y,X2{REAL}
MOV X,T{REAL}
ADD X,Y
MOV T{REAL},X
NOP
MOV B,#you win{STRING}
MOV W${STRING},B
59013:
NOP
MOV Y,#21{INTEGER}
MOV X,X7{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP101
JMP SKIP101
NSKIP101:
NOP
MOV A,#{home}{down}{STRING}
JSR STROUT
NOP
MOV A,#{down*9}{STRING}
JSR STROUT
NOP
MOV A,#{reverse off}busted with{STRING}
JSR STROUT
NOP
MOV X,X7{REAL}
JSR REALOUT
JSR LINEBREAK
NOP
MOV B,#you win{STRING}
MOV W${STRING},B
NOP
SKIP101:
59029:
NOP
JMP 49110
59030:
NOP
MOV B,#this is a push{STRING}
MOV W${STRING},B
59037:
NOP
MOV Y,#2{INTEGER}
MOV X,C{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP102
JMP SKIP102
NSKIP102:
NOP
MOV Y,#21{INTEGER}
MOV X,X7{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP103
JMP SKIP103
NSKIP103:
NOP
MOV B,#both have blackjack{STRING}
MOV W${STRING},B
NOP
SKIP103:
NOP
SKIP102:
59040:
NOP
JMP 49110
59050:
NOP
MOV Y,X2{REAL}
MOV X,T{REAL}
SUB X,Y
MOV T{REAL},X
NOP
MOV B,#dealer wins{STRING}
MOV W${STRING},B
NOP
JMP 49110
59500:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP104
JMP SKIP104
NSKIP104:
NOP
MOV Y,DD{REAL}
MOV X,T{REAL}
ADD X,Y
MOV T{REAL},X
NOP
SKIP104:
59510:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP105
JMP SKIP105
NSKIP105:
NOP
MOV Y,X2{REAL}
MOV X,T{REAL}
ADD X,Y
MOV T{REAL},X
NOP
SKIP105:
59520:
NOP
MOV B,#5 card charlie !{STRING}
MOV W${STRING},B
NOP
MOV Y,#0{INTEGER}
MOV X,Z{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP106
JMP SKIP106
NSKIP106:
JMP 59800
NOP
SKIP106:
59530:
NOP
JMP RETURN
59600:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP107
JMP SKIP107
NSKIP107:
NOP
MOV X,X2{REAL}
MOV A,#1{INTEGER}
SHL X,A
MOV X2{REAL},X
NOP
SKIP107:
59605:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP108
JMP SKIP108
NSKIP108:
NOP
MOV X,DD{REAL}
MOV A,#1{INTEGER}
SHL X,A
MOV DD{REAL},X
NOP
SKIP108:
59606:
NOP
JSR GOSUB
JSR 40210
NOP
JMP 49000
59700:
NOP
MOV B,#insurance?(y/n){STRING}
MOV W${STRING},B
NOP
JSR GOSUB
JSR 51500
59720:
NOP
MOV B,#n{STRING}
MOV A,J${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP109
JMP SKIP109
NSKIP109:
JMP RETURN
NOP
SKIP109:
59722:
NOP
MOV B,#y{STRING}
MOV A,J${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP110
JMP SKIP110
NSKIP110:
JMP 59730
NOP
SKIP110:
59724:
NOP
JMP 59700
59730:
NOP
MOV B,#insurance bet ${STRING}
MOV W${STRING},B
NOP
MOV Y,#6{INTEGER}
MOV Z9{REAL},Y
NOP
JSR GOSUB
JSR 51500
NOP
MOV Y,X1{REAL}
INT X,Y
MOV I{REAL},X
NOP
MOV Y,#25000{INTEGER}
MOV X,I{REAL}
GT X,Y
PUSH X
MOV Y,#1{INTEGER}
MOV X,I{REAL}
LT X,Y
POP Y
OR X,Y
CMP X,#0{REAL}
JNE NSKIP111
JMP SKIP111
NSKIP111:
JMP 59730
NOP
SKIP111:
59750:
NOP
MOV Y,#0{INTEGER}
MOV Z9{REAL},Y
NOP
MOV Y,#21{INTEGER}
MOV X,X7{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP112
JMP SKIP112
NSKIP112:
NOP
MOV X,I{REAL}
MOV A,#1{INTEGER}
SHL X,A
MOV Y,T{REAL}
ADD X,Y
MOV T{REAL},X
JMP RETURN
NOP
SKIP112:
59760:
NOP
MOV B,#no blackjack lost your insurance{STRING}
MOV W${STRING},B
NOP
JSR GOSUB
JSR 50100
NOP
JSR GOSUB
JSR 51540
59770:
NOP
MOV Y,I{REAL}
MOV X,T{REAL}
SUB X,Y
MOV T{REAL},X
NOP
JMP RETURN
59800:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP113
JMP SKIP113
NSKIP113:
NOP
MOV A,#{home}{up}{reverse off}{STRING}
JSR STROUT
NOP
MOV A,#{down*9}{down*3}{STRING}
JSR STROUT
NOP
MOV A,W${STRING}
JSR STROUT
NOP
MOV A,#{space*2}{STRING}
JSR STROUT
JSR LINEBREAK
JMP RETURN
NOP
SKIP113:
59810:
NOP
MOV Y,#3{INTEGER}
MOV X,Z{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP114
JMP SKIP114
NSKIP114:
NOP
MOV A,#{home}{up}{reverse off}{STRING}
JSR STROUT
NOP
MOV A,#{down*9}{down*3}{STRING}
JSR STROUT
NOP
MOV A,#{right*7}{STRING}
JSR STROUT
NOP
MOV A,#{right*7}{STRING}
JSR STROUT
NOP
MOV A,#{right*7}{STRING}
JSR STROUT
NOP
MOV A,#{left}{STRING}
JSR STROUT
NOP
MOV A,W${STRING}
JSR STROUT
NOP
MOV A,#{space*2}{STRING}
JSR STROUT
JSR LINEBREAK
JMP RETURN
NOP
SKIP114:
59820:
NOP
JMP RETURN
63000:
NOP
MOV B,#{STRING}
MOV W${STRING},B
NOP
MOV B,#{cm +}{STRING}
MOV Z1${STRING},B
NOP
MOV B,# {STRING}
MOV Z2${STRING},B
63020:
NOP
MOV A,Z1${STRING}
JSR STROUT
NOP
MOV A,#{left}{STRING}
JSR STROUT
NOP
MOV Y,#1{INTEGER}
MOV Z1{REAL},Y
63025:
NOP
JSR GETSTR
MOV J${STRING},A
NOP
MOV B,#{STRING}
MOV A,J${STRING}
CHGCTX #0
JSR SNEQ
CMP X,#0{REAL}
JNE NSKIP115
JMP SKIP115
NSKIP115:
JMP 63100
NOP
SKIP115:
63030:
NOP
MOV Y,#1{INTEGER}
MOV X,Z1{REAL}
ADD X,Y
MOV Z1{REAL},X
NOP
MOV Y,#15{INTEGER}
MOV X,Z1{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP116
JMP SKIP116
NSKIP116:
JMP 63025
NOP
SKIP116:
63040:
NOP
MOV B,Z1${STRING}
MOV Z${STRING},B
NOP
MOV B,Z2${STRING}
MOV Z1${STRING},B
NOP
MOV B,Z${STRING}
MOV Z2${STRING},B
NOP
JMP 63020
63100:
NOP
MOV B,J${STRING}
JSR ASC
MOV Y,#13{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP117
JMP SKIP117
NSKIP117:
NOP
MOV A,# {left}{STRING}
JSR STROUT
JMP RETURN
NOP
SKIP117:
63110:
NOP
MOV B,J${STRING}
JSR ASC
MOV Y,#20{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP118
JMP SKIP118
NSKIP118:
JMP 63200
NOP
SKIP118:
63130:
NOP
MOV B,J${STRING}
JSR ASC
MOV Y,#127{INTEGER}
AND X,Y
MOV J{REAL},X
NOP
MOV Y,#69{INTEGER}
MOV X,J{REAL}
EQ X,Y
PUSH X
MOV Y,#29{INTEGER}
MOV X,J{REAL}
EQ X,Y
PUSH X
MOV Y,#17{INTEGER}
MOV X,J{REAL}
EQ X,Y
PUSH X
MOV Y,#19{INTEGER}
MOV X,J{REAL}
EQ X,Y
PUSH X
MOV Y,#34{INTEGER}
MOV X,J{REAL}
EQ X,Y
POP Y
OR X,Y
POP Y
OR X,Y
POP Y
OR X,Y
POP Y
OR X,Y
CMP X,#0{REAL}
JNE NSKIP119
JMP SKIP119
NSKIP119:
JMP 63020
NOP
SKIP119:
63140:
NOP
JSR COMPACTMAX
MOV B,J${STRING}
MOV A,W${STRING}
JSR CONCAT
JSR COPYSTR
MOV W${STRING},A
NOP
MOV A,# {left}{STRING}
JSR STROUT
NOP
MOV A,J${STRING}
JSR STROUT
NOP
MOV Y,Z9{REAL}
PUSH Y
CHGCTX #1
MOV B,W${STRING}
CHGCTX #0
JSR LEN
POP Y
LT X,Y
CMP X,#0{REAL}
JNE NSKIP120
JMP SKIP120
NSKIP120:
JMP 63020
NOP
SKIP120:
63150:
NOP
MOV Y,Z9{REAL}
PUSH Y
CHGCTX #1
MOV B,W${STRING}
CHGCTX #0
JSR LEN
POP Y
GTEQ X,Y
CMP X,#0{REAL}
JNE NSKIP121
JMP SKIP121
NSKIP121:
JMP RETURN
NOP
SKIP121:
63160:
NOP
MOV A,# {left}{STRING}
JSR STROUT
NOP
MOV A,J${STRING}
JSR STROUT
NOP
JMP 63020
63200:
NOP
MOV B,W${STRING}
JSR LEN
MOV Y,#1{INTEGER}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP122
JMP SKIP122
NSKIP122:
JMP 63000
NOP
SKIP122:
63210:
NOP
MOV A,J${STRING}
JSR STROUT
NOP
MOV B,W${STRING}
JSR LEN
MOV Y,#1{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP123
JMP SKIP123
NSKIP123:
JMP 63000
NOP
SKIP123:
63220:
NOP
JSR COMPACTMAX
MOV B,W${STRING}
JSR LEN
MOV Y,#1{INTEGER}
SUB X,Y
MOV C,X
CHGCTX #1
MOV B,W${STRING}
JSR LEFT
JSR COPYSTR
MOV W${STRING},A
NOP
JMP 63020
63999:
NOP
JSR END
RTS
NOP
NOP
JSR END
RTS
