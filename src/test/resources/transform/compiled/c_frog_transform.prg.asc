100 bl=6:ml=40:ad=0.5:ti$="000000"
110 dim i(10),xt(bl),yt(bl),xp(bl),yp(bl),xd(bl),yd(bl),sc(bl)
120 dim x,y,b2,b3,p,pp,ac
130 vp=20000
140 wp=21000
150 cp=55296
160 gosub 900
170 poke 53280,0:poke53281,0:poke 646,2
180 print "initializing frog engine 0.01..."
190 gosub 820
200 gosub 670
210 poke 53280,6:poke53281,6
220 gosub 270
230 rem jump target
240 printti
250 rem get a$:if a$="" then 230
260 end
270 rem jump target
280 for y=5 to 22
290 yt=y*40+vp
300 x=8
310 vx=yt+x
320 for i=0 to bl
330 if xt(i)<>0 then 560
340 if peek(vx)=6 then  x=x+1:vx=vx+1:goto 620
350 xt(i)=x:yt(i)=y
360 if rnd(0)<0.4 then 410
370 xp(i)=6+int(rnd(0)*26)
380 yp(i)=0
390 if y>10 then  yp(i)=24
400 goto 450
410 rem jump target
420 xp(i)=0
430 if x>20 then  xp(i)=39
440 yp(i)=4+int(rnd(0)*18)
450 ly=abs(yt(i)-yp(i)):lx=abs(xt(i)-xp(i))
460 dx=0:dy=0
470 if ly>lx then  lx=ly
480 if lx=0 then 510
490 dx=(xt(i)-xp(i))/lx
500 dy=(yt(i)-yp(i))/lx
510 xd(i)=dx:yd(i)=dy:sc(i)=peek(xt(i)+yt(i)*ml+vp)
520 ac=ac+1
530 x=x+1:vx=vx+1
540 b2=xp(i):b3=yp(i)
550 goto 580
560 b2=xp(i):b3=yp(i):p=int(b2+ad)+int(b3+ad)*ml
570 b2=b2+xd(i):b3=b3+yd(i):pokecp+p,peek(wp+p)
580 p1=int(b2+ad):p2=int(b3+ad):p=p1+p2*ml
590 pokecp+p,sc(i):xp(i)=b2:yp(i)=b3
600 if p1<>xt(i)orp2<>yt(i)then 620
610 pokewp+xt(i)+yt(i)*ml,sc(i):ac=ac-1:xt(i)=0
620 next
630 if x<33 then 310
640 x=8:if y=22 and ac<>0 then  y=21
650 next
660 return
670 rem jump target
680 cl=0
690 y=5
700 x=0
710 rem jump target
720 read c:if c=-99 then  return
730 if c<0 then  cl=abs(c):goto 710
740 if c=100 then  cl=0:goto 710
750 if c<x and c<>0 then  y=y+1
760 if c<>0 then  x=c
770 p=vp+y*40
780 read cn
790 for i=p+x to p+cn+x-1:poke i,cl:poke53280,cl:next i
800 x=x+cn
810 goto 710
820 rem jump target
830 print:print"v-init: allocate screens."
840 for i=20000 to 20999:pokei,6:next
850 print"m-loaddefaults: load system defaults."
860 for i=21000 to 21999:pokei,6:next
870 print"z-init: init memory daemon."
880 for i=0 to 999:pokei+55296,6:pokei+1024,160:next
890 return
900 rem jump target
910 print chr$(147)
920 for i=1024to2023:pokei,160:next
930 return
940 data -1,12,4,24,4,10,4,100,0,2,-1,0,2,22,4,100,0,2,-1,0,2
950 data 10,2,100,0,4,-1,0,2,-5,0,4,-1,0,2,100,0,4,-1,0,2
960 data 10,2,100,0,4,-1,0,2,-5,0,4,-1,0,2,100,0,4,-1,0,2
970 data -5,10,2,-1,0,4,-5,0,8,-1,0,4,-5,0,2
980 data 8,24,8,24,8,24,100,10,20,-5,10,20,10,20
990 data 12,16,12,6,-1,0,4,-5,0,6,12,4,-1,0,8,-5,0,4
1000 data 8,2,14,2,-1,0,8,-5,0,2,30,2,10,2,14,2,24,2,28,2
1010 data 8,8,24,8,-99
