117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
129	.$81f	LINE_20:
131	.$81f	JSR GOSUB
132	.$822	JSR LINE_180
133	.$825	JMP LINE_60
135	.$828	LINE_30:
137	.$828	LDY VAR_A%
138	.$82b	LDA VAR_A%+1
139	.$82e	STY TMP3_ZP
140	.$830	STA TMP3_ZP+1
141	.$832	LDY VAR_V%
142	.$835	LDA VAR_V%+1
143	.$838	JSR INTADDVAROPT
144	.$83b	JSR INTCONV
160	.$83e	STY VAR_A%
161	.$841	STA VAR_A%+1
162	.$844	LDA #$00
163	.$846	LDY #$04
164	.$848	STA TMP_ZP
165	.$84a	STY TMP_ZP+1
166	.$84c	LDY VAR_A%
167	.$84f	LDA VAR_A%+1
168	.$852	JSR ICMP
180	.$855	BEQ LT_LT_EQ0
181	.$857	ROL
182	.$858	BCC LT_LT0
183	.$85a	LT_LT_EQ0:
184	.$85a	LDA #0
185	.$85c	JMP LT_SKIP0
186	.$85f	LT_LT0:
187	.$85f	LDA #$1
188	.$861	LT_SKIP0:
189	.$861	COMP_SKP0:
190	.$861	BNE LINE_NSKIP5
192	.$863	JMP LINE_SKIP5
194	.$866	LINE_NSKIP5:
196	.$866	LDY #$03
197	.$868	LDA #$e9
198	.$86a	STY TMP4_REG+1
199	.$86d	STA TMP4_REG
200	.$870	LDY VAR_A%
201	.$873	LDA VAR_A%+1
202	.$876	JSR INTADDOPT16X
203	.$879	STY VAR_A%
204	.$87c	STA VAR_A%+1
222	.$87f	LINE_SKIP5:
225	.$87f	LINE_40:
227	.$87f	LDA #$e7
228	.$881	LDY #$07
229	.$883	STA TMP_ZP
230	.$885	STY TMP_ZP+1
231	.$887	LDY VAR_A%
232	.$88a	LDA VAR_A%+1
233	.$88d	JSR ICMP
245	.$890	ROL
246	.$891	BCS GT_GT1
247	.$893	LDA #0
248	.$895	JMP GT_SKIP1
249	.$898	GT_GT1:
250	.$898	LDA #$1
251	.$89a	GT_SKIP1:
252	.$89a	COMP_SKP1:
253	.$89a	BNE LINE_NSKIP6
255	.$89c	JMP LINE_SKIP6
257	.$89f	LINE_NSKIP6:
259	.$89f	LDY #$03
260	.$8a1	LDA #$e9
261	.$8a3	STY TMP4_REG+1
262	.$8a6	STA TMP4_REG
263	.$8a9	LDY VAR_A%
264	.$8ac	LDA VAR_A%+1
265	.$8af	JSR INTSUBOPT16X
266	.$8b2	STY VAR_A%
267	.$8b5	STA VAR_A%+1
285	.$8b8	LINE_SKIP6:
288	.$8b8	LINE_50:
290	.$8b8	LDY VAR_A%
291	.$8bb	LDA VAR_A%+1
293	.$8be	STY MOVBSELF1+1
294	.$8c1	STA MOVBSELF1+2
300	.$8c4	LDY VAR_K%
301	.$8c7	MOVBSELF1:
302	.$8c7	STY $FFFF
313	.$8ca	LDA #<VAR_D
314	.$8cc	LDY #>VAR_D
315	.$8ce	JSR COPY2_XYA_YREG
319	.$8d1	LDY VAR_A%
320	.$8d4	LDA VAR_A%+1
322	.$8d7	JSR INTFAC
323	.$8da	JSR FACXREG
325	.$8dd	JSR YREGFAC
327	.$8e0	LDA #<X_REG
328	.$8e2	LDY #>X_REG
330	.$8e4	JSR FASTFADDMEM
336	.$8e7	JSR FACWORD
337	.$8ea	STY MOVBSELF2+1
338	.$8ed	STA MOVBSELF2+2
339	.$8f0	LDY VAR_C%
340	.$8f3	MOVBSELF2:
341	.$8f3	STY $FFFF
352	.$8f6	JMP RETURN
354	.$8f9	LINE_60:
356	.$8f9	LDY #$00
357	.$8fb	LDA #$02
358	.$8fd	STY TMP4_REG+1
359	.$900	STA TMP4_REG
360	.$903	LDY VAR_J%
361	.$906	LDA VAR_J%+1
362	.$909	JSR INTADDOPT16X
363	.$90c	STY VAR_J%
364	.$90f	STA VAR_J%+1
381	.$912	LDY #216
382	.$914	LDA #255
383	.$916	STY VAR_V%
384	.$919	STA VAR_V%+1
389	.$91c	JSR GOSUB
390	.$91f	JSR LINE_30
392	.$922	LINE_70:
394	.$922	LDY #255
395	.$924	LDA #255
396	.$926	STY VAR_V%
397	.$929	STA VAR_V%+1
402	.$92c	LDX #4
403	.$92e	dcloop1231_1:
404	.$92e	LDA CONST_7R,X
405	.$931	STA VAR_I,X
406	.$934	DEX
407	.$935	BPL dcloop1231_1
409	.$937	LDY VAR_J%
410	.$93a	LDA VAR_J%+1
411	.$93d	JSR FIDEX
413	.$940	JSR REALFACPUSHXREG
416	.$943	LDA #<CONST_7R
417	.$945	LDY #>CONST_7R
418	.$947	JSR REALFACPUSH
420	.$94a	LDA #<VAR_I
421	.$94c	LDY #>VAR_I
422	.$94e	STA A_REG
423	.$951	STY A_REG+1
424	.$954	LDA #<FORLOOP0
425	.$956	STA JUMP_TARGET
426	.$958	LDA #>FORLOOP0
427	.$95a	STA JUMP_TARGET+1
428	.$95c	JSR INITFOR
429	.$95f	FORLOOP0:
430	.$95f	JSR GOSUB
431	.$962	JSR LINE_30
432	.$965	LDA #0
433	.$967	STA A_REG
434	.$96a	STA A_REG+1
435	.$96d	JSR NEXT
437	.$970	LDA A_REG
438	.$973	BNE RBEQ_0
439	.$975	JMP (JUMP_TARGET)
441	.$978	RBEQ_0:
443	.$978	LINE_80:
445	.$978	LDY #40
446	.$97a	LDA #0
448	.$97c	STY VAR_V%
449	.$97f	STA VAR_V%+1
450	.$982	LDX #4
451	.$984	dcloop1397_1:
452	.$984	LDA CONST_7R,X
453	.$987	STA VAR_I,X
454	.$98a	DEX
455	.$98b	BPL dcloop1397_1
457	.$98d	LDY VAR_J%
458	.$990	LDA VAR_J%+1
460	.$993	JSR INTFAC
462	.$996	JSR PUSHREAL
463	.$999	LDA #<CONST_7R
464	.$99b	LDY #>CONST_7R
465	.$99d	JSR REALFACPUSH
467	.$9a0	LDA #<VAR_I
468	.$9a2	LDY #>VAR_I
469	.$9a4	STA A_REG
470	.$9a7	STY A_REG+1
471	.$9aa	LDA #<FORLOOP1
472	.$9ac	STA JUMP_TARGET
473	.$9ae	LDA #>FORLOOP1
474	.$9b0	STA JUMP_TARGET+1
475	.$9b2	JSR INITFOR
476	.$9b5	FORLOOP1:
477	.$9b5	JSR GOSUB
478	.$9b8	JSR LINE_30
479	.$9bb	LDA #0
480	.$9bd	STA A_REG
481	.$9c0	STA A_REG+1
482	.$9c3	JSR NEXT
484	.$9c6	LDA A_REG
485	.$9c9	BNE RBEQ_1
486	.$9cb	JMP (JUMP_TARGET)
488	.$9ce	RBEQ_1:
490	.$9ce	LINE_90:
492	.$9ce	LDY #1
493	.$9d0	LDA #0
495	.$9d2	STY VAR_V%
496	.$9d5	STA VAR_V%+1
497	.$9d8	LDX #4
498	.$9da	dcloop1563_1:
499	.$9da	LDA CONST_7R,X
500	.$9dd	STA VAR_I,X
501	.$9e0	DEX
502	.$9e1	BPL dcloop1563_1
504	.$9e3	LDY VAR_J%
505	.$9e6	LDA VAR_J%+1
507	.$9e9	JSR INTFAC
509	.$9ec	JSR PUSHREAL
510	.$9ef	LDA #<CONST_7R
511	.$9f1	LDY #>CONST_7R
512	.$9f3	JSR REALFACPUSH
514	.$9f6	LDA #<VAR_I
515	.$9f8	LDY #>VAR_I
516	.$9fa	STA A_REG
517	.$9fd	STY A_REG+1
518	.$a00	LDA #<FORLOOP2
519	.$a02	STA JUMP_TARGET
520	.$a04	LDA #>FORLOOP2
521	.$a06	STA JUMP_TARGET+1
522	.$a08	JSR INITFOR
523	.$a0b	FORLOOP2:
524	.$a0b	JSR GOSUB
525	.$a0e	JSR LINE_30
526	.$a11	LDA #0
527	.$a13	STA A_REG
528	.$a16	STA A_REG+1
529	.$a19	JSR NEXT
531	.$a1c	LDA A_REG
532	.$a1f	BNE RBEQ_2
533	.$a21	JMP (JUMP_TARGET)
535	.$a24	RBEQ_2:
537	.$a24	LINE_100:
539	.$a24	LDY #216
540	.$a26	LDA #255
541	.$a28	STY VAR_V%
542	.$a2b	STA VAR_V%+1
547	.$a2e	LDX #4
548	.$a30	dcloop1729_1:
549	.$a30	LDA CONST_7R,X
550	.$a33	STA VAR_I,X
551	.$a36	DEX
552	.$a37	BPL dcloop1729_1
554	.$a39	LDY VAR_J%
555	.$a3c	LDA VAR_J%+1
557	.$a3f	JSR INTFAC
559	.$a42	JSR PUSHREAL
560	.$a45	LDA #<CONST_7R
561	.$a47	LDY #>CONST_7R
562	.$a49	JSR REALFACPUSH
564	.$a4c	LDA #<VAR_I
565	.$a4e	LDY #>VAR_I
566	.$a50	STA A_REG
567	.$a53	STY A_REG+1
568	.$a56	LDA #<FORLOOP3
569	.$a58	STA JUMP_TARGET
570	.$a5a	LDA #>FORLOOP3
571	.$a5c	STA JUMP_TARGET+1
572	.$a5e	JSR INITFOR
573	.$a61	FORLOOP3:
574	.$a61	JSR GOSUB
575	.$a64	JSR LINE_30
576	.$a67	LDA #0
577	.$a69	STA A_REG
578	.$a6c	STA A_REG+1
579	.$a6f	JSR NEXT
581	.$a72	LDA A_REG
582	.$a75	BNE RBEQ_3
583	.$a77	JMP (JUMP_TARGET)
585	.$a7a	RBEQ_3:
587	.$a7a	LINE_110:
589	.$a7a	LDA #<VAR_R
590	.$a7c	LDY #>VAR_R
591	.$a7e	JSR COPY2_XYA_YREG
595	.$a81	LDY 56324
596	.$a84	LDA #0
598	.$a86	JSR INTFAC
599	.$a89	JSR FACXREG
601	.$a8c	JSR YREGFAC
603	.$a8f	LDA #<X_REG
604	.$a91	LDY #>X_REG
606	.$a93	JSR FASTFADDMEM
609	.$a96	JSR FACXREG
611	.$a99	LDY VAR_A%
612	.$a9c	LDA VAR_A%+1
614	.$a9f	JSR INTFAC
616	.$aa2	LDA #<X_REG
617	.$aa4	LDY #>X_REG
619	.$aa6	JSR FASTFADDMEM
623	.$aa9	LDX #<VAR_R
624	.$aab	LDY #>VAR_R
626	.$aad	JSR FACMEM
628	.$ab0	LINE_120:
630	.$ab0	LDA #<CONST_9R
631	.$ab2	LDY #>CONST_9R
632	.$ab4	JSR REALFAC
633	.$ab7	LDA #<VAR_R
634	.$ab9	LDY #>VAR_R
635	.$abb	JSR CMPFAC
637	.$abe	ROL
638	.$abf	BCS GT_GT2
639	.$ac1	LDA #0
640	.$ac3	JMP GT_SKIP2
641	.$ac6	GT_GT2:
642	.$ac6	LDA #$1
643	.$ac8	GT_SKIP2:
644	.$ac8	COMP_SKP6:
645	.$ac8	BEQ LINE_SKIP7
648	.$aca	LINE_NSKIP7:
650	.$aca	LDA #<CONST_9R
651	.$acc	LDY #>CONST_9R
652	.$ace	JSR REALFAC
653	.$ad1	LDA #<VAR_R
654	.$ad3	LDY #>VAR_R
655	.$ad5	JSR FASTFSUBMEM
660	.$ad8	LDX #<VAR_R
661	.$ada	LDY #>VAR_R
663	.$adc	JSR FACMEM
665	.$adf	LINE_SKIP7:
668	.$adf	LINE_130:
670	.$adf	LDA #<CONST_10R
671	.$ae1	LDY #>CONST_10R
672	.$ae3	JSR REALFAC
673	.$ae6	LDA #<VAR_R
674	.$ae8	LDY #>VAR_R
675	.$aea	JSR MEMARG
676	.$aed	JSR FASTAND
681	.$af0	JSR FACINT
682	.$af3	STY VAR_P%
683	.$af6	STA VAR_P%+1
686	.$af9	JSR INTFAC
687	.$afc	LDA #<CONST_11R
688	.$afe	LDY #>CONST_11R
689	.$b00	JSR COPY2_XYA_XREG
692	.$b03	LDA #<X_REG
693	.$b05	LDY #>X_REG
695	.$b07	JSR FASTFADDMEM
701	.$b0a	JSR FACWORD
702	.$b0d	STY MOVBSELF4+1
703	.$b10	STA MOVBSELF4+2
704	.$b13	MOVBSELF4:
705	.$b13	LDY $FFFF
706	.$b16	LDA #0
708	.$b18	STY VAR_K%
709	.$b1b	STA VAR_K%+1
711	.$b1e	LINE_140:
713	.$b1e	LDA #<CONST_12R
714	.$b20	LDY #>CONST_12R
715	.$b22	JSR REALFAC
716	.$b25	LDA #<VAR_R
717	.$b27	LDY #>VAR_R
718	.$b29	JSR MEMARG
719	.$b2c	JSR FASTAND
724	.$b2f	JSR FACINT
725	.$b32	STY VAR_C%
726	.$b35	STA VAR_C%+1
727	.$b38	LDA #$00
728	.$b3a	LDY #$00
729	.$b3c	STA TMP_ZP
730	.$b3e	STY TMP_ZP+1
731	.$b40	LDY VAR_C%
732	.$b43	LDA VAR_C%+1
733	.$b46	JSR ICMP
745	.$b49	EQ_EQ3:
746	.$b49	EQ_SKIP3:
747	.$b49	COMP_SKP7:
748	.$b49	BNE LINE_SKIP8
749	.$b4b	LINE_NSKIP8:
752	.$b4b	LDY #7
753	.$b4d	LDA #0
755	.$b4f	STY VAR_C%
756	.$b52	STA VAR_C%+1
758	.$b55	LINE_SKIP8:
761	.$b55	LINE_150:
763	.$b55	LDA #$07
764	.$b57	LDY #$00
765	.$b59	STA TMP_ZP
766	.$b5b	STY TMP_ZP+1
767	.$b5d	LDY VAR_J%
768	.$b60	LDA VAR_J%+1
769	.$b63	JSR ICMP
781	.$b66	ROL
782	.$b67	BCS GT_GT4
783	.$b69	LDA #0
784	.$b6b	JMP GT_SKIP4
785	.$b6e	GT_GT4:
786	.$b6e	LDA #$1
787	.$b70	GT_SKIP4:
788	.$b70	COMP_SKP8:
789	.$b70	BNE LINE_NSKIP9
791	.$b72	JMP LINE_SKIP9
793	.$b75	LINE_NSKIP9:
795	.$b75	LDY #$00
796	.$b77	LDA #$c7
797	.$b79	STY TMP4_REG+1
798	.$b7c	STA TMP4_REG
799	.$b7f	LDY VAR_A%
800	.$b82	LDA VAR_A%+1
801	.$b85	JSR INTSUBOPT16X
802	.$b88	STY VAR_A%
803	.$b8b	STA VAR_A%+1
820	.$b8e	LDY #255
821	.$b90	LDA #255
822	.$b92	STY VAR_J%
823	.$b95	STA VAR_J%+1
829	.$b98	LINE_SKIP9:
832	.$b98	LINE_170:
834	.$b98	JMP LINE_60
836	.$b9b	LINE_180:
838	.$b9b	LDY CONST_1
839	.$b9e	STY 53280
841	.$ba1	STY 53281
843	.$ba4	LDY #160
844	.$ba6	LDA #0
846	.$ba8	STY VAR_K%
847	.$bab	STA VAR_K%+1
849	.$bae	LINE_190:
851	.$bae	LDA #147
852	.$bb0	JSR SINGLECHROUTMAX
855	.$bb3	LDY #244
856	.$bb5	LDA #5
858	.$bb7	STY VAR_A%
859	.$bba	STA VAR_A%+1
860	.$bbd	LDX #4
861	.$bbf	dcloop3057_1:
862	.$bbf	LDA CONST_17,X
863	.$bc2	STA VAR_D,X
864	.$bc5	DEX
865	.$bc6	BPL dcloop3057_1
867	.$bc8	LDY #1
868	.$bca	LDA #0
870	.$bcc	STY VAR_C%
871	.$bcf	STA VAR_C%+1
873	.$bd2	LINE_200:
875	.$bd2	LDY #230
876	.$bd4	STY 828
878	.$bd7	LDY #102
879	.$bd9	STY 829
881	.$bdc	LDY #94
882	.$bde	STY 830
885	.$be1	LINE_210:
887	.$be1	LDY #95
888	.$be3	STY 831
890	.$be6	LDY #222
891	.$be8	STY 832
893	.$beb	LDY #233
894	.$bed	STY 833
897	.$bf0	LINE_220:
899	.$bf0	LDY #105
900	.$bf2	STY 834
902	.$bf5	LDY #160
903	.$bf7	STY 835
905	.$bfa	LDY #255
906	.$bfc	LDA #255
907	.$bfe	STY VAR_J%
908	.$c01	STA VAR_J%+1
914	.$c04	LINE_230:
916	.$c04	LDA #14
917	.$c06	JSR SINGLECHROUTMAX
920	.$c09	JMP RETURN
921	.$c0c	JSR END
922	.$c0f	RTS
925	.$c10	END   LDX SP_SAVE
926	.$c13	TXS
933	.$c14	RTS
936	.$c15	START  LDA ENDSTRBUF+1
937	.$c18	BNE ENDGIVEN
938	.$c1a	LDA BASICEND
939	.$c1c	STA ENDSTRBUF
940	.$c1f	LDA BASICEND+1
941	.$c21	STA ENDSTRBUF+1
942	.$c24	ENDGIVEN LDA #<FPSTACK
943	.$c26	LDY #>FPSTACK
944	.$c28	STA FPSTACKP
945	.$c2b	STY FPSTACKP+1
946	.$c2e	LDA #<FORSTACK
947	.$c30	LDY #>FORSTACK
948	.$c32	STA FORSTACKP
949	.$c35	STY FORSTACKP+1
950	.$c38	LDA #<STRBUF
951	.$c3a	LDY #>STRBUF
952	.$c3c	STA STRBUFP
953	.$c3f	STY STRBUFP+1
954	.$c42	STA HIGHP
955	.$c45	STY HIGHP+1
956	.$c48	LDA #0
957	.$c4a	STA CHLOCKFLAG
958	.$c4d	STA LASTVAR
959	.$c50	STA LASTVAR+1
960	.$c53	JSR INITVARS
961	.$c56	LDA #0
962	.$c58	STA CMD_NUM
963	.$c5b	STA CHANNEL
964	.$c5e	TAY
965	.$c5f	TAX
969	.$c60	STA KEYNDX
975	.$c62	JSR RESTORE
976	.$c65	CLC
980	.$c66	RTS
983	.$c67	INITNARRAY
984	.$c67	STA TMP_ZP
985	.$c69	STY TMP_ZP+1
986	.$c6b	LDY #0
987	.$c6d	TYA
988	.$c6e	NINITLOOP STA (TMP_ZP),Y
989	.$c70	INC TMP_ZP
990	.$c72	BNE NLOOPNOV
991	.$c74	INC TMP_ZP+1
992	.$c76	NLOOPNOV LDX TMP2_ZP
993	.$c78	BNE NLOOPNOV2
994	.$c7a	DEC TMP2_ZP+1
995	.$c7c	NLOOPNOV2 DEC TMP2_ZP
996	.$c7e	BNE NINITLOOP
997	.$c80	LDX TMP2_ZP+1
998	.$c82	BNE NINITLOOP
999	.$c84	RTS
1002	.$c85	INITSTRARRAY
1003	.$c85	STA TMP_ZP
1004	.$c87	STY TMP_ZP+1
1005	.$c89	SINITLOOP LDY #0
1006	.$c8b	LDA #<EMPTYSTR
1007	.$c8d	STA (TMP_ZP),Y
1008	.$c8f	LDA #>EMPTYSTR
1009	.$c91	INY
1010	.$c92	STA (TMP_ZP),Y
1011	.$c94	CLC
1012	.$c95	LDA TMP_ZP
1013	.$c97	ADC #2
1014	.$c99	STA TMP_ZP
1015	.$c9b	BCC SLOOPNOV1
1016	.$c9d	INC TMP_ZP+1
1017	.$c9f	SLOOPNOV1 SEC
1018	.$ca0	LDA TMP2_ZP
1019	.$ca2	SBC #2
1020	.$ca4	STA TMP2_ZP
1021	.$ca6	BCS SLOOPNOV2
1022	.$ca8	DEC TMP2_ZP+1
1023	.$caa	SLOOPNOV2 LDA TMP2_ZP
1024	.$cac	BNE SINITLOOP
1025	.$cae	LDA TMP2_ZP+1
1026	.$cb0	BNE SINITLOOP
1027	.$cb2	RTS
1030	.$cb3	INITSPARAMS STA TMP3_ZP
1031	.$cb5	STY TMP3_ZP+1
1032	.$cb7	SEC
1033	.$cb8	SBC #2
1034	.$cba	STA TMP_ZP
1035	.$cbc	TYA
1036	.$cbd	SBC #0
1037	.$cbf	STA TMP_ZP+1
1038	.$cc1	LDY #0
1039	.$cc3	LDA (TMP_ZP),Y
1040	.$cc5	STA TMP2_ZP
1041	.$cc7	INY
1042	.$cc8	LDA (TMP_ZP),Y
1043	.$cca	STA TMP2_ZP+1
1044	.$ccc	LDA TMP3_ZP
1045	.$cce	LDY TMP3_ZP+1
1046	.$cd0	RTS
1049	.$cd1	INITSTRVARS LDA #<STRINGVARS_START  
1050	.$cd3	LDY #>STRINGVARS_START
1051	.$cd5	CMP #<STRINGVARS_END
1052	.$cd7	BNE INITIT1
1053	.$cd9	CPY #>STRINGVARS_END
1054	.$cdb	BNE INITIT1
1055	.$cdd	JMP INITSA2     
1056	.$ce0	INITIT1  STA TMP_ZP
1057	.$ce2	STY TMP_ZP+1
1058	.$ce4	LDY #0
1059	.$ce6	INITSTRLOOP LDA #<EMPTYSTR
1060	.$ce8	STA (TMP_ZP),Y
1061	.$cea	INY
1062	.$ceb	LDA #>EMPTYSTR
1063	.$ced	STA (TMP_ZP),Y
1064	.$cef	DEY
1065	.$cf0	LDA TMP_ZP
1066	.$cf2	CLC
1067	.$cf3	ADC #2
1068	.$cf5	STA TMP_ZP
1069	.$cf7	LDA TMP_ZP+1
1070	.$cf9	ADC #0
1071	.$cfb	STA TMP_ZP+1
1072	.$cfd	CMP #>STRINGVARS_END
1073	.$cff	BNE INITSTRLOOP
1074	.$d01	LDA TMP_ZP
1075	.$d03	CMP #<STRINGVARS_END
1076	.$d05	BNE INITSTRLOOP
1077	.$d07	INITSA2  LDA #<STRINGARRAYS_START 
1078	.$d09	LDY #>STRINGARRAYS_START
1079	.$d0b	CMP #<STRINGARRAYS_END
1080	.$d0d	BNE ARRAYLOOP
1081	.$d0f	CPY #>STRINGARRAYS_END
1082	.$d11	BNE ARRAYLOOP
1083	.$d13	RTS       
1084	.$d14	ARRAYLOOP CLC
1085	.$d15	ADC #3
1086	.$d17	BCC ARRAYSKIP1
1087	.$d19	INY
1088	.$d1a	ARRAYSKIP1 CPY #>STRINGARRAYS_END
1089	.$d1c	BEQ ARRAYSC
1090	.$d1e	BCC ARRAYSKIP2
1091	.$d20	JMP ARRAYQUIT
1092	.$d23	ARRAYSC  CMP #<STRINGARRAYS_END
1093	.$d25	BCS ARRAYQUIT
1094	.$d27	ARRAYSKIP2 STA TMP_REG
1095	.$d29	STY TMP_REG+1
1096	.$d2b	JSR INITSPARAMS
1097	.$d2e	LDA TMP_REG
1098	.$d30	LDY TMP_REG+1
1099	.$d32	JSR INITSTRARRAY
1100	.$d35	LDA TMP_ZP
1101	.$d37	LDY TMP_ZP+1
1102	.$d39	JMP ARRAYLOOP
1103	.$d3c	ARRAYQUIT RTS
1106	.$d3d	RESTORE  LDA #<DATAS
1107	.$d3f	LDY #>DATAS
1108	.$d41	STA DATASP
1109	.$d44	STY DATASP+1
1110	.$d47	RTS
1113	.$d48	SAVEPOINTERS
1114	.$d48	LDA TMP_ZP   
1115	.$d4a	STA STORE1
1116	.$d4d	LDA TMP_ZP+1
1117	.$d4f	STA STORE1+1
1118	.$d52	LDA TMP2_ZP
1119	.$d54	STA STORE2
1120	.$d57	LDA TMP2_ZP+1
1121	.$d59	STA STORE2+1
1122	.$d5c	LDA TMP3_ZP
1123	.$d5e	STA STORE3
1124	.$d61	LDA TMP3_ZP+1
1125	.$d63	STA STORE3+1
1126	.$d66	RTS
1129	.$d67	RESTOREPOINTERS
1130	.$d67	LDA STORE3+1  
1131	.$d6a	STA TMP3_ZP+1
1132	.$d6c	LDA STORE3
1133	.$d6f	STA TMP3_ZP
1134	.$d71	LDA STORE2+1
1135	.$d74	STA TMP2_ZP+1
1136	.$d76	LDA STORE2
1137	.$d79	STA TMP2_ZP
1138	.$d7b	LDA STORE1+1
1139	.$d7e	STA TMP_ZP+1
1140	.$d80	LDA STORE1
1141	.$d83	STA TMP_ZP
1142	.$d85	RTS
1149	.$d86	COMPACTMAX
1150	.$d86	LDA #$FF
1151	.$d88	LDY #$0
1152	.$d8a	JMP COMPACTF
1155	.$d8d	COMPACT
1156	.$d8d	LDY #0
1157	.$d8f	GCBUFNE  LDA (TMP_ZP),Y  
1158	.$d91	COMPACTF STA TMP4_REG  
1159	.$d94	LDY STRBUFP+1  
1160	.$d97	STY TMP4_REG+1  
1161	.$d9a	INY     
1162	.$d9b	BEQ ENDMEM   
1163	.$d9d	CPY ENDSTRBUF+1  
1164	.$da0	BCC RGCEXIT   
1165	.$da2	ENDMEM  LDA STRBUFP
1166	.$da5	CLC
1167	.$da6	ADC TMP4_REG
1168	.$da9	STA TMP4_REG
1169	.$dac	BCC RGCNOOV1
1170	.$dae	INC TMP4_REG+1
1171	.$db1	RGCNOOV1 CLC
1172	.$db2	LDA TMP4_REG
1173	.$db5	ADC #3
1174	.$db7	STA TMP4_REG
1175	.$dba	BCC RGCNOOV2
1176	.$dbc	INC TMP4_REG+1
1177	.$dbf	RGCNOOV2 LDA TMP4_REG+1  
1178	.$dc2	CMP ENDSTRBUF+1
1179	.$dc5	BEQ RGCLOW1
1180	.$dc7	BCS GCEXECOMP  
1181	.$dc9	JMP RGCEXIT
1182	.$dcc	RGCLOW1  LDA TMP4_REG
1183	.$dcf	CMP ENDSTRBUF
1184	.$dd2	BCS GCEXECOMP  
1185	.$dd4	RGCEXIT  RTS     
1186	.$dd5	GCEXECOMP LDA STRBUFP
1187	.$dd8	STA STORE4
1188	.$ddb	LDA STRBUFP+1
1189	.$dde	STA STORE4+1
1190	.$de1	JSR GCEXE
1191	.$de4	JMP CHECKMEMORY
1194	.$de7	GCEXE  JSR SAVEPOINTERS
1195	.$dea	LDA #0
1196	.$dec	STA LASTVAR
1197	.$def	STA LASTVAR+1  
1198	.$df2	LDA #<STRBUF
1199	.$df4	STA TMP_ZP
1200	.$df6	STA GCSTART
1201	.$df9	LDA #>STRBUF
1202	.$dfb	STA TMP_ZP+1  
1203	.$dfd	STA GCSTART+1
1204	.$e00	GCLOOP  LDY #0
1205	.$e02	LDA TMP_ZP
1206	.$e04	STA GCWORK
1207	.$e07	LDA TMP_ZP+1
1208	.$e09	STA GCWORK+1  
1209	.$e0c	LDA (TMP_ZP),Y
1210	.$e0e	STA GCLEN   
1211	.$e11	INC TMP_ZP
1212	.$e13	BNE GCLOOPNOOV
1213	.$e15	INC TMP_ZP+1
1214	.$e17	GCLOOPNOOV LDA TMP_ZP
1215	.$e19	CLC
1216	.$e1a	ADC GCLEN
1217	.$e1d	STA TMP_ZP
1218	.$e1f	BCC GCLOOPNOOV2
1219	.$e21	INC TMP_ZP+1  
1220	.$e23	GCLOOPNOOV2 LDY #0
1221	.$e25	LDA (TMP_ZP),Y
1222	.$e27	STA TMP2_ZP
1223	.$e29	INY
1224	.$e2a	LDA (TMP_ZP),Y
1225	.$e2c	STA TMP2_ZP+1  
1226	.$e2e	LDA TMP_ZP
1227	.$e30	CLC
1228	.$e31	ADC #2
1229	.$e33	STA TMP_ZP
1230	.$e35	BCC GCLOOPNOOV3
1231	.$e37	INC TMP_ZP+1  
1232	.$e39	GCLOOPNOOV3 LDY #0
1233	.$e3b	LDA (TMP2_ZP),Y
1234	.$e3d	CMP GCWORK
1235	.$e40	BNE GCKLOOP
1236	.$e42	INY
1237	.$e43	LDA (TMP2_ZP),Y
1238	.$e45	CMP GCWORK+1
1239	.$e48	BEQ MEMFREE
1240	.$e4a	GCKLOOP  LDA TMP_ZP+1  
1241	.$e4c	CMP HIGHP+1
1242	.$e4f	BEQ GCHECKLOW
1243	.$e51	BCC GCLOOP
1244	.$e53	JMP GCDONE
1245	.$e56	GCHECKLOW LDA TMP_ZP
1246	.$e58	CMP HIGHP
1247	.$e5b	BCS GCDONE
1248	.$e5d	JMP GCLOOP
1249	.$e60	MEMFREE  LDA GCSTART   
1250	.$e63	CMP GCWORK   
1251	.$e66	BNE COPYDOWN
1252	.$e68	LDA GCSTART+1
1253	.$e6b	CMP GCWORK+1
1254	.$e6e	BNE COPYDOWN
1255	.$e70	LDA TMP_ZP   
1256	.$e72	STA GCSTART
1257	.$e75	LDA TMP_ZP+1
1258	.$e77	STA GCSTART+1
1259	.$e7a	JMP GCKLOOP   
1260	.$e7d	COPYDOWN LDA GCSTART   
1261	.$e80	STA TMP_REG
1262	.$e82	LDA GCSTART+1
1263	.$e85	STA TMP_REG+1  
1264	.$e87	LDA GCWORK
1265	.$e8a	STA TMP2_REG
1266	.$e8d	LDA GCWORK+1
1267	.$e90	STA TMP2_REG+1  
1268	.$e93	LDA TMP_ZP
1269	.$e95	SEC
1270	.$e96	SBC GCWORK
1271	.$e99	STA TMP3_REG
1272	.$e9c	LDA TMP_ZP+1
1273	.$e9e	SBC GCWORK+1
1274	.$ea1	STA TMP3_REG+1  
1275	.$ea4	LDA GCSTART
1276	.$ea7	CLC
1277	.$ea8	ADC TMP3_REG
1278	.$eab	STA GCSTART
1279	.$eae	LDA GCSTART+1
1280	.$eb1	ADC TMP3_REG+1
1281	.$eb4	STA GCSTART+1  
1282	.$eb7	JSR QUICKCOPY  
1283	.$eba	LDY #0
1284	.$ebc	LDA TMP_REG
1285	.$ebe	STA (TMP2_ZP),Y
1286	.$ec0	INY
1287	.$ec1	LDA TMP_REG+1
1288	.$ec3	STA (TMP2_ZP),Y  
1289	.$ec5	JMP GCKLOOP
1290	.$ec8	GCDONE  LDA GCSTART
1291	.$ecb	STA HIGHP
1292	.$ece	STA STRBUFP
1293	.$ed1	LDA GCSTART+1
1294	.$ed4	STA HIGHP+1
1295	.$ed7	STA STRBUFP+1  
1296	.$eda	GCSKIP  JSR RESTOREPOINTERS
1297	.$edd	RTS     
1300	.$ede	CHECKMEMORY
1301	.$ede	LDA STRBUFP+1  
1302	.$ee1	CMP STORE4+1  
1303	.$ee4	BCC STILLFITSCM  
1307	.$ee6	BEQ CHECKMEMLOWCM
1308	.$ee8	JMP OUTOFMEMORY  
1309	.$eeb	CHECKMEMLOWCM
1310	.$eeb	LDA STRBUFP   
1311	.$eee	CMP STORE4
1312	.$ef1	BCC STILLFITSCM
1313	.$ef3	JMP OUTOFMEMORY  
1314	.$ef6	STILLFITSCM RTS
1317	.$ef7	QUICKCOPY LDA TMP_REG  
1318	.$ef9	STA TMEM+1
1319	.$efc	LDA TMP_REG+1
1320	.$efe	STA TMEM+2
1321	.$f01	LDA TMP2_REG
1322	.$f04	STA SMEM+1
1323	.$f07	LDA TMP2_REG+1
1324	.$f0a	STA SMEM+2
1325	.$f0d	LDY #$0
1326	.$f0f	LDX TMP3_REG
1327	.$f12	BNE QCLOOP
1328	.$f14	LDA TMP3_REG+1
1329	.$f17	BEQ QCEXIT  
1330	.$f19	QCLOOP
1331	.$f19	SMEM  LDA $0000,Y
1332	.$f1c	TMEM  STA $0000,Y
1333	.$f1f	INY
1334	.$f20	BNE YNOOV
1335	.$f22	INC TMEM+2
1336	.$f25	INC SMEM+2
1337	.$f28	YNOOV  DEX
1338	.$f29	BNE QCLOOP
1339	.$f2b	LDA TMP3_REG+1
1340	.$f2e	BEQ QCEXIT
1341	.$f30	DEC TMP3_REG+1
1342	.$f33	JMP QCLOOP
1343	.$f36	QCEXIT  RTS
1346	.$f37	REROUTE  LDA CMD_NUM  
1347	.$f3a	BEQ REROUTECMD
1348	.$f3c	TAX
1349	.$f3d	STA CHANNEL
1350	.$f40	JMP CHKOUT
1351	.$f43	REROUTECMD RTS
1354	.$f44	RESETROUTE LDA CMD_NUM  
1355	.$f47	BEQ RESETROUTECMD
1356	.$f49	JMP CLRCHNEW
1357	.$f4c	RESETROUTECMD
1358	.$f4c	RTS
1361	.$f4d	SINGLECHROUTMAX
1362	.$f4d	JSR SINGLECHROUT
1363	.$f50	JMP COMPACTMAX
1366	.$f53	SINGLECHROUT
1367	.$f53	STA TMP_ZP
1368	.$f55	JSR REROUTE
1369	.$f58	LDA TMP_ZP
1370	.$f5a	JSR CHROUT
1371	.$f5d	JMP RESETROUTE
1374	.$f60	INTSUBOPT16X
1375	.$f60	INTSUB16X SEC
1376	.$f61	TAX
1377	.$f62	TYA
1378	.$f63	SBC TMP4_REG
1379	.$f66	STA TMP4_REG
1380	.$f69	TXA
1381	.$f6a	SBC TMP4_REG+1
1382	.$f6d	STA TMP4_REG+1
1383	.$f70	LDY TMP4_REG
1384	.$f73	RTS
1387	.$f74	INTADD16  CLC
1388	.$f75	TAX
1389	.$f76	TYA
1390	.$f77	ADC TMP4_REG
1391	.$f7a	STA TMP4_REG
1392	.$f7d	TXA
1393	.$f7e	ADC TMP4_REG+1
1394	.$f81	STA TMP4_REG+1
1395	.$f84	RTS
1398	.$f85	INTADDOPT16X
1399	.$f85	INTADD16X JSR INTADD16
1400	.$f88	LDY TMP4_REG
1401	.$f8b	LDA TMP4_REG+1
1402	.$f8e	RTS
1405	.$f8f	ADJUSTSTACK LDA FORSTACKP 
1406	.$f92	STA TMP_ZP
1407	.$f94	LDA FORSTACKP+1
1408	.$f97	STA TMP_ZP+1
1409	.$f99	ADSEARCHFOR LDA TMP_ZP
1410	.$f9b	CMP #<FORSTACK
1411	.$f9d	BNE ADJUST2
1412	.$f9f	LDA TMP_ZP+1
1413	.$fa1	CMP #>FORSTACK
1414	.$fa3	BNE ADJUST2
1415	.$fa5	RTS    
1416	.$fa6	ADJUST2  LDA TMP_ZP
1417	.$fa8	SEC
1418	.$fa9	SBC #2
1419	.$fab	STA TMP_ZP
1420	.$fad	BCS ADNOPV1N1
1421	.$faf	DEC TMP_ZP+1
1422	.$fb1	ADNOPV1N1 LDY #0
1423	.$fb3	LDA (TMP_ZP),Y
1424	.$fb5	BNE ADNOGOSUB
1425	.$fb7	RTS    
1426	.$fb8	ADNOGOSUB
1427	.$fb8	INY
1428	.$fb9	LDA TMP_ZP
1429	.$fbb	SEC
1430	.$fbc	SBC (TMP_ZP),Y
1431	.$fbe	STA TMP_ZP
1432	.$fc0	BCS ADNOPV1N2
1433	.$fc2	DEC TMP_ZP+1
1434	.$fc4	ADNOPV1N2 DEY
1435	.$fc5	LDA A_REG
1436	.$fc8	ADCMPFOR CMP (TMP_ZP),Y
1437	.$fca	BNE ADSEARCHFOR
1438	.$fcc	LDA A_REG+1
1439	.$fcf	INY
1440	.$fd0	CMP (TMP_ZP),Y
1441	.$fd2	BEQ ADFOUNDFOR
1442	.$fd4	JMP ADSEARCHFOR
1443	.$fd7	ADLOW0  LDX A_REG+1
1444	.$fda	BEQ ADFOUNDFOR
1445	.$fdc	BNE ADCMPFOR
1446	.$fde	ADFOUNDFOR LDA TMP_ZP  
1447	.$fe0	STA FORSTACKP
1448	.$fe3	LDA TMP_ZP+1
1449	.$fe5	STA FORSTACKP+1
1450	.$fe8	RTS
1453	.$fe9	INITFOR  JSR ADJUSTSTACK
1454	.$fec	LDA FORSTACKP
1455	.$fef	STA TMP_ZP
1456	.$ff1	LDA FORSTACKP+1
1457	.$ff4	STA TMP_ZP+1
1458	.$ff6	LDY #0
1459	.$ff8	LDA A_REG
1460	.$ffb	STA (TMP_ZP),Y
1461	.$ffd	INY
1462	.$ffe	LDA A_REG+1
1463	.$1001	STA (TMP_ZP),Y
1464	.$1003	INY
1465	.$1004	LDA JUMP_TARGET
1466	.$1006	STA (TMP_ZP),Y
1467	.$1008	INY
1468	.$1009	LDA JUMP_TARGET+1
1469	.$100b	STA (TMP_ZP),Y
1470	.$100d	INY
1471	.$100e	STY TMP3_ZP
1472	.$1010	JSR INCTMPZP
1473	.$1013	JSR POPREAL
1474	.$1016	LDX TMP_ZP
1475	.$1018	LDY TMP_ZP+1
1477	.$101a	JSR FACMEM
1478	.$101d	JSR SGNFAC
1479	.$1020	STA TMP_FLAG
1480	.$1023	LDY #5
1481	.$1025	STY TMP3_ZP
1482	.$1027	JSR INCTMPZP
1483	.$102a	JSR POPREAL
1484	.$102d	LDX TMP_ZP
1485	.$102f	LDY TMP_ZP+1
1487	.$1031	JSR FACMEM
1488	.$1034	LDY #5
1489	.$1036	STY TMP3_ZP
1490	.$1038	JSR INCTMPZP
1491	.$103b	LDY #0
1492	.$103d	LDA TMP_FLAG
1493	.$1040	STA (TMP_ZP),Y
1494	.$1042	INY
1495	.$1043	LDA #1
1496	.$1045	STA (TMP_ZP),Y
1497	.$1047	INY
1498	.$1048	LDA #15
1499	.$104a	STA (TMP_ZP),Y
1500	.$104c	LDY #3
1501	.$104e	STY TMP3_ZP
1502	.$1050	JSR INCTMPZP
1503	.$1053	LDA TMP_ZP
1504	.$1055	STA FORSTACKP
1505	.$1058	LDA TMP_ZP+1
1506	.$105a	STA FORSTACKP+1
1507	.$105d	RTS
1510	.$105e	NEXT  LDA FORSTACKP
1511	.$1061	STA TMP_ZP
1512	.$1063	LDA FORSTACKP+1
1513	.$1066	STA TMP_ZP+1
1514	.$1068	SEARCHFOR LDA TMP_ZP+1
1515	.$106a	STA TMP3_REG+1
1516	.$106d	LDA TMP_ZP
1517	.$106f	STA TMP3_REG
1518	.$1072	SEC
1519	.$1073	SBC #2
1520	.$1075	STA TMP_ZP
1521	.$1077	BCS NOPV1N1
1522	.$1079	DEC TMP_ZP+1
1523	.$107b	NOPV1N1  LDY #0
1524	.$107d	LDA (TMP_ZP),Y
1525	.$107f	BNE NOGOSUB
1526	.$1081	JMP NEXTWOFOR
1527	.$1084	NOGOSUB
1528	.$1084	INY
1529	.$1085	LDA TMP_ZP
1530	.$1087	SEC
1531	.$1088	SBC (TMP_ZP),Y
1532	.$108a	STA TMP_ZP
1533	.$108c	BCS NOPV1N2
1534	.$108e	DEC TMP_ZP+1
1535	.$1090	NOPV1N2  DEY
1536	.$1091	LDA A_REG
1537	.$1094	BEQ LOW0
1538	.$1096	CMPFOR  CMP (TMP_ZP),Y
1539	.$1098	BNE SEARCHFOR
1540	.$109a	LDA A_REG+1
1541	.$109d	INY
1542	.$109e	CMP (TMP_ZP),Y
1543	.$10a0	BEQ FOUNDFOR
1544	.$10a2	JMP SEARCHFOR
1545	.$10a5	LOW0  LDX A_REG+1
1546	.$10a8	BEQ FOUNDFOR
1547	.$10aa	BNE CMPFOR
1548	.$10ac	FOUNDFOR LDA TMP_ZP
1549	.$10ae	STA TMP2_REG
1550	.$10b1	LDA TMP_ZP+1
1551	.$10b3	STA TMP2_REG+1
1552	.$10b6	VARREAL
1553	.$10b6	LDY #0
1554	.$10b8	STY A_REG+1 
1555	.$10bb	LDA (TMP_ZP),Y
1556	.$10bd	TAX
1557	.$10be	INY
1558	.$10bf	LDA (TMP_ZP),Y
1559	.$10c1	TAY
1560	.$10c2	TXA
1561	.$10c3	JSR REALFAC
1562	.$10c6	CALCNEXT LDA TMP_ZP
1563	.$10c8	CLC
1564	.$10c9	ADC #4
1565	.$10cb	STA TMP_ZP
1566	.$10cd	BCC NOPV2IN
1567	.$10cf	INC TMP_ZP+1
1568	.$10d1	NOPV2IN  STA TMP_REG
1569	.$10d3	LDY TMP_ZP+1
1570	.$10d5	STY TMP_REG+1
1571	.$10d7	JSR FASTFADDMEM
1573	.$10da	LDA TMP2_REG
1574	.$10dd	STA TMP_ZP
1575	.$10df	LDA TMP2_REG+1
1576	.$10e2	STA TMP_ZP+1
1577	.$10e4	STOREREAL
1578	.$10e4	LDY #0
1579	.$10e6	LDA (TMP_ZP),Y
1580	.$10e8	TAX
1581	.$10e9	INY
1582	.$10ea	LDA (TMP_ZP),Y
1583	.$10ec	TAY
1584	.$10ed	JSR FACMEM 
1585	.$10f0	CMPFORXX LDA #5
1586	.$10f2	STA TMP3_ZP
1587	.$10f4	LDA TMP_REG
1588	.$10f6	CLC
1589	.$10f7	ADC #5
1590	.$10f9	STA TMP_REG
1591	.$10fb	BCC NOPV3
1592	.$10fd	INC TMP_REG+1
1593	.$10ff	NOPV3  LDY TMP_REG+1
1594	.$1101	JSR CMPFAC  
1595	.$1104	BEQ LOOPING
1596	.$1106	PHA
1597	.$1107	LDY #14
1598	.$1109	LDA (TMP_ZP),Y
1599	.$110b	BEQ STEPZERO
1600	.$110d	ROL
1601	.$110e	BCC STEPPOS
1602	.$1110	STEPNEG  PLA
1603	.$1111	ROL
1604	.$1112	BCC LOOPING
1605	.$1114	BCS EXITLOOP
1606	.$1116	STEPPOS  PLA
1607	.$1117	ROL
1608	.$1118	BCC EXITLOOP
1609	.$111a	LOOPING  LDA TMP3_REG
1610	.$111d	STA FORSTACKP
1611	.$1120	LDA TMP3_REG+1
1612	.$1123	STA FORSTACKP+1
1613	.$1126	LDA TMP2_REG
1614	.$1129	CLC
1615	.$112a	ADC #2
1616	.$112c	STA TMP2_REG
1617	.$112f	BCC NOPV4IN
1618	.$1131	INC TMP2_REG+1
1619	.$1134	NOPV4IN  LDY #0
1620	.$1136	STY A_REG
1621	.$1139	STA TMP_ZP
1622	.$113b	LDA TMP2_REG+1
1623	.$113e	STA TMP_ZP+1
1624	.$1140	LDA (TMP_ZP),Y
1625	.$1142	STA JUMP_TARGET
1626	.$1144	INY
1627	.$1145	LDA (TMP_ZP),Y
1628	.$1147	STA JUMP_TARGET+1
1629	.$1149	RTS
1630	.$114a	STEPZERO PLA
1631	.$114b	JMP LOOPING
1632	.$114e	EXITLOOP LDA TMP2_REG
1633	.$1151	STA FORSTACKP
1634	.$1154	LDA TMP2_REG+1
1635	.$1157	STA FORSTACKP+1
1636	.$115a	LDA #1
1637	.$115c	STA A_REG
1638	.$115f	RTS
1641	.$1160	RETURN  LDA FORSTACKP
1642	.$1163	STA TMP_ZP
1643	.$1165	LDA FORSTACKP+1
1644	.$1168	STA TMP_ZP+1
1645	.$116a	SEARCHGOSUB LDA TMP_ZP
1646	.$116c	SEC
1647	.$116d	SBC #2
1648	.$116f	STA TMP_ZP
1649	.$1171	BCS NOPV1SG
1650	.$1173	DEC TMP_ZP+1
1651	.$1175	NOPV1SG  LDY #0
1652	.$1177	LDA (TMP_ZP),Y
1653	.$1179	BEQ FOUNDGOSUB
1654	.$117b	INY
1655	.$117c	LDA (TMP_ZP),Y
1656	.$117e	STA TMP3_ZP
1657	.$1180	LDA TMP_ZP
1658	.$1182	SEC
1659	.$1183	SBC (TMP_ZP),Y
1660	.$1185	STA TMP_ZP
1661	.$1187	BCS NOPV1GS
1662	.$1189	DEC TMP_ZP+1
1663	.$118b	NOPV1GS  JMP SEARCHGOSUB
1664	.$118e	FOUNDGOSUB
1665	.$118e	LDA TMP_ZP
1666	.$1190	STA FORSTACKP
1667	.$1193	LDA TMP_ZP+1
1668	.$1195	STA FORSTACKP+1
1669	.$1198	RTS
1672	.$1199	GOSUB  LDA FORSTACKP
1673	.$119c	STA TMP_ZP
1674	.$119e	LDA FORSTACKP+1
1675	.$11a1	STA TMP_ZP+1
1676	.$11a3	LDY #0
1677	.$11a5	TYA
1678	.$11a6	STA (TMP_ZP),Y
1679	.$11a8	INY
1680	.$11a9	STA (TMP_ZP),Y
1681	.$11ab	INY
1682	.$11ac	TYA
1683	.$11ad	CLC
1684	.$11ae	ADC TMP_ZP
1685	.$11b0	STA FORSTACKP
1686	.$11b3	BCC GOSUBNOOV
1687	.$11b5	INC FORSTACKP+1
1688	.$11b8	GOSUBNOOV RTS
1691	.$11b9	INTADDVAROPT
1692	.$11b9	LDX #0   
1693	.$11bb	BEQ INTADDADD
1694	.$11bd	INTADDVAR LDX #1
1695	.$11bf	INTADDADD STX INT_FLAG
1696	.$11c2	LDX #128  
1697	.$11c4	STX TMP_REG  
1698	.$11c6	BIT TMP_REG  
1699	.$11c8	BNE INTADDVARC2 
1700	.$11ca	LDX #64
1701	.$11cc	STX TMP_REG
1702	.$11ce	BIT TMP_REG
1703	.$11d0	BEQ INTADDVARC2
1704	.$11d2	JMP FLOATINTADD
1705	.$11d5	INTADDVARC2
1706	.$11d5	PHA
1707	.$11d6	LDA TMP3_ZP+1
1708	.$11d8	LDX #128  
1709	.$11da	STX TMP_REG  
1710	.$11dc	BIT TMP_REG  
1711	.$11de	BEQ INTADDVARC3
1712	.$11e0	PLA
1713	.$11e1	JMP FLOATINTADD
1714	.$11e4	INTADDVARC3
1715	.$11e4	LDX #64
1716	.$11e6	STX TMP_REG
1717	.$11e8	BIT TMP_REG
1718	.$11ea	BEQ INTINTADDVAR2
1719	.$11ec	PLA
1720	.$11ed	JMP FLOATINTADD
1721	.$11f0	INTINTADDVAR2
1722	.$11f0	LDX #1
1723	.$11f2	STX TMP_FLAG
1724	.$11f5	TYA
1725	.$11f6	CLC
1726	.$11f7	ADC TMP3_ZP
1727	.$11f9	TAY
1728	.$11fa	PLA
1729	.$11fb	ADC TMP3_ZP+1
1730	.$11fd	STY TMP2_ZP
1731	.$11ff	STA TMP2_ZP+1
1732	.$1201	LDX INT_FLAG
1733	.$1204	BNE INTADDVAREND
1734	.$1206	RTS
1735	.$1207	INTADDVAREND
1736	.$1207	JMP INTFAC
1739	.$120a	FLOATINTADD JSR INTFAC
1740	.$120d	JSR FACXREG
1741	.$1210	LDA #0
1742	.$1212	STA TMP_FLAG 
1743	.$1215	LDY TMP3_ZP
1744	.$1217	LDA TMP3_ZP+1
1745	.$1219	JSR INTFAC
1746	.$121c	JSR XREGARG
1747	.$121f	JMP FASTFADDARG
1750	.$1222	INTCONV  LDA TMP_FLAG 
1751	.$1225	BEQ INTFROMFAC
1752	.$1227	LDY TMP2_ZP
1753	.$1229	LDA TMP2_ZP+1
1754	.$122b	RTS
1755	.$122c	INTFROMFAC JMP FACINT
1758	.$122f	REALFACPUSH STA TMP_ZP
1759	.$1231	STY TMP_ZP+1
1760	.$1233	LDX FPSTACKP
1761	.$1236	LDY FPSTACKP+1
1762	.$1239	STX TMP2_ZP
1763	.$123b	STY TMP2_ZP+1
1764	.$123d	LDY #0
1765	.$123f	LDA (TMP_ZP),Y
1766	.$1241	STA (TMP2_ZP),Y
1767	.$1243	INY
1768	.$1244	LDA (TMP_ZP),Y
1769	.$1246	STA (TMP2_ZP),Y
1770	.$1248	INY
1771	.$1249	LDA (TMP_ZP),Y
1772	.$124b	STA (TMP2_ZP),Y
1773	.$124d	INY
1774	.$124e	LDA (TMP_ZP),Y
1775	.$1250	STA (TMP2_ZP),Y
1776	.$1252	INY
1777	.$1253	LDA (TMP_ZP),Y
1778	.$1255	STA (TMP2_ZP),Y
1779	.$1257	TXA    
1780	.$1258	CLC
1781	.$1259	ADC #5
1782	.$125b	STA FPSTACKP
1783	.$125e	BCC NOPVRFPXX
1784	.$1260	INC FPSTACKP+1
1785	.$1263	NOPVRFPXX RTS
1788	.$1264	REALFACPUSHXREG
1789	.$1264	LDX FPSTACKP
1790	.$1267	LDY FPSTACKP+1
1791	.$126a	STX TMP2_ZP
1792	.$126c	STY TMP2_ZP+1
1793	.$126e	LDY #0
1794	.$1270	LDA X_REG
1795	.$1272	STA (TMP2_ZP),Y
1796	.$1274	INY
1797	.$1275	LDA X_REG+1
1798	.$1277	STA (TMP2_ZP),Y
1799	.$1279	INY
1800	.$127a	LDA X_REG+2
1801	.$127c	STA (TMP2_ZP),Y
1802	.$127e	INY
1803	.$127f	LDA X_REG+3
1804	.$1281	STA (TMP2_ZP),Y
1805	.$1283	INY
1806	.$1284	LDA X_REG+4
1807	.$1286	STA (TMP2_ZP),Y
1808	.$1288	TXA    
1809	.$1289	CLC
1810	.$128a	ADC #5
1811	.$128c	STA FPSTACKP
1812	.$128f	BCC NOPVRFPXXXREG
1813	.$1291	INC FPSTACKP+1
1814	.$1294	NOPVRFPXXXREG
1815	.$1294	RTS
1818	.$1295	PUSHREAL LDX FPSTACKP
1819	.$1298	LDY FPSTACKP+1
1820	.$129b	JSR FACMEM
1821	.$129e	LDA FPSTACKP
1822	.$12a1	CLC
1823	.$12a2	ADC #5
1824	.$12a4	STA FPSTACKP
1825	.$12a7	BCC NOPVPUR
1826	.$12a9	INC FPSTACKP+1
1827	.$12ac	NOPVPUR  RTS
1830	.$12ad	POPREAL  LDA FPSTACKP
1831	.$12b0	SEC
1832	.$12b1	SBC #5
1833	.$12b3	STA FPSTACKP
1834	.$12b6	BCS NOPVPR
1835	.$12b8	DEC FPSTACKP+1
1836	.$12bb	NOPVPR  LDA FPSTACKP
1837	.$12be	LDY FPSTACKP+1
1838	.$12c1	JMP REALFAC
1841	.$12c4	INCTMPZP LDA TMP_ZP
1842	.$12c6	CLC
1843	.$12c7	ADC TMP3_ZP
1844	.$12c9	STA TMP_ZP
1845	.$12cb	BCC NOPV2
1846	.$12cd	INC TMP_ZP+1
1847	.$12cf	NOPV2  RTS
1850	.$12d0	ICMP  STY TMP3_ZP
1851	.$12d2	STA TMP3_ZP+1
1852	.$12d4	LDA TMP_ZP+1
1853	.$12d6	CMP TMP3_ZP+1
1854	.$12d8	BNE ICMPNE2
1855	.$12da	LDA TMP_ZP
1856	.$12dc	CMP TMP3_ZP
1857	.$12de	ICMPNE  BEQ ICMPEQ
1858	.$12e0	BCS ICMPHIGHER
1859	.$12e2	JMP ICMPLOWER
1860	.$12e5	ICMPNE2  BPL ICMPHIGHER
1861	.$12e7	JMP ICMPLOWER
1862	.$12ea	ICMPEQ  LDA #0
1863	.$12ec	RTS
1864	.$12ed	ICMPLOWER LDA #$FF
1865	.$12ef	SEC
1866	.$12f0	RTS
1867	.$12f1	ICMPHIGHER LDA #$01
1868	.$12f3	CLC
1869	.$12f4	RTS
1872	.$12f5	COPY2_XYA_XREG
1873	.$12f5	STA TMP3_ZP
1874	.$12f7	STY TMP3_ZP+1
1875	.$12f9	COPY2_XY_XREG
1876	.$12f9	LDX #<X_REG  
1877	.$12fb	LDY #0
1878	.$12fd	LDA (TMP3_ZP),Y
1879	.$12ff	STA X_REG
1880	.$1301	INY
1881	.$1302	LDA (TMP3_ZP),Y
1882	.$1304	STA X_REG+1
1883	.$1306	INY
1884	.$1307	LDA (TMP3_ZP),Y
1885	.$1309	STA X_REG+2
1886	.$130b	INY
1887	.$130c	LDA (TMP3_ZP),Y
1888	.$130e	STA X_REG+3
1889	.$1310	INY
1890	.$1311	LDA (TMP3_ZP),Y
1891	.$1313	STA X_REG+4
1892	.$1315	RTS
1895	.$1316	COPY2_XYA_YREG
1896	.$1316	STA TMP3_ZP
1897	.$1318	STY TMP3_ZP+1
1898	.$131a	COPY2_XY_YREG
1899	.$131a	LDX #<Y_REG  
1900	.$131c	LDY #0
1901	.$131e	LDA (TMP3_ZP),Y
1902	.$1320	STA Y_REG
1903	.$1323	INY
1904	.$1324	LDA (TMP3_ZP),Y
1905	.$1326	STA Y_REG+1
1906	.$1329	INY
1907	.$132a	LDA (TMP3_ZP),Y
1908	.$132c	STA Y_REG+2
1909	.$132f	INY
1910	.$1330	LDA (TMP3_ZP),Y
1911	.$1332	STA Y_REG+3
1912	.$1335	INY
1913	.$1336	LDA (TMP3_ZP),Y
1914	.$1338	STA Y_REG+4
1915	.$133b	RTS
1919	.$133c	FACWORD
1920	.$133c	LDA FACEXP   
1921	.$133e	BNE DOFACWORD
1922	.$1340	STA FACSGN   
1923	.$1342	DOFACWORD:
1924	.$1342	JMP XFACWORD
1928	.$1345	FASTAND  LDA ARGEXP   
1929	.$1347	BNE CHECKFAC
1930	.$1349	STA FACSGN   
1931	.$134b	STA FACLO
1932	.$134d	STA FACMO
1933	.$134f	STA FACMOH
1934	.$1351	STA FACHO
1935	.$1353	STA FACEXP
1936	.$1355	RTS
1937	.$1356	CHECKFAC LDA FACEXP   
1938	.$1358	BNE FACNOTNULL
1939	.$135a	STA FACSGN   
1940	.$135c	RTS    
1941	.$135d	FACNOTNULL CMP #$81
1942	.$135f	BNE NORMALAND
1943	.$1361	LDA FACHO
1944	.$1363	CMP #$80
1945	.$1365	BNE NORMALAND
1946	.$1367	LDA FACMOH
1947	.$1369	BNE NORMALAND
1948	.$136b	LDA FACMO
1949	.$136d	BNE NORMALAND
1950	.$136f	LDA FACLO
1951	.$1371	BNE NORMALAND
1952	.$1373	LDA FACSGN
1953	.$1375	ROL
1954	.$1376	BCC NORMALAND
1955	.$1378	LDA ARGEXP   
1956	.$137a	CMP #$81
1957	.$137c	BNE NORMALAND
1958	.$137e	LDA ARGHO
1959	.$1380	CMP #$80
1960	.$1382	BNE NORMALAND
1961	.$1384	LDA ARGMOH
1962	.$1386	BNE NORMALAND
1963	.$1388	LDA ARGMO
1964	.$138a	BNE NORMALAND
1965	.$138c	LDA ARGLO
1966	.$138e	BNE NORMALAND
1967	.$1390	LDA ARGSGN
1968	.$1392	ROL
1969	.$1393	BCC NORMALAND
1970	.$1395	RTS    
1971	.$1396	NORMALAND JMP ARGAND
1974	.$1399	CLRCHNEW
1975	.$1399	LDA CHLOCKFLAG
1976	.$139c	BNE SKIPCLRCH
1977	.$139e	JMP CLRCH
1978	.$13a1	SKIPCLRCH
1979	.$13a1	RTS
1982	.$13a2	FIDEX  CPY #0
1983	.$13a4	BNE FIDEXNOV
1984	.$13a6	SEC
1985	.$13a7	SBC #$1
1986	.$13a9	FIDEXNOV DEY
1987	.$13aa	JSR INTFAC
1988	.$13ad	JMP FACXREG
1991	.$13b0	NEXTWOFOR
1995	.$13b0	LDX #$0A
1996	.$13b2	JMP ERRALL
1999	.$13b5	OUTOFMEMORY
2003	.$13b5	LDX #$10
2004	.$13b7	JMP ERRALL
2007	.$13ba	ILLEGALQUANTITY
2011	.$13ba	JMP ERRIQ
2014	.$13bd	FACXREG  LDA FACLO
2015	.$13bf	STA X_REG+4
2016	.$13c1	LDA FACMO
2017	.$13c3	STA X_REG+3
2018	.$13c5	LDA FACMOH
2019	.$13c7	STA X_REG+2
2020	.$13c9	LDA FACSGN
2021	.$13cb	ORA #$7F
2022	.$13cd	AND FACHO
2023	.$13cf	STA X_REG+1
2024	.$13d1	LDA FACEXP
2025	.$13d3	STA X_REG
2026	.$13d5	LDA #0   
2027	.$13d7	STA FACOV
2028	.$13d9	RTS
2031	.$13da	XREGARG  LDA X_REG+4
2032	.$13dc	STA ARGLO
2033	.$13de	LDA X_REG+3
2034	.$13e0	STA ARGMO
2035	.$13e2	LDA X_REG+2
2036	.$13e4	STA ARGMOH
2037	.$13e6	LDA X_REG+1
2038	.$13e8	STA ARGSGN
2039	.$13ea	EOR FACSGN
2040	.$13ec	STA ARISGN
2041	.$13ee	LDA ARGSGN
2042	.$13f0	ORA #$80
2043	.$13f2	STA ARGHO
2044	.$13f4	LDA X_REG
2045	.$13f6	STA ARGEXP
2046	.$13f8	LDA FACEXP
2047	.$13fa	RTS
2050	.$13fb	YREGFAC  LDA Y_REG+4
2051	.$13fe	STA FACLO
2052	.$1400	LDA Y_REG+3
2053	.$1403	STA FACMO
2054	.$1405	LDA Y_REG+2
2055	.$1408	STA FACMOH
2056	.$140a	LDA Y_REG+1
2057	.$140d	STA FACSGN
2058	.$140f	ORA #$80
2059	.$1411	STA FACHO
2060	.$1413	LDA Y_REG
2061	.$1416	STA FACEXP
2062	.$1418	LDA #0
2063	.$141a	STA FACOV
2064	.$141c	RTS
2178	.$141d	FASTFSUBMEM
2179	.$141d	JSR MEMARG
2180	.$1420	FASTFSUBARG
2181	.$1420	LDA FACSGN
2182	.$1422	EOR #$FF
2183	.$1424	STA FACSGN
2184	.$1426	EOR ARGSGN
2185	.$1428	STA ARISGN
2186	.$142a	LDA FACEXP
2187	.$142c	JMP FASTFADDARG
2190	.$142f	FASTFADDMEM
2191	.$142f	JSR MEMARG
2192	.$1432	FASTFADDARG
2193	.$1432	BNE FADDRET2     
2194	.$1434	JMP ARGFAC
2195	.$1437	FADDRET2 LDA ARGEXP
2196	.$1439	BNE FADDRET1     
2197	.$143b	RTS
2198	.$143c	FADDRET1 SEC
2199	.$143d	SBC FACEXP
2200	.$143f	BEQ FFADD_EXPEQ     
2201	.$1441	BCC FFADD_SHFARG1   
2205	.$1443	LDY ARGEXP
2206	.$1445	STY FACEXP
2207	.$1447	LDY ARGSGN
2208	.$1449	STY FACSGN
2209	.$144b	LDX #0
2210	.$144d	STX OLDOV        
2211	.$144f	LDX #FAC         
2213	.$1451	SEC
2214	.$1452	SBC #$08
2215	.$1454	BMI FFADD_SHFFAC2
2217	.$1456	FFADD_SHFFAC1
2218	.$1456	LDY FACLO        
2219	.$1458	STY FACOV
2220	.$145a	LDY FACMO        
2221	.$145c	STY FACMO+1
2222	.$145e	LDY FACMOH       
2223	.$1460	STY FACMOH+1
2224	.$1462	LDY FACHO        
2225	.$1464	STY FACHO+1
2226	.$1466	LDY #0
2227	.$1468	STY FACHO        
2228	.$146a	SBC #$08         
2229	.$146c	BPL FFADD_SHFFAC1   
2230	.$146e	FFADD_SHFFAC2
2231	.$146e	ADC #$08         
2232	.$1470	BEQ FFADD_SHFFAC4   
2233	.$1472	TAY
2234	.$1473	LDA FACOV
2235	.$1475	FFADD_SHFFAC3
2236	.$1475	LSR FACHO        
2237	.$1477	ROR FACMOH       
2238	.$1479	ROR FACMO        
2239	.$147b	ROR FACLO        
2240	.$147d	ROR              
2241	.$147e	DEY
2242	.$147f	BNE FFADD_SHFFAC3
2243	.$1481	JMP FFADD_MANADD2   
2244	.$1484	FFADD_SHFFAC4
2245	.$1484	LDA FACOV        
2246	.$1486	JMP FFADD_MANADD2
2247	.$1489	FFADD_EXPEQ
2248	.$1489	LDX FACOV
2249	.$148b	STX OLDOV
2252	.$148d	JMP FFADD_MANADD1
2253	.$1490	FFADD_SHFARG2
2254	.$1490	LDA FACOV        
2255	.$1492	JMP FFADD_MANADD1
2256	.$1495	FFADD_SHFARG1
2257	.$1495	LDX FACOV
2258	.$1497	STX OLDOV        
2259	.$1499	LDX #$00         
2262	.$149b	ADC #$08
2263	.$149d	BPL FFADD_SHFARG6   
2264	.$149f	FFADD_SHFARG3
2265	.$149f	LDX ARGLO        
2266	.$14a1	LDY ARGMO        
2267	.$14a3	STY ARGMO+1
2268	.$14a5	LDY ARGMOH       
2269	.$14a7	STY ARGMOH+1
2270	.$14a9	LDY ARGHO        
2271	.$14ab	STY ARGHO+1
2272	.$14ad	LDY #0
2273	.$14af	STY ARGHO        
2274	.$14b1	FFADD_SHFARG4
2275	.$14b1	ADC #$08
2276	.$14b3	BMI FFADD_SHFARG3
2277	.$14b5	BEQ FFADD_SHFARG3
2278	.$14b7	FFADD_SHFARG6
2279	.$14b7	SBC #$08
2280	.$14b9	BEQ FFADD_SHFARG2   
2281	.$14bb	TAY
2282	.$14bc	TXA              
2283	.$14bd	FFADD_SHFARG5
2284	.$14bd	LSR ARGHO
2285	.$14bf	ROR ARGMOH
2286	.$14c1	ROR ARGMO
2287	.$14c3	ROR ARGLO
2288	.$14c5	ROR           
2289	.$14c6	INY
2290	.$14c7	BNE FFADD_SHFARG5
2291	.$14c9	FFADD_MANADD1
2292	.$14c9	LDX #ARGEXP      
2293	.$14cb	FFADD_MANADD2
2294	.$14cb	BIT ARISGN
2295	.$14cd	BMI FFADD_MANSUB1   
2296	.$14cf	CLC
2297	.$14d0	ADC OLDOV
2298	.$14d2	STA FACOV
2299	.$14d4	LDA FACLO
2300	.$14d6	ADC ARGLO
2301	.$14d8	STA FACLO
2302	.$14da	LDA FACMO
2303	.$14dc	ADC ARGMO
2304	.$14de	STA FACMO
2305	.$14e0	LDA FACMOH
2306	.$14e2	ADC ARGMOH
2307	.$14e4	STA FACMOH
2308	.$14e6	LDA FACHO
2309	.$14e8	ADC ARGHO
2310	.$14ea	STA FACHO
2311	.$14ec	BCC FFADD_RNDRTS
2312	.$14ee	INC FACEXP
2313	.$14f0	BEQ FFADD_OVERR
2315	.$14f2	ROR FACHO
2316	.$14f4	ROR FACMOH
2317	.$14f6	ROR FACMO
2318	.$14f8	ROR FACLO
2319	.$14fa	ROR FACOV
2320	.$14fc	FFADD_RNDRTS
2321	.$14fc	RTS
2322	.$14fd	FFADD_OVERR
2323	.$14fd	JMP ILLEGALQUANTITY
2324	.$1500	FFADD_MANSUB1
2325	.$1500	LDY #FACEXP
2326	.$1502	CPX #ARGEXP
2327	.$1504	BEQ FFADD_MANSUB2
2328	.$1506	LDY #ARGEXP
2329	.$1508	FFADD_MANSUB2
2330	.$1508	SEC              
2331	.$1509	EOR #$FF
2332	.$150b	ADC OLDOV
2333	.$150d	STA FACOV
2334	.$150f	LDA 4,Y
2335	.$1512	SBC 4,X
2336	.$1514	STA FACLO
2337	.$1516	LDA 3,Y
2338	.$1519	SBC 3,X
2339	.$151b	STA FACMO
2340	.$151d	LDA 2,Y
2341	.$1520	SBC 2,X
2342	.$1522	STA FACMOH
2343	.$1524	LDA 1,Y
2344	.$1527	SBC 1,X
2345	.$1529	STA FACHO
2346	.$152b	BCS FCNORMAL
2347	.$152d	LDA FACSGN
2348	.$152f	EOR #$FF
2349	.$1531	STA FACSGN
2350	.$1533	LDA FACHO
2351	.$1535	EOR #$FF
2352	.$1537	STA FACHO
2353	.$1539	LDA FACMOH
2354	.$153b	EOR #$FF
2355	.$153d	STA FACMOH
2356	.$153f	LDA FACMO
2357	.$1541	EOR #$FF
2358	.$1543	STA FACMO
2359	.$1545	LDA FACLO
2360	.$1547	EOR #$FF
2361	.$1549	STA FACLO
2362	.$154b	LDA FACOV
2363	.$154d	EOR #$FF
2364	.$154f	CLC
2365	.$1550	ADC #1
2366	.$1552	STA FACOV
2367	.$1554	BNE FCNORMAL
2368	.$1556	INC FACLO
2369	.$1558	BNE FCNORMAL
2370	.$155a	INC FACMO
2371	.$155c	BNE FCNORMAL
2372	.$155e	INC FACMOH
2373	.$1560	BNE FCNORMAL
2374	.$1562	INC FACHO
2375	.$1564	FCNORMAL   BIT FACHO
2376	.$1566	BMI FFADD_RET       
2377	.$1568	LDA #0           
2378	.$156a	CLC
2379	.$156b	FFADD_NORM3
2380	.$156b	LDX FACHO
2381	.$156d	BNE FFADD_NORM1
2382	.$156f	LDX FACHO+1
2383	.$1571	STX FACHO
2384	.$1573	LDX FACMOH+1
2385	.$1575	STX FACMOH
2386	.$1577	LDX FACMO+1
2387	.$1579	STX FACMO
2388	.$157b	LDX FACOV
2389	.$157d	STX FACLO
2390	.$157f	LDX #0
2391	.$1581	STX FACOV
2392	.$1583	ADC #$08
2393	.$1585	CMP #$20
2394	.$1587	BNE FFADD_NORM3
2395	.$1589	JMP FFADD_ZEROFAC
2396	.$158c	FFADD_NORM2
2397	.$158c	CLC
2398	.$158d	ADC #1
2399	.$158f	ASL FACOV
2400	.$1591	ROL FACLO
2401	.$1593	ROL FACMO
2402	.$1595	ROL FACMOH
2403	.$1597	ROL FACHO
2404	.$1599	FFADD_NORM1
2405	.$1599	BPL FFADD_NORM2     
2406	.$159b	SEC
2407	.$159c	SBC FACEXP
2408	.$159e	BCS FFADD_ZEROFAC
2409	.$15a0	EOR #$FF
2410	.$15a2	CLC
2411	.$15a3	ADC #1
2412	.$15a5	STA FACEXP
2413	.$15a7	FFADD_RET   RTS
2414	.$15a8	FFADD_ZEROFAC
2415	.$15a8	LDX #0
2416	.$15aa	STX FACEXP
2417	.$15ac	STX FACSGN
2418	.$15ae	RTS
2421	.$15af	INITVARS
2422	.$15af	JSR INITSTRVARS
2423	.$15b2	LDA #0
2424	.$15b4	LDY #4
2425	.$15b6	REALINITLOOP0:
2426	.$15b6	STA VAR_D,Y
2427	.$15b9	STA VAR_I,Y
2428	.$15bc	STA VAR_R,Y
2429	.$15bf	DEY
2430	.$15c0	BMI REALLOOPEXIT0
2431	.$15c2	JMP REALINITLOOP0
2432	.$15c5	REALLOOPEXIT0:
2433	.$15c5	STA VAR_V%
2434	.$15c8	STA VAR_V%+1
2435	.$15cb	STA VAR_A%
2436	.$15ce	STA VAR_A%+1
2437	.$15d1	STA VAR_K%
2438	.$15d4	STA VAR_K%+1
2439	.$15d7	STA VAR_C%
2440	.$15da	STA VAR_C%+1
2441	.$15dd	STA VAR_J%
2442	.$15e0	STA VAR_J%+1
2443	.$15e3	STA VAR_P%
2444	.$15e6	STA VAR_P%+1
2445	.$15e9	RTS
2449	.$15ea	CONSTANTS
2455	.$15ea	CONST_1 .REAL 0
2473	.$15ef	CONST_7R .REAL 1.0
2479	.$15f4	CONST_9R .REAL 32767.0
2482	.$15f9	CONST_10R .REAL 7.0
2485	.$15fe	CONST_11R .REAL 828.0
2488	.$1603	CONST_12R .REAL 15.0
2503	.$1608	CONST_17 .REAL 54272
2530	.$160d	DATAS
2531	.$160d	.BYTE $FF
2533	.$160e	CONSTANTS_END
2536	.$160e	VARIABLES
2538	.$160e	VAR_V% .WORD 0
2540	.$1610	VAR_A% .WORD 0
2542	.$1612	VAR_K% .WORD 0
2544	.$1614	VAR_D .REAL 0.0
2546	.$1619	VAR_C% .WORD 0
2548	.$161b	VAR_J% .WORD 0
2550	.$161d	VAR_I .REAL 0.0
2552	.$1622	VAR_R .REAL 0.0
2554	.$1627	VAR_P% .WORD 0
2555	.$1629	STRINGVARS_START
2557	.$1629	VAR_TI$ .WORD EMPTYSTR
2558	.$162b	STRINGVARS_END
2559	.$162b	STRINGARRAYS_START
2560	.$162b	STRINGARRAYS_END
2561	.$162b	VARIABLES_END
2563	.$162b	Y_REG .REAL 0.0
2564	.$1630	C_REG .REAL 0.0
2565	.$1635	D_REG .REAL 0.0
2566	.$163a	E_REG .REAL 0.0
2567	.$163f	F_REG .REAL 0.0
2568	.$1644	A_REG .WORD 0
2569	.$1646	B_REG .WORD 0
2570	.$1648	CMD_NUM .BYTE 0
2571	.$1649	CHANNEL .BYTE 0
2572	.$164a	SP_SAVE .BYTE 0
2573	.$164b	TMP2_REG .WORD 0
2574	.$164d	TMP3_REG .WORD 0
2575	.$164f	TMP4_REG .WORD 0
2576	.$1651	AS_TMP .WORD 0
2577	.$1653	BPOINTER_TMP .WORD 0
2578	.$1655	BASICTEXTP .BYTE 0
2579	.$1656	STORE1 .WORD 0
2580	.$1658	STORE2 .WORD 0
2581	.$165a	STORE3 .WORD 0
2582	.$165c	STORE4 .WORD 0
2583	.$165e	GCSTART .WORD 0
2584	.$1660	GCLEN .WORD 0
2585	.$1662	GCWORK .WORD 0
2586	.$1664	INPUTLENGTH .BYTE 0
2587	.$1665	TMP_FREG .REAL 0
2588	.$166a	TMP2_FREG .REAL 0
2589	.$166f	TMP_FLAG .BYTE 0
2590	.$1670	INT_FLAG .BYTE 0
2591	.$1671	REAL_CONST_ONE .REAL 1.0
2592	.$1676	REAL_CONST_ZERO .REAL 0.0
2593	.$167b	REAL_CONST_MINUS_ONE .REAL -1.0
2594	.$1680	CHLOCKFLAG .BYTE 0
2595	.$1681	EMPTYSTR .BYTE 0
2596	.$1682	FPSTACKP .WORD FPSTACK
2597	.$1684	FORSTACKP .WORD FORSTACK
2598	.$1686	DATASP .WORD DATAS
2599	.$1688	LASTVAR .WORD 0
2600	.$168a	LASTVARP .WORD 0
2601	.$168c	HIGHP .WORD STRBUF
2602	.$168e	STRBUFP .WORD STRBUF
2603	.$1690	ENDSTRBUF .WORD 0
2604	.$1692	INPUTQUEUEP .BYTE 0
2605	.$1693	PROGRAMEND
2606	.$1693	INPUTQUEUE .ARRAY $0F
2607	.$16a2	FPSTACK .ARRAY 100
2608	.$1706	FORSTACK .ARRAY 340
2609	.$185a	STRBUF .BYTE 0
