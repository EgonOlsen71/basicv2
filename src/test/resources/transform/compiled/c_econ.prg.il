PROGRAMSTART:
JSR START
0:
1:
NOP
MOV Y,#0{INTEGER}
MOV E{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV EZ{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV DO{REAL},Y
NOP
JSR COMPACTMAX
MOV Y,#147{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
NOP
MOV A,#1 - dezimalzahl eingeben{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV A,#2 - e-zahl eingeben{STRING}
JSR STROUT
JSR LINEBREAK
2:
NOP
INPUT0:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTNUMBER
CMP X,#0{REAL}
JE INPUT0_0
MOV A,#?redo from start{STRING}
JSR STROUT
JSR LINEBREAK
JMP INPUT0
INPUT0_0:
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP1
MOV X{REAL},Y
EMPTYINPUTSKIP1:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK0
JSR EXTRAIGNORED
INPUTCHECK0:
NOP
MOV Y,X{REAL}
INT Y,Y
ON0SUB0:
CMP Y,#1{INTEGER}
JNE AFTER0SUB0
JMP 3
AFTER0SUB0:
ON0SUB1:
CMP Y,#2{INTEGER}
JNE AFTER0SUB1
JMP 4
AFTER0SUB1:
GSKIPON0:
3:
NOP
INPUT1:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#zahl{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTNUMBER
CMP X,#0{REAL}
JE INPUT1_0
MOV A,#?redo from start{STRING}
JSR STROUT
JSR LINEBREAK
JMP INPUT1
INPUT1_0:
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP2
MOV A{REAL},Y
EMPTYINPUTSKIP2:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK1
JSR EXTRAIGNORED
INPUTCHECK1:
NOP
JMP 5
4:
NOP
INPUT2:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#e-zahl{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP3
MOV A${STRING},A
EMPTYINPUTSKIP3:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK2
JSR EXTRAIGNORED
INPUTCHECK2:
NOP
JSR COMPACTMAX
MOV B,A${STRING}
MOV A,# {STRING}
JSR CONCAT
JSR COPYSTR
MOV A${STRING},A
NOP
MOV B,A${STRING}
CHGCTX #0
JSR LEN
MOV LA{REAL},X
NOP
JMP 6
5:
NOP
JSR COMPACTMAX
MOV Y,A{REAL}
CHGCTX #1
JSR STR
JSR COPYSTR
MOV A${STRING},A
NOP
MOV B,A${STRING}
CHGCTX #0
JSR LEN
MOV LA{REAL},X
6:
NOP
MOV Y,#1{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,LA{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
JSR COMPACTMAX
MOV B,#e{STRING}
CHGCTX #0
PUSH B
MOV C,I{REAL}
CHGCTX #1
MOV B,A${STRING}
JSR CHARAT
POP B
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
NOP
MOV Y,#1{INTEGER}
MOV E{REAL},Y
NOP
MOV Y,I{REAL}
MOV EZ{REAL},Y
NOP
JSR COMPACTMAX
MOV Y,#1{INTEGER}
MOV X,I{REAL}
ADD X,Y
PUSH X
MOV C,#1{INTEGER}
PUSH C
CHGCTX #1
MOV B,A${STRING}
POP D
POP C
JSR MID
JSR COPYSTR
MOV V${STRING},A
NOP
JSR COMPACTMAX
MOV Y,#2{INTEGER}
MOV X,I{REAL}
ADD X,Y
PUSH X
MOV C,#2{INTEGER}
PUSH C
CHGCTX #1
MOV B,A${STRING}
POP D
POP C
JSR MID
MOV B,A
CHGCTX #0
JSR VAL
MOV Z{REAL},X
NOP
SKIP0:
7:
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
8:
NOP
MOV Y,#0{INTEGER}
MOV X,E{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
NOP
MOV A,#zahl ist keine e-zahl.{STRING}
JSR STROUT
JSR LINEBREAK
NOP
JSR END
RTS
NOP
SKIP1:
9:
NOP
MOV Y,#2{INTEGER}
MOV X,X{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP2
JMP SKIP2
NSKIP2:
JMP 12
NOP
SKIP2:
10:
NOP
MOV B,#+{STRING}
MOV A,V${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP3
JMP SKIP3
NSKIP3:
JSR GOSUB
JSR 500
NOP
MOV X,A{REAL}
JSR REALOUT
JSR LINEBREAK
NOP
MOV A,C${STRING}
JSR STROUT
JSR LINEBREAK
NOP
JSR END
RTS
NOP
SKIP3:
11:
NOP
JSR GOSUB
JSR 800
NOP
MOV X,A{REAL}
JSR REALOUT
JSR LINEBREAK
NOP
MOV A,C${STRING}
JSR STROUT
JSR LINEBREAK
NOP
JSR END
RTS
12:
NOP
MOV B,#+{STRING}
MOV A,V${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP4
JMP SKIP4
NSKIP4:
JSR GOSUB
JSR 500
NOP
MOV A,A${STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV A,C${STRING}
JSR STROUT
JSR LINEBREAK
NOP
JSR END
RTS
NOP
SKIP4:
13:
NOP
JSR GOSUB
JSR 800
NOP
MOV A,A${STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV A,C${STRING}
JSR STROUT
JSR LINEBREAK
NOP
JSR END
RTS
500:
NOP
JSR COMPACTMAX
MOV C,#1{INTEGER}
PUSH C
MOV Y,#1{INTEGER}
MOV X,EZ{REAL}
SUB X,Y
PUSH X
CHGCTX #1
MOV B,A${STRING}
POP D
POP C
JSR MID
JSR COPYSTR
MOV S1${STRING},A
501:
NOP
MOV Y,#1{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,LA{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
502:
NOP
JSR COMPACTMAX
MOV B,#.{STRING}
CHGCTX #0
PUSH B
MOV C,I{REAL}
CHGCTX #1
MOV B,A${STRING}
JSR CHARAT
POP B
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP5
JMP SKIP5
NSKIP5:
NOP
MOV Y,#1{INTEGER}
MOV X,I{REAL}
ADD X,Y
MOV DO{REAL},X
NOP
SKIP5:
503:
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
504:
NOP
MOV Y,#1{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,EZ{REAL}
MOV X,Z{REAL}
SUB X,Y
MOV Y,DO{REAL}
ADD X,Y
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
JSR COMPACTMAX
MOV B,#0{STRING}
MOV A,S2${STRING}
JSR CONCAT
JSR COPYSTR
MOV S2${STRING},A
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
505:
NOP
JSR COMPACTMAX
MOV B,S2${STRING}
MOV A,S1${STRING}
JSR CONCAT
JSR COPYSTR
MOV S3${STRING},A
506:
NOP
MOV Y,DO{REAL}
CMP Y,#0{REAL}
JNE NSKIP6
JMP SKIP6
NSKIP6:
JMP 600
NOP
SKIP6:
508:
NOP
JSR COMPACTMAX
MOV B,#000{STRING}
MOV A,S3${STRING}
JSR CONCAT
JSR COPYSTR
MOV B${STRING},A
NOP
JMP 610
600:
NOP
JSR COMPACTMAX
MOV C,#1{INTEGER}
PUSH C
MOV Y,#2{INTEGER}
MOV X,DO{REAL}
SUB X,Y
PUSH X
CHGCTX #1
MOV B,S3${STRING}
POP D
POP C
JSR MID
JSR COPYSTR
MOV S4${STRING},A
NOP
JSR COMPACTMAX
MOV C,DO{REAL}
PUSH C
CHGCTX #1
MOV B,S3${STRING}
CHGCTX #0
JSR LEN
PUSH X
CHGCTX #1
MOV B,S3${STRING}
POP D
POP C
JSR MID
JSR COPYSTR
MOV S5${STRING},A
603:
NOP
JSR COMPACTMAX
MOV B,S5${STRING}
MOV A,S4${STRING}
JSR CONCAT
JSR COPYSTR
MOV B${STRING},A
610:
NOP
JSR GOSUB
JSR 1000
NOP
MOV B,B${STRING}
CHGCTX #0
JSR LEN
MOV LB{REAL},X
611:
NOP
MOV Y,#0{INTEGER}
MOV X,MO{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP7
JMP SKIP7
NSKIP7:
JSR GOSUB
JSR 700
JMP RETURN
NOP
SKIP7:
612:
NOP
MOV Y,#1{INTEGER}
MOV X,MO{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP8
JMP SKIP8
NSKIP8:
JSR GOSUB
JSR 730
JMP RETURN
NOP
SKIP8:
613:
NOP
MOV Y,#2{INTEGER}
MOV X,MO{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP9
JMP SKIP9
NSKIP9:
JSR GOSUB
JSR 760
JMP RETURN
NOP
SKIP9:
620:
NOP
JMP RETURN
700:
NOP
MOV Y,#2{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,LB{REAL}
PUSH Y
NOP
MOV Y,#3{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
JSR COMPACTMAX
MOV C,I{REAL}
MOV D,#3{INTEGER}
CHGCTX #1
MOV B,B${STRING}
JSR MID
MOV B,A
MOV A,C${STRING}
JSR CONCAT
MOV B,#.{STRING}
JSR CONCAT
JSR COPYSTR
MOV C${STRING},A
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
701:
NOP
JSR COMPACTMAX
MOV C,#1{INTEGER}
PUSH C
MOV B,C${STRING}
JSR LEN
MOV Y,#1{INTEGER}
SUB X,Y
PUSH X
CHGCTX #1
MOV B,C${STRING}
POP D
POP C
JSR MID
JSR COPYSTR
MOV C${STRING},A
NOP
JMP RETURN
NOP
730:
NOP
MOV Y,#3{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,LB{REAL}
PUSH Y
NOP
MOV Y,#3{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
JSR COMPACTMAX
MOV C,I{REAL}
MOV D,#3{INTEGER}
CHGCTX #1
MOV B,B${STRING}
JSR MID
MOV B,A
MOV A,C${STRING}
JSR CONCAT
MOV B,#.{STRING}
JSR CONCAT
JSR COPYSTR
MOV C${STRING},A
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
731:
NOP
JSR COMPACTMAX
MOV C,#1{INTEGER}
PUSH C
MOV B,C${STRING}
JSR LEN
MOV Y,#1{INTEGER}
SUB X,Y
PUSH X
CHGCTX #1
MOV B,C${STRING}
POP D
POP C
JSR MID
PUSH A
MOV B,#.{STRING}
CHGCTX #0
PUSH B
MOV C,#1{INTEGER}
MOV D,#2{INTEGER}
CHGCTX #1
MOV B,B${STRING}
JSR MID
POP B
JSR CONCAT
POP B
JSR CONCAT
JSR COPYSTR
MOV C${STRING},A
NOP
JMP RETURN
NOP
760:
NOP
MOV Y,#4{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,LB{REAL}
PUSH Y
NOP
MOV Y,#3{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
JSR COMPACTMAX
MOV C,I{REAL}
MOV D,#3{INTEGER}
CHGCTX #1
MOV B,B${STRING}
JSR MID
MOV B,A
MOV A,C${STRING}
JSR CONCAT
MOV B,#.{STRING}
JSR CONCAT
JSR COPYSTR
MOV C${STRING},A
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
761:
NOP
JSR COMPACTMAX
MOV C,#1{INTEGER}
PUSH C
MOV B,C${STRING}
JSR LEN
MOV Y,#1{INTEGER}
SUB X,Y
PUSH X
CHGCTX #1
MOV B,C${STRING}
POP D
POP C
JSR MID
PUSH A
MOV B,#.{STRING}
CHGCTX #0
PUSH B
MOV C,#1{INTEGER}
MOV D,#3{INTEGER}
CHGCTX #1
MOV B,B${STRING}
JSR MID
POP B
JSR CONCAT
POP B
JSR CONCAT
JSR COPYSTR
MOV C${STRING},A
NOP
JMP RETURN
NOP
800:
NOP
MOV B,#0.{STRING}
MOV C${STRING},B
802:
NOP
MOV Y,#1{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,LA{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
803:
NOP
JSR COMPACTMAX
MOV B,#.{STRING}
CHGCTX #0
PUSH B
MOV C,I{REAL}
CHGCTX #1
MOV B,A${STRING}
JSR CHARAT
POP B
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP10
JMP SKIP10
NSKIP10:
NOP
MOV Y,#1{INTEGER}
MOV X,I{REAL}
ADD X,Y
MOV DO{REAL},X
NOP
SKIP10:
804:
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
805:
NOP
MOV Y,DO{REAL}
CMP Y,#0{REAL}
JNE NSKIP11
JMP SKIP11
NSKIP11:
JMP 810
NOP
SKIP11:
806:
NOP
JSR COMPACTMAX
MOV C,#2{INTEGER}
PUSH C
MOV Y,#2{INTEGER}
MOV X,EZ{REAL}
SUB X,Y
PUSH X
CHGCTX #1
MOV B,A${STRING}
POP D
POP C
JSR MID
JSR COPYSTR
MOV S1${STRING},A
807:
NOP
MOV Y,#1{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#1{INTEGER}
MOV X,Z{REAL}
SUB X,Y
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
JSR COMPACTMAX
MOV B,#0{STRING}
MOV A,S2${STRING}
JSR CONCAT
JSR COPYSTR
MOV S2${STRING},A
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
808:
NOP
JSR COMPACTMAX
MOV B,S2${STRING}
MOV A,C${STRING}
JSR CONCAT
MOV B,S1${STRING}
JSR CONCAT
JSR COPYSTR
MOV C${STRING},A
NOP
JMP RETURN
810:
NOP
JSR COMPACTMAX
MOV C,DO{REAL}
PUSH C
MOV Y,#4{INTEGER}
MOV X,EZ{REAL}
SUB X,Y
PUSH X
CHGCTX #1
MOV B,A${STRING}
POP D
POP C
JSR MID
PUSH A
CHGCTX #0
MOV C,#2{INTEGER}
PUSH C
MOV Y,#3{INTEGER}
MOV X,DO{REAL}
SUB X,Y
PUSH X
CHGCTX #1
MOV B,A${STRING}
POP D
POP C
JSR MID
POP B
JSR CONCAT
JSR COPYSTR
MOV S1${STRING},A
811:
NOP
MOV Y,#1{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#1{INTEGER}
MOV X,Z{REAL}
SUB X,Y
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
JSR COMPACTMAX
MOV B,#0{STRING}
MOV A,S2${STRING}
JSR CONCAT
JSR COPYSTR
MOV S2${STRING},A
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
812:
NOP
JSR COMPACTMAX
MOV B,S2${STRING}
MOV A,C${STRING}
JSR CONCAT
MOV B,S1${STRING}
JSR CONCAT
JSR COPYSTR
MOV C${STRING},A
1000:
NOP
MOV B,B${STRING}
JSR LEN
MOV Y,#1{INTEGER}
SUB X,Y
MOV LB{REAL},X
NOP
1001:
NOP
MOV Y,#3{INTEGER}
MOV X,LB{REAL}
DIV X,Y
MOV Y,X
INT X,Y
MOV A,#1{INTEGER}
MOV Y,X
SHL Y,A
ADD X,Y
MOV Y,X
MOV X,LB{REAL}
SUB X,Y
MOV MO{REAL},X
1002:
NOP
JMP RETURN
NOP
JSR END
RTS
