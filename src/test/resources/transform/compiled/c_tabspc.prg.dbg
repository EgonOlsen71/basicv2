117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
129	.$81f	LINE_15:
132	.$81f	LINE_20:
134	.$81f	LDA #<CONST_1
135	.$821	LDY #>CONST_1
136	.$823	STA A_REG
137	.$826	STY A_REG+1
138	.$829	LDA #<CONST_0R
139	.$82b	LDY #>CONST_0R
140	.$82d	JSR COPY2_XYA_XREG
144	.$830	LDA #<VAR_ST$[]
145	.$832	LDY #>VAR_ST$[]
146	.$834	STA G_REG
147	.$836	STY G_REG+1
148	.$838	JSR ARRAYSTORE_STRING
150	.$83b	LINE_25:
152	.$83b	LDA #<CONST_2
153	.$83d	LDY #>CONST_2
154	.$83f	STA A_REG
155	.$842	STY A_REG+1
156	.$845	LDA #<CONST_0R
157	.$847	LDY #>CONST_0R
158	.$849	JSR COPY2_XYA_XREG
162	.$84c	LDA #<VAR_LE$[]
163	.$84e	LDY #>VAR_LE$[]
164	.$850	STA G_REG
165	.$852	STY G_REG+1
166	.$854	JSR ARRAYSTORE_STRING
168	.$857	LINE_26:
171	.$857	LINE_30:
173	.$857	LDA #<VAR_ST$[]
174	.$859	LDY #>VAR_ST$[]
175	.$85b	STA G_REG
176	.$85d	STY G_REG+1
177	.$85f	LDY #1
178	.$861	LDA #0
179	.$863	JSR ARRAYACCESS_STRING_INT
181	.$866	JSR STROUTBRK
184	.$869	LINE_40:
186	.$869	LDA #<CONST_3
187	.$86b	LDY #>CONST_3
188	.$86d	JSR COPY2_XYA_XREG
192	.$870	JSR REALOUT
193	.$873	JSR CRSRRIGHT
194	.$876	LDA #<CONST_4R
195	.$878	LDY #>CONST_4R
196	.$87a	JSR COPY2_XYA_YREG
201	.$87d	JSR TAB
202	.$880	LDA #<VAR_LE$[]
203	.$882	LDY #>VAR_LE$[]
204	.$884	STA G_REG
205	.$886	STY G_REG+1
206	.$888	LDY #1
207	.$88a	LDA #0
208	.$88c	JSR ARRAYACCESS_STRING_INT
210	.$88f	JSR STROUTBRK
213	.$892	LINE_50:
216	.$892	LINE_60:
219	.$892	LINE_70:
221	.$892	LDY #3
222	.$894	LDA #0
223	.$896	STY AS_TMP
224	.$899	STA AS_TMP+1
225	.$89c	LDA #<VAR_SP%[]
226	.$89e	LDY #>VAR_SP%[]
227	.$8a0	STA G_REG
228	.$8a2	STY G_REG+1
229	.$8a4	LDY #3
230	.$8a6	LDA #0
231	.$8a8	JSR ARRAYSTORE_INT_INTEGER_AC
238	.$8ab	LINE_80:
240	.$8ab	LDA #<VAR_SP%[]+6
241	.$8ad	LDY #>VAR_SP%[]+6
242	.$8af	STA G_REG
243	.$8b1	STY G_REG+1
244	.$8b3	JSR ARRAYACCESS_INTEGER_INT_PRE
248	.$8b6	JSR INTOUT
249	.$8b9	JSR CRSRRIGHT
250	.$8bc	LDA #<CONST_5R
251	.$8be	LDY #>CONST_5R
252	.$8c0	JSR COPY2_XYA_YREG
257	.$8c3	JSR SPC
258	.$8c6	LDY #$0d
259	.$8c8	STY TMP_ZP
260	.$8ca	LDA #$00
261	.$8cc	STA TMP_ZP+1
262	.$8ce	JSR INTOUTFAST
265	.$8d1	JSR CRSRRIGHT
266	.$8d4	LDA #<CONST_7
267	.$8d6	LDY #>CONST_7
268	.$8d8	JSR COPY2_XYA_XREG
272	.$8db	JSR REALOUT
273	.$8de	JSR CRSRRIGHT
274	.$8e1	LDA #<CONST_8
275	.$8e3	LDY #>CONST_8
276	.$8e5	JSR STROUTBRKWL
279	.$8e8	JSR END
280	.$8eb	RTS
283	.$8ec	END   LDX SP_SAVE
284	.$8ef	TXS
291	.$8f0	RTS
294	.$8f1	START  LDA ENDSTRBUF+1
295	.$8f4	BNE ENDGIVEN
296	.$8f6	LDA BASICEND
297	.$8f8	STA ENDSTRBUF
298	.$8fb	LDA BASICEND+1
299	.$8fd	STA ENDSTRBUF+1
300	.$900	ENDGIVEN LDA #<FPSTACK
301	.$902	LDY #>FPSTACK
302	.$904	STA FPSTACKP
303	.$907	STY FPSTACKP+1
304	.$90a	LDA #<FORSTACK
305	.$90c	LDY #>FORSTACK
306	.$90e	STA FORSTACKP
307	.$911	STY FORSTACKP+1
308	.$914	LDA #<STRBUF
309	.$916	LDY #>STRBUF
310	.$918	STA STRBUFP
311	.$91b	STY STRBUFP+1
312	.$91e	STA HIGHP
313	.$921	STY HIGHP+1
314	.$924	LDA #0
315	.$926	STA CHLOCKFLAG
316	.$929	STA LASTVAR
317	.$92c	STA LASTVAR+1
318	.$92f	JSR INITVARS
319	.$932	LDA #0
320	.$934	STA CMD_NUM
321	.$937	STA CHANNEL
322	.$93a	TAY
323	.$93b	TAX
327	.$93c	STA KEYNDX
333	.$93e	JSR RESTORE
334	.$941	CLC
338	.$942	RTS
341	.$943	INITNARRAY
342	.$943	STA TMP_ZP
343	.$945	STY TMP_ZP+1
344	.$947	LDY #0
345	.$949	TYA
346	.$94a	NINITLOOP STA (TMP_ZP),Y
347	.$94c	INC TMP_ZP
348	.$94e	BNE NLOOPNOV
349	.$950	INC TMP_ZP+1
350	.$952	NLOOPNOV LDX TMP2_ZP
351	.$954	BNE NLOOPNOV2
352	.$956	DEC TMP2_ZP+1
353	.$958	NLOOPNOV2 DEC TMP2_ZP
354	.$95a	BNE NINITLOOP
355	.$95c	LDX TMP2_ZP+1
356	.$95e	BNE NINITLOOP
357	.$960	RTS
360	.$961	INITSTRARRAY
361	.$961	STA TMP_ZP
362	.$963	STY TMP_ZP+1
363	.$965	SINITLOOP LDY #0
364	.$967	LDA #<EMPTYSTR
365	.$969	STA (TMP_ZP),Y
366	.$96b	LDA #>EMPTYSTR
367	.$96d	INY
368	.$96e	STA (TMP_ZP),Y
369	.$970	CLC
370	.$971	LDA TMP_ZP
371	.$973	ADC #2
372	.$975	STA TMP_ZP
373	.$977	BCC SLOOPNOV1
374	.$979	INC TMP_ZP+1
375	.$97b	SLOOPNOV1 SEC
376	.$97c	LDA TMP2_ZP
377	.$97e	SBC #2
378	.$980	STA TMP2_ZP
379	.$982	BCS SLOOPNOV2
380	.$984	DEC TMP2_ZP+1
381	.$986	SLOOPNOV2 LDA TMP2_ZP
382	.$988	BNE SINITLOOP
383	.$98a	LDA TMP2_ZP+1
384	.$98c	BNE SINITLOOP
385	.$98e	RTS
388	.$98f	INITSPARAMS STA TMP3_ZP
389	.$991	STY TMP3_ZP+1
390	.$993	SEC
391	.$994	SBC #2
392	.$996	STA TMP_ZP
393	.$998	TYA
394	.$999	SBC #0
395	.$99b	STA TMP_ZP+1
396	.$99d	LDY #0
397	.$99f	LDA (TMP_ZP),Y
398	.$9a1	STA TMP2_ZP
399	.$9a3	INY
400	.$9a4	LDA (TMP_ZP),Y
401	.$9a6	STA TMP2_ZP+1
402	.$9a8	LDA TMP3_ZP
403	.$9aa	LDY TMP3_ZP+1
404	.$9ac	RTS
407	.$9ad	INITSTRVARS LDA #<STRINGVARS_START  
408	.$9af	LDY #>STRINGVARS_START
409	.$9b1	CMP #<STRINGVARS_END
410	.$9b3	BNE INITIT1
411	.$9b5	CPY #>STRINGVARS_END
412	.$9b7	BNE INITIT1
413	.$9b9	JMP INITSA2     
414	.$9bc	INITIT1  STA TMP_ZP
415	.$9be	STY TMP_ZP+1
416	.$9c0	LDY #0
417	.$9c2	INITSTRLOOP LDA #<EMPTYSTR
418	.$9c4	STA (TMP_ZP),Y
419	.$9c6	INY
420	.$9c7	LDA #>EMPTYSTR
421	.$9c9	STA (TMP_ZP),Y
422	.$9cb	DEY
423	.$9cc	LDA TMP_ZP
424	.$9ce	CLC
425	.$9cf	ADC #2
426	.$9d1	STA TMP_ZP
427	.$9d3	LDA TMP_ZP+1
428	.$9d5	ADC #0
429	.$9d7	STA TMP_ZP+1
430	.$9d9	CMP #>STRINGVARS_END
431	.$9db	BNE INITSTRLOOP
432	.$9dd	LDA TMP_ZP
433	.$9df	CMP #<STRINGVARS_END
434	.$9e1	BNE INITSTRLOOP
435	.$9e3	INITSA2  LDA #<STRINGARRAYS_START 
436	.$9e5	LDY #>STRINGARRAYS_START
437	.$9e7	CMP #<STRINGARRAYS_END
438	.$9e9	BNE ARRAYLOOP
439	.$9eb	CPY #>STRINGARRAYS_END
440	.$9ed	BNE ARRAYLOOP
441	.$9ef	RTS       
442	.$9f0	ARRAYLOOP CLC
443	.$9f1	ADC #3
444	.$9f3	BCC ARRAYSKIP1
445	.$9f5	INY
446	.$9f6	ARRAYSKIP1 CPY #>STRINGARRAYS_END
447	.$9f8	BEQ ARRAYSC
448	.$9fa	BCC ARRAYSKIP2
449	.$9fc	JMP ARRAYQUIT
450	.$9ff	ARRAYSC  CMP #<STRINGARRAYS_END
451	.$a01	BCS ARRAYQUIT
452	.$a03	ARRAYSKIP2 STA TMP_REG
453	.$a05	STY TMP_REG+1
454	.$a07	JSR INITSPARAMS
455	.$a0a	LDA TMP_REG
456	.$a0c	LDY TMP_REG+1
457	.$a0e	JSR INITSTRARRAY
458	.$a11	LDA TMP_ZP
459	.$a13	LDY TMP_ZP+1
460	.$a15	JMP ARRAYLOOP
461	.$a18	ARRAYQUIT RTS
464	.$a19	RESTORE  LDA #<DATAS
465	.$a1b	LDY #>DATAS
466	.$a1d	STA DATASP
467	.$a20	STY DATASP+1
468	.$a23	RTS
471	.$a24	TAB   JSR TABSPCINIT
472	.$a27	JSR REROUTE
473	.$a2a	LDA CMD_NUM
474	.$a2d	BEQ NORMALTAB  
475	.$a2f	CMP #3
476	.$a31	BEQ NORMALTAB2  
477	.$a33	JMP TABCHANNEL2
478	.$a36	NORMALTAB2 JSR CLRCHNEW
479	.$a39	NORMALTAB SEC
480	.$a3a	JMP TABSPC
483	.$a3d	SPC   JSR TABSPCINIT
484	.$a40	JSR REROUTE
485	.$a43	LDA CMD_NUM
486	.$a46	BEQ NORMALSPC  
487	.$a48	CMP #3
488	.$a4a	BEQ NORMALSPC2  
489	.$a4c	JMP TABCHANNEL2
490	.$a4f	NORMALSPC2 JSR CLRCHNEW
491	.$a52	NORMALSPC CLC
492	.$a53	JMP TABSPC
495	.$a56	TABSPCINIT SEC
496	.$a57	JSR CRSRPOS
497	.$a5a	STY $09
498	.$a5c	JSR YREGFAC
499	.$a5f	JSR FACWORD
500	.$a62	TYA
501	.$a63	TAX
502	.$a64	RTS
505	.$a65	TABSPC     BCC DOSPC
506	.$a67	TXA
507	.$a68	SBC $09
508	.$a6a	BCC TABSPCQUIT
509	.$a6c	TAX
510	.$a6d	DOSPC  INX
511	.$a6e	TABSPCLOOP  DEX
512	.$a6f	BNE TABSPCRIGHT
513	.$a71	TABSPCQUIT RTS
514	.$a72	TABSPCRIGHT JSR CRSRRIGHT
515	.$a75	JMP TABSPCLOOP
518	.$a78	SAVEPOINTERS
519	.$a78	LDA TMP_ZP   
520	.$a7a	STA STORE1
521	.$a7d	LDA TMP_ZP+1
522	.$a7f	STA STORE1+1
523	.$a82	LDA TMP2_ZP
524	.$a84	STA STORE2
525	.$a87	LDA TMP2_ZP+1
526	.$a89	STA STORE2+1
527	.$a8c	LDA TMP3_ZP
528	.$a8e	STA STORE3
529	.$a91	LDA TMP3_ZP+1
530	.$a93	STA STORE3+1
531	.$a96	RTS
534	.$a97	RESTOREPOINTERS
535	.$a97	LDA STORE3+1  
536	.$a9a	STA TMP3_ZP+1
537	.$a9c	LDA STORE3
538	.$a9f	STA TMP3_ZP
539	.$aa1	LDA STORE2+1
540	.$aa4	STA TMP2_ZP+1
541	.$aa6	LDA STORE2
542	.$aa9	STA TMP2_ZP
543	.$aab	LDA STORE1+1
544	.$aae	STA TMP_ZP+1
545	.$ab0	LDA STORE1
546	.$ab3	STA TMP_ZP
547	.$ab5	RTS
550	.$ab6	COMPACT
551	.$ab6	LDY #0
552	.$ab8	GCBUFNE  LDA (TMP_ZP),Y  
553	.$aba	COMPACTF STA TMP4_REG  
554	.$abd	LDY STRBUFP+1  
555	.$ac0	STY TMP4_REG+1  
556	.$ac3	INY     
557	.$ac4	BEQ ENDMEM   
558	.$ac6	CPY ENDSTRBUF+1  
559	.$ac9	BCC RGCEXIT   
560	.$acb	ENDMEM  LDA STRBUFP
561	.$ace	CLC
562	.$acf	ADC TMP4_REG
563	.$ad2	STA TMP4_REG
564	.$ad5	BCC RGCNOOV1
565	.$ad7	INC TMP4_REG+1
566	.$ada	RGCNOOV1 CLC
567	.$adb	LDA TMP4_REG
568	.$ade	ADC #3
569	.$ae0	STA TMP4_REG
570	.$ae3	BCC RGCNOOV2
571	.$ae5	INC TMP4_REG+1
572	.$ae8	RGCNOOV2 LDA TMP4_REG+1  
573	.$aeb	CMP ENDSTRBUF+1
574	.$aee	BEQ RGCLOW1
575	.$af0	BCS GCEXECOMP  
576	.$af2	JMP RGCEXIT
577	.$af5	RGCLOW1  LDA TMP4_REG
578	.$af8	CMP ENDSTRBUF
579	.$afb	BCS GCEXECOMP  
580	.$afd	RGCEXIT  RTS     
581	.$afe	GCEXECOMP LDA STRBUFP
582	.$b01	STA STORE4
583	.$b04	LDA STRBUFP+1
584	.$b07	STA STORE4+1
585	.$b0a	JSR GCEXE
586	.$b0d	JMP CHECKMEMORY
589	.$b10	GCEXE  JSR SAVEPOINTERS
590	.$b13	LDA #0
591	.$b15	STA LASTVAR
592	.$b18	STA LASTVAR+1  
593	.$b1b	LDA #<STRBUF
594	.$b1d	STA TMP_ZP
595	.$b1f	STA GCSTART
596	.$b22	LDA #>STRBUF
597	.$b24	STA TMP_ZP+1  
598	.$b26	STA GCSTART+1
599	.$b29	GCLOOP  LDY #0
600	.$b2b	LDA TMP_ZP
601	.$b2d	STA GCWORK
602	.$b30	LDA TMP_ZP+1
603	.$b32	STA GCWORK+1  
604	.$b35	LDA (TMP_ZP),Y
605	.$b37	STA GCLEN   
606	.$b3a	INC TMP_ZP
607	.$b3c	BNE GCLOOPNOOV
608	.$b3e	INC TMP_ZP+1
609	.$b40	GCLOOPNOOV LDA TMP_ZP
610	.$b42	CLC
611	.$b43	ADC GCLEN
612	.$b46	STA TMP_ZP
613	.$b48	BCC GCLOOPNOOV2
614	.$b4a	INC TMP_ZP+1  
615	.$b4c	GCLOOPNOOV2 LDY #0
616	.$b4e	LDA (TMP_ZP),Y
617	.$b50	STA TMP2_ZP
618	.$b52	INY
619	.$b53	LDA (TMP_ZP),Y
620	.$b55	STA TMP2_ZP+1  
621	.$b57	LDA TMP_ZP
622	.$b59	CLC
623	.$b5a	ADC #2
624	.$b5c	STA TMP_ZP
625	.$b5e	BCC GCLOOPNOOV3
626	.$b60	INC TMP_ZP+1  
627	.$b62	GCLOOPNOOV3 LDY #0
628	.$b64	LDA (TMP2_ZP),Y
629	.$b66	CMP GCWORK
630	.$b69	BNE GCKLOOP
631	.$b6b	INY
632	.$b6c	LDA (TMP2_ZP),Y
633	.$b6e	CMP GCWORK+1
634	.$b71	BEQ MEMFREE
635	.$b73	GCKLOOP  LDA TMP_ZP+1  
636	.$b75	CMP HIGHP+1
637	.$b78	BEQ GCHECKLOW
638	.$b7a	BCC GCLOOP
639	.$b7c	JMP GCDONE
640	.$b7f	GCHECKLOW LDA TMP_ZP
641	.$b81	CMP HIGHP
642	.$b84	BCS GCDONE
643	.$b86	JMP GCLOOP
644	.$b89	MEMFREE  LDA GCSTART   
645	.$b8c	CMP GCWORK   
646	.$b8f	BNE COPYDOWN
647	.$b91	LDA GCSTART+1
648	.$b94	CMP GCWORK+1
649	.$b97	BNE COPYDOWN
650	.$b99	LDA TMP_ZP   
651	.$b9b	STA GCSTART
652	.$b9e	LDA TMP_ZP+1
653	.$ba0	STA GCSTART+1
654	.$ba3	JMP GCKLOOP   
655	.$ba6	COPYDOWN LDA GCSTART   
656	.$ba9	STA TMP_REG
657	.$bab	LDA GCSTART+1
658	.$bae	STA TMP_REG+1  
659	.$bb0	LDA GCWORK
660	.$bb3	STA TMP2_REG
661	.$bb6	LDA GCWORK+1
662	.$bb9	STA TMP2_REG+1  
663	.$bbc	LDA TMP_ZP
664	.$bbe	SEC
665	.$bbf	SBC GCWORK
666	.$bc2	STA TMP3_REG
667	.$bc5	LDA TMP_ZP+1
668	.$bc7	SBC GCWORK+1
669	.$bca	STA TMP3_REG+1  
670	.$bcd	LDA GCSTART
671	.$bd0	CLC
672	.$bd1	ADC TMP3_REG
673	.$bd4	STA GCSTART
674	.$bd7	LDA GCSTART+1
675	.$bda	ADC TMP3_REG+1
676	.$bdd	STA GCSTART+1  
677	.$be0	JSR QUICKCOPY  
678	.$be3	LDY #0
679	.$be5	LDA TMP_REG
680	.$be7	STA (TMP2_ZP),Y
681	.$be9	INY
682	.$bea	LDA TMP_REG+1
683	.$bec	STA (TMP2_ZP),Y  
684	.$bee	JMP GCKLOOP
685	.$bf1	GCDONE  LDA GCSTART
686	.$bf4	STA HIGHP
687	.$bf7	STA STRBUFP
688	.$bfa	LDA GCSTART+1
689	.$bfd	STA HIGHP+1
690	.$c00	STA STRBUFP+1  
691	.$c03	GCSKIP  JSR RESTOREPOINTERS
692	.$c06	RTS     
695	.$c07	CHECKMEMORY
696	.$c07	LDA STRBUFP+1  
697	.$c0a	CMP STORE4+1  
698	.$c0d	BCC STILLFITSCM  
702	.$c0f	BEQ CHECKMEMLOWCM
703	.$c11	JMP OUTOFMEMORY  
704	.$c14	CHECKMEMLOWCM
705	.$c14	LDA STRBUFP   
706	.$c17	CMP STORE4
707	.$c1a	BCC STILLFITSCM
708	.$c1c	JMP OUTOFMEMORY  
709	.$c1f	STILLFITSCM RTS
712	.$c20	QUICKCOPY LDA TMP_REG  
713	.$c22	STA TMEM+1
714	.$c25	LDA TMP_REG+1
715	.$c27	STA TMEM+2
716	.$c2a	LDA TMP2_REG
717	.$c2d	STA SMEM+1
718	.$c30	LDA TMP2_REG+1
719	.$c33	STA SMEM+2
720	.$c36	LDY #$0
721	.$c38	LDX TMP3_REG
722	.$c3b	BNE QCLOOP
723	.$c3d	LDA TMP3_REG+1
724	.$c40	BEQ QCEXIT  
725	.$c42	QCLOOP
726	.$c42	SMEM  LDA $0000,Y
727	.$c45	TMEM  STA $0000,Y
728	.$c48	INY
729	.$c49	BNE YNOOV
730	.$c4b	INC TMEM+2
731	.$c4e	INC SMEM+2
732	.$c51	YNOOV  DEX
733	.$c52	BNE QCLOOP
734	.$c54	LDA TMP3_REG+1
735	.$c57	BEQ QCEXIT
736	.$c59	DEC TMP3_REG+1
737	.$c5c	JMP QCLOOP
738	.$c5f	QCEXIT  RTS
741	.$c60	COPYSTRING STA TMP2_ZP
742	.$c62	STY TMP2_ZP+1
743	.$c64	CPY TMP_ZP+1
744	.$c66	BNE CONTCOPY
745	.$c68	LDA TMP2_ZP
746	.$c6a	CMP TMP_ZP
747	.$c6c	BNE CONTCOPY
748	.$c6e	RTS     
749	.$c6f	CONTCOPY JSR COMPACT   
750	.$c72	LDY #0
751	.$c74	STY TMP_FLAG
752	.$c77	LDA (TMP_ZP),Y
753	.$c79	BNE NOTEMPTYSTR
754	.$c7b	LDA #<EMPTYSTR  
755	.$c7d	STA TMP_ZP
756	.$c7f	LDA #>EMPTYSTR
757	.$c81	STA TMP_ZP+1
758	.$c83	JMP ISCONST
759	.$c86	NOTEMPTYSTR TAX     
760	.$c87	LDA (TMP2_ZP),Y
761	.$c89	STA TMP3_ZP
762	.$c8b	INY
763	.$c8c	LDA (TMP2_ZP),Y
764	.$c8e	STA TMP3_ZP+1
765	.$c90	DEY
766	.$c91	LDA TMP_ZP+1  
767	.$c93	CMP #>CONSTANTS_END
768	.$c95	BEQ CHECKLOW1
769	.$c97	BCS INVAR
770	.$c99	JMP CHECKNEXT
771	.$c9c	CHECKLOW1 LDA TMP_ZP
772	.$c9e	CMP #<CONSTANTS_END
773	.$ca0	BCS INVAR
774	.$ca2	CHECKNEXT LDA TMP_ZP+1  
775	.$ca4	CMP #>CONSTANTS
776	.$ca6	BEQ CHECKLOW3
777	.$ca8	BCC INVAR
778	.$caa	JMP ISCONST
779	.$cad	CHECKLOW3 LDA TMP_ZP
780	.$caf	CMP #<CONSTANTS
781	.$cb1	BCC INVAR   
782	.$cb3	ISCONST  JSR CHECKLASTVAR 
783	.$cb6	LDA TMP_ZP
784	.$cb8	STA (TMP2_ZP),Y  
785	.$cba	INY
786	.$cbb	LDA TMP_ZP+1
787	.$cbd	STA (TMP2_ZP),Y
788	.$cbf	LDA HIGHP   
789	.$cc2	STA STRBUFP
790	.$cc5	LDA HIGHP+1
791	.$cc8	STA STRBUFP+1
792	.$ccb	RTS
793	.$ccc	INVAR  INY
794	.$ccd	LDA (TMP2_ZP),Y  
795	.$ccf	CMP #>CONSTANTS_END
796	.$cd1	BEQ CHECKLOW2
797	.$cd3	BCS INVAR2
798	.$cd5	JMP PUPDATEPTR
799	.$cd8	CHECKLOW2 DEY
800	.$cd9	LDA (TMP2_ZP),Y
801	.$cdb	CMP #<CONSTANTS_END
802	.$cdd	BCS INVAR2
803	.$cdf	JMP PUPDATEPTR
804	.$ce2	INVAR2  LDY #0   
805	.$ce4	LDA (TMP3_ZP),Y
806	.$ce6	STA TMP_REG
807	.$ce8	TXA
808	.$ce9	CMP TMP_REG  
809	.$ceb	BEQ UPDATEHP2 
812	.$ced	PUPDATEPTR JSR CHECKLASTVAR
813	.$cf0	LDY #1   
814	.$cf2	STY TMP_FLAG 
815	.$cf5	JMP UPDATEPTR 
816	.$cf8	UPDATEHP2 LDA HIGHP  
817	.$cfb	STA STRBUFP
818	.$cfe	LDA HIGHP+1
819	.$d01	STA STRBUFP+1
820	.$d04	JMP STRFITS
821	.$d07	COPYONLY LDY #0
822	.$d09	STY TMP_FLAG
823	.$d0c	JMP CHECKMEM
824	.$d0f	ALTCOPY  JMP COPYSTRING2
825	.$d12	UPDATEPTR LDA TMP_ZP+1 
826	.$d14	CMP HIGHP+1  
827	.$d17	BEQ CHECKXT1
828	.$d19	BCS ALTCOPY
829	.$d1b	JMP CHECKMEM
830	.$d1e	CHECKXT1 LDA TMP_ZP
831	.$d20	CMP HIGHP
832	.$d23	BCS ALTCOPY
833	.$d25	CHECKMEM
834	.$d25	MEMOK  LDY #0
835	.$d27	LDA STRBUFP  
836	.$d2a	STA (TMP2_ZP),Y 
837	.$d2c	STA TMP3_ZP
838	.$d2e	LDA STRBUFP+1
839	.$d31	INY
840	.$d32	STA (TMP2_ZP),Y
841	.$d34	STA TMP3_ZP+1
842	.$d36	TXA
843	.$d37	CLC
844	.$d38	ADC STRBUFP
845	.$d3b	PHP
846	.$d3c	CLC
847	.$d3d	ADC #3
848	.$d3f	STA STRBUFP
849	.$d42	BCC NOCS1
850	.$d44	INC STRBUFP+1
851	.$d47	NOCS1  PLP
852	.$d48	BCC STRFITS
853	.$d4a	INC STRBUFP+1
854	.$d4d	STRFITS  LDY TMP_FLAG 
855	.$d50	BEQ NOHPUPDATE 
856	.$d52	LDA HIGHP+1
857	.$d55	CMP STRBUFP+1
858	.$d58	BCC UPDATEHIGHP
859	.$d5a	BEQ CHECKNEXTHP
860	.$d5c	JMP NOHPUPDATE
861	.$d5f	CHECKNEXTHP LDA HIGHP
862	.$d62	CMP STRBUFP
863	.$d65	BCC UPDATEHIGHP
864	.$d67	JMP NOHPUPDATE
865	.$d6a	UPDATEHIGHP LDA STRBUFP
866	.$d6d	STA HIGHP
867	.$d70	LDA STRBUFP+1
868	.$d73	STA HIGHP+1  
869	.$d76	JSR REMEMBERLASTVAR
870	.$d79	JSR STOREVARREF
871	.$d7c	NOHPUPDATE LDY #0
872	.$d7e	LDA (TMP_ZP),Y 
873	.$d80	STA (TMP3_ZP),Y
874	.$d82	TAY    
875	.$d83	BEQ EXITCOPY 
876	.$d85	LOOP  LDA (TMP_ZP),Y 
877	.$d87	STA (TMP3_ZP),Y
878	.$d89	DEY
879	.$d8a	BNE LOOP
880	.$d8c	EXITCOPY RTS
885	.$d8d	COPYSTRING2 LDY #0
886	.$d8f	LDA (TMP_ZP),Y
887	.$d91	STA TMP_REG
888	.$d93	TAX
889	.$d94	LDA HIGHP
890	.$d97	STA TMP3_ZP
891	.$d99	STA (TMP2_ZP),Y
892	.$d9b	LDA HIGHP+1
893	.$d9e	STA TMP3_ZP+1
894	.$da0	INY
895	.$da1	STA (TMP2_ZP),Y
896	.$da3	JSR REMEMBERLASTVAR
899	.$da6	LDA TMP_ZP
900	.$da8	CMP TMP3_ZP
901	.$daa	BNE DOLOOP
902	.$dac	LDA TMP_ZP+1
903	.$dae	CMP TMP3_ZP+1
904	.$db0	BEQ SKIPCP2
905	.$db2	DOLOOP  DEY
906	.$db3	TXA
907	.$db4	STA (TMP3_ZP),Y
908	.$db6	INY
909	.$db7	ASLOOP  LDA (TMP_ZP),Y
910	.$db9	STA (TMP3_ZP),Y
911	.$dbb	INY
912	.$dbc	DEX
913	.$dbd	BNE ASLOOP
914	.$dbf	SKIPCP2  LDA HIGHP
915	.$dc2	CLC
916	.$dc3	ADC TMP_REG
917	.$dc5	PHP
918	.$dc6	CLC
919	.$dc7	ADC #3
920	.$dc9	STA HIGHP
921	.$dcc	STA STRBUFP
922	.$dcf	BCC SKIPLOWAS1
923	.$dd1	INC HIGHP+1
924	.$dd4	SKIPLOWAS1 PLP
925	.$dd5	BCC SKIPLOWAS2
926	.$dd7	INC HIGHP+1
927	.$dda	SKIPLOWAS2 LDA HIGHP+1
928	.$ddd	STA STRBUFP+1
929	.$de0	JSR STOREVARREF
930	.$de3	RTS
934	.$de4	CHECKLASTVAR
935	.$de4	LDA TMP2_ZP
936	.$de6	CMP LASTVAR
937	.$de9	BNE NOTSAMEVAR
938	.$deb	LDA TMP2_ZP+1
939	.$ded	CMP LASTVAR+1
940	.$df0	BNE NOTSAMEVAR
941	.$df2	LDA LASTVARP   
942	.$df5	STA HIGHP
943	.$df8	STA STRBUFP
944	.$dfb	LDA LASTVARP+1
945	.$dfe	STA HIGHP+1
946	.$e01	STA STRBUFP+1
947	.$e04	NOTSAMEVAR RTS
951	.$e05	REMEMBERLASTVAR
952	.$e05	LDA TMP2_ZP
953	.$e07	STA LASTVAR
954	.$e0a	LDA TMP2_ZP+1
955	.$e0c	STA LASTVAR+1
956	.$e0f	LDA TMP3_ZP
957	.$e11	STA LASTVARP
958	.$e14	LDA TMP3_ZP+1
959	.$e16	STA LASTVARP+1 
960	.$e19	RTS
965	.$e1a	STOREVARREF
966	.$e1a	TYA
967	.$e1b	PHA    
968	.$e1c	LDA TMP_ZP
969	.$e1e	PHA
970	.$e1f	LDA TMP_ZP+1
971	.$e21	PHA
972	.$e22	LDA HIGHP+1
973	.$e25	STA TMP_ZP+1
974	.$e27	LDA HIGHP
975	.$e2a	SEC
976	.$e2b	SBC #2
977	.$e2d	STA TMP_ZP
978	.$e2f	BCS RLVNOOV
979	.$e31	DEC TMP_ZP+1
980	.$e33	RLVNOOV  LDA TMP2_ZP
981	.$e35	LDY #0
982	.$e37	STA (TMP_ZP),Y
983	.$e39	LDA TMP2_ZP+1
984	.$e3b	INY
985	.$e3c	STA (TMP_ZP),Y 
986	.$e3e	PLA
987	.$e3f	STA TMP_ZP+1
988	.$e41	PLA
989	.$e42	STA TMP_ZP  
990	.$e44	PLA
991	.$e45	TAY    
992	.$e46	RTS
995	.$e47	REROUTE  LDA CMD_NUM  
996	.$e4a	BEQ REROUTECMD
997	.$e4c	TAX
998	.$e4d	STA CHANNEL
999	.$e50	JMP CHKOUT
1000	.$e53	REROUTECMD RTS
1003	.$e54	RESETROUTE LDA CMD_NUM  
1004	.$e57	BEQ RESETROUTECMD
1005	.$e59	JMP CLRCHNEW
1006	.$e5c	RESETROUTECMD
1007	.$e5c	RTS
1010	.$e5d	INTOUT  JMP REALOUT
1013	.$e60	INTOUTFAST JSR REROUTE
1014	.$e63	JSR INTOUTFASTZ
1015	.$e66	JMP RESETROUTE
1018	.$e69	INTOUTFASTZ LDX #32    
1019	.$e6b	LDA TMP_ZP+1
1020	.$e6d	BPL INTISPOS
1021	.$e6f	CLC
1022	.$e70	LDA TMP_ZP
1023	.$e72	EOR #$FF
1024	.$e74	ADC #1
1025	.$e76	STA TMP_ZP
1026	.$e78	LDA TMP_ZP+1
1027	.$e7a	EOR #$FF
1028	.$e7c	ADC #0
1029	.$e7e	STA TMP_ZP+1
1030	.$e80	LDX #45    
1031	.$e82	INTISPOS
1032	.$e82	TXA
1033	.$e83	JSR CHROUT
1034	.$e86	JSR CONVPOSINT
1035	.$e89	LDA NUMFLAG
1036	.$e8c	BNE ALLINTOUTDONE
1037	.$e8e	LDA #48
1038	.$e90	JSR CHROUT
1039	.$e93	ALLINTOUTDONE
1040	.$e93	RTS
1043	.$e94	NUMBEROUT
1044	.$e94	BEQ NUMZERO
1045	.$e96	ORA #$30
1046	.$e98	STA NUMFLAG
1047	.$e9b	JMP CHROUT
1048	.$e9e	NUMZERO
1049	.$e9e	LDX NUMFLAG
1050	.$ea1	BEQ STILLZERO
1051	.$ea3	ORA #$30
1052	.$ea5	JMP CHROUT
1053	.$ea8	STILLZERO
1054	.$ea8	RTS
1057	.$ea9	CONVPOSINT
1058	.$ea9	JSR INT2BCD
1059	.$eac	LDX #0
1060	.$eae	STX NUMFLAG
1061	.$eb1	AND #$0F
1062	.$eb3	JSR NUMBEROUT
1063	.$eb6	LDA BCD+1
1064	.$eb9	LSR
1065	.$eba	LSR
1066	.$ebb	LSR
1067	.$ebc	LSR
1068	.$ebd	JSR NUMBEROUT
1069	.$ec0	LDA BCD+1
1070	.$ec3	AND #$0F
1071	.$ec5	TAY
1072	.$ec6	JSR NUMBEROUT
1073	.$ec9	LDA BCD
1074	.$ecc	LSR
1075	.$ecd	LSR
1076	.$ece	LSR
1077	.$ecf	LSR
1078	.$ed0	JSR NUMBEROUT
1079	.$ed3	LDA BCD
1080	.$ed6	AND #$0F
1081	.$ed8	JSR NUMBEROUT
1082	.$edb	RTS
1085	.$edc	INT2BCD
1086	.$edc	SED
1087	.$edd	LDA #0
1088	.$edf	STA BCD
1089	.$ee2	STA BCD+1
1090	.$ee5	STA BCD+2
1091	.$ee8	ASL TMP_ZP
1092	.$eea	ROL TMP_ZP+1
1093	.$eec	LDA BCD
1094	.$eef	ADC BCD
1095	.$ef2	STA BCD
1096	.$ef5	ASL TMP_ZP
1097	.$ef7	ROL TMP_ZP+1
1098	.$ef9	ADC BCD
1099	.$efc	STA BCD
1100	.$eff	ASL TMP_ZP
1101	.$f01	ROL TMP_ZP+1
1102	.$f03	ADC BCD
1103	.$f06	STA BCD
1104	.$f09	ASL TMP_ZP
1105	.$f0b	ROL TMP_ZP+1
1106	.$f0d	ADC BCD
1107	.$f10	STA BCD
1108	.$f13	ASL TMP_ZP
1109	.$f15	ROL TMP_ZP+1
1110	.$f17	ADC BCD
1111	.$f1a	STA BCD
1112	.$f1d	ASL TMP_ZP
1113	.$f1f	ROL TMP_ZP+1
1114	.$f21	ADC BCD
1115	.$f24	STA BCD
1116	.$f27	LDX #7
1117	.$f29	BCDBIT1
1118	.$f29	ASL TMP_ZP
1119	.$f2b	ROL TMP_ZP+1
1120	.$f2d	LDA BCD
1121	.$f30	ADC BCD
1122	.$f33	STA BCD
1123	.$f36	LDA BCD+1
1124	.$f39	ADC BCD+1
1125	.$f3c	STA BCD+1
1126	.$f3f	DEX
1127	.$f40	BNE BCDBIT1
1128	.$f42	LDX #3
1129	.$f44	BCDBIT2
1130	.$f44	ASL TMP_ZP
1131	.$f46	ROL TMP_ZP+1
1132	.$f48	LDA BCD
1133	.$f4b	ADC BCD
1134	.$f4e	STA BCD
1135	.$f51	LDA BCD+1
1136	.$f54	ADC BCD+1
1137	.$f57	STA BCD+1
1138	.$f5a	LDA BCD+2
1139	.$f5d	ADC BCD+2
1140	.$f60	STA BCD+2
1141	.$f63	DEX
1142	.$f64	BNE BCDBIT2
1143	.$f66	CLD
1144	.$f67	RTS
1145	.$f68	BCD
1146	.$f68	.WORD 0 0
1147	.$f6c	NUMFLAG
1148	.$f6c	.BYTE 0
1151	.$f6d	REALOUTFAST JSR FACINT
1152	.$f70	STA TMP_ZP+1
1153	.$f72	STY TMP_ZP
1154	.$f74	JMP INTOUTFASTZ
1157	.$f77	CHECKFORFASTOUT
1158	.$f77	JSR REROUTE
1159	.$f7a	JSR XREGFAC
1160	.$f7d	LDA FACEXP
1161	.$f7f	CMP #$90
1162	.$f81	BCS REALOUTINT
1163	.$f83	CMP #$81
1164	.$f85	BCC REALOUTINT
1165	.$f87	MAYBEREALOUTFAST
1166	.$f87	LDA FACEXP+3
1167	.$f89	BNE REALOUTINT
1168	.$f8b	LDA FACEXP+4
1169	.$f8d	BNE REALOUTINT
1170	.$f8f	LDA FACEXP
1171	.$f91	SEC
1172	.$f92	SBC #129
1173	.$f94	ASL
1174	.$f95	TAX
1175	.$f96	LDA FACEXP+1
1176	.$f98	AND MANTMASK,X
1177	.$f9b	BNE REALOUTINT
1178	.$f9d	INX
1179	.$f9e	LDA FACEXP+2
1180	.$fa0	AND MANTMASK,X
1181	.$fa3	BNE REALOUTINT
1182	.$fa5	JMP REALOUTFAST
1183	.$fa8	REALOUTINT LDY #0
1184	.$faa	JSR FACSTR
1185	.$fad	LDY #0
1186	.$faf	LDA LOFBUF,Y
1187	.$fb2	STRLOOPRO JSR CHROUT
1188	.$fb5	INY
1189	.$fb6	LDA LOFBUF,Y
1190	.$fb9	BNE STRLOOPRO
1191	.$fbb	RTS
1192	.$fbc	MANTMASK
1193	.$fbc	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
1196	.$fda	REALOUT  LDA X_REG
1197	.$fdc	BNE RNOTNULL
1198	.$fde	JMP PRINTNULL
1199	.$fe1	RNOTNULL JSR CHECKFORFASTOUT
1200	.$fe4	JMP RESETROUTE
1203	.$fe7	PRINTNULL JSR REROUTE
1204	.$fea	LDA #$20
1205	.$fec	JSR CHROUT
1206	.$fef	LDA #$30
1207	.$ff1	JSR CHROUT
1208	.$ff4	JMP RESETROUTE
1211	.$ff7	STROUTBRKWL STA A_REG
1212	.$ffa	STY A_REG+1
1213	.$ffd	STROUTBRK JSR REROUTE
1214	.$1000	LDA A_REG
1215	.$1003	STA INDEX1
1216	.$1005	LDA A_REG+1
1217	.$1008	STA INDEX1+1
1218	.$100a	LDY #0
1219	.$100c	LDA (INDEX1),Y
1220	.$100e	TAX
1221	.$100f	INC INDEX1
1222	.$1011	BNE PRINTSTR2
1223	.$1013	INC INDEX1+1
1224	.$1015	PRINTSTR2 JSR PRINTSTRS
1225	.$1018	LDA HIGHP   
1226	.$101b	STA STRBUFP
1227	.$101e	LDA HIGHP+1
1228	.$1021	STA STRBUFP+1
1229	.$1024	LDA #$0D
1230	.$1026	JSR CHROUT
1231	.$1029	JMP RESETROUTE  
1234	.$102c	ARRAYACCESS_STRING
1235	.$102c	JSR XREGFAC
1236	.$102f	JSR FACINT
1237	.$1032	ARRAYACCESS_STRING_INT
1238	.$1032	LDX G_REG
1239	.$1034	STX TMP_ZP
1240	.$1036	LDX G_REG+1
1241	.$1038	STX TMP_ZP+1
1242	.$103a	TAX
1243	.$103b	TYA
1244	.$103c	ASL
1245	.$103d	STA TMP2_ZP
1246	.$103f	TXA
1247	.$1040	ROL
1248	.$1041	STA TMP2_ZP+1
1249	.$1043	LDA TMP_ZP
1250	.$1045	CLC
1251	.$1046	ADC TMP2_ZP
1252	.$1048	STA TMP_ZP
1253	.$104a	LDA TMP_ZP+1
1254	.$104c	ADC TMP2_ZP+1
1255	.$104e	STA TMP_ZP+1
1256	.$1050	LDY #0
1257	.$1052	LDA (TMP_ZP),Y
1258	.$1054	STA A_REG
1259	.$1057	INY
1260	.$1058	LDA (TMP_ZP),Y
1261	.$105a	STA A_REG+1
1262	.$105d	RTS
1265	.$105e	ARRAYACCESS_INTEGER_S
1266	.$105e	STA G_REG
1267	.$1060	STY G_REG+1
1268	.$1062	ARRAYACCESS_INTEGER
1269	.$1062	JSR XREGFAC
1270	.$1065	ARRAYACCESS_INTEGER_NX
1271	.$1065	JSR FACINT
1272	.$1068	ARRAYACCESS_INTEGER_INT
1273	.$1068	LDX G_REG
1274	.$106a	STX TMP_ZP
1275	.$106c	LDX G_REG+1
1276	.$106e	STX TMP_ZP+1
1277	.$1070	TAX
1278	.$1071	TYA
1279	.$1072	ASL
1280	.$1073	STA TMP2_ZP
1281	.$1075	TXA
1282	.$1076	ROL
1283	.$1077	STA TMP2_ZP+1
1284	.$1079	LDA TMP_ZP
1285	.$107b	CLC
1286	.$107c	ADC TMP2_ZP
1287	.$107e	STA TMP_ZP
1288	.$1080	LDA TMP_ZP+1
1289	.$1082	ADC TMP2_ZP+1
1290	.$1084	STA TMP_ZP+1
1291	.$1086	AIIDI  LDY #1
1292	.$1088	LDA (TMP_ZP),Y
1293	.$108a	TAX
1294	.$108b	DEY
1295	.$108c	LDA (TMP_ZP),Y
1296	.$108e	TAY
1297	.$108f	TXA
1298	.$1090	STY TMP2_ZP  
1299	.$1092	STA TMP2_ZP+1
1300	.$1094	JSR INTFAC
1301	.$1097	JMP FACXREG 
1304	.$109a	ARRAYACCESS_INTEGER_INT_PRE
1305	.$109a	LDX G_REG
1306	.$109c	STX TMP_ZP
1307	.$109e	LDX G_REG+1
1308	.$10a0	STX TMP_ZP+1
1309	.$10a2	JMP AIIDI
1312	.$10a5	ARRAYSTORE_STRING
1313	.$10a5	JSR XREGFAC
1314	.$10a8	JSR FACINT
1315	.$10ab	ARRAYSTORE_STRING_INT
1316	.$10ab	LDX G_REG
1317	.$10ad	STX TMP_ZP
1318	.$10af	LDX G_REG+1
1319	.$10b1	STX TMP_ZP+1
1320	.$10b3	TAX
1321	.$10b4	TYA
1322	.$10b5	ASL
1323	.$10b6	STA TMP2_ZP
1324	.$10b8	TXA
1325	.$10b9	ROL
1326	.$10ba	STA TMP2_ZP+1
1327	.$10bc	LDA TMP_ZP
1328	.$10be	CLC
1329	.$10bf	ADC TMP2_ZP
1330	.$10c1	TAX
1331	.$10c2	LDA TMP_ZP+1
1332	.$10c4	ADC TMP2_ZP+1
1333	.$10c6	TAY
1334	.$10c7	LDA A_REG
1335	.$10ca	STA TMP_ZP
1336	.$10cc	LDA A_REG+1
1337	.$10cf	STA TMP_ZP+1
1338	.$10d1	TXA
1339	.$10d2	JMP COPYSTRING 
1342	.$10d5	ARRAYSTORE_INT_INTEGER
1343	.$10d5	JSR XREGFAC
1344	.$10d8	JSR FACINT
1345	.$10db	ARRAYSTORE_INT_INTEGER_AC
1346	.$10db	LDX G_REG
1347	.$10dd	STX TMP_ZP
1348	.$10df	LDX G_REG+1
1349	.$10e1	STX TMP_ZP+1
1350	.$10e3	TAX
1351	.$10e4	TYA
1352	.$10e5	ASL
1353	.$10e6	STA TMP2_ZP
1354	.$10e8	TXA
1355	.$10e9	ROL
1356	.$10ea	STA TMP2_ZP+1
1357	.$10ec	LDA TMP_ZP
1358	.$10ee	CLC
1359	.$10ef	ADC TMP2_ZP
1360	.$10f1	STA TMP_ZP
1361	.$10f3	LDA TMP_ZP+1
1362	.$10f5	ADC TMP2_ZP+1
1363	.$10f7	STA TMP_ZP+1
1364	.$10f9	LDY #1
1365	.$10fb	LDA AS_TMP+1
1366	.$10fe	STA (TMP_ZP),Y
1367	.$1100	DEY
1368	.$1101	LDA AS_TMP
1369	.$1104	STA (TMP_ZP),Y
1370	.$1106	RTS
1373	.$1107	COPY2_XYA_XREG
1374	.$1107	STA TMP3_ZP
1375	.$1109	STY TMP3_ZP+1
1376	.$110b	COPY2_XY_XREG
1377	.$110b	LDX #<X_REG  
1378	.$110d	LDY #0
1379	.$110f	LDA (TMP3_ZP),Y
1380	.$1111	STA X_REG
1381	.$1113	INY
1382	.$1114	LDA (TMP3_ZP),Y
1383	.$1116	STA X_REG+1
1384	.$1118	INY
1385	.$1119	LDA (TMP3_ZP),Y
1386	.$111b	STA X_REG+2
1387	.$111d	INY
1388	.$111e	LDA (TMP3_ZP),Y
1389	.$1120	STA X_REG+3
1390	.$1122	INY
1391	.$1123	LDA (TMP3_ZP),Y
1392	.$1125	STA X_REG+4
1393	.$1127	RTS
1396	.$1128	COPY2_XYA_YREG
1397	.$1128	STA TMP3_ZP
1398	.$112a	STY TMP3_ZP+1
1399	.$112c	COPY2_XY_YREG
1400	.$112c	LDX #<Y_REG  
1401	.$112e	LDY #0
1402	.$1130	LDA (TMP3_ZP),Y
1403	.$1132	STA Y_REG
1404	.$1135	INY
1405	.$1136	LDA (TMP3_ZP),Y
1406	.$1138	STA Y_REG+1
1407	.$113b	INY
1408	.$113c	LDA (TMP3_ZP),Y
1409	.$113e	STA Y_REG+2
1410	.$1141	INY
1411	.$1142	LDA (TMP3_ZP),Y
1412	.$1144	STA Y_REG+3
1413	.$1147	INY
1414	.$1148	LDA (TMP3_ZP),Y
1415	.$114a	STA Y_REG+4
1416	.$114d	RTS
1420	.$114e	FACWORD
1421	.$114e	LDA FACEXP   
1422	.$1150	BNE DOFACWORD
1423	.$1152	STA FACSGN   
1424	.$1154	DOFACWORD:
1425	.$1154	JMP XFACWORD
1429	.$1157	INITOUTCHANNEL
1430	.$1157	LDA CHLOCKFLAG
1431	.$115a	BEQ INITOUT2
1432	.$115c	CMP #$FF
1433	.$115e	BNE SKIPINITCH
1434	.$1160	INITOUT2
1435	.$1160	LDA #<C_REG
1436	.$1162	LDY #>C_REG
1437	.$1164	JSR REALFAC
1438	.$1167	JSR FACWORD
1439	.$116a	TYA
1440	.$116b	TAX
1441	.$116c	CPX CMD_NUM
1442	.$116f	BNE CMDNEQUAL
1443	.$1171	LDY #0
1444	.$1173	STY CMD_NUM   
1445	.$1176	CMDNEQUAL STA CHANNEL
1446	.$1179	STA CHLOCKFLAG
1447	.$117c	JMP CHKOUT
1448	.$117f	SKIPINITCH
1449	.$117f	RTS
1452	.$1180	CLRCHNEW
1453	.$1180	LDA CHLOCKFLAG
1454	.$1183	BNE SKIPCLRCH
1455	.$1185	JMP CLRCH
1456	.$1188	SKIPCLRCH
1457	.$1188	RTS
1460	.$1189	TABCHANNEL
1461	.$1189	JSR INITOUTCHANNEL
1462	.$118c	TABCHANNELINT
1463	.$118c	LDA CHANNEL
1464	.$118f	CMP #3  
1465	.$1191	BEQ TABSCREEN
1466	.$1193	TABCHANNEL2 LDA IOCHANNEL
1467	.$1195	STA STORE1
1468	.$1198	LDA #1
1469	.$119a	STA IOCHANNEL  
1470	.$119c	JSR YREGFAC
1471	.$119f	JSR FACWORD
1472	.$11a2	TYA
1473	.$11a3	TAX
1474	.$11a4	JMP EXITCHANNEL
1475	.$11a7	TABSCREEN
1476	.$11a7	JSR CLRCHNEW
1477	.$11aa	JMP TAB
1480	.$11ad	EXITCHANNEL CLC
1481	.$11ae	JSR TABSPC
1482	.$11b1	JSR CLRCHNEW
1483	.$11b4	LDA STORE1
1484	.$11b7	STA IOCHANNEL
1485	.$11b9	RTS
1488	.$11ba	OUTOFMEMORY
1492	.$11ba	LDX #$10
1493	.$11bc	JMP ERRALL
1496	.$11bf	FACXREG  LDA FACLO
1497	.$11c1	STA X_REG+4
1498	.$11c3	LDA FACMO
1499	.$11c5	STA X_REG+3
1500	.$11c7	LDA FACMOH
1501	.$11c9	STA X_REG+2
1502	.$11cb	LDA FACSGN
1503	.$11cd	ORA #$7F
1504	.$11cf	AND FACHO
1505	.$11d1	STA X_REG+1
1506	.$11d3	LDA FACEXP
1507	.$11d5	STA X_REG
1508	.$11d7	LDA #0   
1509	.$11d9	STA FACOV
1510	.$11db	RTS
1513	.$11dc	XREGFAC  LDA X_REG+4
1514	.$11de	STA FACLO
1515	.$11e0	LDA X_REG+3
1516	.$11e2	STA FACMO
1517	.$11e4	LDA X_REG+2
1518	.$11e6	STA FACMOH
1519	.$11e8	LDA X_REG+1
1520	.$11ea	STA FACSGN
1521	.$11ec	ORA #$80
1522	.$11ee	STA FACHO
1523	.$11f0	LDA X_REG
1524	.$11f2	STA FACEXP
1525	.$11f4	LDA #0
1526	.$11f6	STA FACOV
1527	.$11f8	RTS
1530	.$11f9	YREGFAC  LDA Y_REG+4
1531	.$11fc	STA FACLO
1532	.$11fe	LDA Y_REG+3
1533	.$1201	STA FACMO
1534	.$1203	LDA Y_REG+2
1535	.$1206	STA FACMOH
1536	.$1208	LDA Y_REG+1
1537	.$120b	STA FACSGN
1538	.$120d	ORA #$80
1539	.$120f	STA FACHO
1540	.$1211	LDA Y_REG
1541	.$1214	STA FACEXP
1542	.$1216	LDA #0
1543	.$1218	STA FACOV
1544	.$121a	RTS
1658	.$121b	INITVARS
1659	.$121b	JSR INITSTRVARS
1660	.$121e	LDA #<VAR_SP%[]
1661	.$1220	LDY #>VAR_SP%[]
1662	.$1222	JSR INITSPARAMS
1663	.$1225	JSR INITNARRAY
1664	.$1228	LDA #0
1665	.$122a	RTS
1669	.$122b	CONSTANTS
1672	.$122b	CONST_0R .REAL 1.0
1674	.$1230	CONST_1 .BYTE 4
1675	.$1231	.STRG "test"
1677	.$1235	CONST_2 .BYTE 5
1678	.$1236	.STRG "other"
1681	.$123b	CONST_3 .REAL 5.0
1684	.$1240	CONST_4R .REAL 5.0
1687	.$1245	CONST_5R .REAL 3.0
1693	.$124a	CONST_7 .REAL 12.0
1695	.$124f	CONST_8 .BYTE 3
1696	.$1250	.STRG "kkk"
1699	.$1253	DATAS
1700	.$1253	.BYTE $FF
1702	.$1254	CONSTANTS_END
1705	.$1254	VARIABLES
1707	.$1254	.BYTE 0
1708	.$1255	.WORD 22
1709	.$1257	VAR_SP%[] .ARRAY 22
1710	.$126d	STRINGVARS_START
1712	.$126d	VAR_TI$ .WORD EMPTYSTR
1713	.$126f	STRINGVARS_END
1714	.$126f	STRINGARRAYS_START
1716	.$126f	.BYTE 2
1717	.$1270	.WORD 102
1718	.$1272	VAR_ST$[]
1719	.$1272	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1720	.$1286	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1721	.$129a	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1722	.$12ae	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1723	.$12c2	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1724	.$12d6	.WORD EMPTYSTR
1726	.$12d8	.BYTE 2
1727	.$12d9	.WORD 22
1728	.$12db	VAR_LE$[]
1729	.$12db	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1730	.$12ef	.WORD EMPTYSTR
1731	.$12f1	STRINGARRAYS_END
1732	.$12f1	VARIABLES_END
1734	.$12f1	Y_REG .REAL 0.0
1735	.$12f6	C_REG .REAL 0.0
1736	.$12fb	D_REG .REAL 0.0
1737	.$1300	E_REG .REAL 0.0
1738	.$1305	F_REG .REAL 0.0
1739	.$130a	A_REG .WORD 0
1740	.$130c	B_REG .WORD 0
1741	.$130e	CMD_NUM .BYTE 0
1742	.$130f	CHANNEL .BYTE 0
1743	.$1310	SP_SAVE .BYTE 0
1744	.$1311	TMP2_REG .WORD 0
1745	.$1313	TMP3_REG .WORD 0
1746	.$1315	TMP4_REG .WORD 0
1747	.$1317	AS_TMP .WORD 0
1748	.$1319	BPOINTER_TMP .WORD 0
1749	.$131b	BASICTEXTP .BYTE 0
1750	.$131c	STORE1 .WORD 0
1751	.$131e	STORE2 .WORD 0
1752	.$1320	STORE3 .WORD 0
1753	.$1322	STORE4 .WORD 0
1754	.$1324	GCSTART .WORD 0
1755	.$1326	GCLEN .WORD 0
1756	.$1328	GCWORK .WORD 0
1757	.$132a	INPUTLENGTH .BYTE 0
1758	.$132b	TMP_FREG .REAL 0
1759	.$1330	TMP2_FREG .REAL 0
1760	.$1335	TMP_FLAG .BYTE 0
1761	.$1336	INT_FLAG .BYTE 0
1762	.$1337	REAL_CONST_ONE .REAL 1.0
1763	.$133c	REAL_CONST_ZERO .REAL 0.0
1764	.$1341	REAL_CONST_MINUS_ONE .REAL -1.0
1765	.$1346	CHLOCKFLAG .BYTE 0
1766	.$1347	EMPTYSTR .BYTE 0
1767	.$1348	FPSTACKP .WORD FPSTACK
1768	.$134a	FORSTACKP .WORD FORSTACK
1769	.$134c	DATASP .WORD DATAS
1770	.$134e	LASTVAR .WORD 0
1771	.$1350	LASTVARP .WORD 0
1772	.$1352	HIGHP .WORD STRBUF
1773	.$1354	STRBUFP .WORD STRBUF
1774	.$1356	ENDSTRBUF .WORD 0
1775	.$1358	INPUTQUEUEP .BYTE 0
1776	.$1359	PROGRAMEND
1777	.$1359	INPUTQUEUE .ARRAY $0F
1778	.$1368	FPSTACK .ARRAY 100
1779	.$13cc	FORSTACK .ARRAY 340
1780	.$1520	STRBUF .BYTE 0
