117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
127	.$81f	LDX #4
128	.$821	dcloop235_1:
129	.$821	LDA CONST_0R,X
130	.$824	STA VAR_J,X
131	.$827	LDA CONST_1,X
132	.$82a	STA VAR_I,X
133	.$82d	DEX
134	.$82e	BPL dcloop235_1
138	.$830	LINE_20:
140	.$830	LDY #$39
141	.$832	STY TMP_ZP
142	.$834	LDA #$30
143	.$836	STA TMP_ZP+1
144	.$838	JSR INTOUTFAST
147	.$83b	JSR CRSRRIGHT
148	.$83e	JSR TABOUT
149	.$841	LDA #<VAR_J
150	.$843	LDY #>VAR_J
151	.$845	JSR COPY2_XYA_XREG
155	.$848	JSR REALOUT
156	.$84b	JSR CRSRRIGHT
157	.$84e	JSR TABOUT
158	.$851	LDA #<VAR_I
159	.$853	LDY #>VAR_I
160	.$855	JSR COPY2_XYA_XREG
164	.$858	JSR REALOUT
165	.$85b	JSR CRSRRIGHT
166	.$85e	JSR TABOUT
167	.$861	LDA #<CONST_1
168	.$863	LDY #>CONST_1
169	.$865	JSR COPY2_XYA_XREG
173	.$868	JSR REALOUTBRK
176	.$86b	LINE_30:
178	.$86b	LDX #4
179	.$86d	dcloop567_1:
180	.$86d	LDA CONST_2R,X
181	.$870	STA VAR_I,X
182	.$873	DEX
183	.$874	BPL dcloop567_1
186	.$876	LINE_40:
188	.$876	LDX #4
189	.$878	dcloop733_1:
190	.$878	LDA CONST_3R,X
191	.$87b	STA VAR_J,X
192	.$87e	DEX
193	.$87f	BPL dcloop733_1
195	.$881	LDA #<CONST_4R
196	.$883	LDY #>CONST_4R
197	.$885	JSR REALFACPUSH
199	.$888	LDA #<CONST_3R
200	.$88a	LDY #>CONST_3R
201	.$88c	JSR REALFACPUSH
203	.$88f	LDA #<VAR_J
204	.$891	LDY #>VAR_J
205	.$893	STA A_REG
206	.$896	STY A_REG+1
207	.$899	LDA #<FORLOOP0
208	.$89b	STA JUMP_TARGET
209	.$89d	LDA #>FORLOOP0
210	.$89f	STA JUMP_TARGET+1
211	.$8a1	JSR INITFOR
212	.$8a4	FORLOOP0:
213	.$8a4	JSR COMPACTMAX
214	.$8a7	JSR ONETOFAC
219	.$8aa	JSR FACRND
220	.$8ad	JSR FACXREG
221	.$8b0	LDY #4
222	.$8b2	STY A_REG
224	.$8b5	JSR SHL
226	.$8b8	JSR FACXREG
228	.$8bb	LDA #<CONST_6R
229	.$8bd	LDY #>CONST_6R
230	.$8bf	JSR REALFAC
233	.$8c2	LDA #<X_REG
234	.$8c4	LDY #>X_REG
236	.$8c6	JSR FASTFADDMEM
240	.$8c9	JSR CHRFAC2
242	.$8cc	JSR STROUT
243	.$8cf	LDA #0
244	.$8d1	STA A_REG
245	.$8d4	STA A_REG+1
246	.$8d7	JSR NEXT
248	.$8da	LDA A_REG
249	.$8dd	BNE RBEQ_0
250	.$8df	JMP (JUMP_TARGET)
252	.$8e2	RBEQ_0:
254	.$8e2	LINE_50:
256	.$8e2	JSR ONETOFAC
261	.$8e5	JSR FACRND
262	.$8e8	LDA #<CONST_8R
263	.$8ea	LDY #>CONST_8R
264	.$8ec	JSR FASTFMULMEM
270	.$8ef	JSR BASINT
271	.$8f2	JSR FACXREG
273	.$8f5	LDA #<CONST_9R
274	.$8f7	LDY #>CONST_9R
275	.$8f9	JSR REALFAC
278	.$8fc	LDA #<X_REG
279	.$8fe	LDY #>X_REG
281	.$900	JSR FASTFSUBMEM
284	.$903	JSR FACXREG
286	.$906	JSR INTOUTBRK
288	.$909	JSR END
289	.$90c	RTS
292	.$90d	END   LDX SP_SAVE
293	.$910	TXS
300	.$911	RTS
303	.$912	START  LDA ENDSTRBUF+1
304	.$915	BNE ENDGIVEN
305	.$917	LDA BASICEND
306	.$919	STA ENDSTRBUF
307	.$91c	LDA BASICEND+1
308	.$91e	STA ENDSTRBUF+1
309	.$921	ENDGIVEN LDA #<FPSTACK
310	.$923	LDY #>FPSTACK
311	.$925	STA FPSTACKP
312	.$928	STY FPSTACKP+1
313	.$92b	LDA #<FORSTACK
314	.$92d	LDY #>FORSTACK
315	.$92f	STA FORSTACKP
316	.$932	STY FORSTACKP+1
317	.$935	LDA #<STRBUF
318	.$937	LDY #>STRBUF
319	.$939	STA STRBUFP
320	.$93c	STY STRBUFP+1
321	.$93f	STA HIGHP
322	.$942	STY HIGHP+1
323	.$945	LDA #0
324	.$947	STA CHLOCKFLAG
325	.$94a	STA LASTVAR
326	.$94d	STA LASTVAR+1
327	.$950	JSR INITVARS
328	.$953	LDA #0
329	.$955	STA CMD_NUM
330	.$958	STA CHANNEL
331	.$95b	TAY
332	.$95c	TAX
336	.$95d	STA KEYNDX
342	.$95f	JSR RESTORE
343	.$962	CLC
347	.$963	RTS
350	.$964	INITNARRAY
351	.$964	STA TMP_ZP
352	.$966	STY TMP_ZP+1
353	.$968	LDY #0
354	.$96a	TYA
355	.$96b	NINITLOOP STA (TMP_ZP),Y
356	.$96d	INC TMP_ZP
357	.$96f	BNE NLOOPNOV
358	.$971	INC TMP_ZP+1
359	.$973	NLOOPNOV LDX TMP2_ZP
360	.$975	BNE NLOOPNOV2
361	.$977	DEC TMP2_ZP+1
362	.$979	NLOOPNOV2 DEC TMP2_ZP
363	.$97b	BNE NINITLOOP
364	.$97d	LDX TMP2_ZP+1
365	.$97f	BNE NINITLOOP
366	.$981	RTS
369	.$982	INITSTRARRAY
370	.$982	STA TMP_ZP
371	.$984	STY TMP_ZP+1
372	.$986	SINITLOOP LDY #0
373	.$988	LDA #<EMPTYSTR
374	.$98a	STA (TMP_ZP),Y
375	.$98c	LDA #>EMPTYSTR
376	.$98e	INY
377	.$98f	STA (TMP_ZP),Y
378	.$991	CLC
379	.$992	LDA TMP_ZP
380	.$994	ADC #2
381	.$996	STA TMP_ZP
382	.$998	BCC SLOOPNOV1
383	.$99a	INC TMP_ZP+1
384	.$99c	SLOOPNOV1 SEC
385	.$99d	LDA TMP2_ZP
386	.$99f	SBC #2
387	.$9a1	STA TMP2_ZP
388	.$9a3	BCS SLOOPNOV2
389	.$9a5	DEC TMP2_ZP+1
390	.$9a7	SLOOPNOV2 LDA TMP2_ZP
391	.$9a9	BNE SINITLOOP
392	.$9ab	LDA TMP2_ZP+1
393	.$9ad	BNE SINITLOOP
394	.$9af	RTS
397	.$9b0	INITSPARAMS STA TMP3_ZP
398	.$9b2	STY TMP3_ZP+1
399	.$9b4	SEC
400	.$9b5	SBC #2
401	.$9b7	STA TMP_ZP
402	.$9b9	TYA
403	.$9ba	SBC #0
404	.$9bc	STA TMP_ZP+1
405	.$9be	LDY #0
406	.$9c0	LDA (TMP_ZP),Y
407	.$9c2	STA TMP2_ZP
408	.$9c4	INY
409	.$9c5	LDA (TMP_ZP),Y
410	.$9c7	STA TMP2_ZP+1
411	.$9c9	LDA TMP3_ZP
412	.$9cb	LDY TMP3_ZP+1
413	.$9cd	RTS
416	.$9ce	INITSTRVARS LDA #<STRINGVARS_START  
417	.$9d0	LDY #>STRINGVARS_START
418	.$9d2	CMP #<STRINGVARS_END
419	.$9d4	BNE INITIT1
420	.$9d6	CPY #>STRINGVARS_END
421	.$9d8	BNE INITIT1
422	.$9da	JMP INITSA2     
423	.$9dd	INITIT1  STA TMP_ZP
424	.$9df	STY TMP_ZP+1
425	.$9e1	LDY #0
426	.$9e3	INITSTRLOOP LDA #<EMPTYSTR
427	.$9e5	STA (TMP_ZP),Y
428	.$9e7	INY
429	.$9e8	LDA #>EMPTYSTR
430	.$9ea	STA (TMP_ZP),Y
431	.$9ec	DEY
432	.$9ed	LDA TMP_ZP
433	.$9ef	CLC
434	.$9f0	ADC #2
435	.$9f2	STA TMP_ZP
436	.$9f4	LDA TMP_ZP+1
437	.$9f6	ADC #0
438	.$9f8	STA TMP_ZP+1
439	.$9fa	CMP #>STRINGVARS_END
440	.$9fc	BNE INITSTRLOOP
441	.$9fe	LDA TMP_ZP
442	.$a00	CMP #<STRINGVARS_END
443	.$a02	BNE INITSTRLOOP
444	.$a04	INITSA2  LDA #<STRINGARRAYS_START 
445	.$a06	LDY #>STRINGARRAYS_START
446	.$a08	CMP #<STRINGARRAYS_END
447	.$a0a	BNE ARRAYLOOP
448	.$a0c	CPY #>STRINGARRAYS_END
449	.$a0e	BNE ARRAYLOOP
450	.$a10	RTS       
451	.$a11	ARRAYLOOP CLC
452	.$a12	ADC #3
453	.$a14	BCC ARRAYSKIP1
454	.$a16	INY
455	.$a17	ARRAYSKIP1 CPY #>STRINGARRAYS_END
456	.$a19	BEQ ARRAYSC
457	.$a1b	BCC ARRAYSKIP2
458	.$a1d	JMP ARRAYQUIT
459	.$a20	ARRAYSC  CMP #<STRINGARRAYS_END
460	.$a22	BCS ARRAYQUIT
461	.$a24	ARRAYSKIP2 STA TMP_REG
462	.$a26	STY TMP_REG+1
463	.$a28	JSR INITSPARAMS
464	.$a2b	LDA TMP_REG
465	.$a2d	LDY TMP_REG+1
466	.$a2f	JSR INITSTRARRAY
467	.$a32	LDA TMP_ZP
468	.$a34	LDY TMP_ZP+1
469	.$a36	JMP ARRAYLOOP
470	.$a39	ARRAYQUIT RTS
473	.$a3a	RESTORE  LDA #<DATAS
474	.$a3c	LDY #>DATAS
475	.$a3e	STA DATASP
476	.$a41	STY DATASP+1
477	.$a44	RTS
480	.$a45	TABSPC     BCC DOSPC
481	.$a47	TXA
482	.$a48	SBC $09
483	.$a4a	BCC TABSPCQUIT
484	.$a4c	TAX
485	.$a4d	DOSPC  INX
486	.$a4e	TABSPCLOOP  DEX
487	.$a4f	BNE TABSPCRIGHT
488	.$a51	TABSPCQUIT RTS
489	.$a52	TABSPCRIGHT JSR CRSRRIGHT
490	.$a55	JMP TABSPCLOOP
493	.$a58	CHR   JSR YREGFAC
494	.$a5b	CHRFAC2  JSR FACWORD
495	.$a5e	TYA
496	.$a5f	TAX
497	.$a60	LDA STRBUFP
498	.$a63	STA TMP_ZP
499	.$a65	STA A_REG
500	.$a68	LDA STRBUFP+1
501	.$a6b	STA TMP_ZP+1
502	.$a6d	STA A_REG+1
503	.$a70	LDA #1
504	.$a72	LDY #0
505	.$a74	STA (TMP_ZP),Y
506	.$a76	TXA
507	.$a77	LDY #1
508	.$a79	STA (TMP_ZP),Y
509	.$a7b	LDA STRBUFP
510	.$a7e	CLC
511	.$a7f	ADC #2
512	.$a81	STA STRBUFP
513	.$a84	BCC NOCHR1
514	.$a86	INC STRBUFP+1
515	.$a89	NOCHR1  RTS
518	.$a8a	SAVEPOINTERS
519	.$a8a	LDA TMP_ZP   
520	.$a8c	STA STORE1
521	.$a8f	LDA TMP_ZP+1
522	.$a91	STA STORE1+1
523	.$a94	LDA TMP2_ZP
524	.$a96	STA STORE2
525	.$a99	LDA TMP2_ZP+1
526	.$a9b	STA STORE2+1
527	.$a9e	LDA TMP3_ZP
528	.$aa0	STA STORE3
529	.$aa3	LDA TMP3_ZP+1
530	.$aa5	STA STORE3+1
531	.$aa8	RTS
534	.$aa9	RESTOREPOINTERS
535	.$aa9	LDA STORE3+1  
536	.$aac	STA TMP3_ZP+1
537	.$aae	LDA STORE3
538	.$ab1	STA TMP3_ZP
539	.$ab3	LDA STORE2+1
540	.$ab6	STA TMP2_ZP+1
541	.$ab8	LDA STORE2
542	.$abb	STA TMP2_ZP
543	.$abd	LDA STORE1+1
544	.$ac0	STA TMP_ZP+1
545	.$ac2	LDA STORE1
546	.$ac5	STA TMP_ZP
547	.$ac7	RTS
554	.$ac8	COMPACTMAX
555	.$ac8	LDA #$FF
556	.$aca	LDY #$0
557	.$acc	JMP COMPACTF
560	.$acf	COMPACT
561	.$acf	LDY #0
562	.$ad1	GCBUFNE  LDA (TMP_ZP),Y  
563	.$ad3	COMPACTF STA TMP4_REG  
564	.$ad6	LDY STRBUFP+1  
565	.$ad9	STY TMP4_REG+1  
566	.$adc	INY     
567	.$add	BEQ ENDMEM   
568	.$adf	CPY ENDSTRBUF+1  
569	.$ae2	BCC RGCEXIT   
570	.$ae4	ENDMEM  LDA STRBUFP
571	.$ae7	CLC
572	.$ae8	ADC TMP4_REG
573	.$aeb	STA TMP4_REG
574	.$aee	BCC RGCNOOV1
575	.$af0	INC TMP4_REG+1
576	.$af3	RGCNOOV1 CLC
577	.$af4	LDA TMP4_REG
578	.$af7	ADC #3
579	.$af9	STA TMP4_REG
580	.$afc	BCC RGCNOOV2
581	.$afe	INC TMP4_REG+1
582	.$b01	RGCNOOV2 LDA TMP4_REG+1  
583	.$b04	CMP ENDSTRBUF+1
584	.$b07	BEQ RGCLOW1
585	.$b09	BCS GCEXECOMP  
586	.$b0b	JMP RGCEXIT
587	.$b0e	RGCLOW1  LDA TMP4_REG
588	.$b11	CMP ENDSTRBUF
589	.$b14	BCS GCEXECOMP  
590	.$b16	RGCEXIT  RTS     
591	.$b17	GCEXECOMP LDA STRBUFP
592	.$b1a	STA STORE4
593	.$b1d	LDA STRBUFP+1
594	.$b20	STA STORE4+1
595	.$b23	JSR GCEXE
596	.$b26	JMP CHECKMEMORY
599	.$b29	GCEXE  JSR SAVEPOINTERS
600	.$b2c	LDA #0
601	.$b2e	STA LASTVAR
602	.$b31	STA LASTVAR+1  
603	.$b34	LDA #<STRBUF
604	.$b36	STA TMP_ZP
605	.$b38	STA GCSTART
606	.$b3b	LDA #>STRBUF
607	.$b3d	STA TMP_ZP+1  
608	.$b3f	STA GCSTART+1
609	.$b42	GCLOOP  LDY #0
610	.$b44	LDA TMP_ZP
611	.$b46	STA GCWORK
612	.$b49	LDA TMP_ZP+1
613	.$b4b	STA GCWORK+1  
614	.$b4e	LDA (TMP_ZP),Y
615	.$b50	STA GCLEN   
616	.$b53	INC TMP_ZP
617	.$b55	BNE GCLOOPNOOV
618	.$b57	INC TMP_ZP+1
619	.$b59	GCLOOPNOOV LDA TMP_ZP
620	.$b5b	CLC
621	.$b5c	ADC GCLEN
622	.$b5f	STA TMP_ZP
623	.$b61	BCC GCLOOPNOOV2
624	.$b63	INC TMP_ZP+1  
625	.$b65	GCLOOPNOOV2 LDY #0
626	.$b67	LDA (TMP_ZP),Y
627	.$b69	STA TMP2_ZP
628	.$b6b	INY
629	.$b6c	LDA (TMP_ZP),Y
630	.$b6e	STA TMP2_ZP+1  
631	.$b70	LDA TMP_ZP
632	.$b72	CLC
633	.$b73	ADC #2
634	.$b75	STA TMP_ZP
635	.$b77	BCC GCLOOPNOOV3
636	.$b79	INC TMP_ZP+1  
637	.$b7b	GCLOOPNOOV3 LDY #0
638	.$b7d	LDA (TMP2_ZP),Y
639	.$b7f	CMP GCWORK
640	.$b82	BNE GCKLOOP
641	.$b84	INY
642	.$b85	LDA (TMP2_ZP),Y
643	.$b87	CMP GCWORK+1
644	.$b8a	BEQ MEMFREE
645	.$b8c	GCKLOOP  LDA TMP_ZP+1  
646	.$b8e	CMP HIGHP+1
647	.$b91	BEQ GCHECKLOW
648	.$b93	BCC GCLOOP
649	.$b95	JMP GCDONE
650	.$b98	GCHECKLOW LDA TMP_ZP
651	.$b9a	CMP HIGHP
652	.$b9d	BCS GCDONE
653	.$b9f	JMP GCLOOP
654	.$ba2	MEMFREE  LDA GCSTART   
655	.$ba5	CMP GCWORK   
656	.$ba8	BNE COPYDOWN
657	.$baa	LDA GCSTART+1
658	.$bad	CMP GCWORK+1
659	.$bb0	BNE COPYDOWN
660	.$bb2	LDA TMP_ZP   
661	.$bb4	STA GCSTART
662	.$bb7	LDA TMP_ZP+1
663	.$bb9	STA GCSTART+1
664	.$bbc	JMP GCKLOOP   
665	.$bbf	COPYDOWN LDA GCSTART   
666	.$bc2	STA TMP_REG
667	.$bc4	LDA GCSTART+1
668	.$bc7	STA TMP_REG+1  
669	.$bc9	LDA GCWORK
670	.$bcc	STA TMP2_REG
671	.$bcf	LDA GCWORK+1
672	.$bd2	STA TMP2_REG+1  
673	.$bd5	LDA TMP_ZP
674	.$bd7	SEC
675	.$bd8	SBC GCWORK
676	.$bdb	STA TMP3_REG
677	.$bde	LDA TMP_ZP+1
678	.$be0	SBC GCWORK+1
679	.$be3	STA TMP3_REG+1  
680	.$be6	LDA GCSTART
681	.$be9	CLC
682	.$bea	ADC TMP3_REG
683	.$bed	STA GCSTART
684	.$bf0	LDA GCSTART+1
685	.$bf3	ADC TMP3_REG+1
686	.$bf6	STA GCSTART+1  
687	.$bf9	JSR QUICKCOPY  
688	.$bfc	LDY #0
689	.$bfe	LDA TMP_REG
690	.$c00	STA (TMP2_ZP),Y
691	.$c02	INY
692	.$c03	LDA TMP_REG+1
693	.$c05	STA (TMP2_ZP),Y  
694	.$c07	JMP GCKLOOP
695	.$c0a	GCDONE  LDA GCSTART
696	.$c0d	STA HIGHP
697	.$c10	STA STRBUFP
698	.$c13	LDA GCSTART+1
699	.$c16	STA HIGHP+1
700	.$c19	STA STRBUFP+1  
701	.$c1c	GCSKIP  JSR RESTOREPOINTERS
702	.$c1f	RTS     
705	.$c20	CHECKMEMORY
706	.$c20	LDA STRBUFP+1  
707	.$c23	CMP STORE4+1  
708	.$c26	BCC STILLFITSCM  
712	.$c28	BEQ CHECKMEMLOWCM
713	.$c2a	JMP OUTOFMEMORY  
714	.$c2d	CHECKMEMLOWCM
715	.$c2d	LDA STRBUFP   
716	.$c30	CMP STORE4
717	.$c33	BCC STILLFITSCM
718	.$c35	JMP OUTOFMEMORY  
719	.$c38	STILLFITSCM RTS
722	.$c39	QUICKCOPY LDA TMP_REG  
723	.$c3b	STA TMEM+1
724	.$c3e	LDA TMP_REG+1
725	.$c40	STA TMEM+2
726	.$c43	LDA TMP2_REG
727	.$c46	STA SMEM+1
728	.$c49	LDA TMP2_REG+1
729	.$c4c	STA SMEM+2
730	.$c4f	LDY #$0
731	.$c51	LDX TMP3_REG
732	.$c54	BNE QCLOOP
733	.$c56	LDA TMP3_REG+1
734	.$c59	BEQ QCEXIT  
735	.$c5b	QCLOOP
736	.$c5b	SMEM  LDA $0000,Y
737	.$c5e	TMEM  STA $0000,Y
738	.$c61	INY
739	.$c62	BNE YNOOV
740	.$c64	INC TMEM+2
741	.$c67	INC SMEM+2
742	.$c6a	YNOOV  DEX
743	.$c6b	BNE QCLOOP
744	.$c6d	LDA TMP3_REG+1
745	.$c70	BEQ QCEXIT
746	.$c72	DEC TMP3_REG+1
747	.$c75	JMP QCLOOP
748	.$c78	QCEXIT  RTS
751	.$c79	REROUTE  LDA CMD_NUM  
752	.$c7c	BEQ REROUTECMD
753	.$c7e	TAX
754	.$c7f	STA CHANNEL
755	.$c82	JMP CHKOUT
756	.$c85	REROUTECMD RTS
759	.$c86	RESETROUTE LDA CMD_NUM  
760	.$c89	BEQ RESETROUTECMD
761	.$c8b	JMP CLRCHNEW
762	.$c8e	RESETROUTECMD
763	.$c8e	RTS
766	.$c8f	INTOUTBRK   JMP REALOUTBRK
769	.$c92	INTOUTFAST JSR REROUTE
770	.$c95	JSR INTOUTFASTZ
771	.$c98	JMP RESETROUTE
774	.$c9b	INTOUTFASTZ LDX #32    
775	.$c9d	LDA TMP_ZP+1
776	.$c9f	BPL INTISPOS
777	.$ca1	CLC
778	.$ca2	LDA TMP_ZP
779	.$ca4	EOR #$FF
780	.$ca6	ADC #1
781	.$ca8	STA TMP_ZP
782	.$caa	LDA TMP_ZP+1
783	.$cac	EOR #$FF
784	.$cae	ADC #0
785	.$cb0	STA TMP_ZP+1
786	.$cb2	LDX #45    
787	.$cb4	INTISPOS
788	.$cb4	TXA
789	.$cb5	JSR CHROUT
790	.$cb8	JSR CONVPOSINT
791	.$cbb	LDA NUMFLAG
792	.$cbe	BNE ALLINTOUTDONE
793	.$cc0	LDA #48
794	.$cc2	JSR CHROUT
795	.$cc5	ALLINTOUTDONE
796	.$cc5	RTS
799	.$cc6	NUMBEROUT
800	.$cc6	BEQ NUMZERO
801	.$cc8	ORA #$30
802	.$cca	STA NUMFLAG
803	.$ccd	JMP CHROUT
804	.$cd0	NUMZERO
805	.$cd0	LDX NUMFLAG
806	.$cd3	BEQ STILLZERO
807	.$cd5	ORA #$30
808	.$cd7	JMP CHROUT
809	.$cda	STILLZERO
810	.$cda	RTS
813	.$cdb	CONVPOSINT
814	.$cdb	JSR INT2BCD
815	.$cde	LDX #0
816	.$ce0	STX NUMFLAG
817	.$ce3	AND #$0F
818	.$ce5	JSR NUMBEROUT
819	.$ce8	LDA BCD+1
820	.$ceb	LSR
821	.$cec	LSR
822	.$ced	LSR
823	.$cee	LSR
824	.$cef	JSR NUMBEROUT
825	.$cf2	LDA BCD+1
826	.$cf5	AND #$0F
827	.$cf7	TAY
828	.$cf8	JSR NUMBEROUT
829	.$cfb	LDA BCD
830	.$cfe	LSR
831	.$cff	LSR
832	.$d00	LSR
833	.$d01	LSR
834	.$d02	JSR NUMBEROUT
835	.$d05	LDA BCD
836	.$d08	AND #$0F
837	.$d0a	JSR NUMBEROUT
838	.$d0d	RTS
841	.$d0e	INT2BCD
842	.$d0e	SED
843	.$d0f	LDA #0
844	.$d11	STA BCD
845	.$d14	STA BCD+1
846	.$d17	STA BCD+2
847	.$d1a	ASL TMP_ZP
848	.$d1c	ROL TMP_ZP+1
849	.$d1e	LDA BCD
850	.$d21	ADC BCD
851	.$d24	STA BCD
852	.$d27	ASL TMP_ZP
853	.$d29	ROL TMP_ZP+1
854	.$d2b	ADC BCD
855	.$d2e	STA BCD
856	.$d31	ASL TMP_ZP
857	.$d33	ROL TMP_ZP+1
858	.$d35	ADC BCD
859	.$d38	STA BCD
860	.$d3b	ASL TMP_ZP
861	.$d3d	ROL TMP_ZP+1
862	.$d3f	ADC BCD
863	.$d42	STA BCD
864	.$d45	ASL TMP_ZP
865	.$d47	ROL TMP_ZP+1
866	.$d49	ADC BCD
867	.$d4c	STA BCD
868	.$d4f	ASL TMP_ZP
869	.$d51	ROL TMP_ZP+1
870	.$d53	ADC BCD
871	.$d56	STA BCD
872	.$d59	LDX #7
873	.$d5b	BCDBIT1
874	.$d5b	ASL TMP_ZP
875	.$d5d	ROL TMP_ZP+1
876	.$d5f	LDA BCD
877	.$d62	ADC BCD
878	.$d65	STA BCD
879	.$d68	LDA BCD+1
880	.$d6b	ADC BCD+1
881	.$d6e	STA BCD+1
882	.$d71	DEX
883	.$d72	BNE BCDBIT1
884	.$d74	LDX #3
885	.$d76	BCDBIT2
886	.$d76	ASL TMP_ZP
887	.$d78	ROL TMP_ZP+1
888	.$d7a	LDA BCD
889	.$d7d	ADC BCD
890	.$d80	STA BCD
891	.$d83	LDA BCD+1
892	.$d86	ADC BCD+1
893	.$d89	STA BCD+1
894	.$d8c	LDA BCD+2
895	.$d8f	ADC BCD+2
896	.$d92	STA BCD+2
897	.$d95	DEX
898	.$d96	BNE BCDBIT2
899	.$d98	CLD
900	.$d99	RTS
901	.$d9a	BCD
902	.$d9a	.WORD 0 0
903	.$d9e	NUMFLAG
904	.$d9e	.BYTE 0
907	.$d9f	REALOUTFAST JSR FACINT
908	.$da2	STA TMP_ZP+1
909	.$da4	STY TMP_ZP
910	.$da6	JMP INTOUTFASTZ
913	.$da9	CHECKFORFASTOUT
914	.$da9	JSR REROUTE
915	.$dac	JSR XREGFAC
916	.$daf	LDA FACEXP
917	.$db1	CMP #$90
918	.$db3	BCS REALOUTINT
919	.$db5	CMP #$81
920	.$db7	BCC REALOUTINT
921	.$db9	MAYBEREALOUTFAST
922	.$db9	LDA FACEXP+3
923	.$dbb	BNE REALOUTINT
924	.$dbd	LDA FACEXP+4
925	.$dbf	BNE REALOUTINT
926	.$dc1	LDA FACEXP
927	.$dc3	SEC
928	.$dc4	SBC #129
929	.$dc6	ASL
930	.$dc7	TAX
931	.$dc8	LDA FACEXP+1
932	.$dca	AND MANTMASK,X
933	.$dcd	BNE REALOUTINT
934	.$dcf	INX
935	.$dd0	LDA FACEXP+2
936	.$dd2	AND MANTMASK,X
937	.$dd5	BNE REALOUTINT
938	.$dd7	JMP REALOUTFAST
939	.$dda	REALOUTINT LDY #0
940	.$ddc	JSR FACSTR
941	.$ddf	LDY #0
942	.$de1	LDA LOFBUF,Y
943	.$de4	STRLOOPRO JSR CHROUT
944	.$de7	INY
945	.$de8	LDA LOFBUF,Y
946	.$deb	BNE STRLOOPRO
947	.$ded	RTS
948	.$dee	MANTMASK
949	.$dee	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
952	.$e0c	REALOUT  LDA X_REG
953	.$e0e	BNE RNOTNULL
954	.$e10	JMP PRINTNULL
955	.$e13	RNOTNULL JSR CHECKFORFASTOUT
956	.$e16	JMP RESETROUTE
959	.$e19	REALOUTBRK  LDA X_REG
960	.$e1b	BNE RNOTNULLBRK
961	.$e1d	JMP PRINTNULLBRK
962	.$e20	RNOTNULLBRK JSR CHECKFORFASTOUT
963	.$e23	LDA #$0D
964	.$e25	JSR CHROUT
965	.$e28	JMP RESETROUTE
968	.$e2b	PRINTNULL JSR REROUTE
969	.$e2e	LDA #$20
970	.$e30	JSR CHROUT
971	.$e33	LDA #$30
972	.$e35	JSR CHROUT
973	.$e38	JMP RESETROUTE
976	.$e3b	PRINTNULLBRK
977	.$e3b	JSR REROUTE
978	.$e3e	LDA #$20
979	.$e40	JSR CHROUT
980	.$e43	LDA #$30
981	.$e45	JSR CHROUT
982	.$e48	LDA #$0D
983	.$e4a	JSR CHROUT
984	.$e4d	JMP RESETROUTE
987	.$e50	STROUTWL STA A_REG
988	.$e53	STY A_REG+1
989	.$e56	STROUT  JSR REROUTE
990	.$e59	LDA A_REG
991	.$e5c	STA INDEX1
992	.$e5e	LDA A_REG+1
993	.$e61	STA INDEX1+1
994	.$e63	LDY #0
995	.$e65	LDA (INDEX1),Y
996	.$e67	TAX
997	.$e68	INC INDEX1
998	.$e6a	BNE PRINTSTR
999	.$e6c	INC INDEX1+1
1000	.$e6e	PRINTSTR JSR PRINTSTRS
1001	.$e71	LDA HIGHP   
1002	.$e74	STA STRBUFP
1003	.$e77	LDA HIGHP+1
1004	.$e7a	STA STRBUFP+1
1005	.$e7d	JSR RESETROUTE
1006	.$e80	RTS
1009	.$e81	TABOUT  JSR REROUTE
1010	.$e84	LDA CMD_NUM
1011	.$e87	BEQ NORMALTABOUT  
1012	.$e89	CMP #3
1013	.$e8b	BEQ NORMALTABOUT2  
1014	.$e8d	JMP TABOUTCHANNEL2
1015	.$e90	NORMALTABOUT2
1016	.$e90	JSR CLRCHNEW
1017	.$e93	NORMALTABOUT
1018	.$e93	SEC
1019	.$e94	JSR CRSRPOS
1020	.$e97	TYA
1021	.$e98	SEC
1022	.$e99	TABSUB   SBC #$0A
1023	.$e9b	BCS TABSUB
1024	.$e9d	EOR #$FF
1025	.$e9f	ADC #$01
1026	.$ea1	TAX
1027	.$ea2	INX
1028	.$ea3	TABLOOP  DEX
1029	.$ea4	BNE TABRIGHT
1030	.$ea6	RTS
1031	.$ea7	TABRIGHT JSR CRSRRIGHT
1032	.$eaa	JMP TABLOOP
1035	.$ead	ADJUSTSTACK LDA FORSTACKP 
1036	.$eb0	STA TMP_ZP
1037	.$eb2	LDA FORSTACKP+1
1038	.$eb5	STA TMP_ZP+1
1039	.$eb7	ADSEARCHFOR LDA TMP_ZP
1040	.$eb9	CMP #<FORSTACK
1041	.$ebb	BNE ADJUST2
1042	.$ebd	LDA TMP_ZP+1
1043	.$ebf	CMP #>FORSTACK
1044	.$ec1	BNE ADJUST2
1045	.$ec3	RTS    
1046	.$ec4	ADJUST2  LDA TMP_ZP
1047	.$ec6	SEC
1048	.$ec7	SBC #2
1049	.$ec9	STA TMP_ZP
1050	.$ecb	BCS ADNOPV1N1
1051	.$ecd	DEC TMP_ZP+1
1052	.$ecf	ADNOPV1N1 LDY #0
1053	.$ed1	LDA (TMP_ZP),Y
1054	.$ed3	BNE ADNOGOSUB
1055	.$ed5	RTS    
1056	.$ed6	ADNOGOSUB
1057	.$ed6	INY
1058	.$ed7	LDA TMP_ZP
1059	.$ed9	SEC
1060	.$eda	SBC (TMP_ZP),Y
1061	.$edc	STA TMP_ZP
1062	.$ede	BCS ADNOPV1N2
1063	.$ee0	DEC TMP_ZP+1
1064	.$ee2	ADNOPV1N2 DEY
1065	.$ee3	LDA A_REG
1066	.$ee6	ADCMPFOR CMP (TMP_ZP),Y
1067	.$ee8	BNE ADSEARCHFOR
1068	.$eea	LDA A_REG+1
1069	.$eed	INY
1070	.$eee	CMP (TMP_ZP),Y
1071	.$ef0	BEQ ADFOUNDFOR
1072	.$ef2	JMP ADSEARCHFOR
1073	.$ef5	ADLOW0  LDX A_REG+1
1074	.$ef8	BEQ ADFOUNDFOR
1075	.$efa	BNE ADCMPFOR
1076	.$efc	ADFOUNDFOR LDA TMP_ZP  
1077	.$efe	STA FORSTACKP
1078	.$f01	LDA TMP_ZP+1
1079	.$f03	STA FORSTACKP+1
1080	.$f06	RTS
1083	.$f07	INITFOR  JSR ADJUSTSTACK
1084	.$f0a	LDA FORSTACKP
1085	.$f0d	STA TMP_ZP
1086	.$f0f	LDA FORSTACKP+1
1087	.$f12	STA TMP_ZP+1
1088	.$f14	LDY #0
1089	.$f16	LDA A_REG
1090	.$f19	STA (TMP_ZP),Y
1091	.$f1b	INY
1092	.$f1c	LDA A_REG+1
1093	.$f1f	STA (TMP_ZP),Y
1094	.$f21	INY
1095	.$f22	LDA JUMP_TARGET
1096	.$f24	STA (TMP_ZP),Y
1097	.$f26	INY
1098	.$f27	LDA JUMP_TARGET+1
1099	.$f29	STA (TMP_ZP),Y
1100	.$f2b	INY
1101	.$f2c	STY TMP3_ZP
1102	.$f2e	JSR INCTMPZP
1103	.$f31	JSR POPREAL
1104	.$f34	LDX TMP_ZP
1105	.$f36	LDY TMP_ZP+1
1107	.$f38	JSR FACMEM
1108	.$f3b	JSR SGNFAC
1109	.$f3e	STA TMP_FLAG
1110	.$f41	LDY #5
1111	.$f43	STY TMP3_ZP
1112	.$f45	JSR INCTMPZP
1113	.$f48	JSR POPREAL
1114	.$f4b	LDX TMP_ZP
1115	.$f4d	LDY TMP_ZP+1
1117	.$f4f	JSR FACMEM
1118	.$f52	LDY #5
1119	.$f54	STY TMP3_ZP
1120	.$f56	JSR INCTMPZP
1121	.$f59	LDY #0
1122	.$f5b	LDA TMP_FLAG
1123	.$f5e	STA (TMP_ZP),Y
1124	.$f60	INY
1125	.$f61	LDA #1
1126	.$f63	STA (TMP_ZP),Y
1127	.$f65	INY
1128	.$f66	LDA #15
1129	.$f68	STA (TMP_ZP),Y
1130	.$f6a	LDY #3
1131	.$f6c	STY TMP3_ZP
1132	.$f6e	JSR INCTMPZP
1133	.$f71	LDA TMP_ZP
1134	.$f73	STA FORSTACKP
1135	.$f76	LDA TMP_ZP+1
1136	.$f78	STA FORSTACKP+1
1137	.$f7b	RTS
1140	.$f7c	NEXT  LDA FORSTACKP
1141	.$f7f	STA TMP_ZP
1142	.$f81	LDA FORSTACKP+1
1143	.$f84	STA TMP_ZP+1
1144	.$f86	SEARCHFOR LDA TMP_ZP+1
1145	.$f88	STA TMP3_REG+1
1146	.$f8b	LDA TMP_ZP
1147	.$f8d	STA TMP3_REG
1148	.$f90	SEC
1149	.$f91	SBC #2
1150	.$f93	STA TMP_ZP
1151	.$f95	BCS NOPV1N1
1152	.$f97	DEC TMP_ZP+1
1153	.$f99	NOPV1N1  LDY #0
1154	.$f9b	LDA (TMP_ZP),Y
1155	.$f9d	BNE NOGOSUB
1156	.$f9f	JMP NEXTWOFOR
1157	.$fa2	NOGOSUB
1158	.$fa2	INY
1159	.$fa3	LDA TMP_ZP
1160	.$fa5	SEC
1161	.$fa6	SBC (TMP_ZP),Y
1162	.$fa8	STA TMP_ZP
1163	.$faa	BCS NOPV1N2
1164	.$fac	DEC TMP_ZP+1
1165	.$fae	NOPV1N2  DEY
1166	.$faf	LDA A_REG
1167	.$fb2	BEQ LOW0
1168	.$fb4	CMPFOR  CMP (TMP_ZP),Y
1169	.$fb6	BNE SEARCHFOR
1170	.$fb8	LDA A_REG+1
1171	.$fbb	INY
1172	.$fbc	CMP (TMP_ZP),Y
1173	.$fbe	BEQ FOUNDFOR
1174	.$fc0	JMP SEARCHFOR
1175	.$fc3	LOW0  LDX A_REG+1
1176	.$fc6	BEQ FOUNDFOR
1177	.$fc8	BNE CMPFOR
1178	.$fca	FOUNDFOR LDA TMP_ZP
1179	.$fcc	STA TMP2_REG
1180	.$fcf	LDA TMP_ZP+1
1181	.$fd1	STA TMP2_REG+1
1182	.$fd4	VARREAL
1183	.$fd4	LDY #0
1184	.$fd6	STY A_REG+1 
1185	.$fd9	LDA (TMP_ZP),Y
1186	.$fdb	TAX
1187	.$fdc	INY
1188	.$fdd	LDA (TMP_ZP),Y
1189	.$fdf	TAY
1190	.$fe0	TXA
1191	.$fe1	JSR REALFAC
1192	.$fe4	CALCNEXT LDA TMP_ZP
1193	.$fe6	CLC
1194	.$fe7	ADC #4
1195	.$fe9	STA TMP_ZP
1196	.$feb	BCC NOPV2IN
1197	.$fed	INC TMP_ZP+1
1198	.$fef	NOPV2IN  STA TMP_REG
1199	.$ff1	LDY TMP_ZP+1
1200	.$ff3	STY TMP_REG+1
1201	.$ff5	JSR FASTFADDMEM
1203	.$ff8	LDA TMP2_REG
1204	.$ffb	STA TMP_ZP
1205	.$ffd	LDA TMP2_REG+1
1206	.$1000	STA TMP_ZP+1
1207	.$1002	STOREREAL
1208	.$1002	LDY #0
1209	.$1004	LDA (TMP_ZP),Y
1210	.$1006	TAX
1211	.$1007	INY
1212	.$1008	LDA (TMP_ZP),Y
1213	.$100a	TAY
1214	.$100b	JSR FACMEM 
1215	.$100e	CMPFORXX LDA #5
1216	.$1010	STA TMP3_ZP
1217	.$1012	LDA TMP_REG
1218	.$1014	CLC
1219	.$1015	ADC #5
1220	.$1017	STA TMP_REG
1221	.$1019	BCC NOPV3
1222	.$101b	INC TMP_REG+1
1223	.$101d	NOPV3  LDY TMP_REG+1
1224	.$101f	JSR CMPFAC  
1225	.$1022	BEQ LOOPING
1226	.$1024	PHA
1227	.$1025	LDY #14
1228	.$1027	LDA (TMP_ZP),Y
1229	.$1029	BEQ STEPZERO
1230	.$102b	ROL
1231	.$102c	BCC STEPPOS
1232	.$102e	STEPNEG  PLA
1233	.$102f	ROL
1234	.$1030	BCC LOOPING
1235	.$1032	BCS EXITLOOP
1236	.$1034	STEPPOS  PLA
1237	.$1035	ROL
1238	.$1036	BCC EXITLOOP
1239	.$1038	LOOPING  LDA TMP3_REG
1240	.$103b	STA FORSTACKP
1241	.$103e	LDA TMP3_REG+1
1242	.$1041	STA FORSTACKP+1
1243	.$1044	LDA TMP2_REG
1244	.$1047	CLC
1245	.$1048	ADC #2
1246	.$104a	STA TMP2_REG
1247	.$104d	BCC NOPV4IN
1248	.$104f	INC TMP2_REG+1
1249	.$1052	NOPV4IN  LDY #0
1250	.$1054	STY A_REG
1251	.$1057	STA TMP_ZP
1252	.$1059	LDA TMP2_REG+1
1253	.$105c	STA TMP_ZP+1
1254	.$105e	LDA (TMP_ZP),Y
1255	.$1060	STA JUMP_TARGET
1256	.$1062	INY
1257	.$1063	LDA (TMP_ZP),Y
1258	.$1065	STA JUMP_TARGET+1
1259	.$1067	RTS
1260	.$1068	STEPZERO PLA
1261	.$1069	JMP LOOPING
1262	.$106c	EXITLOOP LDA TMP2_REG
1263	.$106f	STA FORSTACKP
1264	.$1072	LDA TMP2_REG+1
1265	.$1075	STA FORSTACKP+1
1266	.$1078	LDA #1
1267	.$107a	STA A_REG
1268	.$107d	RTS
1271	.$107e	REALFACPUSH STA TMP_ZP
1272	.$1080	STY TMP_ZP+1
1273	.$1082	LDX FPSTACKP
1274	.$1085	LDY FPSTACKP+1
1275	.$1088	STX TMP2_ZP
1276	.$108a	STY TMP2_ZP+1
1277	.$108c	LDY #0
1278	.$108e	LDA (TMP_ZP),Y
1279	.$1090	STA (TMP2_ZP),Y
1280	.$1092	INY
1281	.$1093	LDA (TMP_ZP),Y
1282	.$1095	STA (TMP2_ZP),Y
1283	.$1097	INY
1284	.$1098	LDA (TMP_ZP),Y
1285	.$109a	STA (TMP2_ZP),Y
1286	.$109c	INY
1287	.$109d	LDA (TMP_ZP),Y
1288	.$109f	STA (TMP2_ZP),Y
1289	.$10a1	INY
1290	.$10a2	LDA (TMP_ZP),Y
1291	.$10a4	STA (TMP2_ZP),Y
1292	.$10a6	TXA    
1293	.$10a7	CLC
1294	.$10a8	ADC #5
1295	.$10aa	STA FPSTACKP
1296	.$10ad	BCC NOPVRFPXX
1297	.$10af	INC FPSTACKP+1
1298	.$10b2	NOPVRFPXX RTS
1301	.$10b3	POPREAL  LDA FPSTACKP
1302	.$10b6	SEC
1303	.$10b7	SBC #5
1304	.$10b9	STA FPSTACKP
1305	.$10bc	BCS NOPVPR
1306	.$10be	DEC FPSTACKP+1
1307	.$10c1	NOPVPR  LDA FPSTACKP
1308	.$10c4	LDY FPSTACKP+1
1309	.$10c7	JMP REALFAC
1312	.$10ca	SHL   LDA FACEXP
1313	.$10cc	BEQ SHLOK
1314	.$10ce	CLC
1315	.$10cf	ADC A_REG
1316	.$10d2	BCC SHLOK
1317	.$10d4	LDA #0
1318	.$10d6	STA FACSGN
1319	.$10d8	STA FACLO
1320	.$10da	STA FACMO
1321	.$10dc	STA FACMOH
1322	.$10de	STA FACHO
1323	.$10e0	LDA #$FF
1324	.$10e2	SHLOK  STA FACEXP
1325	.$10e4	RTS
1328	.$10e5	INCTMPZP LDA TMP_ZP
1329	.$10e7	CLC
1330	.$10e8	ADC TMP3_ZP
1331	.$10ea	STA TMP_ZP
1332	.$10ec	BCC NOPV2
1333	.$10ee	INC TMP_ZP+1
1334	.$10f0	NOPV2  RTS
1337	.$10f1	COPY2_XYA_XREG
1338	.$10f1	STA TMP3_ZP
1339	.$10f3	STY TMP3_ZP+1
1340	.$10f5	COPY2_XY_XREG
1341	.$10f5	LDX #<X_REG  
1342	.$10f7	LDY #0
1343	.$10f9	LDA (TMP3_ZP),Y
1344	.$10fb	STA X_REG
1345	.$10fd	INY
1346	.$10fe	LDA (TMP3_ZP),Y
1347	.$1100	STA X_REG+1
1348	.$1102	INY
1349	.$1103	LDA (TMP3_ZP),Y
1350	.$1105	STA X_REG+2
1351	.$1107	INY
1352	.$1108	LDA (TMP3_ZP),Y
1353	.$110a	STA X_REG+3
1354	.$110c	INY
1355	.$110d	LDA (TMP3_ZP),Y
1356	.$110f	STA X_REG+4
1357	.$1111	RTS
1361	.$1112	FACWORD
1362	.$1112	LDA FACEXP   
1363	.$1114	BNE DOFACWORD
1364	.$1116	STA FACSGN   
1365	.$1118	DOFACWORD:
1366	.$1118	JMP XFACWORD
1370	.$111b	ONETOFAC    LDX #129
1371	.$111d	STX FAC
1372	.$111f	DEX
1373	.$1120	STX FAC+1
1374	.$1122	LDX #0
1375	.$1124	STX FAC+2
1376	.$1126	STX FAC+3
1377	.$1128	STX FAC+4
1378	.$112a	STX FAC+5
1379	.$112c	STX FAC+15
1380	.$112e	RTS
1383	.$112f	INITOUTCHANNEL
1384	.$112f	LDA CHLOCKFLAG
1385	.$1132	BEQ INITOUT2
1386	.$1134	CMP #$FF
1387	.$1136	BNE SKIPINITCH
1388	.$1138	INITOUT2
1389	.$1138	LDA #<C_REG
1390	.$113a	LDY #>C_REG
1391	.$113c	JSR REALFAC
1392	.$113f	JSR FACWORD
1393	.$1142	TYA
1394	.$1143	TAX
1395	.$1144	CPX CMD_NUM
1396	.$1147	BNE CMDNEQUAL
1397	.$1149	LDY #0
1398	.$114b	STY CMD_NUM   
1399	.$114e	CMDNEQUAL STA CHANNEL
1400	.$1151	STA CHLOCKFLAG
1401	.$1154	JMP CHKOUT
1402	.$1157	SKIPINITCH
1403	.$1157	RTS
1406	.$1158	CLRCHNEW
1407	.$1158	LDA CHLOCKFLAG
1408	.$115b	BNE SKIPCLRCH
1409	.$115d	JMP CLRCH
1410	.$1160	SKIPCLRCH
1411	.$1160	RTS
1414	.$1161	TABOUTCHANNEL
1415	.$1161	JSR INITOUTCHANNEL
1416	.$1164	LDA CHANNEL
1417	.$1167	CMP #3  
1418	.$1169	BEQ TABOUTSCREEN
1419	.$116b	TABOUTCHANNEL2
1420	.$116b	LDA IOCHANNEL
1421	.$116d	STA STORE1
1422	.$1170	LDA #1
1423	.$1172	STA IOCHANNEL  
1424	.$1174	LDX #10
1425	.$1176	JMP EXITCHANNEL
1426	.$1179	TABOUTSCREEN
1427	.$1179	JSR CLRCHNEW
1428	.$117c	JMP TABOUT
1431	.$117f	EXITCHANNEL CLC
1432	.$1180	JSR TABSPC
1433	.$1183	JSR CLRCHNEW
1434	.$1186	LDA STORE1
1435	.$1189	STA IOCHANNEL
1436	.$118b	RTS
1439	.$118c	NEXTWOFOR
1443	.$118c	LDX #$0A
1444	.$118e	JMP ERRALL
1447	.$1191	OUTOFMEMORY
1451	.$1191	LDX #$10
1452	.$1193	JMP ERRALL
1455	.$1196	ILLEGALQUANTITY
1459	.$1196	JMP ERRIQ
1462	.$1199	FACXREG  LDA FACLO
1463	.$119b	STA X_REG+4
1464	.$119d	LDA FACMO
1465	.$119f	STA X_REG+3
1466	.$11a1	LDA FACMOH
1467	.$11a3	STA X_REG+2
1468	.$11a5	LDA FACSGN
1469	.$11a7	ORA #$7F
1470	.$11a9	AND FACHO
1471	.$11ab	STA X_REG+1
1472	.$11ad	LDA FACEXP
1473	.$11af	STA X_REG
1474	.$11b1	LDA #0   
1475	.$11b3	STA FACOV
1476	.$11b5	RTS
1479	.$11b6	XREGFAC  LDA X_REG+4
1480	.$11b8	STA FACLO
1481	.$11ba	LDA X_REG+3
1482	.$11bc	STA FACMO
1483	.$11be	LDA X_REG+2
1484	.$11c0	STA FACMOH
1485	.$11c2	LDA X_REG+1
1486	.$11c4	STA FACSGN
1487	.$11c6	ORA #$80
1488	.$11c8	STA FACHO
1489	.$11ca	LDA X_REG
1490	.$11cc	STA FACEXP
1491	.$11ce	LDA #0
1492	.$11d0	STA FACOV
1493	.$11d2	RTS
1496	.$11d3	YREGFAC  LDA Y_REG+4
1497	.$11d6	STA FACLO
1498	.$11d8	LDA Y_REG+3
1499	.$11db	STA FACMO
1500	.$11dd	LDA Y_REG+2
1501	.$11e0	STA FACMOH
1502	.$11e2	LDA Y_REG+1
1503	.$11e5	STA FACSGN
1504	.$11e7	ORA #$80
1505	.$11e9	STA FACHO
1506	.$11eb	LDA Y_REG
1507	.$11ee	STA FACEXP
1508	.$11f0	LDA #0
1509	.$11f2	STA FACOV
1510	.$11f4	RTS
1624	.$11f5	FASTFSUBMEM
1625	.$11f5	JSR MEMARG
1626	.$11f8	FASTFSUBARG
1627	.$11f8	LDA FACSGN
1628	.$11fa	EOR #$FF
1629	.$11fc	STA FACSGN
1630	.$11fe	EOR ARGSGN
1631	.$1200	STA ARISGN
1632	.$1202	LDA FACEXP
1633	.$1204	JMP FASTFADDARG
1636	.$1207	FASTFADDMEM
1637	.$1207	JSR MEMARG
1638	.$120a	FASTFADDARG
1639	.$120a	BNE FADDRET2     
1640	.$120c	JMP ARGFAC
1641	.$120f	FADDRET2 LDA ARGEXP
1642	.$1211	BNE FADDRET1     
1643	.$1213	RTS
1644	.$1214	FADDRET1 SEC
1645	.$1215	SBC FACEXP
1646	.$1217	BEQ FFADD_EXPEQ     
1647	.$1219	BCC FFADD_SHFARG1   
1651	.$121b	LDY ARGEXP
1652	.$121d	STY FACEXP
1653	.$121f	LDY ARGSGN
1654	.$1221	STY FACSGN
1655	.$1223	LDX #0
1656	.$1225	STX OLDOV        
1657	.$1227	LDX #FAC         
1659	.$1229	SEC
1660	.$122a	SBC #$08
1661	.$122c	BMI FFADD_SHFFAC2
1663	.$122e	FFADD_SHFFAC1
1664	.$122e	LDY FACLO        
1665	.$1230	STY FACOV
1666	.$1232	LDY FACMO        
1667	.$1234	STY FACMO+1
1668	.$1236	LDY FACMOH       
1669	.$1238	STY FACMOH+1
1670	.$123a	LDY FACHO        
1671	.$123c	STY FACHO+1
1672	.$123e	LDY #0
1673	.$1240	STY FACHO        
1674	.$1242	SBC #$08         
1675	.$1244	BPL FFADD_SHFFAC1   
1676	.$1246	FFADD_SHFFAC2
1677	.$1246	ADC #$08         
1678	.$1248	BEQ FFADD_SHFFAC4   
1679	.$124a	TAY
1680	.$124b	LDA FACOV
1681	.$124d	FFADD_SHFFAC3
1682	.$124d	LSR FACHO        
1683	.$124f	ROR FACMOH       
1684	.$1251	ROR FACMO        
1685	.$1253	ROR FACLO        
1686	.$1255	ROR              
1687	.$1256	DEY
1688	.$1257	BNE FFADD_SHFFAC3
1689	.$1259	JMP FFADD_MANADD2   
1690	.$125c	FFADD_SHFFAC4
1691	.$125c	LDA FACOV        
1692	.$125e	JMP FFADD_MANADD2
1693	.$1261	FFADD_EXPEQ
1694	.$1261	LDX FACOV
1695	.$1263	STX OLDOV
1698	.$1265	JMP FFADD_MANADD1
1699	.$1268	FFADD_SHFARG2
1700	.$1268	LDA FACOV        
1701	.$126a	JMP FFADD_MANADD1
1702	.$126d	FFADD_SHFARG1
1703	.$126d	LDX FACOV
1704	.$126f	STX OLDOV        
1705	.$1271	LDX #$00         
1708	.$1273	ADC #$08
1709	.$1275	BPL FFADD_SHFARG6   
1710	.$1277	FFADD_SHFARG3
1711	.$1277	LDX ARGLO        
1712	.$1279	LDY ARGMO        
1713	.$127b	STY ARGMO+1
1714	.$127d	LDY ARGMOH       
1715	.$127f	STY ARGMOH+1
1716	.$1281	LDY ARGHO        
1717	.$1283	STY ARGHO+1
1718	.$1285	LDY #0
1719	.$1287	STY ARGHO        
1720	.$1289	FFADD_SHFARG4
1721	.$1289	ADC #$08
1722	.$128b	BMI FFADD_SHFARG3
1723	.$128d	BEQ FFADD_SHFARG3
1724	.$128f	FFADD_SHFARG6
1725	.$128f	SBC #$08
1726	.$1291	BEQ FFADD_SHFARG2   
1727	.$1293	TAY
1728	.$1294	TXA              
1729	.$1295	FFADD_SHFARG5
1730	.$1295	LSR ARGHO
1731	.$1297	ROR ARGMOH
1732	.$1299	ROR ARGMO
1733	.$129b	ROR ARGLO
1734	.$129d	ROR           
1735	.$129e	INY
1736	.$129f	BNE FFADD_SHFARG5
1737	.$12a1	FFADD_MANADD1
1738	.$12a1	LDX #ARGEXP      
1739	.$12a3	FFADD_MANADD2
1740	.$12a3	BIT ARISGN
1741	.$12a5	BMI FFADD_MANSUB1   
1742	.$12a7	CLC
1743	.$12a8	ADC OLDOV
1744	.$12aa	STA FACOV
1745	.$12ac	LDA FACLO
1746	.$12ae	ADC ARGLO
1747	.$12b0	STA FACLO
1748	.$12b2	LDA FACMO
1749	.$12b4	ADC ARGMO
1750	.$12b6	STA FACMO
1751	.$12b8	LDA FACMOH
1752	.$12ba	ADC ARGMOH
1753	.$12bc	STA FACMOH
1754	.$12be	LDA FACHO
1755	.$12c0	ADC ARGHO
1756	.$12c2	STA FACHO
1757	.$12c4	BCC FFADD_RNDRTS
1758	.$12c6	INC FACEXP
1759	.$12c8	BEQ FFADD_OVERR
1761	.$12ca	ROR FACHO
1762	.$12cc	ROR FACMOH
1763	.$12ce	ROR FACMO
1764	.$12d0	ROR FACLO
1765	.$12d2	ROR FACOV
1766	.$12d4	FFADD_RNDRTS
1767	.$12d4	RTS
1768	.$12d5	FFADD_OVERR
1769	.$12d5	JMP ILLEGALQUANTITY
1770	.$12d8	FFADD_MANSUB1
1771	.$12d8	LDY #FACEXP
1772	.$12da	CPX #ARGEXP
1773	.$12dc	BEQ FFADD_MANSUB2
1774	.$12de	LDY #ARGEXP
1775	.$12e0	FFADD_MANSUB2
1776	.$12e0	SEC              
1777	.$12e1	EOR #$FF
1778	.$12e3	ADC OLDOV
1779	.$12e5	STA FACOV
1780	.$12e7	LDA 4,Y
1781	.$12ea	SBC 4,X
1782	.$12ec	STA FACLO
1783	.$12ee	LDA 3,Y
1784	.$12f1	SBC 3,X
1785	.$12f3	STA FACMO
1786	.$12f5	LDA 2,Y
1787	.$12f8	SBC 2,X
1788	.$12fa	STA FACMOH
1789	.$12fc	LDA 1,Y
1790	.$12ff	SBC 1,X
1791	.$1301	STA FACHO
1792	.$1303	BCS FCNORMAL
1793	.$1305	LDA FACSGN
1794	.$1307	EOR #$FF
1795	.$1309	STA FACSGN
1796	.$130b	LDA FACHO
1797	.$130d	EOR #$FF
1798	.$130f	STA FACHO
1799	.$1311	LDA FACMOH
1800	.$1313	EOR #$FF
1801	.$1315	STA FACMOH
1802	.$1317	LDA FACMO
1803	.$1319	EOR #$FF
1804	.$131b	STA FACMO
1805	.$131d	LDA FACLO
1806	.$131f	EOR #$FF
1807	.$1321	STA FACLO
1808	.$1323	LDA FACOV
1809	.$1325	EOR #$FF
1810	.$1327	CLC
1811	.$1328	ADC #1
1812	.$132a	STA FACOV
1813	.$132c	BNE FCNORMAL
1814	.$132e	INC FACLO
1815	.$1330	BNE FCNORMAL
1816	.$1332	INC FACMO
1817	.$1334	BNE FCNORMAL
1818	.$1336	INC FACMOH
1819	.$1338	BNE FCNORMAL
1820	.$133a	INC FACHO
1821	.$133c	FCNORMAL   BIT FACHO
1822	.$133e	BMI FFADD_RET       
1823	.$1340	LDA #0           
1824	.$1342	CLC
1825	.$1343	FFADD_NORM3
1826	.$1343	LDX FACHO
1827	.$1345	BNE FFADD_NORM1
1828	.$1347	LDX FACHO+1
1829	.$1349	STX FACHO
1830	.$134b	LDX FACMOH+1
1831	.$134d	STX FACMOH
1832	.$134f	LDX FACMO+1
1833	.$1351	STX FACMO
1834	.$1353	LDX FACOV
1835	.$1355	STX FACLO
1836	.$1357	LDX #0
1837	.$1359	STX FACOV
1838	.$135b	ADC #$08
1839	.$135d	CMP #$20
1840	.$135f	BNE FFADD_NORM3
1841	.$1361	JMP FFADD_ZEROFAC
1842	.$1364	FFADD_NORM2
1843	.$1364	CLC
1844	.$1365	ADC #1
1845	.$1367	ASL FACOV
1846	.$1369	ROL FACLO
1847	.$136b	ROL FACMO
1848	.$136d	ROL FACMOH
1849	.$136f	ROL FACHO
1850	.$1371	FFADD_NORM1
1851	.$1371	BPL FFADD_NORM2     
1852	.$1373	SEC
1853	.$1374	SBC FACEXP
1854	.$1376	BCS FFADD_ZEROFAC
1855	.$1378	EOR #$FF
1856	.$137a	CLC
1857	.$137b	ADC #1
1858	.$137d	STA FACEXP
1859	.$137f	FFADD_RET   RTS
1860	.$1380	FFADD_ZEROFAC
1861	.$1380	LDX #0
1862	.$1382	STX FACEXP
1863	.$1384	STX FACSGN
1864	.$1386	RTS
1867	.$1387	FASTFMULMEM
1868	.$1387	JSR MEMARG
1869	.$138a	FASTFMULARG
1870	.$138a	BEQ FFMUL_MULTRT    
1871	.$138c	LDA ARGEXP
1872	.$138e	BEQ FFMUL_ZEREMV    
1873	.$1390	CLC
1874	.$1391	ADC FACEXP
1875	.$1393	BCC FFMUL_TRYOFF
1876	.$1395	CLC
1877	.$1396	BPL FFMUL_ADJUST
1878	.$1398	JMP ILLEGALQUANTITY
1879	.$139b	FFMUL_ZEREMV
1880	.$139b	LDY #0
1881	.$139d	STY FACEXP       
1882	.$139f	STY FACSGN
1883	.$13a1	FFMUL_MULTRT
1884	.$13a1	RTS
1885	.$13a2	FFMUL_TRYOFF
1886	.$13a2	BPL FFMUL_ZEREMV    
1887	.$13a4	FFMUL_ADJUST
1888	.$13a4	ADC #$80         
1889	.$13a6	BEQ FFMUL_ZEREMV    
1890	.$13a8	STA FACEXP
1891	.$13aa	LDA ARISGN
1892	.$13ac	STA FACSGN
1893	.$13ae	LDY #0
1894	.$13b0	STY RESHOP
1895	.$13b2	STY RESHO
1896	.$13b4	STY RESMOH
1897	.$13b6	STY RESMO
1898	.$13b8	STY RESLO
1899	.$13ba	STY RESOV
1900	.$13bc	STY FACHOP
1901	.$13be	FFMUL_B0
1902	.$13be	LSR ARGLO        
1903	.$13c0	BCC FFMUL_B1
1904	.$13c2	LDA RESOV
1905	.$13c4	CLC
1906	.$13c5	ADC FACMOH       
1907	.$13c7	STA RESOV
1908	.$13c9	LDA RESLO
1909	.$13cb	ADC FACHO        
1910	.$13cd	STA RESLO
1911	.$13cf	LDA RESMO
1912	.$13d1	ADC FACHOP       
1913	.$13d3	STA RESMO
1914	.$13d5	BCC FFMUL_B1
1915	.$13d7	INC RESMOH
1916	.$13d9	BNE FFMUL_B1
1917	.$13db	INC RESHO
1918	.$13dd	BNE FFMUL_B1
1919	.$13df	INC RESHOP
1920	.$13e1	FFMUL_B1
1921	.$13e1	LSR ARGMO        
1922	.$13e3	BCC FFMUL_B2
1923	.$13e5	LDA RESOV
1924	.$13e7	CLC
1925	.$13e8	ADC FACMO        
1926	.$13ea	STA RESOV
1927	.$13ec	LDA RESLO
1928	.$13ee	ADC FACMOH       
1929	.$13f0	STA RESLO
1930	.$13f2	LDA RESMO
1931	.$13f4	ADC FACHO        
1932	.$13f6	STA RESMO
1933	.$13f8	LDA RESMOH
1934	.$13fa	ADC FACHOP       
1935	.$13fc	STA RESMOH
1936	.$13fe	BCC FFMUL_B2
1937	.$1400	INC RESHO
1938	.$1402	BNE FFMUL_B2
1939	.$1404	INC RESHOP
1940	.$1406	FFMUL_B2
1941	.$1406	LSR ARGMOH       
1942	.$1408	BCC FFMUL_B3
1943	.$140a	LDA RESOV
1944	.$140c	CLC
1945	.$140d	ADC FACLO        
1946	.$140f	STA RESOV
1947	.$1411	LDA RESLO
1948	.$1413	ADC FACMO        
1949	.$1415	STA RESLO
1950	.$1417	LDA RESMO
1951	.$1419	ADC FACMOH       
1952	.$141b	STA RESMO
1953	.$141d	LDA RESMOH
1954	.$141f	ADC FACHO        
1955	.$1421	STA RESMOH
1956	.$1423	LDA RESHO
1957	.$1425	ADC FACHOP       
1958	.$1427	STA RESHO
1959	.$1429	BCC FFMUL_B3
1960	.$142b	INC RESHOP
1961	.$142d	FFMUL_B3
1962	.$142d	LSR ARGHO        
1963	.$142f	BCC FFMUL_ROTA
1964	.$1431	LDA RESOV
1965	.$1433	CLC
1966	.$1434	ADC FACOV        
1967	.$1436	STA RESOV
1968	.$1438	LDA RESLO
1969	.$143a	ADC FACLO        
1970	.$143c	STA RESLO
1971	.$143e	LDA RESMO
1972	.$1440	ADC FACMO        
1973	.$1442	STA RESMO
1974	.$1444	LDA RESMOH
1975	.$1446	ADC FACMOH       
1976	.$1448	STA RESMOH
1977	.$144a	LDA RESHO
1978	.$144c	ADC FACHO        
1979	.$144e	STA RESHO
1980	.$1450	LDA RESHOP
1981	.$1452	ADC FACHOP       
1982	.$1454	STA RESHOP
1983	.$1456	FFMUL_ROTA
1984	.$1456	ASL FACOV
1985	.$1458	ROL FACLO
1986	.$145a	ROL FACMO
1987	.$145c	ROL FACMOH
1988	.$145e	ROL FACHO
1989	.$1460	ROL FACHOP
1990	.$1462	BMI FFMUL_FIN
1991	.$1464	JMP FFMUL_B0
1992	.$1467	FFMUL_FIN
1993	.$1467	LDA RESHOP
1994	.$1469	STA FACHO
1995	.$146b	LDA RESHO
1996	.$146d	STA FACMOH
1997	.$146f	LDA RESMOH
1998	.$1471	STA FACMO
1999	.$1473	LDA RESMO
2000	.$1475	STA FACLO
2001	.$1477	LDA RESLO
2002	.$1479	STA FACOV
2003	.$147b	JMP FCNORMAL      
2004	.$147e	MUL10
2005	.$147e	JSR ARGFAC       
2006	.$1481	TAX              
2007	.$1482	BEQ FFMUL_MUL101    
2008	.$1484	CLC
2009	.$1485	ADC #2
2010	.$1487	BCS FFMUL_MUL102    
2011	.$1489	STA FACEXP       
2012	.$148b	LDY #0
2013	.$148d	STY ARISGN
2014	.$148f	JSR FASTFADDARG      
2015	.$1492	INC FACEXP
2016	.$1494	BEQ FFMUL_MUL102     
2017	.$1496	FFMUL_MUL101
2018	.$1496	RTS
2019	.$1497	FFMUL_MUL102
2020	.$1497	JMP ILLEGALQUANTITY
2021	.$149a	MUL6
2022	.$149a	JSR ARGFAC       
2023	.$149d	TAX              
2024	.$149e	BEQ FFMUL_MUL61     
2025	.$14a0	INC FACEXP
2026	.$14a2	BEQ FFMUL_MUL62     
2027	.$14a4	LDY #0
2028	.$14a6	STY ARISGN
2029	.$14a8	JSR FASTFADDARG      
2030	.$14ab	INC FACEXP
2031	.$14ad	BEQ FFMUL_MUL62     
2032	.$14af	FFMUL_MUL61
2033	.$14af	RTS
2034	.$14b0	FFMUL_MUL62
2035	.$14b0	JMP ILLEGALQUANTITY
2038	.$14b3	INITVARS
2039	.$14b3	JSR INITSTRVARS
2040	.$14b6	LDA #0
2041	.$14b8	LDY #4
2042	.$14ba	REALINITLOOP0:
2043	.$14ba	STA VAR_J,Y
2044	.$14bd	STA VAR_I,Y
2045	.$14c0	DEY
2046	.$14c1	BMI REALLOOPEXIT0
2047	.$14c3	JMP REALINITLOOP0
2048	.$14c6	REALLOOPEXIT0:
2049	.$14c6	RTS
2053	.$14c7	CONSTANTS
2056	.$14c7	CONST_0R .REAL 12345.0
2059	.$14cc	CONST_1 .REAL 12345.0
2062	.$14d1	CONST_2R .REAL 81.0
2065	.$14d6	CONST_3R .REAL 1.0
2068	.$14db	CONST_4R .REAL 5.0
2074	.$14e0	CONST_6R .REAL 70.0
2080	.$14e5	CONST_8R .REAL 328.0
2083	.$14ea	CONST_9R .REAL 217.0
2086	.$14ef	DATAS
2087	.$14ef	.BYTE $FF
2089	.$14f0	CONSTANTS_END
2092	.$14f0	VARIABLES
2094	.$14f0	VAR_J .REAL 0.0
2096	.$14f5	VAR_I .REAL 0.0
2097	.$14fa	STRINGVARS_START
2099	.$14fa	VAR_TI$ .WORD EMPTYSTR
2100	.$14fc	STRINGVARS_END
2101	.$14fc	STRINGARRAYS_START
2102	.$14fc	STRINGARRAYS_END
2103	.$14fc	VARIABLES_END
2105	.$14fc	Y_REG .REAL 0.0
2106	.$1501	C_REG .REAL 0.0
2107	.$1506	D_REG .REAL 0.0
2108	.$150b	E_REG .REAL 0.0
2109	.$1510	F_REG .REAL 0.0
2110	.$1515	A_REG .WORD 0
2111	.$1517	B_REG .WORD 0
2112	.$1519	CMD_NUM .BYTE 0
2113	.$151a	CHANNEL .BYTE 0
2114	.$151b	SP_SAVE .BYTE 0
2115	.$151c	TMP2_REG .WORD 0
2116	.$151e	TMP3_REG .WORD 0
2117	.$1520	TMP4_REG .WORD 0
2118	.$1522	AS_TMP .WORD 0
2119	.$1524	BPOINTER_TMP .WORD 0
2120	.$1526	BASICTEXTP .BYTE 0
2121	.$1527	STORE1 .WORD 0
2122	.$1529	STORE2 .WORD 0
2123	.$152b	STORE3 .WORD 0
2124	.$152d	STORE4 .WORD 0
2125	.$152f	GCSTART .WORD 0
2126	.$1531	GCLEN .WORD 0
2127	.$1533	GCWORK .WORD 0
2128	.$1535	INPUTLENGTH .BYTE 0
2129	.$1536	TMP_FREG .REAL 0
2130	.$153b	TMP2_FREG .REAL 0
2131	.$1540	TMP_FLAG .BYTE 0
2132	.$1541	INT_FLAG .BYTE 0
2133	.$1542	REAL_CONST_ONE .REAL 1.0
2134	.$1547	REAL_CONST_ZERO .REAL 0.0
2135	.$154c	REAL_CONST_MINUS_ONE .REAL -1.0
2136	.$1551	CHLOCKFLAG .BYTE 0
2137	.$1552	EMPTYSTR .BYTE 0
2138	.$1553	FPSTACKP .WORD FPSTACK
2139	.$1555	FORSTACKP .WORD FORSTACK
2140	.$1557	DATASP .WORD DATAS
2141	.$1559	LASTVAR .WORD 0
2142	.$155b	LASTVARP .WORD 0
2143	.$155d	HIGHP .WORD STRBUF
2144	.$155f	STRBUFP .WORD STRBUF
2145	.$1561	ENDSTRBUF .WORD 0
2146	.$1563	INPUTQUEUEP .BYTE 0
2147	.$1564	PROGRAMEND
2148	.$1564	INPUTQUEUE .ARRAY $0F
2149	.$1573	FPSTACK .ARRAY 100
2150	.$15d7	FORSTACK .ARRAY 340
2151	.$172b	STRBUF .BYTE 0
