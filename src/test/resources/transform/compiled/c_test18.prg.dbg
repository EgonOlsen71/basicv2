117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
128	.$81f	JSR GETADOLLAR
130	.$822	LDA #<CONST_0
131	.$824	LDY #>CONST_0
132	.$826	STA B_REG
133	.$829	STY B_REG+1
134	.$82c	LDA VAR_A$
135	.$82f	LDY VAR_A$+1
136	.$832	STA A_REG
137	.$835	STY A_REG+1
139	.$838	JSR SEQ
140	.$83b	LDA X_REG
141	.$83d	COMP_SKP0:
142	.$83d	BEQ LINE_SKIP2
145	.$83f	LINE_NSKIP2:
147	.$83f	LDY CONST_1
148	.$842	STY 53280
150	.$845	LDA #<CONST_2
151	.$847	LDY #>CONST_2
152	.$849	JSR STROUTBRKWL
155	.$84c	JSR END
156	.$84f	RTS
158	.$850	LINE_SKIP2:
161	.$850	LINE_20:
163	.$850	LDA #<CONST_3
164	.$852	LDY #>CONST_3
165	.$854	STA B_REG
166	.$857	STY B_REG+1
167	.$85a	LDA VAR_A$
168	.$85d	LDY VAR_A$+1
169	.$860	STA A_REG
170	.$863	STY A_REG+1
172	.$866	JSR SNEQ
173	.$869	LDA X_REG
174	.$86b	COMP_SKP1:
175	.$86b	BEQ LINE_SKIP3
178	.$86d	LINE_NSKIP3:
180	.$86d	LDA #<CONST_4
181	.$86f	LDY #>CONST_4
182	.$871	JSR STROUTWL
184	.$874	LDA VAR_A$
185	.$877	LDY VAR_A$+1
186	.$87a	JSR STROUTWL
188	.$87d	JSR TABOUT
189	.$880	LDA #<CONST_1R
190	.$882	LDY #>CONST_1R
191	.$884	JSR COPY2_XYA_YREG
195	.$887	JSR FRE
196	.$88a	JSR INTOUTBRK
199	.$88d	LINE_SKIP3:
202	.$88d	LINE_40:
204	.$88d	JMP LINE_10
205	.$890	JSR END
206	.$893	RTS
209	.$894	END   LDX SP_SAVE
210	.$897	TXS
217	.$898	RTS
220	.$899	START  LDA ENDSTRBUF+1
221	.$89c	BNE ENDGIVEN
222	.$89e	LDA BASICEND
223	.$8a0	STA ENDSTRBUF
224	.$8a3	LDA BASICEND+1
225	.$8a5	STA ENDSTRBUF+1
226	.$8a8	ENDGIVEN LDA #<FPSTACK
227	.$8aa	LDY #>FPSTACK
228	.$8ac	STA FPSTACKP
229	.$8af	STY FPSTACKP+1
230	.$8b2	LDA #<FORSTACK
231	.$8b4	LDY #>FORSTACK
232	.$8b6	STA FORSTACKP
233	.$8b9	STY FORSTACKP+1
234	.$8bc	LDA #<STRBUF
235	.$8be	LDY #>STRBUF
236	.$8c0	STA STRBUFP
237	.$8c3	STY STRBUFP+1
238	.$8c6	STA HIGHP
239	.$8c9	STY HIGHP+1
240	.$8cc	LDA #0
241	.$8ce	STA CHLOCKFLAG
242	.$8d1	STA LASTVAR
243	.$8d4	STA LASTVAR+1
244	.$8d7	JSR INITVARS
245	.$8da	LDA #0
246	.$8dc	STA CMD_NUM
247	.$8df	STA CHANNEL
248	.$8e2	TAY
249	.$8e3	TAX
253	.$8e4	STA KEYNDX
259	.$8e6	JSR RESTORE
260	.$8e9	CLC
264	.$8ea	RTS
267	.$8eb	INITNARRAY
268	.$8eb	STA TMP_ZP
269	.$8ed	STY TMP_ZP+1
270	.$8ef	LDY #0
271	.$8f1	TYA
272	.$8f2	NINITLOOP STA (TMP_ZP),Y
273	.$8f4	INC TMP_ZP
274	.$8f6	BNE NLOOPNOV
275	.$8f8	INC TMP_ZP+1
276	.$8fa	NLOOPNOV LDX TMP2_ZP
277	.$8fc	BNE NLOOPNOV2
278	.$8fe	DEC TMP2_ZP+1
279	.$900	NLOOPNOV2 DEC TMP2_ZP
280	.$902	BNE NINITLOOP
281	.$904	LDX TMP2_ZP+1
282	.$906	BNE NINITLOOP
283	.$908	RTS
286	.$909	INITSTRARRAY
287	.$909	STA TMP_ZP
288	.$90b	STY TMP_ZP+1
289	.$90d	SINITLOOP LDY #0
290	.$90f	LDA #<EMPTYSTR
291	.$911	STA (TMP_ZP),Y
292	.$913	LDA #>EMPTYSTR
293	.$915	INY
294	.$916	STA (TMP_ZP),Y
295	.$918	CLC
296	.$919	LDA TMP_ZP
297	.$91b	ADC #2
298	.$91d	STA TMP_ZP
299	.$91f	BCC SLOOPNOV1
300	.$921	INC TMP_ZP+1
301	.$923	SLOOPNOV1 SEC
302	.$924	LDA TMP2_ZP
303	.$926	SBC #2
304	.$928	STA TMP2_ZP
305	.$92a	BCS SLOOPNOV2
306	.$92c	DEC TMP2_ZP+1
307	.$92e	SLOOPNOV2 LDA TMP2_ZP
308	.$930	BNE SINITLOOP
309	.$932	LDA TMP2_ZP+1
310	.$934	BNE SINITLOOP
311	.$936	RTS
314	.$937	INITSPARAMS STA TMP3_ZP
315	.$939	STY TMP3_ZP+1
316	.$93b	SEC
317	.$93c	SBC #2
318	.$93e	STA TMP_ZP
319	.$940	TYA
320	.$941	SBC #0
321	.$943	STA TMP_ZP+1
322	.$945	LDY #0
323	.$947	LDA (TMP_ZP),Y
324	.$949	STA TMP2_ZP
325	.$94b	INY
326	.$94c	LDA (TMP_ZP),Y
327	.$94e	STA TMP2_ZP+1
328	.$950	LDA TMP3_ZP
329	.$952	LDY TMP3_ZP+1
330	.$954	RTS
333	.$955	INITSTRVARS LDA #<STRINGVARS_START  
334	.$957	LDY #>STRINGVARS_START
335	.$959	CMP #<STRINGVARS_END
336	.$95b	BNE INITIT1
337	.$95d	CPY #>STRINGVARS_END
338	.$95f	BNE INITIT1
339	.$961	JMP INITSA2     
340	.$964	INITIT1  STA TMP_ZP
341	.$966	STY TMP_ZP+1
342	.$968	LDY #0
343	.$96a	INITSTRLOOP LDA #<EMPTYSTR
344	.$96c	STA (TMP_ZP),Y
345	.$96e	INY
346	.$96f	LDA #>EMPTYSTR
347	.$971	STA (TMP_ZP),Y
348	.$973	DEY
349	.$974	LDA TMP_ZP
350	.$976	CLC
351	.$977	ADC #2
352	.$979	STA TMP_ZP
353	.$97b	LDA TMP_ZP+1
354	.$97d	ADC #0
355	.$97f	STA TMP_ZP+1
356	.$981	CMP #>STRINGVARS_END
357	.$983	BNE INITSTRLOOP
358	.$985	LDA TMP_ZP
359	.$987	CMP #<STRINGVARS_END
360	.$989	BNE INITSTRLOOP
361	.$98b	INITSA2  LDA #<STRINGARRAYS_START 
362	.$98d	LDY #>STRINGARRAYS_START
363	.$98f	CMP #<STRINGARRAYS_END
364	.$991	BNE ARRAYLOOP
365	.$993	CPY #>STRINGARRAYS_END
366	.$995	BNE ARRAYLOOP
367	.$997	RTS       
368	.$998	ARRAYLOOP CLC
369	.$999	ADC #3
370	.$99b	BCC ARRAYSKIP1
371	.$99d	INY
372	.$99e	ARRAYSKIP1 CPY #>STRINGARRAYS_END
373	.$9a0	BEQ ARRAYSC
374	.$9a2	BCC ARRAYSKIP2
375	.$9a4	JMP ARRAYQUIT
376	.$9a7	ARRAYSC  CMP #<STRINGARRAYS_END
377	.$9a9	BCS ARRAYQUIT
378	.$9ab	ARRAYSKIP2 STA TMP_REG
379	.$9ad	STY TMP_REG+1
380	.$9af	JSR INITSPARAMS
381	.$9b2	LDA TMP_REG
382	.$9b4	LDY TMP_REG+1
383	.$9b6	JSR INITSTRARRAY
384	.$9b9	LDA TMP_ZP
385	.$9bb	LDY TMP_ZP+1
386	.$9bd	JMP ARRAYLOOP
387	.$9c0	ARRAYQUIT RTS
390	.$9c1	RESTORE  LDA #<DATAS
391	.$9c3	LDY #>DATAS
392	.$9c5	STA DATASP
393	.$9c8	STY DATASP+1
394	.$9cb	RTS
397	.$9cc	TABSPC     BCC DOSPC
398	.$9ce	TXA
399	.$9cf	SBC $09
400	.$9d1	BCC TABSPCQUIT
401	.$9d3	TAX
402	.$9d4	DOSPC  INX
403	.$9d5	TABSPCLOOP  DEX
404	.$9d6	BNE TABSPCRIGHT
405	.$9d8	TABSPCQUIT RTS
406	.$9d9	TABSPCRIGHT JSR CRSRRIGHT
407	.$9dc	JMP TABSPCLOOP
410	.$9df	SAVEPOINTERS
411	.$9df	LDA TMP_ZP   
412	.$9e1	STA STORE1
413	.$9e4	LDA TMP_ZP+1
414	.$9e6	STA STORE1+1
415	.$9e9	LDA TMP2_ZP
416	.$9eb	STA STORE2
417	.$9ee	LDA TMP2_ZP+1
418	.$9f0	STA STORE2+1
419	.$9f3	LDA TMP3_ZP
420	.$9f5	STA STORE3
421	.$9f8	LDA TMP3_ZP+1
422	.$9fa	STA STORE3+1
423	.$9fd	RTS
426	.$9fe	RESTOREPOINTERS
427	.$9fe	LDA STORE3+1  
428	.$a01	STA TMP3_ZP+1
429	.$a03	LDA STORE3
430	.$a06	STA TMP3_ZP
431	.$a08	LDA STORE2+1
432	.$a0b	STA TMP2_ZP+1
433	.$a0d	LDA STORE2
434	.$a10	STA TMP2_ZP
435	.$a12	LDA STORE1+1
436	.$a15	STA TMP_ZP+1
437	.$a17	LDA STORE1
438	.$a1a	STA TMP_ZP
439	.$a1c	RTS
442	.$a1d	COMPACT
443	.$a1d	LDY #0
444	.$a1f	GCBUFNE  LDA (TMP_ZP),Y  
445	.$a21	COMPACTF STA TMP4_REG  
446	.$a24	LDY STRBUFP+1  
447	.$a27	STY TMP4_REG+1  
448	.$a2a	INY     
449	.$a2b	BEQ ENDMEM   
450	.$a2d	CPY ENDSTRBUF+1  
451	.$a30	BCC RGCEXIT   
452	.$a32	ENDMEM  LDA STRBUFP
453	.$a35	CLC
454	.$a36	ADC TMP4_REG
455	.$a39	STA TMP4_REG
456	.$a3c	BCC RGCNOOV1
457	.$a3e	INC TMP4_REG+1
458	.$a41	RGCNOOV1 CLC
459	.$a42	LDA TMP4_REG
460	.$a45	ADC #3
461	.$a47	STA TMP4_REG
462	.$a4a	BCC RGCNOOV2
463	.$a4c	INC TMP4_REG+1
464	.$a4f	RGCNOOV2 LDA TMP4_REG+1  
465	.$a52	CMP ENDSTRBUF+1
466	.$a55	BEQ RGCLOW1
467	.$a57	BCS GCEXECOMP  
468	.$a59	JMP RGCEXIT
469	.$a5c	RGCLOW1  LDA TMP4_REG
470	.$a5f	CMP ENDSTRBUF
471	.$a62	BCS GCEXECOMP  
472	.$a64	RGCEXIT  RTS     
473	.$a65	GCEXECOMP LDA STRBUFP
474	.$a68	STA STORE4
475	.$a6b	LDA STRBUFP+1
476	.$a6e	STA STORE4+1
477	.$a71	JSR GCEXE
478	.$a74	JMP CHECKMEMORY
481	.$a77	GCEXE  JSR SAVEPOINTERS
482	.$a7a	LDA #0
483	.$a7c	STA LASTVAR
484	.$a7f	STA LASTVAR+1  
485	.$a82	LDA #<STRBUF
486	.$a84	STA TMP_ZP
487	.$a86	STA GCSTART
488	.$a89	LDA #>STRBUF
489	.$a8b	STA TMP_ZP+1  
490	.$a8d	STA GCSTART+1
491	.$a90	GCLOOP  LDY #0
492	.$a92	LDA TMP_ZP
493	.$a94	STA GCWORK
494	.$a97	LDA TMP_ZP+1
495	.$a99	STA GCWORK+1  
496	.$a9c	LDA (TMP_ZP),Y
497	.$a9e	STA GCLEN   
498	.$aa1	INC TMP_ZP
499	.$aa3	BNE GCLOOPNOOV
500	.$aa5	INC TMP_ZP+1
501	.$aa7	GCLOOPNOOV LDA TMP_ZP
502	.$aa9	CLC
503	.$aaa	ADC GCLEN
504	.$aad	STA TMP_ZP
505	.$aaf	BCC GCLOOPNOOV2
506	.$ab1	INC TMP_ZP+1  
507	.$ab3	GCLOOPNOOV2 LDY #0
508	.$ab5	LDA (TMP_ZP),Y
509	.$ab7	STA TMP2_ZP
510	.$ab9	INY
511	.$aba	LDA (TMP_ZP),Y
512	.$abc	STA TMP2_ZP+1  
513	.$abe	LDA TMP_ZP
514	.$ac0	CLC
515	.$ac1	ADC #2
516	.$ac3	STA TMP_ZP
517	.$ac5	BCC GCLOOPNOOV3
518	.$ac7	INC TMP_ZP+1  
519	.$ac9	GCLOOPNOOV3 LDY #0
520	.$acb	LDA (TMP2_ZP),Y
521	.$acd	CMP GCWORK
522	.$ad0	BNE GCKLOOP
523	.$ad2	INY
524	.$ad3	LDA (TMP2_ZP),Y
525	.$ad5	CMP GCWORK+1
526	.$ad8	BEQ MEMFREE
527	.$ada	GCKLOOP  LDA TMP_ZP+1  
528	.$adc	CMP HIGHP+1
529	.$adf	BEQ GCHECKLOW
530	.$ae1	BCC GCLOOP
531	.$ae3	JMP GCDONE
532	.$ae6	GCHECKLOW LDA TMP_ZP
533	.$ae8	CMP HIGHP
534	.$aeb	BCS GCDONE
535	.$aed	JMP GCLOOP
536	.$af0	MEMFREE  LDA GCSTART   
537	.$af3	CMP GCWORK   
538	.$af6	BNE COPYDOWN
539	.$af8	LDA GCSTART+1
540	.$afb	CMP GCWORK+1
541	.$afe	BNE COPYDOWN
542	.$b00	LDA TMP_ZP   
543	.$b02	STA GCSTART
544	.$b05	LDA TMP_ZP+1
545	.$b07	STA GCSTART+1
546	.$b0a	JMP GCKLOOP   
547	.$b0d	COPYDOWN LDA GCSTART   
548	.$b10	STA TMP_REG
549	.$b12	LDA GCSTART+1
550	.$b15	STA TMP_REG+1  
551	.$b17	LDA GCWORK
552	.$b1a	STA TMP2_REG
553	.$b1d	LDA GCWORK+1
554	.$b20	STA TMP2_REG+1  
555	.$b23	LDA TMP_ZP
556	.$b25	SEC
557	.$b26	SBC GCWORK
558	.$b29	STA TMP3_REG
559	.$b2c	LDA TMP_ZP+1
560	.$b2e	SBC GCWORK+1
561	.$b31	STA TMP3_REG+1  
562	.$b34	LDA GCSTART
563	.$b37	CLC
564	.$b38	ADC TMP3_REG
565	.$b3b	STA GCSTART
566	.$b3e	LDA GCSTART+1
567	.$b41	ADC TMP3_REG+1
568	.$b44	STA GCSTART+1  
569	.$b47	JSR QUICKCOPY  
570	.$b4a	LDY #0
571	.$b4c	LDA TMP_REG
572	.$b4e	STA (TMP2_ZP),Y
573	.$b50	INY
574	.$b51	LDA TMP_REG+1
575	.$b53	STA (TMP2_ZP),Y  
576	.$b55	JMP GCKLOOP
577	.$b58	GCDONE  LDA GCSTART
578	.$b5b	STA HIGHP
579	.$b5e	STA STRBUFP
580	.$b61	LDA GCSTART+1
581	.$b64	STA HIGHP+1
582	.$b67	STA STRBUFP+1  
583	.$b6a	GCSKIP  JSR RESTOREPOINTERS
584	.$b6d	RTS     
587	.$b6e	CHECKMEMORY
588	.$b6e	LDA STRBUFP+1  
589	.$b71	CMP STORE4+1  
590	.$b74	BCC STILLFITSCM  
594	.$b76	BEQ CHECKMEMLOWCM
595	.$b78	JMP OUTOFMEMORY  
596	.$b7b	CHECKMEMLOWCM
597	.$b7b	LDA STRBUFP   
598	.$b7e	CMP STORE4
599	.$b81	BCC STILLFITSCM
600	.$b83	JMP OUTOFMEMORY  
601	.$b86	STILLFITSCM RTS
604	.$b87	QUICKCOPY LDA TMP_REG  
605	.$b89	STA TMEM+1
606	.$b8c	LDA TMP_REG+1
607	.$b8e	STA TMEM+2
608	.$b91	LDA TMP2_REG
609	.$b94	STA SMEM+1
610	.$b97	LDA TMP2_REG+1
611	.$b9a	STA SMEM+2
612	.$b9d	LDY #$0
613	.$b9f	LDX TMP3_REG
614	.$ba2	BNE QCLOOP
615	.$ba4	LDA TMP3_REG+1
616	.$ba7	BEQ QCEXIT  
617	.$ba9	QCLOOP
618	.$ba9	SMEM  LDA $0000,Y
619	.$bac	TMEM  STA $0000,Y
620	.$baf	INY
621	.$bb0	BNE YNOOV
622	.$bb2	INC TMEM+2
623	.$bb5	INC SMEM+2
624	.$bb8	YNOOV  DEX
625	.$bb9	BNE QCLOOP
626	.$bbb	LDA TMP3_REG+1
627	.$bbe	BEQ QCEXIT
628	.$bc0	DEC TMP3_REG+1
629	.$bc3	JMP QCLOOP
630	.$bc6	QCEXIT  RTS
633	.$bc7	COPYSTRING STA TMP2_ZP
634	.$bc9	STY TMP2_ZP+1
635	.$bcb	CPY TMP_ZP+1
636	.$bcd	BNE CONTCOPY
637	.$bcf	LDA TMP2_ZP
638	.$bd1	CMP TMP_ZP
639	.$bd3	BNE CONTCOPY
640	.$bd5	RTS     
641	.$bd6	CONTCOPY JSR COMPACT   
642	.$bd9	LDY #0
643	.$bdb	STY TMP_FLAG
644	.$bde	LDA (TMP_ZP),Y
645	.$be0	BNE NOTEMPTYSTR
646	.$be2	LDA #<EMPTYSTR  
647	.$be4	STA TMP_ZP
648	.$be6	LDA #>EMPTYSTR
649	.$be8	STA TMP_ZP+1
650	.$bea	JMP ISCONST
651	.$bed	NOTEMPTYSTR TAX     
652	.$bee	LDA (TMP2_ZP),Y
653	.$bf0	STA TMP3_ZP
654	.$bf2	INY
655	.$bf3	LDA (TMP2_ZP),Y
656	.$bf5	STA TMP3_ZP+1
657	.$bf7	DEY
658	.$bf8	LDA TMP_ZP+1  
659	.$bfa	CMP #>CONSTANTS_END
660	.$bfc	BEQ CHECKLOW1
661	.$bfe	BCS INVAR
662	.$c00	JMP CHECKNEXT
663	.$c03	CHECKLOW1 LDA TMP_ZP
664	.$c05	CMP #<CONSTANTS_END
665	.$c07	BCS INVAR
666	.$c09	CHECKNEXT LDA TMP_ZP+1  
667	.$c0b	CMP #>CONSTANTS
668	.$c0d	BEQ CHECKLOW3
669	.$c0f	BCC INVAR
670	.$c11	JMP ISCONST
671	.$c14	CHECKLOW3 LDA TMP_ZP
672	.$c16	CMP #<CONSTANTS
673	.$c18	BCC INVAR   
674	.$c1a	ISCONST  JSR CHECKLASTVAR 
675	.$c1d	LDA TMP_ZP
676	.$c1f	STA (TMP2_ZP),Y  
677	.$c21	INY
678	.$c22	LDA TMP_ZP+1
679	.$c24	STA (TMP2_ZP),Y
680	.$c26	LDA HIGHP   
681	.$c29	STA STRBUFP
682	.$c2c	LDA HIGHP+1
683	.$c2f	STA STRBUFP+1
684	.$c32	RTS
685	.$c33	INVAR  INY
686	.$c34	LDA (TMP2_ZP),Y  
687	.$c36	CMP #>CONSTANTS_END
688	.$c38	BEQ CHECKLOW2
689	.$c3a	BCS INVAR2
690	.$c3c	JMP PUPDATEPTR
691	.$c3f	CHECKLOW2 DEY
692	.$c40	LDA (TMP2_ZP),Y
693	.$c42	CMP #<CONSTANTS_END
694	.$c44	BCS INVAR2
695	.$c46	JMP PUPDATEPTR
696	.$c49	INVAR2  LDY #0   
697	.$c4b	LDA (TMP3_ZP),Y
698	.$c4d	STA TMP_REG
699	.$c4f	TXA
700	.$c50	CMP TMP_REG  
701	.$c52	BEQ UPDATEHP2 
704	.$c54	PUPDATEPTR JSR CHECKLASTVAR
705	.$c57	LDY #1   
706	.$c59	STY TMP_FLAG 
707	.$c5c	JMP UPDATEPTR 
708	.$c5f	UPDATEHP2 LDA HIGHP  
709	.$c62	STA STRBUFP
710	.$c65	LDA HIGHP+1
711	.$c68	STA STRBUFP+1
712	.$c6b	JMP STRFITS
713	.$c6e	COPYONLY LDY #0
714	.$c70	STY TMP_FLAG
715	.$c73	JMP CHECKMEM
716	.$c76	ALTCOPY  JMP COPYSTRING2
717	.$c79	UPDATEPTR LDA TMP_ZP+1 
718	.$c7b	CMP HIGHP+1  
719	.$c7e	BEQ CHECKXT1
720	.$c80	BCS ALTCOPY
721	.$c82	JMP CHECKMEM
722	.$c85	CHECKXT1 LDA TMP_ZP
723	.$c87	CMP HIGHP
724	.$c8a	BCS ALTCOPY
725	.$c8c	CHECKMEM
726	.$c8c	MEMOK  LDY #0
727	.$c8e	LDA STRBUFP  
728	.$c91	STA (TMP2_ZP),Y 
729	.$c93	STA TMP3_ZP
730	.$c95	LDA STRBUFP+1
731	.$c98	INY
732	.$c99	STA (TMP2_ZP),Y
733	.$c9b	STA TMP3_ZP+1
734	.$c9d	TXA
735	.$c9e	CLC
736	.$c9f	ADC STRBUFP
737	.$ca2	PHP
738	.$ca3	CLC
739	.$ca4	ADC #3
740	.$ca6	STA STRBUFP
741	.$ca9	BCC NOCS1
742	.$cab	INC STRBUFP+1
743	.$cae	NOCS1  PLP
744	.$caf	BCC STRFITS
745	.$cb1	INC STRBUFP+1
746	.$cb4	STRFITS  LDY TMP_FLAG 
747	.$cb7	BEQ NOHPUPDATE 
748	.$cb9	LDA HIGHP+1
749	.$cbc	CMP STRBUFP+1
750	.$cbf	BCC UPDATEHIGHP
751	.$cc1	BEQ CHECKNEXTHP
752	.$cc3	JMP NOHPUPDATE
753	.$cc6	CHECKNEXTHP LDA HIGHP
754	.$cc9	CMP STRBUFP
755	.$ccc	BCC UPDATEHIGHP
756	.$cce	JMP NOHPUPDATE
757	.$cd1	UPDATEHIGHP LDA STRBUFP
758	.$cd4	STA HIGHP
759	.$cd7	LDA STRBUFP+1
760	.$cda	STA HIGHP+1  
761	.$cdd	JSR REMEMBERLASTVAR
762	.$ce0	JSR STOREVARREF
763	.$ce3	NOHPUPDATE LDY #0
764	.$ce5	LDA (TMP_ZP),Y 
765	.$ce7	STA (TMP3_ZP),Y
766	.$ce9	TAY    
767	.$cea	BEQ EXITCOPY 
768	.$cec	LOOP  LDA (TMP_ZP),Y 
769	.$cee	STA (TMP3_ZP),Y
770	.$cf0	DEY
771	.$cf1	BNE LOOP
772	.$cf3	EXITCOPY RTS
777	.$cf4	COPYSTRING2 LDY #0
778	.$cf6	LDA (TMP_ZP),Y
779	.$cf8	STA TMP_REG
780	.$cfa	TAX
781	.$cfb	LDA HIGHP
782	.$cfe	STA TMP3_ZP
783	.$d00	STA (TMP2_ZP),Y
784	.$d02	LDA HIGHP+1
785	.$d05	STA TMP3_ZP+1
786	.$d07	INY
787	.$d08	STA (TMP2_ZP),Y
788	.$d0a	JSR REMEMBERLASTVAR
791	.$d0d	LDA TMP_ZP
792	.$d0f	CMP TMP3_ZP
793	.$d11	BNE DOLOOP
794	.$d13	LDA TMP_ZP+1
795	.$d15	CMP TMP3_ZP+1
796	.$d17	BEQ SKIPCP2
797	.$d19	DOLOOP  DEY
798	.$d1a	TXA
799	.$d1b	STA (TMP3_ZP),Y
800	.$d1d	INY
801	.$d1e	ASLOOP  LDA (TMP_ZP),Y
802	.$d20	STA (TMP3_ZP),Y
803	.$d22	INY
804	.$d23	DEX
805	.$d24	BNE ASLOOP
806	.$d26	SKIPCP2  LDA HIGHP
807	.$d29	CLC
808	.$d2a	ADC TMP_REG
809	.$d2c	PHP
810	.$d2d	CLC
811	.$d2e	ADC #3
812	.$d30	STA HIGHP
813	.$d33	STA STRBUFP
814	.$d36	BCC SKIPLOWAS1
815	.$d38	INC HIGHP+1
816	.$d3b	SKIPLOWAS1 PLP
817	.$d3c	BCC SKIPLOWAS2
818	.$d3e	INC HIGHP+1
819	.$d41	SKIPLOWAS2 LDA HIGHP+1
820	.$d44	STA STRBUFP+1
821	.$d47	JSR STOREVARREF
822	.$d4a	RTS
826	.$d4b	CHECKLASTVAR
827	.$d4b	LDA TMP2_ZP
828	.$d4d	CMP LASTVAR
829	.$d50	BNE NOTSAMEVAR
830	.$d52	LDA TMP2_ZP+1
831	.$d54	CMP LASTVAR+1
832	.$d57	BNE NOTSAMEVAR
833	.$d59	LDA LASTVARP   
834	.$d5c	STA HIGHP
835	.$d5f	STA STRBUFP
836	.$d62	LDA LASTVARP+1
837	.$d65	STA HIGHP+1
838	.$d68	STA STRBUFP+1
839	.$d6b	NOTSAMEVAR RTS
843	.$d6c	REMEMBERLASTVAR
844	.$d6c	LDA TMP2_ZP
845	.$d6e	STA LASTVAR
846	.$d71	LDA TMP2_ZP+1
847	.$d73	STA LASTVAR+1
848	.$d76	LDA TMP3_ZP
849	.$d78	STA LASTVARP
850	.$d7b	LDA TMP3_ZP+1
851	.$d7d	STA LASTVARP+1 
852	.$d80	RTS
857	.$d81	STOREVARREF
858	.$d81	TYA
859	.$d82	PHA    
860	.$d83	LDA TMP_ZP
861	.$d85	PHA
862	.$d86	LDA TMP_ZP+1
863	.$d88	PHA
864	.$d89	LDA HIGHP+1
865	.$d8c	STA TMP_ZP+1
866	.$d8e	LDA HIGHP
867	.$d91	SEC
868	.$d92	SBC #2
869	.$d94	STA TMP_ZP
870	.$d96	BCS RLVNOOV
871	.$d98	DEC TMP_ZP+1
872	.$d9a	RLVNOOV  LDA TMP2_ZP
873	.$d9c	LDY #0
874	.$d9e	STA (TMP_ZP),Y
875	.$da0	LDA TMP2_ZP+1
876	.$da2	INY
877	.$da3	STA (TMP_ZP),Y 
878	.$da5	PLA
879	.$da6	STA TMP_ZP+1
880	.$da8	PLA
881	.$da9	STA TMP_ZP  
882	.$dab	PLA
883	.$dac	TAY    
884	.$dad	RTS
887	.$dae	REROUTE  LDA CMD_NUM  
888	.$db1	BEQ REROUTECMD
889	.$db3	TAX
890	.$db4	STA CHANNEL
891	.$db7	JMP CHKOUT
892	.$dba	REROUTECMD RTS
895	.$dbb	RESETROUTE LDA CMD_NUM  
896	.$dbe	BEQ RESETROUTECMD
897	.$dc0	JMP CLRCHNEW
898	.$dc3	RESETROUTECMD
899	.$dc3	RTS
902	.$dc4	INTOUTBRK   JMP REALOUTBRK
905	.$dc7	INTOUTFASTZ LDX #32    
906	.$dc9	LDA TMP_ZP+1
907	.$dcb	BPL INTISPOS
908	.$dcd	CLC
909	.$dce	LDA TMP_ZP
910	.$dd0	EOR #$FF
911	.$dd2	ADC #1
912	.$dd4	STA TMP_ZP
913	.$dd6	LDA TMP_ZP+1
914	.$dd8	EOR #$FF
915	.$dda	ADC #0
916	.$ddc	STA TMP_ZP+1
917	.$dde	LDX #45    
918	.$de0	INTISPOS
919	.$de0	TXA
920	.$de1	JSR CHROUT
921	.$de4	JSR CONVPOSINT
922	.$de7	LDA NUMFLAG
923	.$dea	BNE ALLINTOUTDONE
924	.$dec	LDA #48
925	.$dee	JSR CHROUT
926	.$df1	ALLINTOUTDONE
927	.$df1	RTS
930	.$df2	NUMBEROUT
931	.$df2	BEQ NUMZERO
932	.$df4	ORA #$30
933	.$df6	STA NUMFLAG
934	.$df9	JMP CHROUT
935	.$dfc	NUMZERO
936	.$dfc	LDX NUMFLAG
937	.$dff	BEQ STILLZERO
938	.$e01	ORA #$30
939	.$e03	JMP CHROUT
940	.$e06	STILLZERO
941	.$e06	RTS
944	.$e07	CONVPOSINT
945	.$e07	JSR INT2BCD
946	.$e0a	LDX #0
947	.$e0c	STX NUMFLAG
948	.$e0f	AND #$0F
949	.$e11	JSR NUMBEROUT
950	.$e14	LDA BCD+1
951	.$e17	LSR
952	.$e18	LSR
953	.$e19	LSR
954	.$e1a	LSR
955	.$e1b	JSR NUMBEROUT
956	.$e1e	LDA BCD+1
957	.$e21	AND #$0F
958	.$e23	TAY
959	.$e24	JSR NUMBEROUT
960	.$e27	LDA BCD
961	.$e2a	LSR
962	.$e2b	LSR
963	.$e2c	LSR
964	.$e2d	LSR
965	.$e2e	JSR NUMBEROUT
966	.$e31	LDA BCD
967	.$e34	AND #$0F
968	.$e36	JSR NUMBEROUT
969	.$e39	RTS
972	.$e3a	INT2BCD
973	.$e3a	SED
974	.$e3b	LDA #0
975	.$e3d	STA BCD
976	.$e40	STA BCD+1
977	.$e43	STA BCD+2
978	.$e46	ASL TMP_ZP
979	.$e48	ROL TMP_ZP+1
980	.$e4a	LDA BCD
981	.$e4d	ADC BCD
982	.$e50	STA BCD
983	.$e53	ASL TMP_ZP
984	.$e55	ROL TMP_ZP+1
985	.$e57	ADC BCD
986	.$e5a	STA BCD
987	.$e5d	ASL TMP_ZP
988	.$e5f	ROL TMP_ZP+1
989	.$e61	ADC BCD
990	.$e64	STA BCD
991	.$e67	ASL TMP_ZP
992	.$e69	ROL TMP_ZP+1
993	.$e6b	ADC BCD
994	.$e6e	STA BCD
995	.$e71	ASL TMP_ZP
996	.$e73	ROL TMP_ZP+1
997	.$e75	ADC BCD
998	.$e78	STA BCD
999	.$e7b	ASL TMP_ZP
1000	.$e7d	ROL TMP_ZP+1
1001	.$e7f	ADC BCD
1002	.$e82	STA BCD
1003	.$e85	LDX #7
1004	.$e87	BCDBIT1
1005	.$e87	ASL TMP_ZP
1006	.$e89	ROL TMP_ZP+1
1007	.$e8b	LDA BCD
1008	.$e8e	ADC BCD
1009	.$e91	STA BCD
1010	.$e94	LDA BCD+1
1011	.$e97	ADC BCD+1
1012	.$e9a	STA BCD+1
1013	.$e9d	DEX
1014	.$e9e	BNE BCDBIT1
1015	.$ea0	LDX #3
1016	.$ea2	BCDBIT2
1017	.$ea2	ASL TMP_ZP
1018	.$ea4	ROL TMP_ZP+1
1019	.$ea6	LDA BCD
1020	.$ea9	ADC BCD
1021	.$eac	STA BCD
1022	.$eaf	LDA BCD+1
1023	.$eb2	ADC BCD+1
1024	.$eb5	STA BCD+1
1025	.$eb8	LDA BCD+2
1026	.$ebb	ADC BCD+2
1027	.$ebe	STA BCD+2
1028	.$ec1	DEX
1029	.$ec2	BNE BCDBIT2
1030	.$ec4	CLD
1031	.$ec5	RTS
1032	.$ec6	BCD
1033	.$ec6	.WORD 0 0
1034	.$eca	NUMFLAG
1035	.$eca	.BYTE 0
1038	.$ecb	REALOUTFAST JSR FACINT
1039	.$ece	STA TMP_ZP+1
1040	.$ed0	STY TMP_ZP
1041	.$ed2	JMP INTOUTFASTZ
1044	.$ed5	CHECKFORFASTOUT
1045	.$ed5	JSR REROUTE
1046	.$ed8	JSR XREGFAC
1047	.$edb	LDA FACEXP
1048	.$edd	CMP #$90
1049	.$edf	BCS REALOUTINT
1050	.$ee1	CMP #$81
1051	.$ee3	BCC REALOUTINT
1052	.$ee5	MAYBEREALOUTFAST
1053	.$ee5	LDA FACEXP+3
1054	.$ee7	BNE REALOUTINT
1055	.$ee9	LDA FACEXP+4
1056	.$eeb	BNE REALOUTINT
1057	.$eed	LDA FACEXP
1058	.$eef	SEC
1059	.$ef0	SBC #129
1060	.$ef2	ASL
1061	.$ef3	TAX
1062	.$ef4	LDA FACEXP+1
1063	.$ef6	AND MANTMASK,X
1064	.$ef9	BNE REALOUTINT
1065	.$efb	INX
1066	.$efc	LDA FACEXP+2
1067	.$efe	AND MANTMASK,X
1068	.$f01	BNE REALOUTINT
1069	.$f03	JMP REALOUTFAST
1070	.$f06	REALOUTINT LDY #0
1071	.$f08	JSR FACSTR
1072	.$f0b	LDY #0
1073	.$f0d	LDA LOFBUF,Y
1074	.$f10	STRLOOPRO JSR CHROUT
1075	.$f13	INY
1076	.$f14	LDA LOFBUF,Y
1077	.$f17	BNE STRLOOPRO
1078	.$f19	RTS
1079	.$f1a	MANTMASK
1080	.$f1a	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
1083	.$f38	REALOUTBRK  LDA X_REG
1084	.$f3a	BNE RNOTNULLBRK
1085	.$f3c	JMP PRINTNULLBRK
1086	.$f3f	RNOTNULLBRK JSR CHECKFORFASTOUT
1087	.$f42	LDA #$0D
1088	.$f44	JSR CHROUT
1089	.$f47	JMP RESETROUTE
1092	.$f4a	PRINTNULLBRK
1093	.$f4a	JSR REROUTE
1094	.$f4d	LDA #$20
1095	.$f4f	JSR CHROUT
1096	.$f52	LDA #$30
1097	.$f54	JSR CHROUT
1098	.$f57	LDA #$0D
1099	.$f59	JSR CHROUT
1100	.$f5c	JMP RESETROUTE
1103	.$f5f	STROUTWL STA A_REG
1104	.$f62	STY A_REG+1
1105	.$f65	STROUT  JSR REROUTE
1106	.$f68	LDA A_REG
1107	.$f6b	STA INDEX1
1108	.$f6d	LDA A_REG+1
1109	.$f70	STA INDEX1+1
1110	.$f72	LDY #0
1111	.$f74	LDA (INDEX1),Y
1112	.$f76	TAX
1113	.$f77	INC INDEX1
1114	.$f79	BNE PRINTSTR
1115	.$f7b	INC INDEX1+1
1116	.$f7d	PRINTSTR JSR PRINTSTRS
1117	.$f80	LDA HIGHP   
1118	.$f83	STA STRBUFP
1119	.$f86	LDA HIGHP+1
1120	.$f89	STA STRBUFP+1
1121	.$f8c	JSR RESETROUTE
1122	.$f8f	RTS
1125	.$f90	STROUTBRKWL STA A_REG
1126	.$f93	STY A_REG+1
1127	.$f96	STROUTBRK JSR REROUTE
1128	.$f99	LDA A_REG
1129	.$f9c	STA INDEX1
1130	.$f9e	LDA A_REG+1
1131	.$fa1	STA INDEX1+1
1132	.$fa3	LDY #0
1133	.$fa5	LDA (INDEX1),Y
1134	.$fa7	TAX
1135	.$fa8	INC INDEX1
1136	.$faa	BNE PRINTSTR2
1137	.$fac	INC INDEX1+1
1138	.$fae	PRINTSTR2 JSR PRINTSTRS
1139	.$fb1	LDA HIGHP   
1140	.$fb4	STA STRBUFP
1141	.$fb7	LDA HIGHP+1
1142	.$fba	STA STRBUFP+1
1143	.$fbd	LDA #$0D
1144	.$fbf	JSR CHROUT
1145	.$fc2	JMP RESETROUTE  
1148	.$fc5	FRE
1149	.$fc5	JSR GCEXE
1150	.$fc8	LDA ENDSTRBUF
1151	.$fcb	SEC
1152	.$fcc	SBC STRBUFP
1153	.$fcf	TAY
1154	.$fd0	LDA ENDSTRBUF+1
1155	.$fd3	SBC STRBUFP+1
1156	.$fd6	JSR INTFAC
1157	.$fd9	JMP FACXREG
1160	.$fdc	TABOUT  JSR REROUTE
1161	.$fdf	LDA CMD_NUM
1162	.$fe2	BEQ NORMALTABOUT  
1163	.$fe4	CMP #3
1164	.$fe6	BEQ NORMALTABOUT2  
1165	.$fe8	JMP TABOUTCHANNEL2
1166	.$feb	NORMALTABOUT2
1167	.$feb	JSR CLRCHNEW
1168	.$fee	NORMALTABOUT
1169	.$fee	SEC
1170	.$fef	JSR CRSRPOS
1171	.$ff2	TYA
1172	.$ff3	SEC
1173	.$ff4	TABSUB   SBC #$0A
1174	.$ff6	BCS TABSUB
1175	.$ff8	EOR #$FF
1176	.$ffa	ADC #$01
1177	.$ffc	TAX
1178	.$ffd	INX
1179	.$ffe	TABLOOP  DEX
1180	.$fff	BNE TABRIGHT
1181	.$1001	RTS
1182	.$1002	TABRIGHT JSR CRSRRIGHT
1183	.$1005	JMP TABLOOP
1186	.$1008	GETADOLLAR JSR GETSTR  
1187	.$100b	LDA A_REG
1188	.$100e	LDY A_REG+1
1189	.$1011	STA TMP_ZP
1190	.$1013	STY TMP_ZP+1
1191	.$1015	LDA #<VAR_A$
1192	.$1017	LDY #>VAR_A$
1193	.$1019	JMP COPYSTRING
1196	.$101c	GETSTR  LDA #8
1197	.$101e	LDY #0
1198	.$1020	JSR COMPACTF
1199	.$1023	LDY #0
1200	.$1025	STY CMD_NUM  
1201	.$1028	JSR GETIN
1202	.$102b	CMP #0   
1203	.$102d	BNE SOMEKEY
1204	.$102f	NOKEY  LDA #<EMPTYSTR
1205	.$1031	STA A_REG
1206	.$1034	LDA #>EMPTYSTR
1207	.$1036	STA A_REG+1
1208	.$1039	RTS
1209	.$103a	SOMEKEY  TAX
1210	.$103b	LDA STRBUFP
1211	.$103e	STA TMP_ZP
1212	.$1040	STA A_REG
1213	.$1043	LDA STRBUFP+1
1214	.$1046	STA TMP_ZP+1
1215	.$1048	STA A_REG+1
1216	.$104b	LDA #1
1217	.$104d	LDY #0
1218	.$104f	STA (TMP_ZP),Y
1219	.$1051	TXA
1220	.$1052	LDY #1
1221	.$1054	STA (TMP_ZP),Y
1222	.$1056	LDA STRBUFP
1223	.$1059	CLC
1224	.$105a	ADC #2
1225	.$105c	STA STRBUFP
1226	.$105f	BCC GETSTR1
1227	.$1061	INC STRBUFP+1
1228	.$1064	GETSTR1  RTS
1231	.$1065	ZEROSET  LDA #0
1232	.$1067	STA X_REG
1233	.$1069	STA X_REG+1
1234	.$106b	STA X_REG+2
1235	.$106d	STA X_REG+3
1236	.$106f	STA X_REG+4
1237	.$1071	RTS
1240	.$1072	SEQ   JSR CMPSTR
1241	.$1075	LDA TMP3_ZP
1242	.$1077	BNE NOTSEQ
1243	.$1079	LDA #<REAL_CONST_MINUS_ONE
1244	.$107b	STA TMP3_ZP
1245	.$107d	LDA #>REAL_CONST_MINUS_ONE
1246	.$107f	STA TMP3_ZP+1
1247	.$1081	JMP COPY2_XY_XREG
1248	.$1084	NOTSEQ  JMP ZEROSET
1251	.$1087	SNEQ  JSR CMPSTR
1252	.$108a	LDA TMP3_ZP
1253	.$108c	BEQ NOTSEQ
1254	.$108e	LDA #<REAL_CONST_MINUS_ONE
1255	.$1090	STA TMP3_ZP
1256	.$1092	LDA #>REAL_CONST_MINUS_ONE
1257	.$1094	STA TMP3_ZP+1
1258	.$1096	JMP COPY2_XY_XREG
1261	.$1099	CMPSTR  LDY #0   
1262	.$109b	LDX #1
1263	.$109d	LDA A_REG
1264	.$10a0	STA TMP_ZP
1265	.$10a2	LDA A_REG+1
1266	.$10a5	STA TMP_ZP+1
1267	.$10a7	LDA B_REG
1268	.$10aa	STA TMP2_ZP
1269	.$10ac	LDA B_REG+1
1270	.$10af	STA TMP2_ZP+1
1271	.$10b1	CMP TMP_ZP+1
1272	.$10b3	BNE CMPSTRSK1
1273	.$10b5	LDA TMP2_ZP
1274	.$10b7	CMP TMP_ZP
1275	.$10b9	BNE CMPSTRSK1
1276	.$10bb	LDX #0
1277	.$10bd	JMP STRCMPRES
1278	.$10c0	CMPSTRSK1 LDA (TMP_ZP),Y
1279	.$10c2	CMP (TMP2_ZP),Y
1280	.$10c4	BNE STRCMPRES
1281	.$10c6	TAX
1282	.$10c7	BNE NOTZCTR
1283	.$10c9	LDX #0
1284	.$10cb	JMP STRCMPRES
1285	.$10ce	NOTZCTR  INC TMP_ZP
1286	.$10d0	BNE SCSKP1
1287	.$10d2	INC TMP_ZP+1
1288	.$10d4	SCSKP1  INC TMP2_ZP
1289	.$10d6	BNE CMPSTRLOOP
1290	.$10d8	INC TMP2_ZP+1
1291	.$10da	CMPSTRLOOP LDA (TMP_ZP),Y
1292	.$10dc	CMP (TMP2_ZP),Y
1293	.$10de	BNE STRCMPRES
1294	.$10e0	INY
1295	.$10e1	DEX
1296	.$10e2	BNE CMPSTRLOOP
1297	.$10e4	STRCMPRES STX TMP3_ZP
1298	.$10e6	RTS
1301	.$10e7	COPY2_XYA_XREG
1302	.$10e7	STA TMP3_ZP
1303	.$10e9	STY TMP3_ZP+1
1304	.$10eb	COPY2_XY_XREG
1305	.$10eb	LDX #<X_REG  
1306	.$10ed	LDY #0
1307	.$10ef	LDA (TMP3_ZP),Y
1308	.$10f1	STA X_REG
1309	.$10f3	INY
1310	.$10f4	LDA (TMP3_ZP),Y
1311	.$10f6	STA X_REG+1
1312	.$10f8	INY
1313	.$10f9	LDA (TMP3_ZP),Y
1314	.$10fb	STA X_REG+2
1315	.$10fd	INY
1316	.$10fe	LDA (TMP3_ZP),Y
1317	.$1100	STA X_REG+3
1318	.$1102	INY
1319	.$1103	LDA (TMP3_ZP),Y
1320	.$1105	STA X_REG+4
1321	.$1107	RTS
1324	.$1108	COPY2_XYA_YREG
1325	.$1108	STA TMP3_ZP
1326	.$110a	STY TMP3_ZP+1
1327	.$110c	COPY2_XY_YREG
1328	.$110c	LDX #<Y_REG  
1329	.$110e	LDY #0
1330	.$1110	LDA (TMP3_ZP),Y
1331	.$1112	STA Y_REG
1332	.$1115	INY
1333	.$1116	LDA (TMP3_ZP),Y
1334	.$1118	STA Y_REG+1
1335	.$111b	INY
1336	.$111c	LDA (TMP3_ZP),Y
1337	.$111e	STA Y_REG+2
1338	.$1121	INY
1339	.$1122	LDA (TMP3_ZP),Y
1340	.$1124	STA Y_REG+3
1341	.$1127	INY
1342	.$1128	LDA (TMP3_ZP),Y
1343	.$112a	STA Y_REG+4
1344	.$112d	RTS
1348	.$112e	FACWORD
1349	.$112e	LDA FACEXP   
1350	.$1130	BNE DOFACWORD
1351	.$1132	STA FACSGN   
1352	.$1134	DOFACWORD:
1353	.$1134	JMP XFACWORD
1357	.$1137	INITOUTCHANNEL
1358	.$1137	LDA CHLOCKFLAG
1359	.$113a	BEQ INITOUT2
1360	.$113c	CMP #$FF
1361	.$113e	BNE SKIPINITCH
1362	.$1140	INITOUT2
1363	.$1140	LDA #<C_REG
1364	.$1142	LDY #>C_REG
1365	.$1144	JSR REALFAC
1366	.$1147	JSR FACWORD
1367	.$114a	TYA
1368	.$114b	TAX
1369	.$114c	CPX CMD_NUM
1370	.$114f	BNE CMDNEQUAL
1371	.$1151	LDY #0
1372	.$1153	STY CMD_NUM   
1373	.$1156	CMDNEQUAL STA CHANNEL
1374	.$1159	STA CHLOCKFLAG
1375	.$115c	JMP CHKOUT
1376	.$115f	SKIPINITCH
1377	.$115f	RTS
1380	.$1160	CLRCHNEW
1381	.$1160	LDA CHLOCKFLAG
1382	.$1163	BNE SKIPCLRCH
1383	.$1165	JMP CLRCH
1384	.$1168	SKIPCLRCH
1385	.$1168	RTS
1388	.$1169	TABOUTCHANNEL
1389	.$1169	JSR INITOUTCHANNEL
1390	.$116c	LDA CHANNEL
1391	.$116f	CMP #3  
1392	.$1171	BEQ TABOUTSCREEN
1393	.$1173	TABOUTCHANNEL2
1394	.$1173	LDA IOCHANNEL
1395	.$1175	STA STORE1
1396	.$1178	LDA #1
1397	.$117a	STA IOCHANNEL  
1398	.$117c	LDX #10
1399	.$117e	JMP EXITCHANNEL
1400	.$1181	TABOUTSCREEN
1401	.$1181	JSR CLRCHNEW
1402	.$1184	JMP TABOUT
1405	.$1187	EXITCHANNEL CLC
1406	.$1188	JSR TABSPC
1407	.$118b	JSR CLRCHNEW
1408	.$118e	LDA STORE1
1409	.$1191	STA IOCHANNEL
1410	.$1193	RTS
1413	.$1194	OUTOFMEMORY
1417	.$1194	LDX #$10
1418	.$1196	JMP ERRALL
1421	.$1199	FACXREG  LDA FACLO
1422	.$119b	STA X_REG+4
1423	.$119d	LDA FACMO
1424	.$119f	STA X_REG+3
1425	.$11a1	LDA FACMOH
1426	.$11a3	STA X_REG+2
1427	.$11a5	LDA FACSGN
1428	.$11a7	ORA #$7F
1429	.$11a9	AND FACHO
1430	.$11ab	STA X_REG+1
1431	.$11ad	LDA FACEXP
1432	.$11af	STA X_REG
1433	.$11b1	LDA #0   
1434	.$11b3	STA FACOV
1435	.$11b5	RTS
1438	.$11b6	XREGFAC  LDA X_REG+4
1439	.$11b8	STA FACLO
1440	.$11ba	LDA X_REG+3
1441	.$11bc	STA FACMO
1442	.$11be	LDA X_REG+2
1443	.$11c0	STA FACMOH
1444	.$11c2	LDA X_REG+1
1445	.$11c4	STA FACSGN
1446	.$11c6	ORA #$80
1447	.$11c8	STA FACHO
1448	.$11ca	LDA X_REG
1449	.$11cc	STA FACEXP
1450	.$11ce	LDA #0
1451	.$11d0	STA FACOV
1452	.$11d2	RTS
1566	.$11d3	INITVARS
1567	.$11d3	JSR INITSTRVARS
1568	.$11d6	LDA #0
1569	.$11d8	RTS
1573	.$11d9	CONSTANTS
1575	.$11d9	CONST_0 .BYTE 1
1576	.$11da	.STRG "y"
1578	.$11db	CONST_1R
1579	.$11db	CONST_1 .REAL 0
1581	.$11e0	CONST_2 .BYTE 4
1582	.$11e1	.STRG "yeah"
1584	.$11e5	CONST_3 .BYTE 0
1585	.$11e6	.STRG ""
1587	.$11e6	CONST_4 .BYTE 12
1588	.$11e7	.STRG "{clr}{white}"
1591	.$11e9	DATAS
1592	.$11e9	.BYTE $FF
1594	.$11ea	CONSTANTS_END
1597	.$11ea	VARIABLES
1598	.$11ea	STRINGVARS_START
1600	.$11ea	VAR_A$ .WORD EMPTYSTR
1602	.$11ec	VAR_TI$ .WORD EMPTYSTR
1603	.$11ee	STRINGVARS_END
1604	.$11ee	STRINGARRAYS_START
1605	.$11ee	STRINGARRAYS_END
1606	.$11ee	VARIABLES_END
1608	.$11ee	Y_REG .REAL 0.0
1609	.$11f3	C_REG .REAL 0.0
1610	.$11f8	D_REG .REAL 0.0
1611	.$11fd	E_REG .REAL 0.0
1612	.$1202	F_REG .REAL 0.0
1613	.$1207	A_REG .WORD 0
1614	.$1209	B_REG .WORD 0
1615	.$120b	CMD_NUM .BYTE 0
1616	.$120c	CHANNEL .BYTE 0
1617	.$120d	SP_SAVE .BYTE 0
1618	.$120e	TMP2_REG .WORD 0
1619	.$1210	TMP3_REG .WORD 0
1620	.$1212	TMP4_REG .WORD 0
1621	.$1214	AS_TMP .WORD 0
1622	.$1216	BPOINTER_TMP .WORD 0
1623	.$1218	BASICTEXTP .BYTE 0
1624	.$1219	STORE1 .WORD 0
1625	.$121b	STORE2 .WORD 0
1626	.$121d	STORE3 .WORD 0
1627	.$121f	STORE4 .WORD 0
1628	.$1221	GCSTART .WORD 0
1629	.$1223	GCLEN .WORD 0
1630	.$1225	GCWORK .WORD 0
1631	.$1227	INPUTLENGTH .BYTE 0
1632	.$1228	TMP_FREG .REAL 0
1633	.$122d	TMP2_FREG .REAL 0
1634	.$1232	TMP_FLAG .BYTE 0
1635	.$1233	INT_FLAG .BYTE 0
1636	.$1234	REAL_CONST_ONE .REAL 1.0
1637	.$1239	REAL_CONST_ZERO .REAL 0.0
1638	.$123e	REAL_CONST_MINUS_ONE .REAL -1.0
1639	.$1243	CHLOCKFLAG .BYTE 0
1640	.$1244	EMPTYSTR .BYTE 0
1641	.$1245	FPSTACKP .WORD FPSTACK
1642	.$1247	FORSTACKP .WORD FORSTACK
1643	.$1249	DATASP .WORD DATAS
1644	.$124b	LASTVAR .WORD 0
1645	.$124d	LASTVARP .WORD 0
1646	.$124f	HIGHP .WORD STRBUF
1647	.$1251	STRBUFP .WORD STRBUF
1648	.$1253	ENDSTRBUF .WORD 0
1649	.$1255	INPUTQUEUEP .BYTE 0
1650	.$1256	PROGRAMEND
1651	.$1256	INPUTQUEUE .ARRAY $0F
1652	.$1265	FPSTACK .ARRAY 100
1653	.$12c9	FORSTACK .ARRAY 340
1654	.$141d	STRBUF .BYTE 0
