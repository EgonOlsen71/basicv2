117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
128	.$81f	JSR GETNUMBER
129	.$822	JSR YREGFAC
131	.$825	LDX #<VAR_A
132	.$827	LDY #>VAR_A
134	.$829	JSR FACMEM
136	.$82c	LINE_20:
138	.$82c	LDA #<VAR_A
139	.$82e	LDY #>VAR_A
140	.$830	JSR COPY2_XYA_XREG
144	.$833	JSR REALOUTBRK
147	.$836	LINE_40:
149	.$836	JMP LINE_10
150	.$839	JSR END
151	.$83c	RTS
154	.$83d	END   LDX SP_SAVE
155	.$840	TXS
162	.$841	RTS
165	.$842	START  LDA ENDSTRBUF+1
166	.$845	BNE ENDGIVEN
167	.$847	LDA BASICEND
168	.$849	STA ENDSTRBUF
169	.$84c	LDA BASICEND+1
170	.$84e	STA ENDSTRBUF+1
171	.$851	ENDGIVEN LDA #<FPSTACK
172	.$853	LDY #>FPSTACK
173	.$855	STA FPSTACKP
174	.$858	STY FPSTACKP+1
175	.$85b	LDA #<FORSTACK
176	.$85d	LDY #>FORSTACK
177	.$85f	STA FORSTACKP
178	.$862	STY FORSTACKP+1
179	.$865	LDA #<STRBUF
180	.$867	LDY #>STRBUF
181	.$869	STA STRBUFP
182	.$86c	STY STRBUFP+1
183	.$86f	STA HIGHP
184	.$872	STY HIGHP+1
185	.$875	LDA #0
186	.$877	STA CHLOCKFLAG
187	.$87a	STA LASTVAR
188	.$87d	STA LASTVAR+1
189	.$880	JSR INITVARS
190	.$883	LDA #0
191	.$885	STA CMD_NUM
192	.$888	STA CHANNEL
193	.$88b	TAY
194	.$88c	TAX
198	.$88d	STA KEYNDX
204	.$88f	JSR RESTORE
205	.$892	CLC
209	.$893	RTS
212	.$894	INITNARRAY
213	.$894	STA TMP_ZP
214	.$896	STY TMP_ZP+1
215	.$898	LDY #0
216	.$89a	TYA
217	.$89b	NINITLOOP STA (TMP_ZP),Y
218	.$89d	INC TMP_ZP
219	.$89f	BNE NLOOPNOV
220	.$8a1	INC TMP_ZP+1
221	.$8a3	NLOOPNOV LDX TMP2_ZP
222	.$8a5	BNE NLOOPNOV2
223	.$8a7	DEC TMP2_ZP+1
224	.$8a9	NLOOPNOV2 DEC TMP2_ZP
225	.$8ab	BNE NINITLOOP
226	.$8ad	LDX TMP2_ZP+1
227	.$8af	BNE NINITLOOP
228	.$8b1	RTS
231	.$8b2	INITSTRARRAY
232	.$8b2	STA TMP_ZP
233	.$8b4	STY TMP_ZP+1
234	.$8b6	SINITLOOP LDY #0
235	.$8b8	LDA #<EMPTYSTR
236	.$8ba	STA (TMP_ZP),Y
237	.$8bc	LDA #>EMPTYSTR
238	.$8be	INY
239	.$8bf	STA (TMP_ZP),Y
240	.$8c1	CLC
241	.$8c2	LDA TMP_ZP
242	.$8c4	ADC #2
243	.$8c6	STA TMP_ZP
244	.$8c8	BCC SLOOPNOV1
245	.$8ca	INC TMP_ZP+1
246	.$8cc	SLOOPNOV1 SEC
247	.$8cd	LDA TMP2_ZP
248	.$8cf	SBC #2
249	.$8d1	STA TMP2_ZP
250	.$8d3	BCS SLOOPNOV2
251	.$8d5	DEC TMP2_ZP+1
252	.$8d7	SLOOPNOV2 LDA TMP2_ZP
253	.$8d9	BNE SINITLOOP
254	.$8db	LDA TMP2_ZP+1
255	.$8dd	BNE SINITLOOP
256	.$8df	RTS
259	.$8e0	INITSPARAMS STA TMP3_ZP
260	.$8e2	STY TMP3_ZP+1
261	.$8e4	SEC
262	.$8e5	SBC #2
263	.$8e7	STA TMP_ZP
264	.$8e9	TYA
265	.$8ea	SBC #0
266	.$8ec	STA TMP_ZP+1
267	.$8ee	LDY #0
268	.$8f0	LDA (TMP_ZP),Y
269	.$8f2	STA TMP2_ZP
270	.$8f4	INY
271	.$8f5	LDA (TMP_ZP),Y
272	.$8f7	STA TMP2_ZP+1
273	.$8f9	LDA TMP3_ZP
274	.$8fb	LDY TMP3_ZP+1
275	.$8fd	RTS
278	.$8fe	INITSTRVARS LDA #<STRINGVARS_START  
279	.$900	LDY #>STRINGVARS_START
280	.$902	CMP #<STRINGVARS_END
281	.$904	BNE INITIT1
282	.$906	CPY #>STRINGVARS_END
283	.$908	BNE INITIT1
284	.$90a	JMP INITSA2     
285	.$90d	INITIT1  STA TMP_ZP
286	.$90f	STY TMP_ZP+1
287	.$911	LDY #0
288	.$913	INITSTRLOOP LDA #<EMPTYSTR
289	.$915	STA (TMP_ZP),Y
290	.$917	INY
291	.$918	LDA #>EMPTYSTR
292	.$91a	STA (TMP_ZP),Y
293	.$91c	DEY
294	.$91d	LDA TMP_ZP
295	.$91f	CLC
296	.$920	ADC #2
297	.$922	STA TMP_ZP
298	.$924	LDA TMP_ZP+1
299	.$926	ADC #0
300	.$928	STA TMP_ZP+1
301	.$92a	CMP #>STRINGVARS_END
302	.$92c	BNE INITSTRLOOP
303	.$92e	LDA TMP_ZP
304	.$930	CMP #<STRINGVARS_END
305	.$932	BNE INITSTRLOOP
306	.$934	INITSA2  LDA #<STRINGARRAYS_START 
307	.$936	LDY #>STRINGARRAYS_START
308	.$938	CMP #<STRINGARRAYS_END
309	.$93a	BNE ARRAYLOOP
310	.$93c	CPY #>STRINGARRAYS_END
311	.$93e	BNE ARRAYLOOP
312	.$940	RTS       
313	.$941	ARRAYLOOP CLC
314	.$942	ADC #3
315	.$944	BCC ARRAYSKIP1
316	.$946	INY
317	.$947	ARRAYSKIP1 CPY #>STRINGARRAYS_END
318	.$949	BEQ ARRAYSC
319	.$94b	BCC ARRAYSKIP2
320	.$94d	JMP ARRAYQUIT
321	.$950	ARRAYSC  CMP #<STRINGARRAYS_END
322	.$952	BCS ARRAYQUIT
323	.$954	ARRAYSKIP2 STA TMP_REG
324	.$956	STY TMP_REG+1
325	.$958	JSR INITSPARAMS
326	.$95b	LDA TMP_REG
327	.$95d	LDY TMP_REG+1
328	.$95f	JSR INITSTRARRAY
329	.$962	LDA TMP_ZP
330	.$964	LDY TMP_ZP+1
331	.$966	JMP ARRAYLOOP
332	.$969	ARRAYQUIT RTS
335	.$96a	RESTORE  LDA #<DATAS
336	.$96c	LDY #>DATAS
337	.$96e	STA DATASP
338	.$971	STY DATASP+1
339	.$974	RTS
342	.$975	SAVEPOINTERS
343	.$975	LDA TMP_ZP   
344	.$977	STA STORE1
345	.$97a	LDA TMP_ZP+1
346	.$97c	STA STORE1+1
347	.$97f	LDA TMP2_ZP
348	.$981	STA STORE2
349	.$984	LDA TMP2_ZP+1
350	.$986	STA STORE2+1
351	.$989	LDA TMP3_ZP
352	.$98b	STA STORE3
353	.$98e	LDA TMP3_ZP+1
354	.$990	STA STORE3+1
355	.$993	RTS
358	.$994	RESTOREPOINTERS
359	.$994	LDA STORE3+1  
360	.$997	STA TMP3_ZP+1
361	.$999	LDA STORE3
362	.$99c	STA TMP3_ZP
363	.$99e	LDA STORE2+1
364	.$9a1	STA TMP2_ZP+1
365	.$9a3	LDA STORE2
366	.$9a6	STA TMP2_ZP
367	.$9a8	LDA STORE1+1
368	.$9ab	STA TMP_ZP+1
369	.$9ad	LDA STORE1
370	.$9b0	STA TMP_ZP
371	.$9b2	RTS
374	.$9b3	COMPACT
375	.$9b3	LDY #0
376	.$9b5	GCBUFNE  LDA (TMP_ZP),Y  
377	.$9b7	COMPACTF STA TMP4_REG  
378	.$9ba	LDY STRBUFP+1  
379	.$9bd	STY TMP4_REG+1  
380	.$9c0	INY     
381	.$9c1	BEQ ENDMEM   
382	.$9c3	CPY ENDSTRBUF+1  
383	.$9c6	BCC RGCEXIT   
384	.$9c8	ENDMEM  LDA STRBUFP
385	.$9cb	CLC
386	.$9cc	ADC TMP4_REG
387	.$9cf	STA TMP4_REG
388	.$9d2	BCC RGCNOOV1
389	.$9d4	INC TMP4_REG+1
390	.$9d7	RGCNOOV1 CLC
391	.$9d8	LDA TMP4_REG
392	.$9db	ADC #3
393	.$9dd	STA TMP4_REG
394	.$9e0	BCC RGCNOOV2
395	.$9e2	INC TMP4_REG+1
396	.$9e5	RGCNOOV2 LDA TMP4_REG+1  
397	.$9e8	CMP ENDSTRBUF+1
398	.$9eb	BEQ RGCLOW1
399	.$9ed	BCS GCEXECOMP  
400	.$9ef	JMP RGCEXIT
401	.$9f2	RGCLOW1  LDA TMP4_REG
402	.$9f5	CMP ENDSTRBUF
403	.$9f8	BCS GCEXECOMP  
404	.$9fa	RGCEXIT  RTS     
405	.$9fb	GCEXECOMP LDA STRBUFP
406	.$9fe	STA STORE4
407	.$a01	LDA STRBUFP+1
408	.$a04	STA STORE4+1
409	.$a07	JSR GCEXE
410	.$a0a	JMP CHECKMEMORY
413	.$a0d	GCEXE  JSR SAVEPOINTERS
414	.$a10	LDA #0
415	.$a12	STA LASTVAR
416	.$a15	STA LASTVAR+1  
417	.$a18	LDA #<STRBUF
418	.$a1a	STA TMP_ZP
419	.$a1c	STA GCSTART
420	.$a1f	LDA #>STRBUF
421	.$a21	STA TMP_ZP+1  
422	.$a23	STA GCSTART+1
423	.$a26	GCLOOP  LDY #0
424	.$a28	LDA TMP_ZP
425	.$a2a	STA GCWORK
426	.$a2d	LDA TMP_ZP+1
427	.$a2f	STA GCWORK+1  
428	.$a32	LDA (TMP_ZP),Y
429	.$a34	STA GCLEN   
430	.$a37	INC TMP_ZP
431	.$a39	BNE GCLOOPNOOV
432	.$a3b	INC TMP_ZP+1
433	.$a3d	GCLOOPNOOV LDA TMP_ZP
434	.$a3f	CLC
435	.$a40	ADC GCLEN
436	.$a43	STA TMP_ZP
437	.$a45	BCC GCLOOPNOOV2
438	.$a47	INC TMP_ZP+1  
439	.$a49	GCLOOPNOOV2 LDY #0
440	.$a4b	LDA (TMP_ZP),Y
441	.$a4d	STA TMP2_ZP
442	.$a4f	INY
443	.$a50	LDA (TMP_ZP),Y
444	.$a52	STA TMP2_ZP+1  
445	.$a54	LDA TMP_ZP
446	.$a56	CLC
447	.$a57	ADC #2
448	.$a59	STA TMP_ZP
449	.$a5b	BCC GCLOOPNOOV3
450	.$a5d	INC TMP_ZP+1  
451	.$a5f	GCLOOPNOOV3 LDY #0
452	.$a61	LDA (TMP2_ZP),Y
453	.$a63	CMP GCWORK
454	.$a66	BNE GCKLOOP
455	.$a68	INY
456	.$a69	LDA (TMP2_ZP),Y
457	.$a6b	CMP GCWORK+1
458	.$a6e	BEQ MEMFREE
459	.$a70	GCKLOOP  LDA TMP_ZP+1  
460	.$a72	CMP HIGHP+1
461	.$a75	BEQ GCHECKLOW
462	.$a77	BCC GCLOOP
463	.$a79	JMP GCDONE
464	.$a7c	GCHECKLOW LDA TMP_ZP
465	.$a7e	CMP HIGHP
466	.$a81	BCS GCDONE
467	.$a83	JMP GCLOOP
468	.$a86	MEMFREE  LDA GCSTART   
469	.$a89	CMP GCWORK   
470	.$a8c	BNE COPYDOWN
471	.$a8e	LDA GCSTART+1
472	.$a91	CMP GCWORK+1
473	.$a94	BNE COPYDOWN
474	.$a96	LDA TMP_ZP   
475	.$a98	STA GCSTART
476	.$a9b	LDA TMP_ZP+1
477	.$a9d	STA GCSTART+1
478	.$aa0	JMP GCKLOOP   
479	.$aa3	COPYDOWN LDA GCSTART   
480	.$aa6	STA TMP_REG
481	.$aa8	LDA GCSTART+1
482	.$aab	STA TMP_REG+1  
483	.$aad	LDA GCWORK
484	.$ab0	STA TMP2_REG
485	.$ab3	LDA GCWORK+1
486	.$ab6	STA TMP2_REG+1  
487	.$ab9	LDA TMP_ZP
488	.$abb	SEC
489	.$abc	SBC GCWORK
490	.$abf	STA TMP3_REG
491	.$ac2	LDA TMP_ZP+1
492	.$ac4	SBC GCWORK+1
493	.$ac7	STA TMP3_REG+1  
494	.$aca	LDA GCSTART
495	.$acd	CLC
496	.$ace	ADC TMP3_REG
497	.$ad1	STA GCSTART
498	.$ad4	LDA GCSTART+1
499	.$ad7	ADC TMP3_REG+1
500	.$ada	STA GCSTART+1  
501	.$add	JSR QUICKCOPY  
502	.$ae0	LDY #0
503	.$ae2	LDA TMP_REG
504	.$ae4	STA (TMP2_ZP),Y
505	.$ae6	INY
506	.$ae7	LDA TMP_REG+1
507	.$ae9	STA (TMP2_ZP),Y  
508	.$aeb	JMP GCKLOOP
509	.$aee	GCDONE  LDA GCSTART
510	.$af1	STA HIGHP
511	.$af4	STA STRBUFP
512	.$af7	LDA GCSTART+1
513	.$afa	STA HIGHP+1
514	.$afd	STA STRBUFP+1  
515	.$b00	GCSKIP  JSR RESTOREPOINTERS
516	.$b03	RTS     
519	.$b04	CHECKMEMORY
520	.$b04	LDA STRBUFP+1  
521	.$b07	CMP STORE4+1  
522	.$b0a	BCC STILLFITSCM  
526	.$b0c	BEQ CHECKMEMLOWCM
527	.$b0e	JMP OUTOFMEMORY  
528	.$b11	CHECKMEMLOWCM
529	.$b11	LDA STRBUFP   
530	.$b14	CMP STORE4
531	.$b17	BCC STILLFITSCM
532	.$b19	JMP OUTOFMEMORY  
533	.$b1c	STILLFITSCM RTS
536	.$b1d	QUICKCOPY LDA TMP_REG  
537	.$b1f	STA TMEM+1
538	.$b22	LDA TMP_REG+1
539	.$b24	STA TMEM+2
540	.$b27	LDA TMP2_REG
541	.$b2a	STA SMEM+1
542	.$b2d	LDA TMP2_REG+1
543	.$b30	STA SMEM+2
544	.$b33	LDY #$0
545	.$b35	LDX TMP3_REG
546	.$b38	BNE QCLOOP
547	.$b3a	LDA TMP3_REG+1
548	.$b3d	BEQ QCEXIT  
549	.$b3f	QCLOOP
550	.$b3f	SMEM  LDA $0000,Y
551	.$b42	TMEM  STA $0000,Y
552	.$b45	INY
553	.$b46	BNE YNOOV
554	.$b48	INC TMEM+2
555	.$b4b	INC SMEM+2
556	.$b4e	YNOOV  DEX
557	.$b4f	BNE QCLOOP
558	.$b51	LDA TMP3_REG+1
559	.$b54	BEQ QCEXIT
560	.$b56	DEC TMP3_REG+1
561	.$b59	JMP QCLOOP
562	.$b5c	QCEXIT  RTS
565	.$b5d	REROUTE  LDA CMD_NUM  
566	.$b60	BEQ REROUTECMD
567	.$b62	TAX
568	.$b63	STA CHANNEL
569	.$b66	JMP CHKOUT
570	.$b69	REROUTECMD RTS
573	.$b6a	RESETROUTE LDA CMD_NUM  
574	.$b6d	BEQ RESETROUTECMD
575	.$b6f	JMP CLRCHNEW
576	.$b72	RESETROUTECMD
577	.$b72	RTS
580	.$b73	INTOUTFASTZ LDX #32    
581	.$b75	LDA TMP_ZP+1
582	.$b77	BPL INTISPOS
583	.$b79	CLC
584	.$b7a	LDA TMP_ZP
585	.$b7c	EOR #$FF
586	.$b7e	ADC #1
587	.$b80	STA TMP_ZP
588	.$b82	LDA TMP_ZP+1
589	.$b84	EOR #$FF
590	.$b86	ADC #0
591	.$b88	STA TMP_ZP+1
592	.$b8a	LDX #45    
593	.$b8c	INTISPOS
594	.$b8c	TXA
595	.$b8d	JSR CHROUT
596	.$b90	JSR CONVPOSINT
597	.$b93	LDA NUMFLAG
598	.$b96	BNE ALLINTOUTDONE
599	.$b98	LDA #48
600	.$b9a	JSR CHROUT
601	.$b9d	ALLINTOUTDONE
602	.$b9d	RTS
605	.$b9e	NUMBEROUT
606	.$b9e	BEQ NUMZERO
607	.$ba0	ORA #$30
608	.$ba2	STA NUMFLAG
609	.$ba5	JMP CHROUT
610	.$ba8	NUMZERO
611	.$ba8	LDX NUMFLAG
612	.$bab	BEQ STILLZERO
613	.$bad	ORA #$30
614	.$baf	JMP CHROUT
615	.$bb2	STILLZERO
616	.$bb2	RTS
619	.$bb3	CONVPOSINT
620	.$bb3	JSR INT2BCD
621	.$bb6	LDX #0
622	.$bb8	STX NUMFLAG
623	.$bbb	AND #$0F
624	.$bbd	JSR NUMBEROUT
625	.$bc0	LDA BCD+1
626	.$bc3	LSR
627	.$bc4	LSR
628	.$bc5	LSR
629	.$bc6	LSR
630	.$bc7	JSR NUMBEROUT
631	.$bca	LDA BCD+1
632	.$bcd	AND #$0F
633	.$bcf	TAY
634	.$bd0	JSR NUMBEROUT
635	.$bd3	LDA BCD
636	.$bd6	LSR
637	.$bd7	LSR
638	.$bd8	LSR
639	.$bd9	LSR
640	.$bda	JSR NUMBEROUT
641	.$bdd	LDA BCD
642	.$be0	AND #$0F
643	.$be2	JSR NUMBEROUT
644	.$be5	RTS
647	.$be6	INT2BCD
648	.$be6	SED
649	.$be7	LDA #0
650	.$be9	STA BCD
651	.$bec	STA BCD+1
652	.$bef	STA BCD+2
653	.$bf2	ASL TMP_ZP
654	.$bf4	ROL TMP_ZP+1
655	.$bf6	LDA BCD
656	.$bf9	ADC BCD
657	.$bfc	STA BCD
658	.$bff	ASL TMP_ZP
659	.$c01	ROL TMP_ZP+1
660	.$c03	ADC BCD
661	.$c06	STA BCD
662	.$c09	ASL TMP_ZP
663	.$c0b	ROL TMP_ZP+1
664	.$c0d	ADC BCD
665	.$c10	STA BCD
666	.$c13	ASL TMP_ZP
667	.$c15	ROL TMP_ZP+1
668	.$c17	ADC BCD
669	.$c1a	STA BCD
670	.$c1d	ASL TMP_ZP
671	.$c1f	ROL TMP_ZP+1
672	.$c21	ADC BCD
673	.$c24	STA BCD
674	.$c27	ASL TMP_ZP
675	.$c29	ROL TMP_ZP+1
676	.$c2b	ADC BCD
677	.$c2e	STA BCD
678	.$c31	LDX #7
679	.$c33	BCDBIT1
680	.$c33	ASL TMP_ZP
681	.$c35	ROL TMP_ZP+1
682	.$c37	LDA BCD
683	.$c3a	ADC BCD
684	.$c3d	STA BCD
685	.$c40	LDA BCD+1
686	.$c43	ADC BCD+1
687	.$c46	STA BCD+1
688	.$c49	DEX
689	.$c4a	BNE BCDBIT1
690	.$c4c	LDX #3
691	.$c4e	BCDBIT2
692	.$c4e	ASL TMP_ZP
693	.$c50	ROL TMP_ZP+1
694	.$c52	LDA BCD
695	.$c55	ADC BCD
696	.$c58	STA BCD
697	.$c5b	LDA BCD+1
698	.$c5e	ADC BCD+1
699	.$c61	STA BCD+1
700	.$c64	LDA BCD+2
701	.$c67	ADC BCD+2
702	.$c6a	STA BCD+2
703	.$c6d	DEX
704	.$c6e	BNE BCDBIT2
705	.$c70	CLD
706	.$c71	RTS
707	.$c72	BCD
708	.$c72	.WORD 0 0
709	.$c76	NUMFLAG
710	.$c76	.BYTE 0
713	.$c77	REALOUTFAST JSR FACINT
714	.$c7a	STA TMP_ZP+1
715	.$c7c	STY TMP_ZP
716	.$c7e	JMP INTOUTFASTZ
719	.$c81	CHECKFORFASTOUT
720	.$c81	JSR REROUTE
721	.$c84	JSR XREGFAC
722	.$c87	LDA FACEXP
723	.$c89	CMP #$90
724	.$c8b	BCS REALOUTINT
725	.$c8d	CMP #$81
726	.$c8f	BCC REALOUTINT
727	.$c91	MAYBEREALOUTFAST
728	.$c91	LDA FACEXP+3
729	.$c93	BNE REALOUTINT
730	.$c95	LDA FACEXP+4
731	.$c97	BNE REALOUTINT
732	.$c99	LDA FACEXP
733	.$c9b	SEC
734	.$c9c	SBC #129
735	.$c9e	ASL
736	.$c9f	TAX
737	.$ca0	LDA FACEXP+1
738	.$ca2	AND MANTMASK,X
739	.$ca5	BNE REALOUTINT
740	.$ca7	INX
741	.$ca8	LDA FACEXP+2
742	.$caa	AND MANTMASK,X
743	.$cad	BNE REALOUTINT
744	.$caf	JMP REALOUTFAST
745	.$cb2	REALOUTINT LDY #0
746	.$cb4	JSR FACSTR
747	.$cb7	LDY #0
748	.$cb9	LDA LOFBUF,Y
749	.$cbc	STRLOOPRO JSR CHROUT
750	.$cbf	INY
751	.$cc0	LDA LOFBUF,Y
752	.$cc3	BNE STRLOOPRO
753	.$cc5	RTS
754	.$cc6	MANTMASK
755	.$cc6	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
758	.$ce4	REALOUTBRK  LDA X_REG
759	.$ce6	BNE RNOTNULLBRK
760	.$ce8	JMP PRINTNULLBRK
761	.$ceb	RNOTNULLBRK JSR CHECKFORFASTOUT
762	.$cee	LDA #$0D
763	.$cf0	JSR CHROUT
764	.$cf3	JMP RESETROUTE
767	.$cf6	PRINTNULLBRK
768	.$cf6	JSR REROUTE
769	.$cf9	LDA #$20
770	.$cfb	JSR CHROUT
771	.$cfe	LDA #$30
772	.$d00	JSR CHROUT
773	.$d03	LDA #$0D
774	.$d05	JSR CHROUT
775	.$d08	JMP RESETROUTE
778	.$d0b	GETNUMBER
779	.$d0b	LDA #8
780	.$d0d	LDY #0
781	.$d0f	JSR COMPACTF
782	.$d12	LDY #0
783	.$d14	STY CMD_NUM   
784	.$d17	JSR GETIN
785	.$d1a	CMP #0    
786	.$d1c	BEQ IGNOREKEY
787	.$d1e	CMP #$2B
788	.$d20	BEQ IGNOREKEY
789	.$d22	CMP #$2C
790	.$d24	BEQ IGNOREKEY
791	.$d26	CMP #$2D
792	.$d28	BEQ IGNOREKEY
793	.$d2a	CMP #$2E
794	.$d2c	BEQ IGNOREKEY
795	.$d2e	CMP #$45
796	.$d30	BEQ IGNOREKEY
797	.$d32	JMP SOMENUMKEY
798	.$d35	IGNOREKEY LDA #<REAL_CONST_ZERO
799	.$d37	STA TMP3_ZP
800	.$d39	LDA #>REAL_CONST_ZERO
801	.$d3b	STA TMP3_ZP+1
802	.$d3d	JSR COPY2_XY_YREG
803	.$d40	RTS
804	.$d41	SOMENUMKEY SEC
805	.$d42	SBC #$30
806	.$d44	BCC NUMERROR
807	.$d46	CMP #$0A
808	.$d48	BCS NUMERROR
809	.$d4a	TAY
810	.$d4b	JSR BYTEFAC
811	.$d4e	JMP FACYREG
812	.$d51	NUMERROR JMP SYNTAXERROR
815	.$d54	COPY2_XYA_XREG
816	.$d54	STA TMP3_ZP
817	.$d56	STY TMP3_ZP+1
818	.$d58	COPY2_XY_XREG
819	.$d58	LDX #<X_REG  
820	.$d5a	LDY #0
821	.$d5c	LDA (TMP3_ZP),Y
822	.$d5e	STA X_REG
823	.$d60	INY
824	.$d61	LDA (TMP3_ZP),Y
825	.$d63	STA X_REG+1
826	.$d65	INY
827	.$d66	LDA (TMP3_ZP),Y
828	.$d68	STA X_REG+2
829	.$d6a	INY
830	.$d6b	LDA (TMP3_ZP),Y
831	.$d6d	STA X_REG+3
832	.$d6f	INY
833	.$d70	LDA (TMP3_ZP),Y
834	.$d72	STA X_REG+4
835	.$d74	RTS
838	.$d75	COPY2_XYA_YREG
839	.$d75	STA TMP3_ZP
840	.$d77	STY TMP3_ZP+1
841	.$d79	COPY2_XY_YREG
842	.$d79	LDX #<Y_REG  
843	.$d7b	LDY #0
844	.$d7d	LDA (TMP3_ZP),Y
845	.$d7f	STA Y_REG
846	.$d82	INY
847	.$d83	LDA (TMP3_ZP),Y
848	.$d85	STA Y_REG+1
849	.$d88	INY
850	.$d89	LDA (TMP3_ZP),Y
851	.$d8b	STA Y_REG+2
852	.$d8e	INY
853	.$d8f	LDA (TMP3_ZP),Y
854	.$d91	STA Y_REG+3
855	.$d94	INY
856	.$d95	LDA (TMP3_ZP),Y
857	.$d97	STA Y_REG+4
858	.$d9a	RTS
861	.$d9b	CLRCHNEW
862	.$d9b	LDA CHLOCKFLAG
863	.$d9e	BNE SKIPCLRCH
864	.$da0	JMP CLRCH
865	.$da3	SKIPCLRCH
866	.$da3	RTS
869	.$da4	OUTOFMEMORY
873	.$da4	LDX #$10
874	.$da6	JMP ERRALL
877	.$da9	SYNTAXERROR
881	.$da9	JMP ERRSYN
884	.$dac	FACYREG  LDA FACLO
885	.$dae	STA Y_REG+4
886	.$db1	LDA FACMO
887	.$db3	STA Y_REG+3
888	.$db6	LDA FACMOH
889	.$db8	STA Y_REG+2
890	.$dbb	LDA FACSGN
891	.$dbd	ORA #$7F
892	.$dbf	AND FACHO
893	.$dc1	STA Y_REG+1
894	.$dc4	LDA FACEXP
895	.$dc6	STA Y_REG
896	.$dc9	LDA #0   
897	.$dcb	STA FACOV
898	.$dcd	RTS
901	.$dce	XREGFAC  LDA X_REG+4
902	.$dd0	STA FACLO
903	.$dd2	LDA X_REG+3
904	.$dd4	STA FACMO
905	.$dd6	LDA X_REG+2
906	.$dd8	STA FACMOH
907	.$dda	LDA X_REG+1
908	.$ddc	STA FACSGN
909	.$dde	ORA #$80
910	.$de0	STA FACHO
911	.$de2	LDA X_REG
912	.$de4	STA FACEXP
913	.$de6	LDA #0
914	.$de8	STA FACOV
915	.$dea	RTS
918	.$deb	YREGFAC  LDA Y_REG+4
919	.$dee	STA FACLO
920	.$df0	LDA Y_REG+3
921	.$df3	STA FACMO
922	.$df5	LDA Y_REG+2
923	.$df8	STA FACMOH
924	.$dfa	LDA Y_REG+1
925	.$dfd	STA FACSGN
926	.$dff	ORA #$80
927	.$e01	STA FACHO
928	.$e03	LDA Y_REG
929	.$e06	STA FACEXP
930	.$e08	LDA #0
931	.$e0a	STA FACOV
932	.$e0c	RTS
1046	.$e0d	INITVARS
1047	.$e0d	JSR INITSTRVARS
1048	.$e10	LDA #0
1049	.$e12	LDY #4
1050	.$e14	REALINITLOOP0:
1051	.$e14	STA VAR_A,Y
1052	.$e17	DEY
1053	.$e18	BMI REALLOOPEXIT0
1054	.$e1a	JMP REALINITLOOP0
1055	.$e1d	REALLOOPEXIT0:
1056	.$e1d	RTS
1060	.$e1e	CONSTANTS
1063	.$e1e	DATAS
1064	.$e1e	.BYTE $FF
1066	.$e1f	CONSTANTS_END
1069	.$e1f	VARIABLES
1071	.$e1f	VAR_A .REAL 0.0
1072	.$e24	STRINGVARS_START
1074	.$e24	VAR_TI$ .WORD EMPTYSTR
1075	.$e26	STRINGVARS_END
1076	.$e26	STRINGARRAYS_START
1077	.$e26	STRINGARRAYS_END
1078	.$e26	VARIABLES_END
1080	.$e26	Y_REG .REAL 0.0
1081	.$e2b	C_REG .REAL 0.0
1082	.$e30	D_REG .REAL 0.0
1083	.$e35	E_REG .REAL 0.0
1084	.$e3a	F_REG .REAL 0.0
1085	.$e3f	A_REG .WORD 0
1086	.$e41	B_REG .WORD 0
1087	.$e43	CMD_NUM .BYTE 0
1088	.$e44	CHANNEL .BYTE 0
1089	.$e45	SP_SAVE .BYTE 0
1090	.$e46	TMP2_REG .WORD 0
1091	.$e48	TMP3_REG .WORD 0
1092	.$e4a	TMP4_REG .WORD 0
1093	.$e4c	AS_TMP .WORD 0
1094	.$e4e	BPOINTER_TMP .WORD 0
1095	.$e50	BASICTEXTP .BYTE 0
1096	.$e51	STORE1 .WORD 0
1097	.$e53	STORE2 .WORD 0
1098	.$e55	STORE3 .WORD 0
1099	.$e57	STORE4 .WORD 0
1100	.$e59	GCSTART .WORD 0
1101	.$e5b	GCLEN .WORD 0
1102	.$e5d	GCWORK .WORD 0
1103	.$e5f	INPUTLENGTH .BYTE 0
1104	.$e60	TMP_FREG .REAL 0
1105	.$e65	TMP2_FREG .REAL 0
1106	.$e6a	TMP_FLAG .BYTE 0
1107	.$e6b	INT_FLAG .BYTE 0
1108	.$e6c	REAL_CONST_ONE .REAL 1.0
1109	.$e71	REAL_CONST_ZERO .REAL 0.0
1110	.$e76	REAL_CONST_MINUS_ONE .REAL -1.0
1111	.$e7b	CHLOCKFLAG .BYTE 0
1112	.$e7c	EMPTYSTR .BYTE 0
1113	.$e7d	FPSTACKP .WORD FPSTACK
1114	.$e7f	FORSTACKP .WORD FORSTACK
1115	.$e81	DATASP .WORD DATAS
1116	.$e83	LASTVAR .WORD 0
1117	.$e85	LASTVARP .WORD 0
1118	.$e87	HIGHP .WORD STRBUF
1119	.$e89	STRBUFP .WORD STRBUF
1120	.$e8b	ENDSTRBUF .WORD 0
1121	.$e8d	INPUTQUEUEP .BYTE 0
1122	.$e8e	PROGRAMEND
1123	.$e8e	INPUTQUEUE .ARRAY $0F
1124	.$e9d	FPSTACK .ARRAY 100
1125	.$f01	FORSTACK .ARRAY 340
1126	.$1055	STRBUF .BYTE 0
