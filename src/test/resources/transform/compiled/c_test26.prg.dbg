117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
128	.$81f	LDA #<CONST_0
129	.$821	LDY #>CONST_0
130	.$823	STA TMP_ZP
131	.$825	STY TMP_ZP+1
133	.$827	JSR WRITETID
135	.$82a	LINE_20:
137	.$82a	LDA #0
138	.$82c	STA VAR_I
139	.$82f	STA VAR_I+1
140	.$832	STA VAR_I+2
141	.$835	STA VAR_I+3
142	.$838	STA VAR_I+4
144	.$83b	LDA #<CONST_2R
145	.$83d	LDY #>CONST_2R
146	.$83f	JSR REALFACPUSH
148	.$842	LDA #<CONST_3R
149	.$844	LDY #>CONST_3R
150	.$846	JSR REALFACPUSH
152	.$849	LDA #<VAR_I
153	.$84b	LDY #>VAR_I
154	.$84d	STA A_REG
155	.$850	STY A_REG+1
156	.$853	LDA #<FORLOOP0
157	.$855	STA JUMP_TARGET
158	.$857	LDA #>FORLOOP0
159	.$859	STA JUMP_TARGET+1
160	.$85b	JSR INITFOR
161	.$85e	FORLOOP0:
163	.$85e	LINE_30:
165	.$85e	LDA #<VAR_I
166	.$860	LDY #>VAR_I
167	.$862	JSR REALFACPUSH
169	.$865	LDA #<VAR_I
170	.$867	LDY #>VAR_I
171	.$869	JSR COPY2_XYA_XREG
175	.$86c	LDY #6
176	.$86e	STY A_REG
177	.$871	JSR XREGFAC
178	.$874	JSR SHL
181	.$877	JSR FACYREG
183	.$87a	JSR POPREALXREG
186	.$87d	LDA #<VAR_A[]
187	.$87f	LDY #>VAR_A[]
188	.$881	STA G_REG
189	.$883	STY G_REG+1
190	.$885	JSR ARRAYSTORE_REAL
192	.$888	LINE_40:
194	.$888	LDA #<VAR_I
195	.$88a	LDY #>VAR_I
196	.$88c	JSR COPY2_XYA_XREG
200	.$88f	LDY #6
201	.$891	STY A_REG
202	.$894	JSR XREGFAC
203	.$897	JSR SHL
206	.$89a	LDX #<VAR_B
207	.$89c	LDY #>VAR_B
209	.$89e	JSR FACMEM
211	.$8a1	LINE_50:
213	.$8a1	LDA #<VAR_I
214	.$8a3	LDY #>VAR_I
215	.$8a5	JSR COPY2_XYA_XREG
219	.$8a8	LDA #<VAR_A[]
220	.$8aa	LDY #>VAR_A[]
221	.$8ac	JSR ARRAYACCESS_REAL_S
223	.$8af	JSR REALOUT
224	.$8b2	JSR CRSRRIGHT
225	.$8b5	JSR TABOUT
226	.$8b8	LDA #<VAR_B
227	.$8ba	LDY #>VAR_B
228	.$8bc	JSR COPY2_XYA_XREG
232	.$8bf	JSR REALOUTBRK
235	.$8c2	LINE_60:
237	.$8c2	LDA #0
238	.$8c4	STA A_REG
239	.$8c7	STA A_REG+1
240	.$8ca	JSR NEXT
242	.$8cd	LDA A_REG
243	.$8d0	BNE RBEQ_0
244	.$8d2	JMP (JUMP_TARGET)
246	.$8d5	RBEQ_0:
248	.$8d5	SEI
249	.$8d6	LDY TIMEADDR
250	.$8d8	LDX TIMEADDR+1
251	.$8da	LDA TIMEADDR+2
252	.$8dc	CLI
254	.$8dd	SEC
255	.$8de	JSR COPYTIME
256	.$8e1	JSR GETTIME
257	.$8e4	LDX #<VAR_TI
258	.$8e6	LDY #>VAR_TI
259	.$8e8	JSR FACMEM
260	.$8eb	LDA #<VAR_TI
261	.$8ed	LDY #>VAR_TI
262	.$8ef	JSR COPY2_XYA_XREG
266	.$8f2	JSR REALOUTBRK
268	.$8f5	JSR END
269	.$8f8	RTS
272	.$8f9	END   LDX SP_SAVE
273	.$8fc	TXS
280	.$8fd	RTS
283	.$8fe	START  LDA ENDSTRBUF+1
284	.$901	BNE ENDGIVEN
285	.$903	LDA BASICEND
286	.$905	STA ENDSTRBUF
287	.$908	LDA BASICEND+1
288	.$90a	STA ENDSTRBUF+1
289	.$90d	ENDGIVEN LDA #<FPSTACK
290	.$90f	LDY #>FPSTACK
291	.$911	STA FPSTACKP
292	.$914	STY FPSTACKP+1
293	.$917	LDA #<FORSTACK
294	.$919	LDY #>FORSTACK
295	.$91b	STA FORSTACKP
296	.$91e	STY FORSTACKP+1
297	.$921	LDA #<STRBUF
298	.$923	LDY #>STRBUF
299	.$925	STA STRBUFP
300	.$928	STY STRBUFP+1
301	.$92b	STA HIGHP
302	.$92e	STY HIGHP+1
303	.$931	LDA #0
304	.$933	STA CHLOCKFLAG
305	.$936	STA LASTVAR
306	.$939	STA LASTVAR+1
307	.$93c	JSR INITVARS
308	.$93f	LDA #0
309	.$941	STA CMD_NUM
310	.$944	STA CHANNEL
311	.$947	TAY
312	.$948	TAX
316	.$949	STA KEYNDX
322	.$94b	JSR RESTORE
323	.$94e	CLC
327	.$94f	RTS
330	.$950	INITNARRAY
331	.$950	STA TMP_ZP
332	.$952	STY TMP_ZP+1
333	.$954	LDY #0
334	.$956	TYA
335	.$957	NINITLOOP STA (TMP_ZP),Y
336	.$959	INC TMP_ZP
337	.$95b	BNE NLOOPNOV
338	.$95d	INC TMP_ZP+1
339	.$95f	NLOOPNOV LDX TMP2_ZP
340	.$961	BNE NLOOPNOV2
341	.$963	DEC TMP2_ZP+1
342	.$965	NLOOPNOV2 DEC TMP2_ZP
343	.$967	BNE NINITLOOP
344	.$969	LDX TMP2_ZP+1
345	.$96b	BNE NINITLOOP
346	.$96d	RTS
349	.$96e	INITSTRARRAY
350	.$96e	STA TMP_ZP
351	.$970	STY TMP_ZP+1
352	.$972	SINITLOOP LDY #0
353	.$974	LDA #<EMPTYSTR
354	.$976	STA (TMP_ZP),Y
355	.$978	LDA #>EMPTYSTR
356	.$97a	INY
357	.$97b	STA (TMP_ZP),Y
358	.$97d	CLC
359	.$97e	LDA TMP_ZP
360	.$980	ADC #2
361	.$982	STA TMP_ZP
362	.$984	BCC SLOOPNOV1
363	.$986	INC TMP_ZP+1
364	.$988	SLOOPNOV1 SEC
365	.$989	LDA TMP2_ZP
366	.$98b	SBC #2
367	.$98d	STA TMP2_ZP
368	.$98f	BCS SLOOPNOV2
369	.$991	DEC TMP2_ZP+1
370	.$993	SLOOPNOV2 LDA TMP2_ZP
371	.$995	BNE SINITLOOP
372	.$997	LDA TMP2_ZP+1
373	.$999	BNE SINITLOOP
374	.$99b	RTS
377	.$99c	INITSPARAMS STA TMP3_ZP
378	.$99e	STY TMP3_ZP+1
379	.$9a0	SEC
380	.$9a1	SBC #2
381	.$9a3	STA TMP_ZP
382	.$9a5	TYA
383	.$9a6	SBC #0
384	.$9a8	STA TMP_ZP+1
385	.$9aa	LDY #0
386	.$9ac	LDA (TMP_ZP),Y
387	.$9ae	STA TMP2_ZP
388	.$9b0	INY
389	.$9b1	LDA (TMP_ZP),Y
390	.$9b3	STA TMP2_ZP+1
391	.$9b5	LDA TMP3_ZP
392	.$9b7	LDY TMP3_ZP+1
393	.$9b9	RTS
396	.$9ba	INITSTRVARS LDA #<STRINGVARS_START  
397	.$9bc	LDY #>STRINGVARS_START
398	.$9be	CMP #<STRINGVARS_END
399	.$9c0	BNE INITIT1
400	.$9c2	CPY #>STRINGVARS_END
401	.$9c4	BNE INITIT1
402	.$9c6	JMP INITSA2     
403	.$9c9	INITIT1  STA TMP_ZP
404	.$9cb	STY TMP_ZP+1
405	.$9cd	LDY #0
406	.$9cf	INITSTRLOOP LDA #<EMPTYSTR
407	.$9d1	STA (TMP_ZP),Y
408	.$9d3	INY
409	.$9d4	LDA #>EMPTYSTR
410	.$9d6	STA (TMP_ZP),Y
411	.$9d8	DEY
412	.$9d9	LDA TMP_ZP
413	.$9db	CLC
414	.$9dc	ADC #2
415	.$9de	STA TMP_ZP
416	.$9e0	LDA TMP_ZP+1
417	.$9e2	ADC #0
418	.$9e4	STA TMP_ZP+1
419	.$9e6	CMP #>STRINGVARS_END
420	.$9e8	BNE INITSTRLOOP
421	.$9ea	LDA TMP_ZP
422	.$9ec	CMP #<STRINGVARS_END
423	.$9ee	BNE INITSTRLOOP
424	.$9f0	INITSA2  LDA #<STRINGARRAYS_START 
425	.$9f2	LDY #>STRINGARRAYS_START
426	.$9f4	CMP #<STRINGARRAYS_END
427	.$9f6	BNE ARRAYLOOP
428	.$9f8	CPY #>STRINGARRAYS_END
429	.$9fa	BNE ARRAYLOOP
430	.$9fc	RTS       
431	.$9fd	ARRAYLOOP CLC
432	.$9fe	ADC #3
433	.$a00	BCC ARRAYSKIP1
434	.$a02	INY
435	.$a03	ARRAYSKIP1 CPY #>STRINGARRAYS_END
436	.$a05	BEQ ARRAYSC
437	.$a07	BCC ARRAYSKIP2
438	.$a09	JMP ARRAYQUIT
439	.$a0c	ARRAYSC  CMP #<STRINGARRAYS_END
440	.$a0e	BCS ARRAYQUIT
441	.$a10	ARRAYSKIP2 STA TMP_REG
442	.$a12	STY TMP_REG+1
443	.$a14	JSR INITSPARAMS
444	.$a17	LDA TMP_REG
445	.$a19	LDY TMP_REG+1
446	.$a1b	JSR INITSTRARRAY
447	.$a1e	LDA TMP_ZP
448	.$a20	LDY TMP_ZP+1
449	.$a22	JMP ARRAYLOOP
450	.$a25	ARRAYQUIT RTS
453	.$a26	RESTORE  LDA #<DATAS
454	.$a28	LDY #>DATAS
455	.$a2a	STA DATASP
456	.$a2d	STY DATASP+1
457	.$a30	RTS
460	.$a31	TABSPC     BCC DOSPC
461	.$a33	TXA
462	.$a34	SBC $09
463	.$a36	BCC TABSPCQUIT
464	.$a38	TAX
465	.$a39	DOSPC  INX
466	.$a3a	TABSPCLOOP  DEX
467	.$a3b	BNE TABSPCRIGHT
468	.$a3d	TABSPCQUIT RTS
469	.$a3e	TABSPCRIGHT JSR CRSRRIGHT
470	.$a41	JMP TABSPCLOOP
473	.$a44	WRITETID LDY #0
474	.$a46	LDA (TMP_ZP),Y
475	.$a48	CMP #$6
476	.$a4a	BEQ FORMATOK
477	.$a4c	JMP ILLEGALQUANTITY
478	.$a4f	FORMATOK INC TMP_ZP
479	.$a51	BNE WRITE2
480	.$a53	INC TMP_ZP+1
481	.$a55	WRITE2  LDA TMP_ZP
482	.$a57	STA INDEX1
483	.$a59	LDA TMP_ZP+1
484	.$a5b	STA INDEX1+1
486	.$a5d	JMP WRITETIS
493	.$a60	REROUTE  LDA CMD_NUM  
494	.$a63	BEQ REROUTECMD
495	.$a65	TAX
496	.$a66	STA CHANNEL
497	.$a69	JMP CHKOUT
498	.$a6c	REROUTECMD RTS
501	.$a6d	RESETROUTE LDA CMD_NUM  
502	.$a70	BEQ RESETROUTECMD
503	.$a72	JMP CLRCHNEW
504	.$a75	RESETROUTECMD
505	.$a75	RTS
508	.$a76	INTOUTFASTZ LDX #32    
509	.$a78	LDA TMP_ZP+1
510	.$a7a	BPL INTISPOS
511	.$a7c	CLC
512	.$a7d	LDA TMP_ZP
513	.$a7f	EOR #$FF
514	.$a81	ADC #1
515	.$a83	STA TMP_ZP
516	.$a85	LDA TMP_ZP+1
517	.$a87	EOR #$FF
518	.$a89	ADC #0
519	.$a8b	STA TMP_ZP+1
520	.$a8d	LDX #45    
521	.$a8f	INTISPOS
522	.$a8f	TXA
523	.$a90	JSR CHROUT
524	.$a93	JSR CONVPOSINT
525	.$a96	LDA NUMFLAG
526	.$a99	BNE ALLINTOUTDONE
527	.$a9b	LDA #48
528	.$a9d	JSR CHROUT
529	.$aa0	ALLINTOUTDONE
530	.$aa0	RTS
533	.$aa1	NUMBEROUT
534	.$aa1	BEQ NUMZERO
535	.$aa3	ORA #$30
536	.$aa5	STA NUMFLAG
537	.$aa8	JMP CHROUT
538	.$aab	NUMZERO
539	.$aab	LDX NUMFLAG
540	.$aae	BEQ STILLZERO
541	.$ab0	ORA #$30
542	.$ab2	JMP CHROUT
543	.$ab5	STILLZERO
544	.$ab5	RTS
547	.$ab6	CONVPOSINT
548	.$ab6	JSR INT2BCD
549	.$ab9	LDX #0
550	.$abb	STX NUMFLAG
551	.$abe	AND #$0F
552	.$ac0	JSR NUMBEROUT
553	.$ac3	LDA BCD+1
554	.$ac6	LSR
555	.$ac7	LSR
556	.$ac8	LSR
557	.$ac9	LSR
558	.$aca	JSR NUMBEROUT
559	.$acd	LDA BCD+1
560	.$ad0	AND #$0F
561	.$ad2	TAY
562	.$ad3	JSR NUMBEROUT
563	.$ad6	LDA BCD
564	.$ad9	LSR
565	.$ada	LSR
566	.$adb	LSR
567	.$adc	LSR
568	.$add	JSR NUMBEROUT
569	.$ae0	LDA BCD
570	.$ae3	AND #$0F
571	.$ae5	JSR NUMBEROUT
572	.$ae8	RTS
575	.$ae9	INT2BCD
576	.$ae9	SED
577	.$aea	LDA #0
578	.$aec	STA BCD
579	.$aef	STA BCD+1
580	.$af2	STA BCD+2
581	.$af5	ASL TMP_ZP
582	.$af7	ROL TMP_ZP+1
583	.$af9	LDA BCD
584	.$afc	ADC BCD
585	.$aff	STA BCD
586	.$b02	ASL TMP_ZP
587	.$b04	ROL TMP_ZP+1
588	.$b06	ADC BCD
589	.$b09	STA BCD
590	.$b0c	ASL TMP_ZP
591	.$b0e	ROL TMP_ZP+1
592	.$b10	ADC BCD
593	.$b13	STA BCD
594	.$b16	ASL TMP_ZP
595	.$b18	ROL TMP_ZP+1
596	.$b1a	ADC BCD
597	.$b1d	STA BCD
598	.$b20	ASL TMP_ZP
599	.$b22	ROL TMP_ZP+1
600	.$b24	ADC BCD
601	.$b27	STA BCD
602	.$b2a	ASL TMP_ZP
603	.$b2c	ROL TMP_ZP+1
604	.$b2e	ADC BCD
605	.$b31	STA BCD
606	.$b34	LDX #7
607	.$b36	BCDBIT1
608	.$b36	ASL TMP_ZP
609	.$b38	ROL TMP_ZP+1
610	.$b3a	LDA BCD
611	.$b3d	ADC BCD
612	.$b40	STA BCD
613	.$b43	LDA BCD+1
614	.$b46	ADC BCD+1
615	.$b49	STA BCD+1
616	.$b4c	DEX
617	.$b4d	BNE BCDBIT1
618	.$b4f	LDX #3
619	.$b51	BCDBIT2
620	.$b51	ASL TMP_ZP
621	.$b53	ROL TMP_ZP+1
622	.$b55	LDA BCD
623	.$b58	ADC BCD
624	.$b5b	STA BCD
625	.$b5e	LDA BCD+1
626	.$b61	ADC BCD+1
627	.$b64	STA BCD+1
628	.$b67	LDA BCD+2
629	.$b6a	ADC BCD+2
630	.$b6d	STA BCD+2
631	.$b70	DEX
632	.$b71	BNE BCDBIT2
633	.$b73	CLD
634	.$b74	RTS
635	.$b75	BCD
636	.$b75	.WORD 0 0
637	.$b79	NUMFLAG
638	.$b79	.BYTE 0
641	.$b7a	REALOUTFAST JSR FACINT
642	.$b7d	STA TMP_ZP+1
643	.$b7f	STY TMP_ZP
644	.$b81	JMP INTOUTFASTZ
647	.$b84	CHECKFORFASTOUT
648	.$b84	JSR REROUTE
649	.$b87	JSR XREGFAC
650	.$b8a	LDA FACEXP
651	.$b8c	CMP #$90
652	.$b8e	BCS REALOUTINT
653	.$b90	CMP #$81
654	.$b92	BCC REALOUTINT
655	.$b94	MAYBEREALOUTFAST
656	.$b94	LDA FACEXP+3
657	.$b96	BNE REALOUTINT
658	.$b98	LDA FACEXP+4
659	.$b9a	BNE REALOUTINT
660	.$b9c	LDA FACEXP
661	.$b9e	SEC
662	.$b9f	SBC #129
663	.$ba1	ASL
664	.$ba2	TAX
665	.$ba3	LDA FACEXP+1
666	.$ba5	AND MANTMASK,X
667	.$ba8	BNE REALOUTINT
668	.$baa	INX
669	.$bab	LDA FACEXP+2
670	.$bad	AND MANTMASK,X
671	.$bb0	BNE REALOUTINT
672	.$bb2	JMP REALOUTFAST
673	.$bb5	REALOUTINT LDY #0
674	.$bb7	JSR FACSTR
675	.$bba	LDY #0
676	.$bbc	LDA LOFBUF,Y
677	.$bbf	STRLOOPRO JSR CHROUT
678	.$bc2	INY
679	.$bc3	LDA LOFBUF,Y
680	.$bc6	BNE STRLOOPRO
681	.$bc8	RTS
682	.$bc9	MANTMASK
683	.$bc9	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
686	.$be7	REALOUT  LDA X_REG
687	.$be9	BNE RNOTNULL
688	.$beb	JMP PRINTNULL
689	.$bee	RNOTNULL JSR CHECKFORFASTOUT
690	.$bf1	JMP RESETROUTE
693	.$bf4	REALOUTBRK  LDA X_REG
694	.$bf6	BNE RNOTNULLBRK
695	.$bf8	JMP PRINTNULLBRK
696	.$bfb	RNOTNULLBRK JSR CHECKFORFASTOUT
697	.$bfe	LDA #$0D
698	.$c00	JSR CHROUT
699	.$c03	JMP RESETROUTE
702	.$c06	PRINTNULL JSR REROUTE
703	.$c09	LDA #$20
704	.$c0b	JSR CHROUT
705	.$c0e	LDA #$30
706	.$c10	JSR CHROUT
707	.$c13	JMP RESETROUTE
710	.$c16	PRINTNULLBRK
711	.$c16	JSR REROUTE
712	.$c19	LDA #$20
713	.$c1b	JSR CHROUT
714	.$c1e	LDA #$30
715	.$c20	JSR CHROUT
716	.$c23	LDA #$0D
717	.$c25	JSR CHROUT
718	.$c28	JMP RESETROUTE
721	.$c2b	TABOUT  JSR REROUTE
722	.$c2e	LDA CMD_NUM
723	.$c31	BEQ NORMALTABOUT  
724	.$c33	CMP #3
725	.$c35	BEQ NORMALTABOUT2  
726	.$c37	JMP TABOUTCHANNEL2
727	.$c3a	NORMALTABOUT2
728	.$c3a	JSR CLRCHNEW
729	.$c3d	NORMALTABOUT
730	.$c3d	SEC
731	.$c3e	JSR CRSRPOS
732	.$c41	TYA
733	.$c42	SEC
734	.$c43	TABSUB   SBC #$0A
735	.$c45	BCS TABSUB
736	.$c47	EOR #$FF
737	.$c49	ADC #$01
738	.$c4b	TAX
739	.$c4c	INX
740	.$c4d	TABLOOP  DEX
741	.$c4e	BNE TABRIGHT
742	.$c50	RTS
743	.$c51	TABRIGHT JSR CRSRRIGHT
744	.$c54	JMP TABLOOP
747	.$c57	ARRAYACCESS_REAL_S
748	.$c57	STA G_REG
749	.$c59	STY G_REG+1
750	.$c5b	ARRAYACCESS_REAL
751	.$c5b	JSR XREGFAC
752	.$c5e	JSR FACINT
753	.$c61	ARRAYACCESS_REAL_INT
754	.$c61	LDX G_REG
755	.$c63	STX TMP_ZP
756	.$c65	LDX G_REG+1
757	.$c67	STX TMP_ZP+1
758	.$c69	STY TMP3_ZP
759	.$c6b	STA TMP3_ZP+1
760	.$c6d	TAX
761	.$c6e	TYA
762	.$c6f	ASL
763	.$c70	TAY
764	.$c71	TXA
765	.$c72	ROL
766	.$c73	TAX
767	.$c74	TYA
768	.$c75	ASL
769	.$c76	STA TMP2_ZP
770	.$c78	TXA
771	.$c79	ROL
772	.$c7a	STA TMP2_ZP+1
773	.$c7c	LDA TMP_ZP
774	.$c7e	CLC
775	.$c7f	ADC TMP3_ZP
776	.$c81	STA TMP_ZP
777	.$c83	LDA TMP_ZP+1
778	.$c85	ADC TMP3_ZP+1
779	.$c87	STA TMP_ZP+1
780	.$c89	LDA TMP_ZP
781	.$c8b	CLC
782	.$c8c	ADC TMP2_ZP
783	.$c8e	STA TMP3_ZP
784	.$c90	LDA TMP_ZP+1
785	.$c92	ADC TMP2_ZP+1
786	.$c94	STA TMP3_ZP+1
787	.$c96	JMP COPY2_XY_XREG
790	.$c99	ARRAYSTORE_REAL
791	.$c99	JSR XREGFAC
792	.$c9c	JSR FACINT
793	.$c9f	ARRAYSTORE_REAL_INT
794	.$c9f	LDX G_REG
795	.$ca1	STX TMP_ZP
796	.$ca3	LDX G_REG+1
797	.$ca5	STX TMP_ZP+1
798	.$ca7	STY TMP3_ZP
799	.$ca9	STA TMP3_ZP+1
800	.$cab	TAX
801	.$cac	TYA
802	.$cad	ASL
803	.$cae	TAY
804	.$caf	TXA
805	.$cb0	ROL
806	.$cb1	TAX
807	.$cb2	TYA
808	.$cb3	ASL
809	.$cb4	STA TMP2_ZP
810	.$cb6	TXA
811	.$cb7	ROL
812	.$cb8	STA TMP2_ZP+1
813	.$cba	LDA TMP_ZP
814	.$cbc	CLC
815	.$cbd	ADC TMP3_ZP
816	.$cbf	STA TMP_ZP
817	.$cc1	LDA TMP_ZP+1
818	.$cc3	ADC TMP3_ZP+1
819	.$cc5	STA TMP_ZP+1
820	.$cc7	LDA TMP_ZP
821	.$cc9	CLC
822	.$cca	ADC TMP2_ZP
823	.$ccc	STA TMP_ZP
824	.$cce	LDA TMP_ZP+1
825	.$cd0	ADC TMP2_ZP+1
826	.$cd2	STA TMP_ZP+1
827	.$cd4	JMP COPY2_YREG_XYA 
830	.$cd7	ADJUSTSTACK LDA FORSTACKP 
831	.$cda	STA TMP_ZP
832	.$cdc	LDA FORSTACKP+1
833	.$cdf	STA TMP_ZP+1
834	.$ce1	ADSEARCHFOR LDA TMP_ZP
835	.$ce3	CMP #<FORSTACK
836	.$ce5	BNE ADJUST2
837	.$ce7	LDA TMP_ZP+1
838	.$ce9	CMP #>FORSTACK
839	.$ceb	BNE ADJUST2
840	.$ced	RTS    
841	.$cee	ADJUST2  LDA TMP_ZP
842	.$cf0	SEC
843	.$cf1	SBC #2
844	.$cf3	STA TMP_ZP
845	.$cf5	BCS ADNOPV1N1
846	.$cf7	DEC TMP_ZP+1
847	.$cf9	ADNOPV1N1 LDY #0
848	.$cfb	LDA (TMP_ZP),Y
849	.$cfd	BNE ADNOGOSUB
850	.$cff	RTS    
851	.$d00	ADNOGOSUB
852	.$d00	INY
853	.$d01	LDA TMP_ZP
854	.$d03	SEC
855	.$d04	SBC (TMP_ZP),Y
856	.$d06	STA TMP_ZP
857	.$d08	BCS ADNOPV1N2
858	.$d0a	DEC TMP_ZP+1
859	.$d0c	ADNOPV1N2 DEY
860	.$d0d	LDA A_REG
861	.$d10	ADCMPFOR CMP (TMP_ZP),Y
862	.$d12	BNE ADSEARCHFOR
863	.$d14	LDA A_REG+1
864	.$d17	INY
865	.$d18	CMP (TMP_ZP),Y
866	.$d1a	BEQ ADFOUNDFOR
867	.$d1c	JMP ADSEARCHFOR
868	.$d1f	ADLOW0  LDX A_REG+1
869	.$d22	BEQ ADFOUNDFOR
870	.$d24	BNE ADCMPFOR
871	.$d26	ADFOUNDFOR LDA TMP_ZP  
872	.$d28	STA FORSTACKP
873	.$d2b	LDA TMP_ZP+1
874	.$d2d	STA FORSTACKP+1
875	.$d30	RTS
878	.$d31	INITFOR  JSR ADJUSTSTACK
879	.$d34	LDA FORSTACKP
880	.$d37	STA TMP_ZP
881	.$d39	LDA FORSTACKP+1
882	.$d3c	STA TMP_ZP+1
883	.$d3e	LDY #0
884	.$d40	LDA A_REG
885	.$d43	STA (TMP_ZP),Y
886	.$d45	INY
887	.$d46	LDA A_REG+1
888	.$d49	STA (TMP_ZP),Y
889	.$d4b	INY
890	.$d4c	LDA JUMP_TARGET
891	.$d4e	STA (TMP_ZP),Y
892	.$d50	INY
893	.$d51	LDA JUMP_TARGET+1
894	.$d53	STA (TMP_ZP),Y
895	.$d55	INY
896	.$d56	STY TMP3_ZP
897	.$d58	JSR INCTMPZP
898	.$d5b	JSR POPREAL
899	.$d5e	LDX TMP_ZP
900	.$d60	LDY TMP_ZP+1
902	.$d62	JSR FACMEM
903	.$d65	JSR SGNFAC
904	.$d68	STA TMP_FLAG
905	.$d6b	LDY #5
906	.$d6d	STY TMP3_ZP
907	.$d6f	JSR INCTMPZP
908	.$d72	JSR POPREAL
909	.$d75	LDX TMP_ZP
910	.$d77	LDY TMP_ZP+1
912	.$d79	JSR FACMEM
913	.$d7c	LDY #5
914	.$d7e	STY TMP3_ZP
915	.$d80	JSR INCTMPZP
916	.$d83	LDY #0
917	.$d85	LDA TMP_FLAG
918	.$d88	STA (TMP_ZP),Y
919	.$d8a	INY
920	.$d8b	LDA #1
921	.$d8d	STA (TMP_ZP),Y
922	.$d8f	INY
923	.$d90	LDA #15
924	.$d92	STA (TMP_ZP),Y
925	.$d94	LDY #3
926	.$d96	STY TMP3_ZP
927	.$d98	JSR INCTMPZP
928	.$d9b	LDA TMP_ZP
929	.$d9d	STA FORSTACKP
930	.$da0	LDA TMP_ZP+1
931	.$da2	STA FORSTACKP+1
932	.$da5	RTS
935	.$da6	NEXT  LDA FORSTACKP
936	.$da9	STA TMP_ZP
937	.$dab	LDA FORSTACKP+1
938	.$dae	STA TMP_ZP+1
939	.$db0	SEARCHFOR LDA TMP_ZP+1
940	.$db2	STA TMP3_REG+1
941	.$db5	LDA TMP_ZP
942	.$db7	STA TMP3_REG
943	.$dba	SEC
944	.$dbb	SBC #2
945	.$dbd	STA TMP_ZP
946	.$dbf	BCS NOPV1N1
947	.$dc1	DEC TMP_ZP+1
948	.$dc3	NOPV1N1  LDY #0
949	.$dc5	LDA (TMP_ZP),Y
950	.$dc7	BNE NOGOSUB
951	.$dc9	JMP NEXTWOFOR
952	.$dcc	NOGOSUB
953	.$dcc	INY
954	.$dcd	LDA TMP_ZP
955	.$dcf	SEC
956	.$dd0	SBC (TMP_ZP),Y
957	.$dd2	STA TMP_ZP
958	.$dd4	BCS NOPV1N2
959	.$dd6	DEC TMP_ZP+1
960	.$dd8	NOPV1N2  DEY
961	.$dd9	LDA A_REG
962	.$ddc	BEQ LOW0
963	.$dde	CMPFOR  CMP (TMP_ZP),Y
964	.$de0	BNE SEARCHFOR
965	.$de2	LDA A_REG+1
966	.$de5	INY
967	.$de6	CMP (TMP_ZP),Y
968	.$de8	BEQ FOUNDFOR
969	.$dea	JMP SEARCHFOR
970	.$ded	LOW0  LDX A_REG+1
971	.$df0	BEQ FOUNDFOR
972	.$df2	BNE CMPFOR
973	.$df4	FOUNDFOR LDA TMP_ZP
974	.$df6	STA TMP2_REG
975	.$df9	LDA TMP_ZP+1
976	.$dfb	STA TMP2_REG+1
977	.$dfe	VARREAL
978	.$dfe	LDY #0
979	.$e00	STY A_REG+1 
980	.$e03	LDA (TMP_ZP),Y
981	.$e05	TAX
982	.$e06	INY
983	.$e07	LDA (TMP_ZP),Y
984	.$e09	TAY
985	.$e0a	TXA
986	.$e0b	JSR REALFAC
987	.$e0e	CALCNEXT LDA TMP_ZP
988	.$e10	CLC
989	.$e11	ADC #4
990	.$e13	STA TMP_ZP
991	.$e15	BCC NOPV2IN
992	.$e17	INC TMP_ZP+1
993	.$e19	NOPV2IN  STA TMP_REG
994	.$e1b	LDY TMP_ZP+1
995	.$e1d	STY TMP_REG+1
996	.$e1f	JSR FASTFADDMEM
998	.$e22	LDA TMP2_REG
999	.$e25	STA TMP_ZP
1000	.$e27	LDA TMP2_REG+1
1001	.$e2a	STA TMP_ZP+1
1002	.$e2c	STOREREAL
1003	.$e2c	LDY #0
1004	.$e2e	LDA (TMP_ZP),Y
1005	.$e30	TAX
1006	.$e31	INY
1007	.$e32	LDA (TMP_ZP),Y
1008	.$e34	TAY
1009	.$e35	JSR FACMEM 
1010	.$e38	CMPFORXX LDA #5
1011	.$e3a	STA TMP3_ZP
1012	.$e3c	LDA TMP_REG
1013	.$e3e	CLC
1014	.$e3f	ADC #5
1015	.$e41	STA TMP_REG
1016	.$e43	BCC NOPV3
1017	.$e45	INC TMP_REG+1
1018	.$e47	NOPV3  LDY TMP_REG+1
1019	.$e49	JSR CMPFAC  
1020	.$e4c	BEQ LOOPING
1021	.$e4e	PHA
1022	.$e4f	LDY #14
1023	.$e51	LDA (TMP_ZP),Y
1024	.$e53	BEQ STEPZERO
1025	.$e55	ROL
1026	.$e56	BCC STEPPOS
1027	.$e58	STEPNEG  PLA
1028	.$e59	ROL
1029	.$e5a	BCC LOOPING
1030	.$e5c	BCS EXITLOOP
1031	.$e5e	STEPPOS  PLA
1032	.$e5f	ROL
1033	.$e60	BCC EXITLOOP
1034	.$e62	LOOPING  LDA TMP3_REG
1035	.$e65	STA FORSTACKP
1036	.$e68	LDA TMP3_REG+1
1037	.$e6b	STA FORSTACKP+1
1038	.$e6e	LDA TMP2_REG
1039	.$e71	CLC
1040	.$e72	ADC #2
1041	.$e74	STA TMP2_REG
1042	.$e77	BCC NOPV4IN
1043	.$e79	INC TMP2_REG+1
1044	.$e7c	NOPV4IN  LDY #0
1045	.$e7e	STY A_REG
1046	.$e81	STA TMP_ZP
1047	.$e83	LDA TMP2_REG+1
1048	.$e86	STA TMP_ZP+1
1049	.$e88	LDA (TMP_ZP),Y
1050	.$e8a	STA JUMP_TARGET
1051	.$e8c	INY
1052	.$e8d	LDA (TMP_ZP),Y
1053	.$e8f	STA JUMP_TARGET+1
1054	.$e91	RTS
1055	.$e92	STEPZERO PLA
1056	.$e93	JMP LOOPING
1057	.$e96	EXITLOOP LDA TMP2_REG
1058	.$e99	STA FORSTACKP
1059	.$e9c	LDA TMP2_REG+1
1060	.$e9f	STA FORSTACKP+1
1061	.$ea2	LDA #1
1062	.$ea4	STA A_REG
1063	.$ea7	RTS
1066	.$ea8	REALFACPUSH STA TMP_ZP
1067	.$eaa	STY TMP_ZP+1
1068	.$eac	LDX FPSTACKP
1069	.$eaf	LDY FPSTACKP+1
1070	.$eb2	STX TMP2_ZP
1071	.$eb4	STY TMP2_ZP+1
1072	.$eb6	LDY #0
1073	.$eb8	LDA (TMP_ZP),Y
1074	.$eba	STA (TMP2_ZP),Y
1075	.$ebc	INY
1076	.$ebd	LDA (TMP_ZP),Y
1077	.$ebf	STA (TMP2_ZP),Y
1078	.$ec1	INY
1079	.$ec2	LDA (TMP_ZP),Y
1080	.$ec4	STA (TMP2_ZP),Y
1081	.$ec6	INY
1082	.$ec7	LDA (TMP_ZP),Y
1083	.$ec9	STA (TMP2_ZP),Y
1084	.$ecb	INY
1085	.$ecc	LDA (TMP_ZP),Y
1086	.$ece	STA (TMP2_ZP),Y
1087	.$ed0	TXA    
1088	.$ed1	CLC
1089	.$ed2	ADC #5
1090	.$ed4	STA FPSTACKP
1091	.$ed7	BCC NOPVRFPXX
1092	.$ed9	INC FPSTACKP+1
1093	.$edc	NOPVRFPXX RTS
1096	.$edd	POPREAL  LDA FPSTACKP
1097	.$ee0	SEC
1098	.$ee1	SBC #5
1099	.$ee3	STA FPSTACKP
1100	.$ee6	BCS NOPVPR
1101	.$ee8	DEC FPSTACKP+1
1102	.$eeb	NOPVPR  LDA FPSTACKP
1103	.$eee	LDY FPSTACKP+1
1104	.$ef1	JMP REALFAC
1107	.$ef4	POPREALXREG LDA FPSTACKP
1108	.$ef7	SEC
1109	.$ef8	SBC #5
1110	.$efa	STA FPSTACKP
1111	.$efd	BCS NOPVPRXR
1112	.$eff	DEC FPSTACKP+1
1113	.$f02	NOPVPRXR LDA FPSTACKP
1114	.$f05	LDY FPSTACKP+1
1115	.$f08	STA TMP_ZP
1116	.$f0a	STY TMP_ZP+1
1117	.$f0c	LDY #$4
1118	.$f0e	LDA (TMP_ZP),Y
1119	.$f10	STA X_REG+4
1120	.$f12	STA FACLO
1121	.$f14	DEY
1122	.$f15	LDA (TMP_ZP),Y
1123	.$f17	STA X_REG+3
1124	.$f19	STA FACMO
1125	.$f1b	DEY
1126	.$f1c	LDA (TMP_ZP),Y
1127	.$f1e	STA X_REG+2
1128	.$f20	STA FACMOH
1129	.$f22	DEY
1130	.$f23	LDA (TMP_ZP),Y
1131	.$f25	STA X_REG+1
1132	.$f27	STA FACSGN
1133	.$f29	ORA #$80
1134	.$f2b	STA FACHO
1135	.$f2d	DEY
1136	.$f2e	LDA (TMP_ZP),Y
1137	.$f30	STA X_REG
1138	.$f32	STA FACEXP
1139	.$f34	STY FACOV
1140	.$f36	RTS
1143	.$f37	SHL   LDA FACEXP
1144	.$f39	BEQ SHLOK
1145	.$f3b	CLC
1146	.$f3c	ADC A_REG
1147	.$f3f	BCC SHLOK
1148	.$f41	LDA #0
1149	.$f43	STA FACSGN
1150	.$f45	STA FACLO
1151	.$f47	STA FACMO
1152	.$f49	STA FACMOH
1153	.$f4b	STA FACHO
1154	.$f4d	LDA #$FF
1155	.$f4f	SHLOK  STA FACEXP
1156	.$f51	RTS
1159	.$f52	INCTMPZP LDA TMP_ZP
1160	.$f54	CLC
1161	.$f55	ADC TMP3_ZP
1162	.$f57	STA TMP_ZP
1163	.$f59	BCC NOPV2
1164	.$f5b	INC TMP_ZP+1
1165	.$f5d	NOPV2  RTS
1168	.$f5e	COPY2_YREG_XYA
1169	.$f5e	LDY #0
1170	.$f60	LDA Y_REG
1171	.$f63	STA (TMP_ZP),Y
1172	.$f65	INY
1173	.$f66	LDA Y_REG+1
1174	.$f69	STA (TMP_ZP),Y
1175	.$f6b	INY
1176	.$f6c	LDA Y_REG+2
1177	.$f6f	STA (TMP_ZP),Y
1178	.$f71	INY
1179	.$f72	LDA Y_REG+3
1180	.$f75	STA (TMP_ZP),Y
1181	.$f77	INY
1182	.$f78	LDA Y_REG+4
1183	.$f7b	STA (TMP_ZP),Y
1184	.$f7d	RTS
1187	.$f7e	COPY2_XYA_XREG
1188	.$f7e	STA TMP3_ZP
1189	.$f80	STY TMP3_ZP+1
1190	.$f82	COPY2_XY_XREG
1191	.$f82	LDX #<X_REG  
1192	.$f84	LDY #0
1193	.$f86	LDA (TMP3_ZP),Y
1194	.$f88	STA X_REG
1195	.$f8a	INY
1196	.$f8b	LDA (TMP3_ZP),Y
1197	.$f8d	STA X_REG+1
1198	.$f8f	INY
1199	.$f90	LDA (TMP3_ZP),Y
1200	.$f92	STA X_REG+2
1201	.$f94	INY
1202	.$f95	LDA (TMP3_ZP),Y
1203	.$f97	STA X_REG+3
1204	.$f99	INY
1205	.$f9a	LDA (TMP3_ZP),Y
1206	.$f9c	STA X_REG+4
1207	.$f9e	RTS
1211	.$f9f	FACWORD
1212	.$f9f	LDA FACEXP   
1213	.$fa1	BNE DOFACWORD
1214	.$fa3	STA FACSGN   
1215	.$fa5	DOFACWORD:
1216	.$fa5	JMP XFACWORD
1220	.$fa8	INITOUTCHANNEL
1221	.$fa8	LDA CHLOCKFLAG
1222	.$fab	BEQ INITOUT2
1223	.$fad	CMP #$FF
1224	.$faf	BNE SKIPINITCH
1225	.$fb1	INITOUT2
1226	.$fb1	LDA #<C_REG
1227	.$fb3	LDY #>C_REG
1228	.$fb5	JSR REALFAC
1229	.$fb8	JSR FACWORD
1230	.$fbb	TYA
1231	.$fbc	TAX
1232	.$fbd	CPX CMD_NUM
1233	.$fc0	BNE CMDNEQUAL
1234	.$fc2	LDY #0
1235	.$fc4	STY CMD_NUM   
1236	.$fc7	CMDNEQUAL STA CHANNEL
1237	.$fca	STA CHLOCKFLAG
1238	.$fcd	JMP CHKOUT
1239	.$fd0	SKIPINITCH
1240	.$fd0	RTS
1243	.$fd1	CLRCHNEW
1244	.$fd1	LDA CHLOCKFLAG
1245	.$fd4	BNE SKIPCLRCH
1246	.$fd6	JMP CLRCH
1247	.$fd9	SKIPCLRCH
1248	.$fd9	RTS
1251	.$fda	TABOUTCHANNEL
1252	.$fda	JSR INITOUTCHANNEL
1253	.$fdd	LDA CHANNEL
1254	.$fe0	CMP #3  
1255	.$fe2	BEQ TABOUTSCREEN
1256	.$fe4	TABOUTCHANNEL2
1257	.$fe4	LDA IOCHANNEL
1258	.$fe6	STA STORE1
1259	.$fe9	LDA #1
1260	.$feb	STA IOCHANNEL  
1261	.$fed	LDX #10
1262	.$fef	JMP EXITCHANNEL
1263	.$ff2	TABOUTSCREEN
1264	.$ff2	JSR CLRCHNEW
1265	.$ff5	JMP TABOUT
1268	.$ff8	EXITCHANNEL CLC
1269	.$ff9	JSR TABSPC
1270	.$ffc	JSR CLRCHNEW
1271	.$fff	LDA STORE1
1272	.$1002	STA IOCHANNEL
1273	.$1004	RTS
1276	.$1005	NEXTWOFOR
1280	.$1005	LDX #$0A
1281	.$1007	JMP ERRALL
1284	.$100a	ILLEGALQUANTITY
1288	.$100a	JMP ERRIQ
1291	.$100d	FACYREG  LDA FACLO
1292	.$100f	STA Y_REG+4
1293	.$1012	LDA FACMO
1294	.$1014	STA Y_REG+3
1295	.$1017	LDA FACMOH
1296	.$1019	STA Y_REG+2
1297	.$101c	LDA FACSGN
1298	.$101e	ORA #$7F
1299	.$1020	AND FACHO
1300	.$1022	STA Y_REG+1
1301	.$1025	LDA FACEXP
1302	.$1027	STA Y_REG
1303	.$102a	LDA #0   
1304	.$102c	STA FACOV
1305	.$102e	RTS
1308	.$102f	XREGFAC  LDA X_REG+4
1309	.$1031	STA FACLO
1310	.$1033	LDA X_REG+3
1311	.$1035	STA FACMO
1312	.$1037	LDA X_REG+2
1313	.$1039	STA FACMOH
1314	.$103b	LDA X_REG+1
1315	.$103d	STA FACSGN
1316	.$103f	ORA #$80
1317	.$1041	STA FACHO
1318	.$1043	LDA X_REG
1319	.$1045	STA FACEXP
1320	.$1047	LDA #0
1321	.$1049	STA FACOV
1322	.$104b	RTS
1436	.$104c	FASTFADDMEM
1437	.$104c	JSR MEMARG
1438	.$104f	FASTFADDARG
1439	.$104f	BNE FADDRET2     
1440	.$1051	JMP ARGFAC
1441	.$1054	FADDRET2 LDA ARGEXP
1442	.$1056	BNE FADDRET1     
1443	.$1058	RTS
1444	.$1059	FADDRET1 SEC
1445	.$105a	SBC FACEXP
1446	.$105c	BEQ FFADD_EXPEQ     
1447	.$105e	BCC FFADD_SHFARG1   
1451	.$1060	LDY ARGEXP
1452	.$1062	STY FACEXP
1453	.$1064	LDY ARGSGN
1454	.$1066	STY FACSGN
1455	.$1068	LDX #0
1456	.$106a	STX OLDOV        
1457	.$106c	LDX #FAC         
1459	.$106e	SEC
1460	.$106f	SBC #$08
1461	.$1071	BMI FFADD_SHFFAC2
1463	.$1073	FFADD_SHFFAC1
1464	.$1073	LDY FACLO        
1465	.$1075	STY FACOV
1466	.$1077	LDY FACMO        
1467	.$1079	STY FACMO+1
1468	.$107b	LDY FACMOH       
1469	.$107d	STY FACMOH+1
1470	.$107f	LDY FACHO        
1471	.$1081	STY FACHO+1
1472	.$1083	LDY #0
1473	.$1085	STY FACHO        
1474	.$1087	SBC #$08         
1475	.$1089	BPL FFADD_SHFFAC1   
1476	.$108b	FFADD_SHFFAC2
1477	.$108b	ADC #$08         
1478	.$108d	BEQ FFADD_SHFFAC4   
1479	.$108f	TAY
1480	.$1090	LDA FACOV
1481	.$1092	FFADD_SHFFAC3
1482	.$1092	LSR FACHO        
1483	.$1094	ROR FACMOH       
1484	.$1096	ROR FACMO        
1485	.$1098	ROR FACLO        
1486	.$109a	ROR              
1487	.$109b	DEY
1488	.$109c	BNE FFADD_SHFFAC3
1489	.$109e	JMP FFADD_MANADD2   
1490	.$10a1	FFADD_SHFFAC4
1491	.$10a1	LDA FACOV        
1492	.$10a3	JMP FFADD_MANADD2
1493	.$10a6	FFADD_EXPEQ
1494	.$10a6	LDX FACOV
1495	.$10a8	STX OLDOV
1498	.$10aa	JMP FFADD_MANADD1
1499	.$10ad	FFADD_SHFARG2
1500	.$10ad	LDA FACOV        
1501	.$10af	JMP FFADD_MANADD1
1502	.$10b2	FFADD_SHFARG1
1503	.$10b2	LDX FACOV
1504	.$10b4	STX OLDOV        
1505	.$10b6	LDX #$00         
1508	.$10b8	ADC #$08
1509	.$10ba	BPL FFADD_SHFARG6   
1510	.$10bc	FFADD_SHFARG3
1511	.$10bc	LDX ARGLO        
1512	.$10be	LDY ARGMO        
1513	.$10c0	STY ARGMO+1
1514	.$10c2	LDY ARGMOH       
1515	.$10c4	STY ARGMOH+1
1516	.$10c6	LDY ARGHO        
1517	.$10c8	STY ARGHO+1
1518	.$10ca	LDY #0
1519	.$10cc	STY ARGHO        
1520	.$10ce	FFADD_SHFARG4
1521	.$10ce	ADC #$08
1522	.$10d0	BMI FFADD_SHFARG3
1523	.$10d2	BEQ FFADD_SHFARG3
1524	.$10d4	FFADD_SHFARG6
1525	.$10d4	SBC #$08
1526	.$10d6	BEQ FFADD_SHFARG2   
1527	.$10d8	TAY
1528	.$10d9	TXA              
1529	.$10da	FFADD_SHFARG5
1530	.$10da	LSR ARGHO
1531	.$10dc	ROR ARGMOH
1532	.$10de	ROR ARGMO
1533	.$10e0	ROR ARGLO
1534	.$10e2	ROR           
1535	.$10e3	INY
1536	.$10e4	BNE FFADD_SHFARG5
1537	.$10e6	FFADD_MANADD1
1538	.$10e6	LDX #ARGEXP      
1539	.$10e8	FFADD_MANADD2
1540	.$10e8	BIT ARISGN
1541	.$10ea	BMI FFADD_MANSUB1   
1542	.$10ec	CLC
1543	.$10ed	ADC OLDOV
1544	.$10ef	STA FACOV
1545	.$10f1	LDA FACLO
1546	.$10f3	ADC ARGLO
1547	.$10f5	STA FACLO
1548	.$10f7	LDA FACMO
1549	.$10f9	ADC ARGMO
1550	.$10fb	STA FACMO
1551	.$10fd	LDA FACMOH
1552	.$10ff	ADC ARGMOH
1553	.$1101	STA FACMOH
1554	.$1103	LDA FACHO
1555	.$1105	ADC ARGHO
1556	.$1107	STA FACHO
1557	.$1109	BCC FFADD_RNDRTS
1558	.$110b	INC FACEXP
1559	.$110d	BEQ FFADD_OVERR
1561	.$110f	ROR FACHO
1562	.$1111	ROR FACMOH
1563	.$1113	ROR FACMO
1564	.$1115	ROR FACLO
1565	.$1117	ROR FACOV
1566	.$1119	FFADD_RNDRTS
1567	.$1119	RTS
1568	.$111a	FFADD_OVERR
1569	.$111a	JMP ILLEGALQUANTITY
1570	.$111d	FFADD_MANSUB1
1571	.$111d	LDY #FACEXP
1572	.$111f	CPX #ARGEXP
1573	.$1121	BEQ FFADD_MANSUB2
1574	.$1123	LDY #ARGEXP
1575	.$1125	FFADD_MANSUB2
1576	.$1125	SEC              
1577	.$1126	EOR #$FF
1578	.$1128	ADC OLDOV
1579	.$112a	STA FACOV
1580	.$112c	LDA 4,Y
1581	.$112f	SBC 4,X
1582	.$1131	STA FACLO
1583	.$1133	LDA 3,Y
1584	.$1136	SBC 3,X
1585	.$1138	STA FACMO
1586	.$113a	LDA 2,Y
1587	.$113d	SBC 2,X
1588	.$113f	STA FACMOH
1589	.$1141	LDA 1,Y
1590	.$1144	SBC 1,X
1591	.$1146	STA FACHO
1592	.$1148	BCS FCNORMAL
1593	.$114a	LDA FACSGN
1594	.$114c	EOR #$FF
1595	.$114e	STA FACSGN
1596	.$1150	LDA FACHO
1597	.$1152	EOR #$FF
1598	.$1154	STA FACHO
1599	.$1156	LDA FACMOH
1600	.$1158	EOR #$FF
1601	.$115a	STA FACMOH
1602	.$115c	LDA FACMO
1603	.$115e	EOR #$FF
1604	.$1160	STA FACMO
1605	.$1162	LDA FACLO
1606	.$1164	EOR #$FF
1607	.$1166	STA FACLO
1608	.$1168	LDA FACOV
1609	.$116a	EOR #$FF
1610	.$116c	CLC
1611	.$116d	ADC #1
1612	.$116f	STA FACOV
1613	.$1171	BNE FCNORMAL
1614	.$1173	INC FACLO
1615	.$1175	BNE FCNORMAL
1616	.$1177	INC FACMO
1617	.$1179	BNE FCNORMAL
1618	.$117b	INC FACMOH
1619	.$117d	BNE FCNORMAL
1620	.$117f	INC FACHO
1621	.$1181	FCNORMAL   BIT FACHO
1622	.$1183	BMI FFADD_RET       
1623	.$1185	LDA #0           
1624	.$1187	CLC
1625	.$1188	FFADD_NORM3
1626	.$1188	LDX FACHO
1627	.$118a	BNE FFADD_NORM1
1628	.$118c	LDX FACHO+1
1629	.$118e	STX FACHO
1630	.$1190	LDX FACMOH+1
1631	.$1192	STX FACMOH
1632	.$1194	LDX FACMO+1
1633	.$1196	STX FACMO
1634	.$1198	LDX FACOV
1635	.$119a	STX FACLO
1636	.$119c	LDX #0
1637	.$119e	STX FACOV
1638	.$11a0	ADC #$08
1639	.$11a2	CMP #$20
1640	.$11a4	BNE FFADD_NORM3
1641	.$11a6	JMP FFADD_ZEROFAC
1642	.$11a9	FFADD_NORM2
1643	.$11a9	CLC
1644	.$11aa	ADC #1
1645	.$11ac	ASL FACOV
1646	.$11ae	ROL FACLO
1647	.$11b0	ROL FACMO
1648	.$11b2	ROL FACMOH
1649	.$11b4	ROL FACHO
1650	.$11b6	FFADD_NORM1
1651	.$11b6	BPL FFADD_NORM2     
1652	.$11b8	SEC
1653	.$11b9	SBC FACEXP
1654	.$11bb	BCS FFADD_ZEROFAC
1655	.$11bd	EOR #$FF
1656	.$11bf	CLC
1657	.$11c0	ADC #1
1658	.$11c2	STA FACEXP
1659	.$11c4	FFADD_RET   RTS
1660	.$11c5	FFADD_ZEROFAC
1661	.$11c5	LDX #0
1662	.$11c7	STX FACEXP
1663	.$11c9	STX FACSGN
1664	.$11cb	RTS
1667	.$11cc	INITVARS
1668	.$11cc	JSR INITSTRVARS
1669	.$11cf	LDA #0
1670	.$11d1	LDY #4
1671	.$11d3	REALINITLOOP0:
1672	.$11d3	STA VAR_I,Y
1673	.$11d6	STA VAR_B,Y
1674	.$11d9	STA VAR_TI,Y
1675	.$11dc	DEY
1676	.$11dd	BMI REALLOOPEXIT0
1677	.$11df	JMP REALINITLOOP0
1678	.$11e2	REALLOOPEXIT0:
1679	.$11e2	LDA #<VAR_A[]
1680	.$11e4	LDY #>VAR_A[]
1681	.$11e6	JSR INITSPARAMS
1682	.$11e9	JSR INITNARRAY
1683	.$11ec	LDA #0
1684	.$11ee	RTS
1688	.$11ef	CONSTANTS
1690	.$11ef	CONST_0 .BYTE 6
1691	.$11f0	.STRG "000000"
1697	.$11f6	CONST_2R .REAL 100.0
1700	.$11fb	CONST_3R .REAL 1.0
1706	.$1200	DATAS
1707	.$1200	.BYTE $FF
1709	.$1201	CONSTANTS_END
1712	.$1201	VARIABLES
1714	.$1201	VAR_I .REAL 0.0
1716	.$1206	.BYTE 1
1717	.$1207	.WORD 505
1718	.$1209	VAR_A[] .ARRAY 505
1720	.$1402	VAR_B .REAL 0.0
1722	.$1407	VAR_TI .REAL 0.0
1723	.$140c	STRINGVARS_START
1725	.$140c	VAR_TI$ .WORD EMPTYSTR
1726	.$140e	STRINGVARS_END
1727	.$140e	STRINGARRAYS_START
1728	.$140e	STRINGARRAYS_END
1729	.$140e	VARIABLES_END
1731	.$140e	Y_REG .REAL 0.0
1732	.$1413	C_REG .REAL 0.0
1733	.$1418	D_REG .REAL 0.0
1734	.$141d	E_REG .REAL 0.0
1735	.$1422	F_REG .REAL 0.0
1736	.$1427	A_REG .WORD 0
1737	.$1429	B_REG .WORD 0
1738	.$142b	CMD_NUM .BYTE 0
1739	.$142c	CHANNEL .BYTE 0
1740	.$142d	SP_SAVE .BYTE 0
1741	.$142e	TMP2_REG .WORD 0
1742	.$1430	TMP3_REG .WORD 0
1743	.$1432	TMP4_REG .WORD 0
1744	.$1434	AS_TMP .WORD 0
1745	.$1436	BPOINTER_TMP .WORD 0
1746	.$1438	BASICTEXTP .BYTE 0
1747	.$1439	STORE1 .WORD 0
1748	.$143b	STORE2 .WORD 0
1749	.$143d	STORE3 .WORD 0
1750	.$143f	STORE4 .WORD 0
1751	.$1441	GCSTART .WORD 0
1752	.$1443	GCLEN .WORD 0
1753	.$1445	GCWORK .WORD 0
1754	.$1447	INPUTLENGTH .BYTE 0
1755	.$1448	TMP_FREG .REAL 0
1756	.$144d	TMP2_FREG .REAL 0
1757	.$1452	TMP_FLAG .BYTE 0
1758	.$1453	INT_FLAG .BYTE 0
1759	.$1454	REAL_CONST_ONE .REAL 1.0
1760	.$1459	REAL_CONST_ZERO .REAL 0.0
1761	.$145e	REAL_CONST_MINUS_ONE .REAL -1.0
1762	.$1463	CHLOCKFLAG .BYTE 0
1763	.$1464	EMPTYSTR .BYTE 0
1764	.$1465	FPSTACKP .WORD FPSTACK
1765	.$1467	FORSTACKP .WORD FORSTACK
1766	.$1469	DATASP .WORD DATAS
1767	.$146b	LASTVAR .WORD 0
1768	.$146d	LASTVARP .WORD 0
1769	.$146f	HIGHP .WORD STRBUF
1770	.$1471	STRBUFP .WORD STRBUF
1771	.$1473	ENDSTRBUF .WORD 0
1772	.$1475	INPUTQUEUEP .BYTE 0
1773	.$1476	PROGRAMEND
1774	.$1476	INPUTQUEUE .ARRAY $0F
1775	.$1485	FPSTACK .ARRAY 100
1776	.$14e9	FORSTACK .ARRAY 340
1777	.$163d	STRBUF .BYTE 0
