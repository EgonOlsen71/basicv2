PROGRAMSTART:
JSR START
0:
5:
NOP
MOV B,#000000{STRING}
MOV TI${STRING},B
10:
NOP
INPUT0:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#1. wort{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP1
MOV A${STRING},A
EMPTYINPUTSKIP1:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK0
JSR EXTRAIGNORED
INPUTCHECK0:
NOP
INPUT1:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#2. wort{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP2
MOV B${STRING},A
EMPTYINPUTSKIP2:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK1
JSR EXTRAIGNORED
INPUTCHECK1:
20:
NOP
MOV B,A${STRING}
JSR LEN
MOV Y,#1{INTEGER}
ADD X,Y
MOV L0{REAL},X
NOP
MOV B,B${STRING}
JSR LEN
MOV Y,#1{INTEGER}
ADD X,Y
MOV L1{REAL},X
30:
40:
NOP
MOV Y,#0{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#1{INTEGER}
MOV X,L0{REAL}
SUB X,Y
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
MOV Y,I{REAL}
PUSH Y
NOP
POP X
MOV Y,I{REAL}
MOV G,CO[]{REAL}
JSR ARRAYSTORE
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
50:
NOP
MOV Y,#1{INTEGER}
MOV J{REAL},Y
NOP
MOV Y,#1{INTEGER}
MOV X,L1{REAL}
SUB X,Y
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(J{REAL})
JSR INITFOR
60:
NOP
MOV Y,#0{INTEGER}
PUSH Y
NOP
POP X
MOV Y,J{REAL}
MOV G,NC[]{REAL}
JSR ARRAYSTORE
70:
NOP
MOV Y,#1{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#1{INTEGER}
MOV X,L0{REAL}
SUB X,Y
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
80:
NOP
MOV Y,#1{INTEGER}
MOV MA{REAL},Y
NOP
JSR COMPACTMAX
MOV C,J{REAL}
MOV D,#1{INTEGER}
CHGCTX #1
MOV B,B${STRING}
JSR MID
PUSH A
CHGCTX #0
MOV C,I{REAL}
CHGCTX #1
MOV B,A${STRING}
JSR CHARAT
POP B
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
NOP
MOV Y,#0{INTEGER}
MOV MA{REAL},Y
NOP
SKIP0:
90:
NOP
MOV Y,#1{INTEGER}
MOV X,I{REAL}
SUB X,Y
MOV G,CO[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,MA{REAL}
ADD X,Y
MOV CR{REAL},X
100:
NOP
MOV X,I{REAL}
MOV G,CO[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#1{INTEGER}
ADD X,Y
MOV CI{REAL},X
110:
NOP
MOV Y,#1{INTEGER}
MOV X,I{REAL}
SUB X,Y
MOV G,NC[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#1{INTEGER}
ADD X,Y
MOV CD{REAL},X
120:
NOP
MOV Y,CI{REAL}
MOV CT{REAL},Y
NOP
MOV Y,CI{REAL}
MOV X,CD{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
NOP
MOV Y,CD{REAL}
MOV CT{REAL},Y
NOP
SKIP1:
130:
NOP
MOV Y,CR{REAL}
MOV CJ{REAL},Y
NOP
MOV Y,CR{REAL}
MOV X,CT{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP2
JMP SKIP2
NSKIP2:
NOP
MOV Y,CT{REAL}
MOV CJ{REAL},Y
NOP
SKIP2:
140:
NOP
MOV Y,I{REAL}
PUSH Y
NOP
POP X
MOV Y,CJ{REAL}
MOV G,NC[]{REAL}
JSR ARRAYSTORE
150:
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
160:
NOP
MOV Y,#0{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#1{INTEGER}
MOV X,L0{REAL}
SUB X,Y
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
170:
NOP
MOV X,I{REAL}
MOV G,CO[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV OV{REAL},X
NOP
MOV Y,I{REAL}
PUSH Y
NOP
MOV X,I{REAL}
MOV G,NC[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,X
POP X
MOV G,CO[]{REAL}
JSR ARRAYSTORE
NOP
MOV Y,I{REAL}
PUSH Y
NOP
POP X
MOV Y,OV{REAL}
MOV G,NC[]{REAL}
JSR ARRAYSTORE
180:
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
190:
NOP
MOV A,(J{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
200:
NOP
MOV Y,#1{INTEGER}
MOV X,L0{REAL}
SUB X,Y
MOV G,CO[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
JSR REALOUT
JSR LINEBREAK
NOP
MOV A,TI${STRING}
JSR STROUT
JSR TABOUT
NOP
MOV X,TI{REAL}
JSR REALOUT
JSR LINEBREAK
NOP
JSR END
RTS
