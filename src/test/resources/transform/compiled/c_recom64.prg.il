PROGRAMSTART:
JSR START
0:
1000:
NOP
JMP 1310
1010:
NOP
1020:
NOP
1030:
NOP
1040:
NOP
MOVB 19,#64{INTEGER}
1050:
NOP
INPUT0:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP1
MOV A${STRING},A
EMPTYINPUTSKIP1:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK0
JSR EXTRAIGNORED
INPUTCHECK0:
1060:
NOP
MOVB 19,#0{INTEGER}
1070:
NOP
JSR LINEBREAK
1080:
NOP
JMP RETURN
1090:
NOP
MOV Y,#1{INTEGER}
PUSH Y
JSR CLEARQUEUE
JSR COMPACTMAX
POP C
JSR INPUTSTRCHANNEL
PUSH C
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP2
MOV X1${STRING},A
EMPTYINPUTSKIP2:
POP C
JSR INPUTSTRCHANNEL
PUSH C
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP3
MOV X2${STRING},A
EMPTYINPUTSKIP3:
POP C
JSR INPUTSTRCHANNEL
PUSH C
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP4
MOV X3${STRING},A
EMPTYINPUTSKIP4:
POP C
JSR INPUTSTRCHANNEL
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP5
MOV X4${STRING},A
EMPTYINPUTSKIP5:
1100:
NOP
MOV B,X1${STRING}
CHGCTX #0
JSR VAL
MOV D{REAL},X
1110:
NOP
JSR COMPACTMAX
MOV B,#,{STRING}
MOV A,X1${STRING}
JSR CONCAT
MOV B,X2${STRING}
JSR CONCAT
MOV B,#,{STRING}
JSR CONCAT
MOV B,X3${STRING}
JSR CONCAT
MOV B,#,{STRING}
JSR CONCAT
MOV B,X4${STRING}
JSR CONCAT
JSR COPYSTR
MOV D${STRING},A
1120:
NOP
JMP RETURN
1130:
NOP
MOV C,#2{INTEGER}
JSR GETSTRCHANNEL
MOV L${STRING},A
JSR GETSTRCHANNEL
MOV H${STRING},A
1140:
NOP
JSR COMPACTMAX
MOV Y,#0{INTEGER}
CHGCTX #1
JSR CHR
MOV B,A
MOV A,H${STRING}
JSR CONCAT
MOV B,A
CHGCTX #0
JSR ASC
MOV A,#8{INTEGER}
SHL X,A
PUSH X
MOV Y,#0{INTEGER}
CHGCTX #1
JSR CHR
MOV B,A
MOV A,L${STRING}
JSR CONCAT
MOV B,A
CHGCTX #0
JSR ASC
POP Y
ADD X,Y
MOV AD{REAL},X
1150:
NOP
JMP RETURN
1160:
NOP
MOV B,#{STRING}
MOV DA${STRING},B
1170:
NOP
MOV C,#2{INTEGER}
JSR GETSTRCHANNEL
MOV X${STRING},A
1180:
NOP
MOV B,#{STRING}
MOV A,X${STRING}
CHGCTX #0
JSR SNEQ
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
NOP
JSR COMPACTMAX
MOV B,X${STRING}
MOV A,DA${STRING}
JSR CONCAT
JSR COPYSTR
MOV DA${STRING},A
JMP 1170
NOP
SKIP0:
1190:
NOP
JMP RETURN
1200:
NOP
MOV Y,#1{INTEGER}
MOV YY{REAL},Y
NOP
MOV Y,SS{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(YY{REAL})
JSR INITFOR
1210:
NOP
MOV X,YY{REAL}
MOV G,S[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,X
MOV X,JA{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
NOP
MOV X,YY{REAL}
MOV G,U[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV JN{REAL},X
JMP RETURN
NOP
SKIP1:
1220:
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
1230:
NOP
MOV B,#Undef'd Statement Error{STRING}
MOV ER${STRING},B
1240:
NOP
MOV X,I{REAL}
MOV G,D[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV ER{REAL},X
1250:
NOP
JSR GOSUB
JSR 3580
1260:
NOP
MOV Y,#63999{INTEGER}
MOV JN{REAL},Y
1270:
NOP
JMP RETURN
1280:
NOP
1290:
NOP
1300:
NOP
1310:
1320:
NOP
1330:
NOP
1340:
NOP
1350:
NOP
1360:
NOP
1370:
NOP
1380:
NOP
MOV A,#{clear}{down}{space*6}Recompactor{space*4}by GD-Soft {ct h}{ct n}{STRING}
JSR STROUT
JSR LINEBREAK
1390:
NOP
MOV A,#{down*2} Source-Filename{space*6}: {STRING}
JSR STROUT
1400:
NOP
JSR GOSUB
JSR 1040
1410:
NOP
MOV B,A${STRING}
MOV SN${STRING},B
1420:
NOP
MOV A,#{down} Destination-Filename : {STRING}
JSR STROUT
1430:
NOP
JSR GOSUB
JSR 1040
1440:
NOP
MOV B,A${STRING}
MOV DN${STRING},B
1450:
NOP
MOV A,#{down} Schleifen formatieren (j/n) : {STRING}
JSR STROUT
1460:
NOP
MOVB 204,#0{INTEGER}
1470:
NOP
JSR GETSTR
MOV FO${STRING},A
1480:
NOP
MOV B,#n{STRING}
MOV A,FO${STRING}
CHGCTX #0
JSR SNEQ
PUSH X
CHGCTX #1
MOV B,#y{STRING}
MOV A,FO${STRING}
CHGCTX #0
JSR SNEQ
PUSH X
CHGCTX #1
MOV B,#j{STRING}
MOV A,FO${STRING}
CHGCTX #0
JSR SNEQ
POP Y
AND X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP2
JMP SKIP2
NSKIP2:
JMP 1470
NOP
SKIP2:
1490:
NOP
MOVB 204,#1{INTEGER}
1500:
NOP
MOV A,FO${STRING}
JSR STROUT
JSR LINEBREAK
1510:
NOP
MOV A,#{down} Startadresse{space*2}: 2049{left*4}{STRING}
JSR STROUT
1520:
NOP
JSR GOSUB
JSR 1040
1530:
NOP
MOV B,A${STRING}
CHGCTX #0
JSR VAL
MOV SA{REAL},X
1540:
NOP
MOV A,#{down} Startzeilennr.: 1000{left*4}{STRING}
JSR STROUT
1550:
NOP
JSR GOSUB
JSR 1040
1560:
NOP
MOV B,A${STRING}
CHGCTX #0
JSR VAL
MOV SZ{REAL},X
1570:
NOP
MOV A,#{down} Schrittweite{space*2}: 10{left*2}{STRING}
JSR STROUT
1580:
NOP
JSR GOSUB
JSR 1040
1590:
NOP
MOV B,A${STRING}
CHGCTX #0
JSR VAL
MOV SW{REAL},X
1600:
NOP
MOV A,#{clear}{down}{space*6}Recompactor{space*4}by GD-Soft {ct h}{ct n}{STRING}
JSR STROUT
JSR LINEBREAK
1610:
NOP
MOV A,#{down*2}{space*3}Sourcefile{space*6}: {STRING}
JSR STROUT
NOP
MOV A,SN${STRING}
JSR STROUT
JSR LINEBREAK
1620:
NOP
MOV A,#{down}{space*3}Destinationfile : {STRING}
JSR STROUT
NOP
MOV A,DN${STRING}
JSR STROUT
JSR LINEBREAK
1630:
NOP
1640:
NOP
1650:
NOP
1660:
NOP
MOV A,#{home}{down*10}{STRING}
JSR STROUT
NOP
MOV Y,#3{INTEGER}
CHGCTX #1
JSR TAB
NOP
MOV A,#Pass 1 :{STRING}
JSR STROUT
JSR LINEBREAK
1670:
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV Y,#8.0{REAL}
PUSH Y
MOV D,#15{INTEGER}
POP C
POP X
MOV Y,#3{INTEGER}
JSR OPEN
1680:
NOP
MOV Y,#2{INTEGER}
PUSH Y
MOV Y,#8.0{REAL}
PUSH Y
MOV Y,#0{INTEGER}
PUSH Y
MOV B,SN${STRING}
MOV G,B
POP D
POP C
POP X
MOV Y,#4{INTEGER}
JSR OPEN
1690:
NOP
JSR GOSUB
JSR 1090
1700:
NOP
MOV Y,D{REAL}
CMP Y,#0{REAL}
JNE NSKIP3
JMP SKIP3
NSKIP3:
MOV X,#2{INTEGER}
JSR CLOSE
MOV X,#1{INTEGER}
JSR CLOSE
JSR GOSUB
JSR 3600
JSR RUN
NOP
SKIP3:
1710:
NOP
JSR GOSUB
JSR 1130
1720:
NOP
JSR GOSUB
JSR 1130
1730:
NOP
MOV Y,#0{INTEGER}
MOV X,AD{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP4
JMP SKIP4
NSKIP4:
MOV X,#2{INTEGER}
JSR CLOSE
MOV X,#1{INTEGER}
JSR CLOSE
JMP 1840
NOP
SKIP4:
1740:
NOP
JSR GOSUB
JSR 1130
1750:
NOP
MOV A,#{home}{down*10}{STRING}
JSR STROUT
NOP
MOV Y,#11{INTEGER}
CHGCTX #1
JSR TAB
NOP
MOV X,AD{REAL}
JSR REALOUT
JSR LINEBREAK
1760:
NOP
MOV Y,#1{INTEGER}
MOV X,SS{REAL}
ADD X,Y
MOV SS{REAL},X
1770:
NOP
MOV Y,SS{REAL}
PUSH Y
NOP
POP X
MOV Y,AD{REAL}
MOV G,S[]{REAL}
JSR ARRAYSTORE
1780:
NOP
JSR GOSUB
JSR 1160
1790:
NOP
MOV Y,SS{REAL}
PUSH Y
NOP
MOV A,DA${STRING}
POP X
MOV G,S$[]{STRING}
JSR ARRAYSTORE
1800:
NOP
JMP 1720
1810:
NOP
1820:
NOP
1830:
NOP
1840:
NOP
MOV A,#{home}{down*10}{STRING}
JSR STROUT
NOP
MOV Y,#23{INTEGER}
CHGCTX #1
JSR TAB
NOP
MOV A,#Pass 2 :{STRING}
JSR STROUT
JSR LINEBREAK
1850:
NOP
MOV Y,#1{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,SS{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
1860:
NOP
MOV A,#{home}{down*10}{STRING}
JSR STROUT
NOP
MOV Y,#31{INTEGER}
CHGCTX #1
JSR TAB
NOP
MOV X,I{REAL}
MOV G,S[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
JSR REALOUT
JSR LINEBREAK
1870:
NOP
MOV Y,I{REAL}
PUSH Y
NOP
MOV Y,DD{REAL}
MOV X,SW{REAL}
MUL X,Y
MOV Y,SZ{REAL}
ADD X,Y
MOV Y,X
POP X
MOV G,U[]{REAL}
JSR ARRAYSTORE
1880:
NOP
MOV Y,#0{INTEGER}
MOV F1{REAL},Y
1890:
NOP
MOV Y,#0{INTEGER}
MOV F2{REAL},Y
1900:
NOP
MOV Y,#0{INTEGER}
MOV F3{REAL},Y
1910:
NOP
MOV Y,#1{INTEGER}
MOV M{REAL},Y
NOP
MOV X,I{REAL}
CHGCTX #1
MOV G,S$[]{STRING}
JSR ARRAYACCESS
MOV B,A
CHGCTX #0
JSR LEN
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(M{REAL})
JSR INITFOR
1920:
NOP
JSR COMPACTMAX
MOV C,M{REAL}
PUSH C
MOV C,#1{INTEGER}
PUSH C
MOV X,I{REAL}
CHGCTX #1
MOV G,S$[]{STRING}
JSR ARRAYACCESS
MOV B,A
POP D
POP C
JSR MID
JSR COPYSTR
MOV X${STRING},A
1930:
NOP
JSR COMPACTMAX
MOV Y,#0{INTEGER}
CHGCTX #1
JSR CHR
MOV B,A
MOV A,X${STRING}
JSR CONCAT
MOV B,A
CHGCTX #0
JSR ASC
MOV X{REAL},X
1940:
NOP
MOV B,#{STRING}
MOV A,ZE${STRING}
CHGCTX #0
JSR SNEQ
PUSH X
CHGCTX #1
MOV B,#:{STRING}
MOV A,X${STRING}
CHGCTX #0
JSR SEQ
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP5
JMP SKIP5
NSKIP5:
JMP 2010
NOP
SKIP5:
1950:
NOP
MOV Y,#139{INTEGER}
MOV X,X{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP6
JMP SKIP6
NSKIP6:
NOP
MOV Y,#1{INTEGER}
MOV F1{REAL},Y
NOP
SKIP6:
1960:
NOP
MOV Y,#143{INTEGER}
MOV X,X{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP7
JMP SKIP7
NSKIP7:
NOP
MOV Y,#1{INTEGER}
MOV F1{REAL},Y
NOP
SKIP7:
1970:
NOP
MOV Y,#34{INTEGER}
MOV X,X{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP8
JMP SKIP8
NSKIP8:
NOP
MOV Y,F2{REAL}
MOV X,#1{INTEGER}
SUB X,Y
MOV F2{REAL},X
NOP
SKIP8:
1980:
NOP
JSR COMPACTMAX
MOV B,X${STRING}
MOV A,ZE${STRING}
JSR CONCAT
JSR COPYSTR
MOV ZE${STRING},A
1990:
NOP
MOV A,(M{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
2000:
NOP
MOV Y,#1{INTEGER}
MOV F3{REAL},Y
2010:
NOP
MOV Y,#0{INTEGER}
MOV X,F3{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP9
JMP SKIP9
NSKIP9:
NOP
MOV Y,F2{REAL}
MOV X,F1{REAL}
OR X,Y
CMP X,#0{REAL}
JNE NSKIP10
JMP SKIP10
NSKIP10:
JMP 1980
NOP
SKIP10:
NOP
SKIP9:
2020:
NOP
MOV Y,#1{INTEGER}
MOV X,DD{REAL}
ADD X,Y
MOV DD{REAL},X
2030:
NOP
MOV Y,DD{REAL}
PUSH Y
NOP
MOV A,ZE${STRING}
POP X
MOV G,D$[]{STRING}
JSR ARRAYSTORE
2040:
NOP
MOV B,#{STRING}
MOV ZE${STRING},B
2050:
NOP
MOV Y,DD{REAL}
PUSH Y
NOP
MOV Y,DD{REAL}
MOV X,SW{REAL}
MUL X,Y
MOV Y,SZ{REAL}
ADD X,Y
MOV Y,SW{REAL}
SUB X,Y
MOV Y,X
POP X
MOV G,D[]{REAL}
JSR ARRAYSTORE
2060:
NOP
MOV Y,#0{INTEGER}
MOV X,F3{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP11
JMP SKIP11
NSKIP11:
MOV A,(M{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
SKIP11:
2070:
NOP
MOV Y,I{REAL}
PUSH Y
NOP
MOV A,#{STRING}
POP X
MOV G,S$[]{STRING}
JSR ARRAYSTORE
2080:
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
2090:
NOP
MOV X,DD{REAL}
MOV G,D[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#63999{INTEGER}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP12
JMP SKIP12
NSKIP12:
NOP
MOV B,#Line Increment too large !{STRING}
MOV ER${STRING},B
NOP
MOV Y,#0{INTEGER}
MOV ER{REAL},Y
JSR GOSUB
JSR 3580
JSR RUN
NOP
SKIP12:
2100:
NOP
2110:
NOP
2120:
NOP
2130:
NOP
MOV A,#{home}{down*13}{STRING}
JSR STROUT
NOP
MOV Y,#3{INTEGER}
CHGCTX #1
JSR TAB
NOP
MOV A,#Pass 3 :{STRING}
JSR STROUT
JSR LINEBREAK
2140:
NOP
MOV Y,#1{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,DD{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
2150:
NOP
MOV Y,#0.0{REAL}
MOV MM{REAL},Y
2160:
NOP
MOV Y,#0.0{REAL}
MOV F1{REAL},Y
2170:
NOP
MOV Y,#0.0{REAL}
MOV F2{REAL},Y
2180:
NOP
MOV A,#{home}{down*13}{STRING}
JSR STROUT
NOP
MOV Y,#11{INTEGER}
CHGCTX #1
JSR TAB
NOP
MOV X,I{REAL}
MOV G,D[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
JSR REALOUT
JSR LINEBREAK
2190:
NOP
MOV Y,#1{INTEGER}
MOV X,MM{REAL}
ADD X,Y
MOV MM{REAL},X
2200:
NOP
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
CHGCTX #0
JSR LEN
MOV Y,X
MOV X,MM{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP13
JMP SKIP13
NSKIP13:
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
JMP 3090
NOP
SKIP13:
2210:
NOP
JSR COMPACTMAX
MOV Y,#0{INTEGER}
CHGCTX #1
JSR CHR
PUSH A
CHGCTX #0
MOV C,MM{REAL}
PUSH C
MOV C,#1{INTEGER}
PUSH C
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
POP D
POP C
JSR MID
POP B
JSR CONCAT
MOV B,A
CHGCTX #0
JSR ASC
MOV YY{REAL},X
2220:
NOP
MOV Y,#34{INTEGER}
MOV X,YY{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP14
JMP SKIP14
NSKIP14:
NOP
MOV Y,F2{REAL}
MOV X,#1{INTEGER}
SUB X,Y
MOV F2{REAL},X
NOP
NOP
SKIP14:
2230:
NOP
MOV Y,#143{INTEGER}
MOV X,YY{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP15
JMP SKIP15
NSKIP15:
NOP
MOV Y,#1{INTEGER}
MOV F1{REAL},Y
NOP
NOP
SKIP15:
2240:
NOP
MOV Y,F2{REAL}
MOV X,F1{REAL}
OR X,Y
CMP X,#0{REAL}
JNE NSKIP16
JMP SKIP16
NSKIP16:
JMP 2190
NOP
NOP
SKIP16:
2250:
NOP
MOV Y,#141{INTEGER}
MOV X,YY{REAL}
EQ X,Y
PUSH X
MOV Y,#137{INTEGER}
MOV X,YY{REAL}
EQ X,Y
POP Y
OR X,Y
CMP X,#0{REAL}
JNE NSKIP17
JMP SKIP17
NSKIP17:
JMP 2310
NOP
NOP
SKIP17:
2260:
NOP
MOV Y,#167{INTEGER}
MOV X,YY{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP18
JMP SKIP18
NSKIP18:
JMP 2490
NOP
NOP
SKIP18:
2270:
NOP
MOV Y,#145{INTEGER}
MOV X,YY{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP19
JMP SKIP19
NSKIP19:
JMP 2570
NOP
NOP
SKIP19:
2280:
NOP
MOV Y,#203{INTEGER}
MOV X,YY{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP20
JMP SKIP20
NSKIP20:
JMP 2980
NOP
NOP
SKIP20:
2290:
NOP
JMP 2190
2300:
NOP
2310:
NOP
MOV Y,#0.0{REAL}
MOV JA{REAL},Y
2320:
NOP
MOV B,#{STRING}
MOV JA${STRING},B
2330:
NOP
MOV Y,#0.0{REAL}
MOV NN{REAL},Y
2340:
NOP
MOV Y,#1{INTEGER}
MOV X,NN{REAL}
ADD X,Y
MOV NN{REAL},X
2350:
NOP
JSR COMPACTMAX
MOV Y,NN{REAL}
MOV X,MM{REAL}
ADD X,Y
PUSH X
MOV C,#1{INTEGER}
PUSH C
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
POP D
POP C
JSR MID
JSR COPYSTR
MOV NN${STRING},A
2360:
NOP
MOV B,# {STRING}
MOV A,NN${STRING}
CHGCTX #0
JSR SNEQ
PUSH X
CHGCTX #1
MOV B,#9{STRING}
MOV A,NN${STRING}
CHGCTX #0
JSR SGT
PUSH X
CHGCTX #1
MOV B,#0{STRING}
MOV A,NN${STRING}
CHGCTX #0
JSR SLT
POP Y
OR X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP21
JMP SKIP21
NSKIP21:
JMP 2390
NOP
SKIP21:
2370:
NOP
JSR COMPACTMAX
MOV B,NN${STRING}
MOV A,JA${STRING}
JSR CONCAT
JSR COPYSTR
MOV JA${STRING},A
2380:
NOP
JMP 2340
2390:
NOP
MOV B,JA${STRING}
CHGCTX #0
JSR VAL
MOV JA{REAL},X
2400:
NOP
JSR GOSUB
JSR 1200
2410:
NOP
JSR COMPACTMAX
MOV C,MM{REAL}
PUSH C
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
POP C
JSR LEFT
JSR COPYSTR
MOV LI${STRING},A
2420:
NOP
JSR COMPACTMAX
MOV Y,NN{REAL}
MOV X,MM{REAL}
ADD X,Y
PUSH X
MOV C,#-1{INTEGER}
PUSH C
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
POP D
POP C
JSR MID
JSR COPYSTR
MOV RE${STRING},A
2430:
NOP
MOV Y,I{REAL}
PUSH Y
NOP
JSR COMPACTMAX
MOV Y,JN{REAL}
CHGCTX #1
JSR STR
MOV B,A
MOV A,LI${STRING}
JSR CONCAT
MOV B,RE${STRING}
JSR CONCAT
JSR COPYSTR
POP X
MOV G,D$[]{STRING}
JSR ARRAYSTORE
2440:
NOP
MOV Y,NN{REAL}
MOV X,MM{REAL}
ADD X,Y
MOV MM{REAL},X
2450:
NOP
JMP 2190
2460:
NOP
2470:
NOP
2480:
NOP
2490:
NOP
MOV Y,#0.0{REAL}
MOV NN{REAL},Y
2500:
NOP
2510:
NOP
MOV Y,#1{INTEGER}
MOV X,NN{REAL}
ADD X,Y
MOV NN{REAL},X
2520:
NOP
JSR COMPACTMAX
MOV Y,NN{REAL}
MOV X,MM{REAL}
ADD X,Y
PUSH X
MOV C,#1{INTEGER}
PUSH C
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
POP D
POP C
JSR MID
JSR COPYSTR
MOV NN${STRING},A
2530:
NOP
MOV B,# {STRING}
MOV A,NN${STRING}
CHGCTX #0
JSR SNEQ
PUSH X
CHGCTX #1
MOV B,#9{STRING}
MOV A,NN${STRING}
CHGCTX #0
JSR SGT
PUSH X
CHGCTX #1
MOV B,#0{STRING}
MOV A,NN${STRING}
CHGCTX #0
JSR SLT
POP Y
OR X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP22
JMP SKIP22
NSKIP22:
JMP 2190
NOP
SKIP22:
2540:
NOP
MOV B,# {STRING}
MOV A,NN${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP23
JMP SKIP23
NSKIP23:
JMP 2510
NOP
NOP
SKIP23:
2550:
NOP
JMP 2310
2560:
NOP
2570:
NOP
MOV Y,#1{INTEGER}
MOV X,MM{REAL}
ADD X,Y
MOV MM{REAL},X
2580:
NOP
JSR COMPACTMAX
MOV Y,#0{INTEGER}
CHGCTX #1
JSR CHR
PUSH A
CHGCTX #0
MOV C,MM{REAL}
PUSH C
MOV C,#1{INTEGER}
PUSH C
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
POP D
POP C
JSR MID
POP B
JSR CONCAT
MOV B,A
CHGCTX #0
JSR ASC
MOV AS{REAL},X
2590:
NOP
MOV Y,#141{INTEGER}
MOV X,AS{REAL}
EQ X,Y
PUSH X
MOV Y,#137{INTEGER}
MOV X,AS{REAL}
EQ X,Y
POP Y
OR X,Y
CMP X,#0{REAL}
JNE NSKIP24
JMP SKIP24
NSKIP24:
JMP 2760
NOP
SKIP24:
2600:
NOP
MOV Y,#203{INTEGER}
MOV X,AS{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP25
JMP SKIP25
NSKIP25:
JMP 2670
NOP
SKIP25:
2610:
NOP
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
CHGCTX #0
JSR LEN
MOV Y,X
MOV X,MM{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP26
JMP SKIP26
NSKIP26:
JMP 2570
NOP
SKIP26:
2620:
NOP
MOV B,#ON without GOTO Error{STRING}
MOV ER${STRING},B
2630:
NOP
MOV X,I{REAL}
MOV G,D[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV ER{REAL},X
2640:
NOP
JSR GOSUB
JSR 3580
2650:
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
2660:
NOP
2670:
NOP
MOV Y,#1{INTEGER}
MOV X,MM{REAL}
ADD X,Y
MOV MM{REAL},X
2680:
NOP
JSR COMPACTMAX
MOV Y,#0{INTEGER}
CHGCTX #1
JSR CHR
PUSH A
CHGCTX #0
MOV C,MM{REAL}
PUSH C
MOV C,#1{INTEGER}
PUSH C
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
POP D
POP C
JSR MID
POP B
JSR CONCAT
MOV B,A
CHGCTX #0
JSR ASC
MOV AS{REAL},X
2690:
NOP
MOV Y,#164{INTEGER}
MOV X,AS{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP27
JMP SKIP27
NSKIP27:
JMP 2760
NOP
SKIP27:
2700:
NOP
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
CHGCTX #0
JSR LEN
MOV Y,X
MOV X,MM{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP28
JMP SKIP28
NSKIP28:
JMP 2670
NOP
SKIP28:
2710:
NOP
MOV B,#GO without TO Error{STRING}
MOV ER${STRING},B
2720:
NOP
MOV X,I{REAL}
MOV G,D[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV ER{REAL},X
2730:
NOP
JSR GOSUB
JSR 3580
2740:
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
2750:
NOP
2760:
NOP
MOV Y,#0.0{REAL}
MOV NN{REAL},Y
2770:
NOP
MOV Y,NN{REAL}
MOV X,MM{REAL}
ADD X,Y
MOV MM{REAL},X
2780:
NOP
MOV Y,#0.0{REAL}
MOV NN{REAL},Y
2790:
NOP
MOV B,#{STRING}
MOV JA${STRING},B
2800:
NOP
MOV Y,#1{INTEGER}
MOV X,NN{REAL}
ADD X,Y
MOV NN{REAL},X
2810:
NOP
JSR COMPACTMAX
MOV Y,NN{REAL}
MOV X,MM{REAL}
ADD X,Y
PUSH X
MOV C,#1{INTEGER}
PUSH C
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
POP D
POP C
JSR MID
JSR COPYSTR
MOV NN${STRING},A
2820:
NOP
MOV B,# {STRING}
MOV A,NN${STRING}
CHGCTX #0
JSR SNEQ
PUSH X
CHGCTX #1
MOV B,#9{STRING}
MOV A,NN${STRING}
CHGCTX #0
JSR SGT
PUSH X
CHGCTX #1
MOV B,#0{STRING}
MOV A,NN${STRING}
CHGCTX #0
JSR SLT
POP Y
OR X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP29
JMP SKIP29
NSKIP29:
JMP 2850
NOP
SKIP29:
2830:
NOP
JSR COMPACTMAX
MOV B,NN${STRING}
MOV A,JA${STRING}
JSR CONCAT
JSR COPYSTR
MOV JA${STRING},A
2840:
NOP
JMP 2800
2850:
NOP
MOV B,JA${STRING}
CHGCTX #0
JSR VAL
MOV JA{REAL},X
2860:
NOP
JSR GOSUB
JSR 1200
2870:
NOP
JSR COMPACTMAX
MOV C,MM{REAL}
PUSH C
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
POP C
JSR LEFT
JSR COPYSTR
MOV LI${STRING},A
2880:
NOP
JSR COMPACTMAX
MOV Y,NN{REAL}
MOV X,MM{REAL}
ADD X,Y
PUSH X
MOV C,#-1{INTEGER}
PUSH C
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
POP D
POP C
JSR MID
JSR COPYSTR
MOV RE${STRING},A
2890:
NOP
MOV Y,I{REAL}
PUSH Y
NOP
JSR COMPACTMAX
MOV Y,JN{REAL}
CHGCTX #1
JSR STR
MOV B,A
MOV A,LI${STRING}
JSR CONCAT
MOV B,RE${STRING}
JSR CONCAT
JSR COPYSTR
POP X
MOV G,D$[]{STRING}
JSR ARRAYSTORE
2900:
NOP
MOV Y,#1{INTEGER}
MOV X,NN{REAL}
SUB X,Y
MOV NN{REAL},X
2910:
NOP
MOV Y,#1{INTEGER}
MOV X,NN{REAL}
ADD X,Y
MOV NN{REAL},X
2920:
NOP
JSR COMPACTMAX
MOV Y,NN{REAL}
MOV X,MM{REAL}
ADD X,Y
PUSH X
MOV C,#1{INTEGER}
PUSH C
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
POP D
POP C
JSR MID
JSR COPYSTR
MOV NN${STRING},A
2930:
NOP
MOV B,# {STRING}
MOV A,NN${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP30
JMP SKIP30
NSKIP30:
JMP 2910
NOP
SKIP30:
2940:
NOP
MOV B,#,{STRING}
MOV A,NN${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP31
JMP SKIP31
NSKIP31:
JMP 2770
NOP
SKIP31:
2950:
NOP
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
CHGCTX #0
JSR LEN
PUSH X
MOV Y,NN{REAL}
MOV X,MM{REAL}
ADD X,Y
POP Y
GT X,Y
PUSH X
CHGCTX #1
MOV B,#:{STRING}
MOV A,NN${STRING}
CHGCTX #0
JSR SEQ
POP Y
OR X,Y
CMP X,#0{REAL}
JNE NSKIP32
JMP SKIP32
NSKIP32:
NOP
MOV Y,NN{REAL}
MOV X,MM{REAL}
ADD X,Y
MOV MM{REAL},X
JMP 2190
NOP
SKIP32:
2960:
NOP
JMP 2910
2970:
NOP
2980:
NOP
MOV Y,#1{INTEGER}
MOV X,MM{REAL}
ADD X,Y
MOV MM{REAL},X
2990:
NOP
JSR COMPACTMAX
MOV Y,#0{INTEGER}
CHGCTX #1
JSR CHR
PUSH A
CHGCTX #0
MOV C,MM{REAL}
PUSH C
MOV C,#1{INTEGER}
PUSH C
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
POP D
POP C
JSR MID
POP B
JSR CONCAT
MOV B,A
CHGCTX #0
JSR ASC
MOV AS{REAL},X
3000:
NOP
MOV Y,#164{INTEGER}
MOV X,AS{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP33
JMP SKIP33
NSKIP33:
JMP 2310
NOP
NOP
SKIP33:
3010:
NOP
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
CHGCTX #0
JSR LEN
MOV Y,X
MOV X,MM{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP34
JMP SKIP34
NSKIP34:
JMP 2980
NOP
SKIP34:
3020:
NOP
MOV B,#GO without TO Error{STRING}
MOV ER${STRING},B
3030:
NOP
MOV X,I{REAL}
MOV G,D[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV ER{REAL},X
3040:
NOP
JSR GOSUB
JSR 3580
3050:
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
3060:
NOP
3070:
NOP
3080:
NOP
3090:
NOP
MOV B,#y{STRING}
MOV A,FO${STRING}
CHGCTX #0
JSR SNEQ
PUSH X
CHGCTX #1
MOV B,#j{STRING}
MOV A,FO${STRING}
CHGCTX #0
JSR SNEQ
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP35
JMP SKIP35
NSKIP35:
JMP 3300
NOP
SKIP35:
3100:
NOP
MOV A,#{home}{down*13}{STRING}
JSR STROUT
NOP
MOV Y,#23{INTEGER}
CHGCTX #1
JSR TAB
NOP
MOV A,#Pass 4 :{STRING}
JSR STROUT
JSR LINEBREAK
3110:
NOP
MOV Y,#0{INTEGER}
MOV FO{REAL},Y
3120:
NOP
MOV Y,#1{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,DD{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
3130:
NOP
MOV Y,#0.0{REAL}
MOV MM{REAL},Y
3140:
NOP
MOV Y,#0.0{REAL}
MOV F1{REAL},Y
3150:
NOP
MOV Y,#0.0{REAL}
MOV F2{REAL},Y
3160:
NOP
MOV Y,I{REAL}
PUSH Y
NOP
JSR COMPACTMAX
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
PUSH A
CHGCTX #0
MOV C,FO{REAL}
CHGCTX #1
MOV B,#:{space*20}{STRING}
JSR LEFT
POP B
JSR CONCAT
JSR COPYSTR
POP X
MOV G,D$[]{STRING}
JSR ARRAYSTORE
3170:
NOP
MOV A,#{home}{down*13}{STRING}
JSR STROUT
NOP
MOV Y,#31{INTEGER}
CHGCTX #1
JSR TAB
NOP
MOV X,I{REAL}
MOV G,D[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
JSR REALOUT
JSR LINEBREAK
3180:
NOP
MOV Y,#1{INTEGER}
MOV X,MM{REAL}
ADD X,Y
MOV MM{REAL},X
3190:
NOP
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
CHGCTX #0
JSR LEN
MOV Y,X
MOV X,MM{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP36
JMP SKIP36
NSKIP36:
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
JMP 3300
NOP
SKIP36:
3200:
NOP
JSR COMPACTMAX
MOV Y,#0{INTEGER}
CHGCTX #1
JSR CHR
PUSH A
CHGCTX #0
MOV C,MM{REAL}
PUSH C
MOV C,#1{INTEGER}
PUSH C
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
POP D
POP C
JSR MID
POP B
JSR CONCAT
MOV B,A
CHGCTX #0
JSR ASC
MOV YY{REAL},X
3210:
NOP
MOV Y,#34{INTEGER}
MOV X,YY{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP37
JMP SKIP37
NSKIP37:
NOP
MOV Y,F2{REAL}
MOV X,#1{INTEGER}
SUB X,Y
MOV F2{REAL},X
NOP
NOP
SKIP37:
3220:
NOP
MOV Y,#143{INTEGER}
MOV X,YY{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP38
JMP SKIP38
NSKIP38:
NOP
MOV Y,#1{INTEGER}
MOV F1{REAL},Y
NOP
NOP
SKIP38:
3230:
NOP
MOV Y,F2{REAL}
MOV X,F1{REAL}
OR X,Y
CMP X,#0{REAL}
JNE NSKIP39
JMP SKIP39
NSKIP39:
JMP 3180
NOP
NOP
SKIP39:
3240:
NOP
MOV Y,#129{INTEGER}
MOV X,YY{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP40
JMP SKIP40
NSKIP40:
NOP
MOV Y,#2{INTEGER}
MOV X,FO{REAL}
ADD X,Y
MOV FO{REAL},X
NOP
NOP
SKIP40:
3250:
NOP
MOV Y,#0{INTEGER}
MOV X,FO{REAL}
GT X,Y
PUSH X
MOV Y,#130{INTEGER}
MOV X,YY{REAL}
EQ X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP41
JMP SKIP41
NSKIP41:
NOP
MOV Y,#2{INTEGER}
MOV X,FO{REAL}
SUB X,Y
MOV FO{REAL},X
NOP
MOV Y,I{REAL}
PUSH Y
NOP
JSR COMPACTMAX
MOV Y,#3{INTEGER}
MOV X,FO{REAL}
ADD X,Y
PUSH X
MOV C,#-1{INTEGER}
PUSH C
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
POP D
POP C
JSR MID
PUSH A
CHGCTX #0
MOV C,FO{REAL}
CHGCTX #1
MOV B,#:{space*20}{STRING}
JSR LEFT
POP B
JSR CONCAT
JSR COPYSTR
POP X
MOV G,D$[]{STRING}
JSR ARRAYSTORE
NOP
SKIP41:
3260:
NOP
JMP 3180
3270:
NOP
3280:
NOP
3290:
NOP
3300:
NOP
MOV A,#{home}{down*17}{STRING}
JSR STROUT
NOP
MOV Y,#16{INTEGER}
CHGCTX #1
JSR TAB
NOP
MOV A,#{reverse on} saving {STRING}
JSR STROUT
JSR LINEBREAK
3310:
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV Y,#8.0{REAL}
PUSH Y
MOV D,#15{INTEGER}
POP C
POP X
MOV Y,#3{INTEGER}
JSR OPEN
3320:
NOP
MOV Y,#2{INTEGER}
PUSH Y
MOV Y,#8.0{REAL}
PUSH Y
MOV Y,#1{INTEGER}
PUSH Y
MOV B,DN${STRING}
MOV G,B
POP D
POP C
POP X
MOV Y,#4{INTEGER}
JSR OPEN
3330:
NOP
JSR GOSUB
JSR 1090
3340:
NOP
MOV Y,D{REAL}
CMP Y,#0{REAL}
JNE NSKIP42
JMP SKIP42
NSKIP42:
MOV X,#2{INTEGER}
JSR CLOSE
MOV X,#1{INTEGER}
JSR CLOSE
JSR GOSUB
JSR 3600
JMP 3300
NOP
SKIP42:
3350:
NOP
MOV Y,SA{REAL}
MOV AD{REAL},Y
3360:
NOP
MOV Y,SA{REAL}
MOV X,#255{INTEGER}
AND X,Y
MOV LB{REAL},X
3370:
NOP
MOV A,#8{INTEGER}
MOV X,SA{REAL}
SHR X,A
MOV HB{REAL},X
3380:
NOP
JSR LOCKCHANNEL
MOV Y,#2{INTEGER}
PUSH Y
NOP
JSR COMPACTMAX
MOV Y,LB{REAL}
CHGCTX #1
JSR CHR
POP C
JSR STROUTCHANNEL
PUSH C
NOP
JSR COMPACTMAX
MOV Y,HB{REAL}
CHGCTX #1
JSR CHR
POP C
JSR STROUTCHANNEL
JSR UNLOCKCHANNEL
3390:
NOP
MOV Y,#1{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,DD{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
3400:
NOP
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
MOV B,A
CHGCTX #0
JSR LEN
MOV Y,AD{REAL}
ADD X,Y
MOV Y,#5{INTEGER}
ADD X,Y
MOV AD{REAL},X
3410:
NOP
MOV Y,AD{REAL}
MOV X,#255{INTEGER}
AND X,Y
MOV LP{REAL},X
3420:
NOP
MOV A,#8{INTEGER}
MOV X,AD{REAL}
SHR X,A
MOV HP{REAL},X
3430:
NOP
JSR LOCKCHANNEL
MOV Y,#2{INTEGER}
PUSH Y
NOP
JSR COMPACTMAX
MOV Y,LP{REAL}
CHGCTX #1
JSR CHR
POP C
JSR STROUTCHANNEL
PUSH C
NOP
JSR COMPACTMAX
MOV Y,HP{REAL}
CHGCTX #1
JSR CHR
POP C
JSR STROUTCHANNEL
JSR UNLOCKCHANNEL
3440:
NOP
MOV X,I{REAL}
MOV G,D[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#255{INTEGER}
AND X,Y
MOV LZ{REAL},X
3450:
NOP
MOV X,I{REAL}
MOV G,D[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV A,#8{INTEGER}
SHR X,A
MOV HZ{REAL},X
3460:
NOP
JSR LOCKCHANNEL
MOV Y,#2{INTEGER}
PUSH Y
NOP
JSR COMPACTMAX
MOV Y,LZ{REAL}
CHGCTX #1
JSR CHR
POP C
JSR STROUTCHANNEL
PUSH C
NOP
JSR COMPACTMAX
MOV Y,HZ{REAL}
CHGCTX #1
JSR CHR
POP C
JSR STROUTCHANNEL
JSR UNLOCKCHANNEL
3470:
NOP
JSR LOCKCHANNEL
MOV Y,#2{INTEGER}
PUSH Y
NOP
MOV X,I{REAL}
CHGCTX #1
MOV G,D$[]{STRING}
JSR ARRAYACCESS
POP C
JSR STROUTCHANNEL
PUSH C
NOP
JSR COMPACTMAX
MOV Y,#0{INTEGER}
CHGCTX #1
JSR CHR
POP C
JSR STROUTCHANNEL
JSR UNLOCKCHANNEL
3480:
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
3490:
NOP
JSR LOCKCHANNEL
MOV Y,#2{INTEGER}
PUSH Y
NOP
JSR COMPACTMAX
MOV Y,#0{INTEGER}
CHGCTX #1
JSR CHR
POP C
JSR STROUTCHANNEL
PUSH C
NOP
JSR COMPACTMAX
MOV Y,#0{INTEGER}
CHGCTX #1
JSR CHR
POP C
JSR STROUTCHANNEL
JSR UNLOCKCHANNEL
3500:
NOP
MOV X,#2{INTEGER}
JSR CLOSE
3510:
NOP
MOV X,#1{INTEGER}
JSR CLOSE
3520:
NOP
MOV A,#{home}{down*20}{space*2}Errors :{STRING}
JSR STROUT
NOP
MOV X,ER%{INTEGER}
JSR INTOUT
JSR LINEBREAK
3530:
NOP
JSR LINEBREAK
3540:
NOP
JSR END
RTS
3550:
NOP
3560:
NOP
3570:
NOP
3580:
NOP
MOV B,ER${STRING}
MOV D${STRING},B
3590:
NOP
MOV Y,ER{REAL}
MOV D{REAL},Y
3600:
NOP
MOV A,#{home}{down*21}{right}error for {STRING}
JSR STROUT
NOP
MOV A,SN${STRING}
JSR STROUT
NOP
MOV A,# :{STRING}
JSR STROUT
JSR LINEBREAK
3610:
NOP
MOV A,#{down}{sh space}{STRING}
JSR STROUT
NOP
MOV A,D${STRING}
JSR STROUT
3620:
NOP
MOV B,D${STRING}
CHGCTX #0
JSR VAL
MOV Y,X
MOV X,D{REAL}
NEQ X,Y
CMP X,#0{REAL}
JNE NSKIP43
JMP SKIP43
NSKIP43:
NOP
MOV A,#{right}in{STRING}
JSR STROUT
NOP
MOV X,D{REAL}
JSR REALOUT
JSR CRSRRIGHT
NOP
SKIP43:
3630:
NOP
MOV Y,#1{INTEGER}
MOV T{REAL},Y
NOP
MOV Y,#5000{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(T{REAL})
JSR INITFOR
3640:
NOP
JSR GETSTR
MOV A${STRING},A
3650:
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP44
JMP SKIP44
NSKIP44:
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
SKIP44:
3660:
NOP
MOV A,#{home}{down*21}{space*39}{STRING}
JSR STROUT
JSR LINEBREAK
3670:
NOP
MOV A,#{down}{space*39}{STRING}
JSR STROUT
3680:
NOP
JMP RETURN
NOP
JSR END
RTS
