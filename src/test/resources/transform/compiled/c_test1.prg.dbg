117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
128	.$81f	LDX #4
129	.$821	dcloop235_1:
130	.$821	LDA CONST_0,X
131	.$824	STA VAR_A,X
132	.$827	DEX
133	.$828	BPL dcloop235_1
136	.$82a	LINE_20:
138	.$82a	LDY #37
139	.$82c	LDA #0
141	.$82e	STY VAR_B%
142	.$831	STA VAR_B%+1
144	.$834	LINE_30:
147	.$834	LINE_40:
150	.$834	LINE_50:
152	.$834	LDA #<VAR_A
153	.$836	LDY #>VAR_A
154	.$838	JSR COPY2_XYA_XREG
157	.$83b	JSR XREGFAC
160	.$83e	JSR FACWORD
161	.$841	STY 1024
163	.$844	LINE_60:
165	.$844	LDY 1024
166	.$847	STY 1030
169	.$84a	LINE_70:
171	.$84a	JSR GOSUB
172	.$84d	JSR LINE_1000
173	.$850	JMP LINE_100
175	.$853	LINE_80:
177	.$853	LDX #4
178	.$855	dcloop1065_1:
179	.$855	LDA CONST_2,X
180	.$858	STA VAR_A,X
181	.$85b	DEX
182	.$85c	BPL dcloop1065_1
185	.$85e	LINE_100:
189	.$85e	LINE_102:
191	.$85e	LDA #<CONST_0
192	.$860	LDY #>CONST_0
193	.$862	JSR REALFAC
194	.$865	LDA #<VAR_A
195	.$867	LDY #>VAR_A
196	.$869	JSR CMPFAC
198	.$86c	BEQ EQ_EQ0
199	.$86e	LDA #0
200	.$870	JMP EQ_SKIP0
201	.$873	EQ_EQ0:
202	.$873	LDA #$1
203	.$875	EQ_SKIP0:
204	.$875	COMP_SKP0:
205	.$875	BNE LINE_NSKIP3
207	.$877	JMP LINE_SKIP3
209	.$87a	LINE_NSKIP3:
211	.$87a	LDY #37
212	.$87c	STY 1040
214	.$87f	LDX #4
215	.$881	dceloop2492_1:
216	.$881	LDA CONST_4R,X
217	.$884	CMP VAR_A,X
218	.$887	BNE LINE_SKIP4
219	.$889	DEX
220	.$88a	BPL dceloop2492_1
222	.$88c	LINE_NSKIP4:
225	.$88c	LDY #123
226	.$88e	STY 1040
228	.$891	LDY #111
229	.$893	STY 1040
232	.$896	LINE_SKIP4:
235	.$896	LINE_SKIP3:
238	.$896	LINE_103:
240	.$896	LDX #4
241	.$898	dceloop2492_2:
242	.$898	LDA CONST_7R,X
243	.$89b	CMP CONST_1R,X
244	.$89e	BNE LINE_SKIP5
245	.$8a0	DEX
246	.$8a1	BPL dceloop2492_2
248	.$8a3	LINE_NSKIP5:
251	.$8a3	LDY #234
252	.$8a5	STY 1040
255	.$8a8	LINE_SKIP5:
258	.$8a8	LINE_110:
260	.$8a8	JSR END
261	.$8ab	RTS
263	.$8ac	LINE_1000:
266	.$8ac	LINE_1010:
268	.$8ac	JMP RETURN
269	.$8af	JSR END
270	.$8b2	RTS
273	.$8b3	END   LDX SP_SAVE
274	.$8b6	TXS
281	.$8b7	RTS
284	.$8b8	START  LDA ENDSTRBUF+1
285	.$8bb	BNE ENDGIVEN
286	.$8bd	LDA BASICEND
287	.$8bf	STA ENDSTRBUF
288	.$8c2	LDA BASICEND+1
289	.$8c4	STA ENDSTRBUF+1
290	.$8c7	ENDGIVEN LDA #<FPSTACK
291	.$8c9	LDY #>FPSTACK
292	.$8cb	STA FPSTACKP
293	.$8ce	STY FPSTACKP+1
294	.$8d1	LDA #<FORSTACK
295	.$8d3	LDY #>FORSTACK
296	.$8d5	STA FORSTACKP
297	.$8d8	STY FORSTACKP+1
298	.$8db	LDA #<STRBUF
299	.$8dd	LDY #>STRBUF
300	.$8df	STA STRBUFP
301	.$8e2	STY STRBUFP+1
302	.$8e5	STA HIGHP
303	.$8e8	STY HIGHP+1
304	.$8eb	LDA #0
305	.$8ed	STA CHLOCKFLAG
306	.$8f0	STA LASTVAR
307	.$8f3	STA LASTVAR+1
308	.$8f6	JSR INITVARS
309	.$8f9	LDA #0
310	.$8fb	STA CMD_NUM
311	.$8fe	STA CHANNEL
312	.$901	TAY
313	.$902	TAX
317	.$903	STA KEYNDX
323	.$905	JSR RESTORE
324	.$908	CLC
328	.$909	RTS
331	.$90a	INITNARRAY
332	.$90a	STA TMP_ZP
333	.$90c	STY TMP_ZP+1
334	.$90e	LDY #0
335	.$910	TYA
336	.$911	NINITLOOP STA (TMP_ZP),Y
337	.$913	INC TMP_ZP
338	.$915	BNE NLOOPNOV
339	.$917	INC TMP_ZP+1
340	.$919	NLOOPNOV LDX TMP2_ZP
341	.$91b	BNE NLOOPNOV2
342	.$91d	DEC TMP2_ZP+1
343	.$91f	NLOOPNOV2 DEC TMP2_ZP
344	.$921	BNE NINITLOOP
345	.$923	LDX TMP2_ZP+1
346	.$925	BNE NINITLOOP
347	.$927	RTS
350	.$928	INITSTRARRAY
351	.$928	STA TMP_ZP
352	.$92a	STY TMP_ZP+1
353	.$92c	SINITLOOP LDY #0
354	.$92e	LDA #<EMPTYSTR
355	.$930	STA (TMP_ZP),Y
356	.$932	LDA #>EMPTYSTR
357	.$934	INY
358	.$935	STA (TMP_ZP),Y
359	.$937	CLC
360	.$938	LDA TMP_ZP
361	.$93a	ADC #2
362	.$93c	STA TMP_ZP
363	.$93e	BCC SLOOPNOV1
364	.$940	INC TMP_ZP+1
365	.$942	SLOOPNOV1 SEC
366	.$943	LDA TMP2_ZP
367	.$945	SBC #2
368	.$947	STA TMP2_ZP
369	.$949	BCS SLOOPNOV2
370	.$94b	DEC TMP2_ZP+1
371	.$94d	SLOOPNOV2 LDA TMP2_ZP
372	.$94f	BNE SINITLOOP
373	.$951	LDA TMP2_ZP+1
374	.$953	BNE SINITLOOP
375	.$955	RTS
378	.$956	INITSPARAMS STA TMP3_ZP
379	.$958	STY TMP3_ZP+1
380	.$95a	SEC
381	.$95b	SBC #2
382	.$95d	STA TMP_ZP
383	.$95f	TYA
384	.$960	SBC #0
385	.$962	STA TMP_ZP+1
386	.$964	LDY #0
387	.$966	LDA (TMP_ZP),Y
388	.$968	STA TMP2_ZP
389	.$96a	INY
390	.$96b	LDA (TMP_ZP),Y
391	.$96d	STA TMP2_ZP+1
392	.$96f	LDA TMP3_ZP
393	.$971	LDY TMP3_ZP+1
394	.$973	RTS
397	.$974	INITSTRVARS LDA #<STRINGVARS_START  
398	.$976	LDY #>STRINGVARS_START
399	.$978	CMP #<STRINGVARS_END
400	.$97a	BNE INITIT1
401	.$97c	CPY #>STRINGVARS_END
402	.$97e	BNE INITIT1
403	.$980	JMP INITSA2     
404	.$983	INITIT1  STA TMP_ZP
405	.$985	STY TMP_ZP+1
406	.$987	LDY #0
407	.$989	INITSTRLOOP LDA #<EMPTYSTR
408	.$98b	STA (TMP_ZP),Y
409	.$98d	INY
410	.$98e	LDA #>EMPTYSTR
411	.$990	STA (TMP_ZP),Y
412	.$992	DEY
413	.$993	LDA TMP_ZP
414	.$995	CLC
415	.$996	ADC #2
416	.$998	STA TMP_ZP
417	.$99a	LDA TMP_ZP+1
418	.$99c	ADC #0
419	.$99e	STA TMP_ZP+1
420	.$9a0	CMP #>STRINGVARS_END
421	.$9a2	BNE INITSTRLOOP
422	.$9a4	LDA TMP_ZP
423	.$9a6	CMP #<STRINGVARS_END
424	.$9a8	BNE INITSTRLOOP
425	.$9aa	INITSA2  LDA #<STRINGARRAYS_START 
426	.$9ac	LDY #>STRINGARRAYS_START
427	.$9ae	CMP #<STRINGARRAYS_END
428	.$9b0	BNE ARRAYLOOP
429	.$9b2	CPY #>STRINGARRAYS_END
430	.$9b4	BNE ARRAYLOOP
431	.$9b6	RTS       
432	.$9b7	ARRAYLOOP CLC
433	.$9b8	ADC #3
434	.$9ba	BCC ARRAYSKIP1
435	.$9bc	INY
436	.$9bd	ARRAYSKIP1 CPY #>STRINGARRAYS_END
437	.$9bf	BEQ ARRAYSC
438	.$9c1	BCC ARRAYSKIP2
439	.$9c3	JMP ARRAYQUIT
440	.$9c6	ARRAYSC  CMP #<STRINGARRAYS_END
441	.$9c8	BCS ARRAYQUIT
442	.$9ca	ARRAYSKIP2 STA TMP_REG
443	.$9cc	STY TMP_REG+1
444	.$9ce	JSR INITSPARAMS
445	.$9d1	LDA TMP_REG
446	.$9d3	LDY TMP_REG+1
447	.$9d5	JSR INITSTRARRAY
448	.$9d8	LDA TMP_ZP
449	.$9da	LDY TMP_ZP+1
450	.$9dc	JMP ARRAYLOOP
451	.$9df	ARRAYQUIT RTS
454	.$9e0	RESTORE  LDA #<DATAS
455	.$9e2	LDY #>DATAS
456	.$9e4	STA DATASP
457	.$9e7	STY DATASP+1
458	.$9ea	RTS
461	.$9eb	RETURN  LDA FORSTACKP
462	.$9ee	STA TMP_ZP
463	.$9f0	LDA FORSTACKP+1
464	.$9f3	STA TMP_ZP+1
465	.$9f5	SEARCHGOSUB LDA TMP_ZP
466	.$9f7	SEC
467	.$9f8	SBC #2
468	.$9fa	STA TMP_ZP
469	.$9fc	BCS NOPV1SG
470	.$9fe	DEC TMP_ZP+1
471	.$a00	NOPV1SG  LDY #0
472	.$a02	LDA (TMP_ZP),Y
473	.$a04	BEQ FOUNDGOSUB
474	.$a06	INY
475	.$a07	LDA (TMP_ZP),Y
476	.$a09	STA TMP3_ZP
477	.$a0b	LDA TMP_ZP
478	.$a0d	SEC
479	.$a0e	SBC (TMP_ZP),Y
480	.$a10	STA TMP_ZP
481	.$a12	BCS NOPV1GS
482	.$a14	DEC TMP_ZP+1
483	.$a16	NOPV1GS  JMP SEARCHGOSUB
484	.$a19	FOUNDGOSUB
485	.$a19	LDA TMP_ZP
486	.$a1b	STA FORSTACKP
487	.$a1e	LDA TMP_ZP+1
488	.$a20	STA FORSTACKP+1
489	.$a23	RTS
492	.$a24	GOSUB  LDA FORSTACKP
493	.$a27	STA TMP_ZP
494	.$a29	LDA FORSTACKP+1
495	.$a2c	STA TMP_ZP+1
496	.$a2e	LDY #0
497	.$a30	TYA
498	.$a31	STA (TMP_ZP),Y
499	.$a33	INY
500	.$a34	STA (TMP_ZP),Y
501	.$a36	INY
502	.$a37	TYA
503	.$a38	CLC
504	.$a39	ADC TMP_ZP
505	.$a3b	STA FORSTACKP
506	.$a3e	BCC GOSUBNOOV
507	.$a40	INC FORSTACKP+1
508	.$a43	GOSUBNOOV RTS
511	.$a44	COPY2_XYA_XREG
512	.$a44	STA TMP3_ZP
513	.$a46	STY TMP3_ZP+1
514	.$a48	COPY2_XY_XREG
515	.$a48	LDX #<X_REG  
516	.$a4a	LDY #0
517	.$a4c	LDA (TMP3_ZP),Y
518	.$a4e	STA X_REG
519	.$a50	INY
520	.$a51	LDA (TMP3_ZP),Y
521	.$a53	STA X_REG+1
522	.$a55	INY
523	.$a56	LDA (TMP3_ZP),Y
524	.$a58	STA X_REG+2
525	.$a5a	INY
526	.$a5b	LDA (TMP3_ZP),Y
527	.$a5d	STA X_REG+3
528	.$a5f	INY
529	.$a60	LDA (TMP3_ZP),Y
530	.$a62	STA X_REG+4
531	.$a64	RTS
535	.$a65	FACWORD
536	.$a65	LDA FACEXP   
537	.$a67	BNE DOFACWORD
538	.$a69	STA FACSGN   
539	.$a6b	DOFACWORD:
540	.$a6b	JMP XFACWORD
544	.$a6e	XREGFAC  LDA X_REG+4
545	.$a70	STA FACLO
546	.$a72	LDA X_REG+3
547	.$a74	STA FACMO
548	.$a76	LDA X_REG+2
549	.$a78	STA FACMOH
550	.$a7a	LDA X_REG+1
551	.$a7c	STA FACSGN
552	.$a7e	ORA #$80
553	.$a80	STA FACHO
554	.$a82	LDA X_REG
555	.$a84	STA FACEXP
556	.$a86	LDA #0
557	.$a88	STA FACOV
558	.$a8a	RTS
672	.$a8b	INITVARS
673	.$a8b	JSR INITSTRVARS
674	.$a8e	LDA #0
675	.$a90	LDY #4
676	.$a92	REALINITLOOP0:
677	.$a92	STA VAR_A,Y
678	.$a95	DEY
679	.$a96	BMI REALLOOPEXIT0
680	.$a98	JMP REALINITLOOP0
681	.$a9b	REALLOOPEXIT0:
682	.$a9b	STA VAR_B%
683	.$a9e	STA VAR_B%+1
684	.$aa1	RTS
688	.$aa2	CONSTANTS
691	.$aa2	CONST_0 .REAL 5.123
694	.$aa7	CONST_1R .REAL 37.0
697	.$aac	CONST_2 .REAL 56.222
703	.$ab1	CONST_4R .REAL 2.0
712	.$ab6	CONST_7R .REAL 4.0
718	.$abb	DATAS
719	.$abb	.BYTE $FF
721	.$abc	CONSTANTS_END
724	.$abc	VARIABLES
726	.$abc	VAR_A .REAL 0.0
728	.$ac1	VAR_B% .WORD 0
729	.$ac3	STRINGVARS_START
731	.$ac3	VAR_TI$ .WORD EMPTYSTR
732	.$ac5	STRINGVARS_END
733	.$ac5	STRINGARRAYS_START
734	.$ac5	STRINGARRAYS_END
735	.$ac5	VARIABLES_END
737	.$ac5	Y_REG .REAL 0.0
738	.$aca	C_REG .REAL 0.0
739	.$acf	D_REG .REAL 0.0
740	.$ad4	E_REG .REAL 0.0
741	.$ad9	F_REG .REAL 0.0
742	.$ade	A_REG .WORD 0
743	.$ae0	B_REG .WORD 0
744	.$ae2	CMD_NUM .BYTE 0
745	.$ae3	CHANNEL .BYTE 0
746	.$ae4	SP_SAVE .BYTE 0
747	.$ae5	TMP2_REG .WORD 0
748	.$ae7	TMP3_REG .WORD 0
749	.$ae9	TMP4_REG .WORD 0
750	.$aeb	AS_TMP .WORD 0
751	.$aed	BPOINTER_TMP .WORD 0
752	.$aef	BASICTEXTP .BYTE 0
753	.$af0	STORE1 .WORD 0
754	.$af2	STORE2 .WORD 0
755	.$af4	STORE3 .WORD 0
756	.$af6	STORE4 .WORD 0
757	.$af8	GCSTART .WORD 0
758	.$afa	GCLEN .WORD 0
759	.$afc	GCWORK .WORD 0
760	.$afe	INPUTLENGTH .BYTE 0
761	.$aff	TMP_FREG .REAL 0
762	.$b04	TMP2_FREG .REAL 0
763	.$b09	TMP_FLAG .BYTE 0
764	.$b0a	INT_FLAG .BYTE 0
765	.$b0b	REAL_CONST_ONE .REAL 1.0
766	.$b10	REAL_CONST_ZERO .REAL 0.0
767	.$b15	REAL_CONST_MINUS_ONE .REAL -1.0
768	.$b1a	CHLOCKFLAG .BYTE 0
769	.$b1b	EMPTYSTR .BYTE 0
770	.$b1c	FPSTACKP .WORD FPSTACK
771	.$b1e	FORSTACKP .WORD FORSTACK
772	.$b20	DATASP .WORD DATAS
773	.$b22	LASTVAR .WORD 0
774	.$b24	LASTVARP .WORD 0
775	.$b26	HIGHP .WORD STRBUF
776	.$b28	STRBUFP .WORD STRBUF
777	.$b2a	ENDSTRBUF .WORD 0
778	.$b2c	INPUTQUEUEP .BYTE 0
779	.$b2d	PROGRAMEND
780	.$b2d	INPUTQUEUE .ARRAY $0F
781	.$b3c	FPSTACK .ARRAY 100
782	.$ba0	FORSTACK .ARRAY 340
783	.$cf4	STRBUF .BYTE 0
