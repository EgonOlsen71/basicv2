117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_120:
128	.$81f	JMP ENDDEFa5f3c6a11b03839d46af9fb43c97c188
129	.$822	DEFa5f3c6a11b03839d46af9fb43c97c188:
130	.$822	JSR POPREALXREG
134	.$825	LDX #<VAR__X_K
135	.$827	LDY #>VAR__X_K
136	.$829	JSR FACMEM
138	.$82c	LDA #<CONST_0
139	.$82e	LDY #>CONST_0
140	.$830	JSR FASTFMULMEM
146	.$833	JSR FACSIN
147	.$836	JSR FACXREG
149	.$839	LDA #<CONST_1R
150	.$83b	LDY #>CONST_1R
151	.$83d	JSR REALFAC
154	.$840	LDA #<X_REG
155	.$842	LDY #>X_REG
157	.$844	JSR FASTFMULMEM
159	.$847	JSR FACXREG
161	.$84a	LDA #<CONST_2
162	.$84c	LDY #>CONST_2
163	.$84e	JSR REALFAC
165	.$851	LDA #<X_REG
166	.$853	LDY #>X_REG
168	.$855	JSR FASTFADDMEM
174	.$858	JSR BASINT
176	.$85b	JSR PUSHREAL
177	.$85e	RTS
178	.$85f	ENDDEFa5f3c6a11b03839d46af9fb43c97c188:
180	.$85f	LINE_1000:
183	.$85f	LINE_3020:
185	.$85f	LDA #<CONST_3
186	.$861	LDY #>CONST_3
187	.$863	JSR REALFACPUSH
189	.$866	JSR DEFa5f3c6a11b03839d46af9fb43c97c188
190	.$869	JSR POPREALXREG
194	.$86c	LDX #<VAR_YK
195	.$86e	LDY #>VAR_YK
197	.$870	JSR FACMEM
199	.$873	LINE_4000:
201	.$873	LDA #<VAR_YK
202	.$875	LDY #>VAR_YK
203	.$877	JSR COPY2_XYA_XREG
207	.$87a	JSR REALOUTBRK
209	.$87d	JSR END
210	.$880	RTS
213	.$881	END   LDX SP_SAVE
214	.$884	TXS
221	.$885	RTS
224	.$886	START  LDA ENDSTRBUF+1
225	.$889	BNE ENDGIVEN
226	.$88b	LDA BASICEND
227	.$88d	STA ENDSTRBUF
228	.$890	LDA BASICEND+1
229	.$892	STA ENDSTRBUF+1
230	.$895	ENDGIVEN LDA #<FPSTACK
231	.$897	LDY #>FPSTACK
232	.$899	STA FPSTACKP
233	.$89c	STY FPSTACKP+1
234	.$89f	LDA #<FORSTACK
235	.$8a1	LDY #>FORSTACK
236	.$8a3	STA FORSTACKP
237	.$8a6	STY FORSTACKP+1
238	.$8a9	LDA #<STRBUF
239	.$8ab	LDY #>STRBUF
240	.$8ad	STA STRBUFP
241	.$8b0	STY STRBUFP+1
242	.$8b3	STA HIGHP
243	.$8b6	STY HIGHP+1
244	.$8b9	LDA #0
245	.$8bb	STA CHLOCKFLAG
246	.$8be	STA LASTVAR
247	.$8c1	STA LASTVAR+1
248	.$8c4	JSR INITVARS
249	.$8c7	LDA #0
250	.$8c9	STA CMD_NUM
251	.$8cc	STA CHANNEL
252	.$8cf	TAY
253	.$8d0	TAX
257	.$8d1	STA KEYNDX
263	.$8d3	JSR RESTORE
264	.$8d6	CLC
268	.$8d7	RTS
271	.$8d8	INITNARRAY
272	.$8d8	STA TMP_ZP
273	.$8da	STY TMP_ZP+1
274	.$8dc	LDY #0
275	.$8de	TYA
276	.$8df	NINITLOOP STA (TMP_ZP),Y
277	.$8e1	INC TMP_ZP
278	.$8e3	BNE NLOOPNOV
279	.$8e5	INC TMP_ZP+1
280	.$8e7	NLOOPNOV LDX TMP2_ZP
281	.$8e9	BNE NLOOPNOV2
282	.$8eb	DEC TMP2_ZP+1
283	.$8ed	NLOOPNOV2 DEC TMP2_ZP
284	.$8ef	BNE NINITLOOP
285	.$8f1	LDX TMP2_ZP+1
286	.$8f3	BNE NINITLOOP
287	.$8f5	RTS
290	.$8f6	INITSTRARRAY
291	.$8f6	STA TMP_ZP
292	.$8f8	STY TMP_ZP+1
293	.$8fa	SINITLOOP LDY #0
294	.$8fc	LDA #<EMPTYSTR
295	.$8fe	STA (TMP_ZP),Y
296	.$900	LDA #>EMPTYSTR
297	.$902	INY
298	.$903	STA (TMP_ZP),Y
299	.$905	CLC
300	.$906	LDA TMP_ZP
301	.$908	ADC #2
302	.$90a	STA TMP_ZP
303	.$90c	BCC SLOOPNOV1
304	.$90e	INC TMP_ZP+1
305	.$910	SLOOPNOV1 SEC
306	.$911	LDA TMP2_ZP
307	.$913	SBC #2
308	.$915	STA TMP2_ZP
309	.$917	BCS SLOOPNOV2
310	.$919	DEC TMP2_ZP+1
311	.$91b	SLOOPNOV2 LDA TMP2_ZP
312	.$91d	BNE SINITLOOP
313	.$91f	LDA TMP2_ZP+1
314	.$921	BNE SINITLOOP
315	.$923	RTS
318	.$924	INITSPARAMS STA TMP3_ZP
319	.$926	STY TMP3_ZP+1
320	.$928	SEC
321	.$929	SBC #2
322	.$92b	STA TMP_ZP
323	.$92d	TYA
324	.$92e	SBC #0
325	.$930	STA TMP_ZP+1
326	.$932	LDY #0
327	.$934	LDA (TMP_ZP),Y
328	.$936	STA TMP2_ZP
329	.$938	INY
330	.$939	LDA (TMP_ZP),Y
331	.$93b	STA TMP2_ZP+1
332	.$93d	LDA TMP3_ZP
333	.$93f	LDY TMP3_ZP+1
334	.$941	RTS
337	.$942	INITSTRVARS LDA #<STRINGVARS_START  
338	.$944	LDY #>STRINGVARS_START
339	.$946	CMP #<STRINGVARS_END
340	.$948	BNE INITIT1
341	.$94a	CPY #>STRINGVARS_END
342	.$94c	BNE INITIT1
343	.$94e	JMP INITSA2     
344	.$951	INITIT1  STA TMP_ZP
345	.$953	STY TMP_ZP+1
346	.$955	LDY #0
347	.$957	INITSTRLOOP LDA #<EMPTYSTR
348	.$959	STA (TMP_ZP),Y
349	.$95b	INY
350	.$95c	LDA #>EMPTYSTR
351	.$95e	STA (TMP_ZP),Y
352	.$960	DEY
353	.$961	LDA TMP_ZP
354	.$963	CLC
355	.$964	ADC #2
356	.$966	STA TMP_ZP
357	.$968	LDA TMP_ZP+1
358	.$96a	ADC #0
359	.$96c	STA TMP_ZP+1
360	.$96e	CMP #>STRINGVARS_END
361	.$970	BNE INITSTRLOOP
362	.$972	LDA TMP_ZP
363	.$974	CMP #<STRINGVARS_END
364	.$976	BNE INITSTRLOOP
365	.$978	INITSA2  LDA #<STRINGARRAYS_START 
366	.$97a	LDY #>STRINGARRAYS_START
367	.$97c	CMP #<STRINGARRAYS_END
368	.$97e	BNE ARRAYLOOP
369	.$980	CPY #>STRINGARRAYS_END
370	.$982	BNE ARRAYLOOP
371	.$984	RTS       
372	.$985	ARRAYLOOP CLC
373	.$986	ADC #3
374	.$988	BCC ARRAYSKIP1
375	.$98a	INY
376	.$98b	ARRAYSKIP1 CPY #>STRINGARRAYS_END
377	.$98d	BEQ ARRAYSC
378	.$98f	BCC ARRAYSKIP2
379	.$991	JMP ARRAYQUIT
380	.$994	ARRAYSC  CMP #<STRINGARRAYS_END
381	.$996	BCS ARRAYQUIT
382	.$998	ARRAYSKIP2 STA TMP_REG
383	.$99a	STY TMP_REG+1
384	.$99c	JSR INITSPARAMS
385	.$99f	LDA TMP_REG
386	.$9a1	LDY TMP_REG+1
387	.$9a3	JSR INITSTRARRAY
388	.$9a6	LDA TMP_ZP
389	.$9a8	LDY TMP_ZP+1
390	.$9aa	JMP ARRAYLOOP
391	.$9ad	ARRAYQUIT RTS
394	.$9ae	RESTORE  LDA #<DATAS
395	.$9b0	LDY #>DATAS
396	.$9b2	STA DATASP
397	.$9b5	STY DATASP+1
398	.$9b8	RTS
401	.$9b9	REROUTE  LDA CMD_NUM  
402	.$9bc	BEQ REROUTECMD
403	.$9be	TAX
404	.$9bf	STA CHANNEL
405	.$9c2	JMP CHKOUT
406	.$9c5	REROUTECMD RTS
409	.$9c6	RESETROUTE LDA CMD_NUM  
410	.$9c9	BEQ RESETROUTECMD
411	.$9cb	JMP CLRCHNEW
412	.$9ce	RESETROUTECMD
413	.$9ce	RTS
416	.$9cf	INTOUTFASTZ LDX #32    
417	.$9d1	LDA TMP_ZP+1
418	.$9d3	BPL INTISPOS
419	.$9d5	CLC
420	.$9d6	LDA TMP_ZP
421	.$9d8	EOR #$FF
422	.$9da	ADC #1
423	.$9dc	STA TMP_ZP
424	.$9de	LDA TMP_ZP+1
425	.$9e0	EOR #$FF
426	.$9e2	ADC #0
427	.$9e4	STA TMP_ZP+1
428	.$9e6	LDX #45    
429	.$9e8	INTISPOS
430	.$9e8	TXA
431	.$9e9	JSR CHROUT
432	.$9ec	JSR CONVPOSINT
433	.$9ef	LDA NUMFLAG
434	.$9f2	BNE ALLINTOUTDONE
435	.$9f4	LDA #48
436	.$9f6	JSR CHROUT
437	.$9f9	ALLINTOUTDONE
438	.$9f9	RTS
441	.$9fa	NUMBEROUT
442	.$9fa	BEQ NUMZERO
443	.$9fc	ORA #$30
444	.$9fe	STA NUMFLAG
445	.$a01	JMP CHROUT
446	.$a04	NUMZERO
447	.$a04	LDX NUMFLAG
448	.$a07	BEQ STILLZERO
449	.$a09	ORA #$30
450	.$a0b	JMP CHROUT
451	.$a0e	STILLZERO
452	.$a0e	RTS
455	.$a0f	CONVPOSINT
456	.$a0f	JSR INT2BCD
457	.$a12	LDX #0
458	.$a14	STX NUMFLAG
459	.$a17	AND #$0F
460	.$a19	JSR NUMBEROUT
461	.$a1c	LDA BCD+1
462	.$a1f	LSR
463	.$a20	LSR
464	.$a21	LSR
465	.$a22	LSR
466	.$a23	JSR NUMBEROUT
467	.$a26	LDA BCD+1
468	.$a29	AND #$0F
469	.$a2b	TAY
470	.$a2c	JSR NUMBEROUT
471	.$a2f	LDA BCD
472	.$a32	LSR
473	.$a33	LSR
474	.$a34	LSR
475	.$a35	LSR
476	.$a36	JSR NUMBEROUT
477	.$a39	LDA BCD
478	.$a3c	AND #$0F
479	.$a3e	JSR NUMBEROUT
480	.$a41	RTS
483	.$a42	INT2BCD
484	.$a42	SED
485	.$a43	LDA #0
486	.$a45	STA BCD
487	.$a48	STA BCD+1
488	.$a4b	STA BCD+2
489	.$a4e	ASL TMP_ZP
490	.$a50	ROL TMP_ZP+1
491	.$a52	LDA BCD
492	.$a55	ADC BCD
493	.$a58	STA BCD
494	.$a5b	ASL TMP_ZP
495	.$a5d	ROL TMP_ZP+1
496	.$a5f	ADC BCD
497	.$a62	STA BCD
498	.$a65	ASL TMP_ZP
499	.$a67	ROL TMP_ZP+1
500	.$a69	ADC BCD
501	.$a6c	STA BCD
502	.$a6f	ASL TMP_ZP
503	.$a71	ROL TMP_ZP+1
504	.$a73	ADC BCD
505	.$a76	STA BCD
506	.$a79	ASL TMP_ZP
507	.$a7b	ROL TMP_ZP+1
508	.$a7d	ADC BCD
509	.$a80	STA BCD
510	.$a83	ASL TMP_ZP
511	.$a85	ROL TMP_ZP+1
512	.$a87	ADC BCD
513	.$a8a	STA BCD
514	.$a8d	LDX #7
515	.$a8f	BCDBIT1
516	.$a8f	ASL TMP_ZP
517	.$a91	ROL TMP_ZP+1
518	.$a93	LDA BCD
519	.$a96	ADC BCD
520	.$a99	STA BCD
521	.$a9c	LDA BCD+1
522	.$a9f	ADC BCD+1
523	.$aa2	STA BCD+1
524	.$aa5	DEX
525	.$aa6	BNE BCDBIT1
526	.$aa8	LDX #3
527	.$aaa	BCDBIT2
528	.$aaa	ASL TMP_ZP
529	.$aac	ROL TMP_ZP+1
530	.$aae	LDA BCD
531	.$ab1	ADC BCD
532	.$ab4	STA BCD
533	.$ab7	LDA BCD+1
534	.$aba	ADC BCD+1
535	.$abd	STA BCD+1
536	.$ac0	LDA BCD+2
537	.$ac3	ADC BCD+2
538	.$ac6	STA BCD+2
539	.$ac9	DEX
540	.$aca	BNE BCDBIT2
541	.$acc	CLD
542	.$acd	RTS
543	.$ace	BCD
544	.$ace	.WORD 0 0
545	.$ad2	NUMFLAG
546	.$ad2	.BYTE 0
549	.$ad3	REALOUTFAST JSR FACINT
550	.$ad6	STA TMP_ZP+1
551	.$ad8	STY TMP_ZP
552	.$ada	JMP INTOUTFASTZ
555	.$add	CHECKFORFASTOUT
556	.$add	JSR REROUTE
557	.$ae0	JSR XREGFAC
558	.$ae3	LDA FACEXP
559	.$ae5	CMP #$90
560	.$ae7	BCS REALOUTINT
561	.$ae9	CMP #$81
562	.$aeb	BCC REALOUTINT
563	.$aed	MAYBEREALOUTFAST
564	.$aed	LDA FACEXP+3
565	.$aef	BNE REALOUTINT
566	.$af1	LDA FACEXP+4
567	.$af3	BNE REALOUTINT
568	.$af5	LDA FACEXP
569	.$af7	SEC
570	.$af8	SBC #129
571	.$afa	ASL
572	.$afb	TAX
573	.$afc	LDA FACEXP+1
574	.$afe	AND MANTMASK,X
575	.$b01	BNE REALOUTINT
576	.$b03	INX
577	.$b04	LDA FACEXP+2
578	.$b06	AND MANTMASK,X
579	.$b09	BNE REALOUTINT
580	.$b0b	JMP REALOUTFAST
581	.$b0e	REALOUTINT LDY #0
582	.$b10	JSR FACSTR
583	.$b13	LDY #0
584	.$b15	LDA LOFBUF,Y
585	.$b18	STRLOOPRO JSR CHROUT
586	.$b1b	INY
587	.$b1c	LDA LOFBUF,Y
588	.$b1f	BNE STRLOOPRO
589	.$b21	RTS
590	.$b22	MANTMASK
591	.$b22	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
594	.$b40	REALOUTBRK  LDA X_REG
595	.$b42	BNE RNOTNULLBRK
596	.$b44	JMP PRINTNULLBRK
597	.$b47	RNOTNULLBRK JSR CHECKFORFASTOUT
598	.$b4a	LDA #$0D
599	.$b4c	JSR CHROUT
600	.$b4f	JMP RESETROUTE
603	.$b52	PRINTNULLBRK
604	.$b52	JSR REROUTE
605	.$b55	LDA #$20
606	.$b57	JSR CHROUT
607	.$b5a	LDA #$30
608	.$b5c	JSR CHROUT
609	.$b5f	LDA #$0D
610	.$b61	JSR CHROUT
611	.$b64	JMP RESETROUTE
614	.$b67	REALFACPUSH STA TMP_ZP
615	.$b69	STY TMP_ZP+1
616	.$b6b	LDX FPSTACKP
617	.$b6e	LDY FPSTACKP+1
618	.$b71	STX TMP2_ZP
619	.$b73	STY TMP2_ZP+1
620	.$b75	LDY #0
621	.$b77	LDA (TMP_ZP),Y
622	.$b79	STA (TMP2_ZP),Y
623	.$b7b	INY
624	.$b7c	LDA (TMP_ZP),Y
625	.$b7e	STA (TMP2_ZP),Y
626	.$b80	INY
627	.$b81	LDA (TMP_ZP),Y
628	.$b83	STA (TMP2_ZP),Y
629	.$b85	INY
630	.$b86	LDA (TMP_ZP),Y
631	.$b88	STA (TMP2_ZP),Y
632	.$b8a	INY
633	.$b8b	LDA (TMP_ZP),Y
634	.$b8d	STA (TMP2_ZP),Y
635	.$b8f	TXA    
636	.$b90	CLC
637	.$b91	ADC #5
638	.$b93	STA FPSTACKP
639	.$b96	BCC NOPVRFPXX
640	.$b98	INC FPSTACKP+1
641	.$b9b	NOPVRFPXX RTS
644	.$b9c	PUSHREAL LDX FPSTACKP
645	.$b9f	LDY FPSTACKP+1
646	.$ba2	JSR FACMEM
647	.$ba5	LDA FPSTACKP
648	.$ba8	CLC
649	.$ba9	ADC #5
650	.$bab	STA FPSTACKP
651	.$bae	BCC NOPVPUR
652	.$bb0	INC FPSTACKP+1
653	.$bb3	NOPVPUR  RTS
656	.$bb4	POPREALXREG LDA FPSTACKP
657	.$bb7	SEC
658	.$bb8	SBC #5
659	.$bba	STA FPSTACKP
660	.$bbd	BCS NOPVPRXR
661	.$bbf	DEC FPSTACKP+1
662	.$bc2	NOPVPRXR LDA FPSTACKP
663	.$bc5	LDY FPSTACKP+1
664	.$bc8	STA TMP_ZP
665	.$bca	STY TMP_ZP+1
666	.$bcc	LDY #$4
667	.$bce	LDA (TMP_ZP),Y
668	.$bd0	STA X_REG+4
669	.$bd2	STA FACLO
670	.$bd4	DEY
671	.$bd5	LDA (TMP_ZP),Y
672	.$bd7	STA X_REG+3
673	.$bd9	STA FACMO
674	.$bdb	DEY
675	.$bdc	LDA (TMP_ZP),Y
676	.$bde	STA X_REG+2
677	.$be0	STA FACMOH
678	.$be2	DEY
679	.$be3	LDA (TMP_ZP),Y
680	.$be5	STA X_REG+1
681	.$be7	STA FACSGN
682	.$be9	ORA #$80
683	.$beb	STA FACHO
684	.$bed	DEY
685	.$bee	LDA (TMP_ZP),Y
686	.$bf0	STA X_REG
687	.$bf2	STA FACEXP
688	.$bf4	STY FACOV
689	.$bf6	RTS
692	.$bf7	COPY2_XYA_XREG
693	.$bf7	STA TMP3_ZP
694	.$bf9	STY TMP3_ZP+1
695	.$bfb	COPY2_XY_XREG
696	.$bfb	LDX #<X_REG  
697	.$bfd	LDY #0
698	.$bff	LDA (TMP3_ZP),Y
699	.$c01	STA X_REG
700	.$c03	INY
701	.$c04	LDA (TMP3_ZP),Y
702	.$c06	STA X_REG+1
703	.$c08	INY
704	.$c09	LDA (TMP3_ZP),Y
705	.$c0b	STA X_REG+2
706	.$c0d	INY
707	.$c0e	LDA (TMP3_ZP),Y
708	.$c10	STA X_REG+3
709	.$c12	INY
710	.$c13	LDA (TMP3_ZP),Y
711	.$c15	STA X_REG+4
712	.$c17	RTS
715	.$c18	CLRCHNEW
716	.$c18	LDA CHLOCKFLAG
717	.$c1b	BNE SKIPCLRCH
718	.$c1d	JMP CLRCH
719	.$c20	SKIPCLRCH
720	.$c20	RTS
723	.$c21	ILLEGALQUANTITY
727	.$c21	JMP ERRIQ
730	.$c24	FACXREG  LDA FACLO
731	.$c26	STA X_REG+4
732	.$c28	LDA FACMO
733	.$c2a	STA X_REG+3
734	.$c2c	LDA FACMOH
735	.$c2e	STA X_REG+2
736	.$c30	LDA FACSGN
737	.$c32	ORA #$7F
738	.$c34	AND FACHO
739	.$c36	STA X_REG+1
740	.$c38	LDA FACEXP
741	.$c3a	STA X_REG
742	.$c3c	LDA #0   
743	.$c3e	STA FACOV
744	.$c40	RTS
747	.$c41	XREGFAC  LDA X_REG+4
748	.$c43	STA FACLO
749	.$c45	LDA X_REG+3
750	.$c47	STA FACMO
751	.$c49	LDA X_REG+2
752	.$c4b	STA FACMOH
753	.$c4d	LDA X_REG+1
754	.$c4f	STA FACSGN
755	.$c51	ORA #$80
756	.$c53	STA FACHO
757	.$c55	LDA X_REG
758	.$c57	STA FACEXP
759	.$c59	LDA #0
760	.$c5b	STA FACOV
761	.$c5d	RTS
875	.$c5e	FASTFADDMEM
876	.$c5e	JSR MEMARG
877	.$c61	FASTFADDARG
878	.$c61	BNE FADDRET2     
879	.$c63	JMP ARGFAC
880	.$c66	FADDRET2 LDA ARGEXP
881	.$c68	BNE FADDRET1     
882	.$c6a	RTS
883	.$c6b	FADDRET1 SEC
884	.$c6c	SBC FACEXP
885	.$c6e	BEQ FFADD_EXPEQ     
886	.$c70	BCC FFADD_SHFARG1   
890	.$c72	LDY ARGEXP
891	.$c74	STY FACEXP
892	.$c76	LDY ARGSGN
893	.$c78	STY FACSGN
894	.$c7a	LDX #0
895	.$c7c	STX OLDOV        
896	.$c7e	LDX #FAC         
898	.$c80	SEC
899	.$c81	SBC #$08
900	.$c83	BMI FFADD_SHFFAC2
902	.$c85	FFADD_SHFFAC1
903	.$c85	LDY FACLO        
904	.$c87	STY FACOV
905	.$c89	LDY FACMO        
906	.$c8b	STY FACMO+1
907	.$c8d	LDY FACMOH       
908	.$c8f	STY FACMOH+1
909	.$c91	LDY FACHO        
910	.$c93	STY FACHO+1
911	.$c95	LDY #0
912	.$c97	STY FACHO        
913	.$c99	SBC #$08         
914	.$c9b	BPL FFADD_SHFFAC1   
915	.$c9d	FFADD_SHFFAC2
916	.$c9d	ADC #$08         
917	.$c9f	BEQ FFADD_SHFFAC4   
918	.$ca1	TAY
919	.$ca2	LDA FACOV
920	.$ca4	FFADD_SHFFAC3
921	.$ca4	LSR FACHO        
922	.$ca6	ROR FACMOH       
923	.$ca8	ROR FACMO        
924	.$caa	ROR FACLO        
925	.$cac	ROR              
926	.$cad	DEY
927	.$cae	BNE FFADD_SHFFAC3
928	.$cb0	JMP FFADD_MANADD2   
929	.$cb3	FFADD_SHFFAC4
930	.$cb3	LDA FACOV        
931	.$cb5	JMP FFADD_MANADD2
932	.$cb8	FFADD_EXPEQ
933	.$cb8	LDX FACOV
934	.$cba	STX OLDOV
937	.$cbc	JMP FFADD_MANADD1
938	.$cbf	FFADD_SHFARG2
939	.$cbf	LDA FACOV        
940	.$cc1	JMP FFADD_MANADD1
941	.$cc4	FFADD_SHFARG1
942	.$cc4	LDX FACOV
943	.$cc6	STX OLDOV        
944	.$cc8	LDX #$00         
947	.$cca	ADC #$08
948	.$ccc	BPL FFADD_SHFARG6   
949	.$cce	FFADD_SHFARG3
950	.$cce	LDX ARGLO        
951	.$cd0	LDY ARGMO        
952	.$cd2	STY ARGMO+1
953	.$cd4	LDY ARGMOH       
954	.$cd6	STY ARGMOH+1
955	.$cd8	LDY ARGHO        
956	.$cda	STY ARGHO+1
957	.$cdc	LDY #0
958	.$cde	STY ARGHO        
959	.$ce0	FFADD_SHFARG4
960	.$ce0	ADC #$08
961	.$ce2	BMI FFADD_SHFARG3
962	.$ce4	BEQ FFADD_SHFARG3
963	.$ce6	FFADD_SHFARG6
964	.$ce6	SBC #$08
965	.$ce8	BEQ FFADD_SHFARG2   
966	.$cea	TAY
967	.$ceb	TXA              
968	.$cec	FFADD_SHFARG5
969	.$cec	LSR ARGHO
970	.$cee	ROR ARGMOH
971	.$cf0	ROR ARGMO
972	.$cf2	ROR ARGLO
973	.$cf4	ROR           
974	.$cf5	INY
975	.$cf6	BNE FFADD_SHFARG5
976	.$cf8	FFADD_MANADD1
977	.$cf8	LDX #ARGEXP      
978	.$cfa	FFADD_MANADD2
979	.$cfa	BIT ARISGN
980	.$cfc	BMI FFADD_MANSUB1   
981	.$cfe	CLC
982	.$cff	ADC OLDOV
983	.$d01	STA FACOV
984	.$d03	LDA FACLO
985	.$d05	ADC ARGLO
986	.$d07	STA FACLO
987	.$d09	LDA FACMO
988	.$d0b	ADC ARGMO
989	.$d0d	STA FACMO
990	.$d0f	LDA FACMOH
991	.$d11	ADC ARGMOH
992	.$d13	STA FACMOH
993	.$d15	LDA FACHO
994	.$d17	ADC ARGHO
995	.$d19	STA FACHO
996	.$d1b	BCC FFADD_RNDRTS
997	.$d1d	INC FACEXP
998	.$d1f	BEQ FFADD_OVERR
1000	.$d21	ROR FACHO
1001	.$d23	ROR FACMOH
1002	.$d25	ROR FACMO
1003	.$d27	ROR FACLO
1004	.$d29	ROR FACOV
1005	.$d2b	FFADD_RNDRTS
1006	.$d2b	RTS
1007	.$d2c	FFADD_OVERR
1008	.$d2c	JMP ILLEGALQUANTITY
1009	.$d2f	FFADD_MANSUB1
1010	.$d2f	LDY #FACEXP
1011	.$d31	CPX #ARGEXP
1012	.$d33	BEQ FFADD_MANSUB2
1013	.$d35	LDY #ARGEXP
1014	.$d37	FFADD_MANSUB2
1015	.$d37	SEC              
1016	.$d38	EOR #$FF
1017	.$d3a	ADC OLDOV
1018	.$d3c	STA FACOV
1019	.$d3e	LDA 4,Y
1020	.$d41	SBC 4,X
1021	.$d43	STA FACLO
1022	.$d45	LDA 3,Y
1023	.$d48	SBC 3,X
1024	.$d4a	STA FACMO
1025	.$d4c	LDA 2,Y
1026	.$d4f	SBC 2,X
1027	.$d51	STA FACMOH
1028	.$d53	LDA 1,Y
1029	.$d56	SBC 1,X
1030	.$d58	STA FACHO
1031	.$d5a	BCS FCNORMAL
1032	.$d5c	LDA FACSGN
1033	.$d5e	EOR #$FF
1034	.$d60	STA FACSGN
1035	.$d62	LDA FACHO
1036	.$d64	EOR #$FF
1037	.$d66	STA FACHO
1038	.$d68	LDA FACMOH
1039	.$d6a	EOR #$FF
1040	.$d6c	STA FACMOH
1041	.$d6e	LDA FACMO
1042	.$d70	EOR #$FF
1043	.$d72	STA FACMO
1044	.$d74	LDA FACLO
1045	.$d76	EOR #$FF
1046	.$d78	STA FACLO
1047	.$d7a	LDA FACOV
1048	.$d7c	EOR #$FF
1049	.$d7e	CLC
1050	.$d7f	ADC #1
1051	.$d81	STA FACOV
1052	.$d83	BNE FCNORMAL
1053	.$d85	INC FACLO
1054	.$d87	BNE FCNORMAL
1055	.$d89	INC FACMO
1056	.$d8b	BNE FCNORMAL
1057	.$d8d	INC FACMOH
1058	.$d8f	BNE FCNORMAL
1059	.$d91	INC FACHO
1060	.$d93	FCNORMAL   BIT FACHO
1061	.$d95	BMI FFADD_RET       
1062	.$d97	LDA #0           
1063	.$d99	CLC
1064	.$d9a	FFADD_NORM3
1065	.$d9a	LDX FACHO
1066	.$d9c	BNE FFADD_NORM1
1067	.$d9e	LDX FACHO+1
1068	.$da0	STX FACHO
1069	.$da2	LDX FACMOH+1
1070	.$da4	STX FACMOH
1071	.$da6	LDX FACMO+1
1072	.$da8	STX FACMO
1073	.$daa	LDX FACOV
1074	.$dac	STX FACLO
1075	.$dae	LDX #0
1076	.$db0	STX FACOV
1077	.$db2	ADC #$08
1078	.$db4	CMP #$20
1079	.$db6	BNE FFADD_NORM3
1080	.$db8	JMP FFADD_ZEROFAC
1081	.$dbb	FFADD_NORM2
1082	.$dbb	CLC
1083	.$dbc	ADC #1
1084	.$dbe	ASL FACOV
1085	.$dc0	ROL FACLO
1086	.$dc2	ROL FACMO
1087	.$dc4	ROL FACMOH
1088	.$dc6	ROL FACHO
1089	.$dc8	FFADD_NORM1
1090	.$dc8	BPL FFADD_NORM2     
1091	.$dca	SEC
1092	.$dcb	SBC FACEXP
1093	.$dcd	BCS FFADD_ZEROFAC
1094	.$dcf	EOR #$FF
1095	.$dd1	CLC
1096	.$dd2	ADC #1
1097	.$dd4	STA FACEXP
1098	.$dd6	FFADD_RET   RTS
1099	.$dd7	FFADD_ZEROFAC
1100	.$dd7	LDX #0
1101	.$dd9	STX FACEXP
1102	.$ddb	STX FACSGN
1103	.$ddd	RTS
1106	.$dde	FASTFMULMEM
1107	.$dde	JSR MEMARG
1108	.$de1	FASTFMULARG
1109	.$de1	BEQ FFMUL_MULTRT    
1110	.$de3	LDA ARGEXP
1111	.$de5	BEQ FFMUL_ZEREMV    
1112	.$de7	CLC
1113	.$de8	ADC FACEXP
1114	.$dea	BCC FFMUL_TRYOFF
1115	.$dec	CLC
1116	.$ded	BPL FFMUL_ADJUST
1117	.$def	JMP ILLEGALQUANTITY
1118	.$df2	FFMUL_ZEREMV
1119	.$df2	LDY #0
1120	.$df4	STY FACEXP       
1121	.$df6	STY FACSGN
1122	.$df8	FFMUL_MULTRT
1123	.$df8	RTS
1124	.$df9	FFMUL_TRYOFF
1125	.$df9	BPL FFMUL_ZEREMV    
1126	.$dfb	FFMUL_ADJUST
1127	.$dfb	ADC #$80         
1128	.$dfd	BEQ FFMUL_ZEREMV    
1129	.$dff	STA FACEXP
1130	.$e01	LDA ARISGN
1131	.$e03	STA FACSGN
1132	.$e05	LDY #0
1133	.$e07	STY RESHOP
1134	.$e09	STY RESHO
1135	.$e0b	STY RESMOH
1136	.$e0d	STY RESMO
1137	.$e0f	STY RESLO
1138	.$e11	STY RESOV
1139	.$e13	STY FACHOP
1140	.$e15	FFMUL_B0
1141	.$e15	LSR ARGLO        
1142	.$e17	BCC FFMUL_B1
1143	.$e19	LDA RESOV
1144	.$e1b	CLC
1145	.$e1c	ADC FACMOH       
1146	.$e1e	STA RESOV
1147	.$e20	LDA RESLO
1148	.$e22	ADC FACHO        
1149	.$e24	STA RESLO
1150	.$e26	LDA RESMO
1151	.$e28	ADC FACHOP       
1152	.$e2a	STA RESMO
1153	.$e2c	BCC FFMUL_B1
1154	.$e2e	INC RESMOH
1155	.$e30	BNE FFMUL_B1
1156	.$e32	INC RESHO
1157	.$e34	BNE FFMUL_B1
1158	.$e36	INC RESHOP
1159	.$e38	FFMUL_B1
1160	.$e38	LSR ARGMO        
1161	.$e3a	BCC FFMUL_B2
1162	.$e3c	LDA RESOV
1163	.$e3e	CLC
1164	.$e3f	ADC FACMO        
1165	.$e41	STA RESOV
1166	.$e43	LDA RESLO
1167	.$e45	ADC FACMOH       
1168	.$e47	STA RESLO
1169	.$e49	LDA RESMO
1170	.$e4b	ADC FACHO        
1171	.$e4d	STA RESMO
1172	.$e4f	LDA RESMOH
1173	.$e51	ADC FACHOP       
1174	.$e53	STA RESMOH
1175	.$e55	BCC FFMUL_B2
1176	.$e57	INC RESHO
1177	.$e59	BNE FFMUL_B2
1178	.$e5b	INC RESHOP
1179	.$e5d	FFMUL_B2
1180	.$e5d	LSR ARGMOH       
1181	.$e5f	BCC FFMUL_B3
1182	.$e61	LDA RESOV
1183	.$e63	CLC
1184	.$e64	ADC FACLO        
1185	.$e66	STA RESOV
1186	.$e68	LDA RESLO
1187	.$e6a	ADC FACMO        
1188	.$e6c	STA RESLO
1189	.$e6e	LDA RESMO
1190	.$e70	ADC FACMOH       
1191	.$e72	STA RESMO
1192	.$e74	LDA RESMOH
1193	.$e76	ADC FACHO        
1194	.$e78	STA RESMOH
1195	.$e7a	LDA RESHO
1196	.$e7c	ADC FACHOP       
1197	.$e7e	STA RESHO
1198	.$e80	BCC FFMUL_B3
1199	.$e82	INC RESHOP
1200	.$e84	FFMUL_B3
1201	.$e84	LSR ARGHO        
1202	.$e86	BCC FFMUL_ROTA
1203	.$e88	LDA RESOV
1204	.$e8a	CLC
1205	.$e8b	ADC FACOV        
1206	.$e8d	STA RESOV
1207	.$e8f	LDA RESLO
1208	.$e91	ADC FACLO        
1209	.$e93	STA RESLO
1210	.$e95	LDA RESMO
1211	.$e97	ADC FACMO        
1212	.$e99	STA RESMO
1213	.$e9b	LDA RESMOH
1214	.$e9d	ADC FACMOH       
1215	.$e9f	STA RESMOH
1216	.$ea1	LDA RESHO
1217	.$ea3	ADC FACHO        
1218	.$ea5	STA RESHO
1219	.$ea7	LDA RESHOP
1220	.$ea9	ADC FACHOP       
1221	.$eab	STA RESHOP
1222	.$ead	FFMUL_ROTA
1223	.$ead	ASL FACOV
1224	.$eaf	ROL FACLO
1225	.$eb1	ROL FACMO
1226	.$eb3	ROL FACMOH
1227	.$eb5	ROL FACHO
1228	.$eb7	ROL FACHOP
1229	.$eb9	BMI FFMUL_FIN
1230	.$ebb	JMP FFMUL_B0
1231	.$ebe	FFMUL_FIN
1232	.$ebe	LDA RESHOP
1233	.$ec0	STA FACHO
1234	.$ec2	LDA RESHO
1235	.$ec4	STA FACMOH
1236	.$ec6	LDA RESMOH
1237	.$ec8	STA FACMO
1238	.$eca	LDA RESMO
1239	.$ecc	STA FACLO
1240	.$ece	LDA RESLO
1241	.$ed0	STA FACOV
1242	.$ed2	JMP FCNORMAL      
1243	.$ed5	MUL10
1244	.$ed5	JSR ARGFAC       
1245	.$ed8	TAX              
1246	.$ed9	BEQ FFMUL_MUL101    
1247	.$edb	CLC
1248	.$edc	ADC #2
1249	.$ede	BCS FFMUL_MUL102    
1250	.$ee0	STA FACEXP       
1251	.$ee2	LDY #0
1252	.$ee4	STY ARISGN
1253	.$ee6	JSR FASTFADDARG      
1254	.$ee9	INC FACEXP
1255	.$eeb	BEQ FFMUL_MUL102     
1256	.$eed	FFMUL_MUL101
1257	.$eed	RTS
1258	.$eee	FFMUL_MUL102
1259	.$eee	JMP ILLEGALQUANTITY
1260	.$ef1	MUL6
1261	.$ef1	JSR ARGFAC       
1262	.$ef4	TAX              
1263	.$ef5	BEQ FFMUL_MUL61     
1264	.$ef7	INC FACEXP
1265	.$ef9	BEQ FFMUL_MUL62     
1266	.$efb	LDY #0
1267	.$efd	STY ARISGN
1268	.$eff	JSR FASTFADDARG      
1269	.$f02	INC FACEXP
1270	.$f04	BEQ FFMUL_MUL62     
1271	.$f06	FFMUL_MUL61
1272	.$f06	RTS
1273	.$f07	FFMUL_MUL62
1274	.$f07	JMP ILLEGALQUANTITY
1277	.$f0a	INITVARS
1278	.$f0a	JSR INITSTRVARS
1279	.$f0d	LDA #0
1280	.$f0f	LDY #4
1281	.$f11	REALINITLOOP0:
1282	.$f11	STA VAR__X_K,Y
1283	.$f14	STA VAR_YK,Y
1284	.$f17	DEY
1285	.$f18	BMI REALLOOPEXIT0
1286	.$f1a	JMP REALINITLOOP0
1287	.$f1d	REALLOOPEXIT0:
1288	.$f1d	RTS
1292	.$f1e	CONSTANTS
1295	.$f1e	CONST_0 .REAL 0.27318197
1298	.$f23	CONST_1R .REAL 100.0
1301	.$f28	CONST_2 .REAL 0.5
1304	.$f2d	CONST_3 .REAL 12345.0
1307	.$f32	DATAS
1308	.$f32	.BYTE $FF
1310	.$f33	CONSTANTS_END
1313	.$f33	VARIABLES
1315	.$f33	VAR__X_K .REAL 0.0
1317	.$f38	VAR_YK .REAL 0.0
1318	.$f3d	STRINGVARS_START
1320	.$f3d	VAR_TI$ .WORD EMPTYSTR
1321	.$f3f	STRINGVARS_END
1322	.$f3f	STRINGARRAYS_START
1323	.$f3f	STRINGARRAYS_END
1324	.$f3f	VARIABLES_END
1326	.$f3f	Y_REG .REAL 0.0
1327	.$f44	C_REG .REAL 0.0
1328	.$f49	D_REG .REAL 0.0
1329	.$f4e	E_REG .REAL 0.0
1330	.$f53	F_REG .REAL 0.0
1331	.$f58	A_REG .WORD 0
1332	.$f5a	B_REG .WORD 0
1333	.$f5c	CMD_NUM .BYTE 0
1334	.$f5d	CHANNEL .BYTE 0
1335	.$f5e	SP_SAVE .BYTE 0
1336	.$f5f	TMP2_REG .WORD 0
1337	.$f61	TMP3_REG .WORD 0
1338	.$f63	TMP4_REG .WORD 0
1339	.$f65	AS_TMP .WORD 0
1340	.$f67	BPOINTER_TMP .WORD 0
1341	.$f69	BASICTEXTP .BYTE 0
1342	.$f6a	STORE1 .WORD 0
1343	.$f6c	STORE2 .WORD 0
1344	.$f6e	STORE3 .WORD 0
1345	.$f70	STORE4 .WORD 0
1346	.$f72	GCSTART .WORD 0
1347	.$f74	GCLEN .WORD 0
1348	.$f76	GCWORK .WORD 0
1349	.$f78	INPUTLENGTH .BYTE 0
1350	.$f79	TMP_FREG .REAL 0
1351	.$f7e	TMP2_FREG .REAL 0
1352	.$f83	TMP_FLAG .BYTE 0
1353	.$f84	INT_FLAG .BYTE 0
1354	.$f85	REAL_CONST_ONE .REAL 1.0
1355	.$f8a	REAL_CONST_ZERO .REAL 0.0
1356	.$f8f	REAL_CONST_MINUS_ONE .REAL -1.0
1357	.$f94	CHLOCKFLAG .BYTE 0
1358	.$f95	EMPTYSTR .BYTE 0
1359	.$f96	FPSTACKP .WORD FPSTACK
1360	.$f98	FORSTACKP .WORD FORSTACK
1361	.$f9a	DATASP .WORD DATAS
1362	.$f9c	LASTVAR .WORD 0
1363	.$f9e	LASTVARP .WORD 0
1364	.$fa0	HIGHP .WORD STRBUF
1365	.$fa2	STRBUFP .WORD STRBUF
1366	.$fa4	ENDSTRBUF .WORD 0
1367	.$fa6	INPUTQUEUEP .BYTE 0
1368	.$fa7	PROGRAMEND
1369	.$fa7	INPUTQUEUE .ARRAY $0F
1370	.$fb6	FPSTACK .ARRAY 100
1371	.$101a	FORSTACK .ARRAY 340
1372	.$116e	STRBUF .BYTE 0
