117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_5:
128	.$81f	LDA #<CONST_0
129	.$821	LDY #>CONST_0
130	.$823	JSR STROUTWL
132	.$826	LDA #<CONST_1R
133	.$828	LDY #>CONST_1R
134	.$82a	JSR COPY2_XYA_YREG
138	.$82d	JSR FRE
139	.$830	JSR INTOUTBRK
142	.$833	LINE_10:
144	.$833	LDA #0
145	.$835	STA VAR_X
146	.$838	STA VAR_X+1
147	.$83b	STA VAR_X+2
148	.$83e	STA VAR_X+3
149	.$841	STA VAR_X+4
151	.$844	LDA #<CONST_2R
152	.$846	LDY #>CONST_2R
153	.$848	JSR REALFACPUSH
155	.$84b	LDA #<CONST_3R
156	.$84d	LDY #>CONST_3R
157	.$84f	JSR REALFACPUSH
159	.$852	LDA #<VAR_X
160	.$854	LDY #>VAR_X
161	.$856	STA A_REG
162	.$859	STY A_REG+1
163	.$85c	LDA #<FORLOOP0
164	.$85e	STA JUMP_TARGET
165	.$860	LDA #>FORLOOP0
166	.$862	STA JUMP_TARGET+1
167	.$864	JSR INITFOR
168	.$867	FORLOOP0:
169	.$867	LDA #<CONST_4
170	.$869	LDY #>CONST_4
171	.$86b	STA TMP_ZP
172	.$86d	STY TMP_ZP+1
174	.$86f	JSR WRITETID
175	.$872	LDX #4
176	.$874	dcloop401_1:
177	.$874	LDA CONST_3R,X
178	.$877	STA VAR_I,X
179	.$87a	DEX
180	.$87b	BPL dcloop401_1
182	.$87d	LDA #<CONST_5R
183	.$87f	LDY #>CONST_5R
184	.$881	JSR REALFACPUSH
186	.$884	LDA #<CONST_3R
187	.$886	LDY #>CONST_3R
188	.$888	JSR REALFACPUSH
190	.$88b	LDA #<VAR_I
191	.$88d	LDY #>VAR_I
192	.$88f	STA A_REG
193	.$892	STY A_REG+1
194	.$895	LDA #<FORLOOP1
195	.$897	STA JUMP_TARGET
196	.$899	LDA #>FORLOOP1
197	.$89b	STA JUMP_TARGET+1
198	.$89d	JSR INITFOR
199	.$8a0	FORLOOP1:
201	.$8a0	LINE_20:
203	.$8a0	JSR COMPACTMAX
204	.$8a3	LDA #<CONST_1R
205	.$8a5	LDY #>CONST_1R
206	.$8a7	JSR REALFAC
210	.$8aa	JSR FACRND
211	.$8ad	JSR FACXREG
212	.$8b0	LDY #3
213	.$8b2	LDA #0
214	.$8b4	STY A_REG
215	.$8b7	STA A_REG+1
216	.$8ba	JSR COPY_XREG2YREG
220	.$8bd	JSR SHL
221	.$8c0	JSR FACXREG
223	.$8c3	LDY #1
224	.$8c5	LDA #0
225	.$8c7	STY A_REG
226	.$8ca	STA A_REG+1
227	.$8cd	JSR YREGFAC
230	.$8d0	JSR SHL
232	.$8d3	LDA #<X_REG
233	.$8d5	LDY #>X_REG
235	.$8d7	JSR FASTFADDMEM
239	.$8da	LDX #<C_REG
240	.$8dc	LDY #>C_REG
242	.$8de	JSR FACMEM
244	.$8e1	LDA #<CONST_7
245	.$8e3	LDY #>CONST_7
246	.$8e5	STA B_REG
247	.$8e8	STY B_REG+1
248	.$8eb	JSR LEFT
250	.$8ee	LDA A_REG
251	.$8f1	LDY A_REG+1
252	.$8f4	STA TMP_ZP
253	.$8f6	STY TMP_ZP+1
254	.$8f8	LDA #<VAR_A$
255	.$8fa	LDY #>VAR_A$
256	.$8fc	JSR COPYSTRING
257	.$8ff	JSR COMPACTMAX
258	.$902	LDA #<CONST_1R
259	.$904	LDY #>CONST_1R
260	.$906	JSR REALFAC
264	.$909	JSR FACRND
265	.$90c	JSR FACXREG
266	.$90f	LDY #3
267	.$911	LDA #0
268	.$913	STY A_REG
269	.$916	STA A_REG+1
270	.$919	JSR COPY_XREG2YREG
274	.$91c	JSR SHL
275	.$91f	JSR FACXREG
277	.$922	LDY #1
278	.$924	LDA #0
279	.$926	STY A_REG
280	.$929	STA A_REG+1
281	.$92c	JSR YREGFAC
284	.$92f	JSR SHL
286	.$932	LDA #<X_REG
287	.$934	LDY #>X_REG
289	.$936	JSR FASTFADDMEM
293	.$939	LDX #<C_REG
294	.$93b	LDY #>C_REG
296	.$93d	JSR FACMEM
298	.$940	LDA #<CONST_7
299	.$942	LDY #>CONST_7
300	.$944	STA B_REG
301	.$947	STY B_REG+1
302	.$94a	JSR LEFT
304	.$94d	LDA A_REG
305	.$950	LDY A_REG+1
306	.$953	STA TMP_ZP
307	.$955	STY TMP_ZP+1
308	.$957	LDA #<VAR_B$
309	.$959	LDY #>VAR_B$
310	.$95b	JSR COPYSTRING
312	.$95e	LINE_21:
315	.$95e	LINE_25:
317	.$95e	JSR COMPACTMAX
318	.$961	LDA VAR_A$
319	.$964	LDY VAR_A$+1
320	.$967	STA B_REG
321	.$96a	STY B_REG+1
322	.$96d	LDA #<CONST_8
323	.$96f	LDY #>CONST_8
324	.$971	STA A_REG
325	.$974	STY A_REG+1
326	.$977	JSR CONCAT
327	.$97a	LDA #<CONST_7
328	.$97c	LDY #>CONST_7
329	.$97e	STA B_REG
330	.$981	STY B_REG+1
331	.$984	JSR CONCAT
333	.$987	LDA A_REG
334	.$98a	LDY A_REG+1
335	.$98d	STA TMP_ZP
336	.$98f	STY TMP_ZP+1
337	.$991	LDA #<VAR_E$
338	.$993	LDY #>VAR_E$
339	.$995	JSR COPYSTRING
340	.$998	LDA #<VAR_I
341	.$99a	LDY #>VAR_I
342	.$99c	JSR REALFACPUSH
344	.$99f	JSR COMPACTMAX
345	.$9a2	LDA #<CONST_9
346	.$9a4	LDY #>CONST_9
347	.$9a6	STA TMP_ZP
348	.$9a8	STY TMP_ZP+1
349	.$9aa	JSR PUSHINT
351	.$9ad	LDA #<VAR_I
352	.$9af	LDY #>VAR_I
353	.$9b1	JSR COPY2_XYA_XREG
358	.$9b4	LDA #<VAR_Z$[]
359	.$9b6	LDY #>VAR_Z$[]
360	.$9b8	STA G_REG
361	.$9ba	STY G_REG+1
362	.$9bc	JSR ARRAYACCESS_STRING
363	.$9bf	JSR POPINT2B
365	.$9c2	JSR CONCAT
367	.$9c5	JSR POPREALXREG
370	.$9c8	LDA #<VAR_U$[]
371	.$9ca	LDY #>VAR_U$[]
372	.$9cc	STA G_REG
373	.$9ce	STY G_REG+1
374	.$9d0	JSR ARRAYSTORE_STRING
375	.$9d3	LDA #<VAR_I
376	.$9d5	LDY #>VAR_I
377	.$9d7	JSR REALFACPUSH
379	.$9da	JSR COMPACTMAX
380	.$9dd	LDA VAR_B$
381	.$9e0	LDY VAR_B$+1
382	.$9e3	STA B_REG
383	.$9e6	STY B_REG+1
384	.$9e9	LDA VAR_E$
385	.$9ec	LDY VAR_E$+1
386	.$9ef	STA A_REG
387	.$9f2	STY A_REG+1
388	.$9f5	JSR CONCAT
390	.$9f8	JSR POPREALXREG
393	.$9fb	LDA #<VAR_Z$[]
394	.$9fd	LDY #>VAR_Z$[]
395	.$9ff	STA G_REG
396	.$a01	STY G_REG+1
397	.$a03	JSR ARRAYSTORE_STRING
399	.$a06	LINE_26:
401	.$a06	LDA #<CONST_10
402	.$a08	LDY #>CONST_10
403	.$a0a	JSR STROUTWL
405	.$a0d	LDA VAR_E$
406	.$a10	LDY VAR_E$+1
407	.$a13	JSR STROUTBRKWL
410	.$a16	LDA #<CONST_11
411	.$a18	LDY #>CONST_11
412	.$a1a	JSR STROUTWL
414	.$a1d	LDA #<VAR_I
415	.$a1f	LDY #>VAR_I
416	.$a21	JSR COPY2_XYA_XREG
421	.$a24	LDA #<VAR_U$[]
422	.$a26	LDY #>VAR_U$[]
423	.$a28	STA G_REG
424	.$a2a	STY G_REG+1
425	.$a2c	JSR ARRAYACCESS_STRING
426	.$a2f	JSR STROUTBRK
428	.$a32	LDA #<CONST_12
429	.$a34	LDY #>CONST_12
430	.$a36	JSR STROUTWL
432	.$a39	LDA #<VAR_I
433	.$a3b	LDY #>VAR_I
434	.$a3d	JSR COPY2_XYA_XREG
439	.$a40	LDA #<VAR_Z$[]
440	.$a42	LDY #>VAR_Z$[]
441	.$a44	STA G_REG
442	.$a46	STY G_REG+1
443	.$a48	JSR ARRAYACCESS_STRING
444	.$a4b	JSR STROUTBRK
446	.$a4e	LDA #<CONST_13
447	.$a50	LDY #>CONST_13
448	.$a52	JSR STROUTWL
450	.$a55	LDA #<CONST_7
451	.$a57	LDY #>CONST_7
452	.$a59	JSR STROUTBRKWL
456	.$a5c	LINE_27:
459	.$a5c	LINE_28:
462	.$a5c	LINE_30:
464	.$a5c	LDA #0
465	.$a5e	STA A_REG
466	.$a61	STA A_REG+1
467	.$a64	JSR NEXT
469	.$a67	LDA A_REG
470	.$a6a	BNE RBEQ_0
471	.$a6c	JMP (JUMP_TARGET)
473	.$a6f	RBEQ_0:
474	.$a6f	LDA #<VAR_X
475	.$a71	LDY #>VAR_X
476	.$a73	JSR COPY2_XYA_XREG
480	.$a76	JSR REALOUT
481	.$a79	JSR CRSRRIGHT
482	.$a7c	LDA #40
483	.$a7e	JSR SINGLECHROUTMAX
487	.$a81	SEI
488	.$a82	LDY TIMEADDR
489	.$a84	LDX TIMEADDR+1
490	.$a86	LDA TIMEADDR+2
491	.$a88	CLI
493	.$a89	SEC
494	.$a8a	JSR COPYTIME
495	.$a8d	JSR GETTIME
496	.$a90	LDX #<VAR_TI
497	.$a92	LDY #>VAR_TI
498	.$a94	JSR FACMEM
499	.$a97	LDA #<VAR_TI
500	.$a99	LDY #>VAR_TI
501	.$a9b	JSR COPY2_XYA_XREG
505	.$a9e	JSR REALOUT
506	.$aa1	JSR CRSRRIGHT
507	.$aa4	LDA #41
508	.$aa6	JSR SINGLECHROUTBRKMAX
512	.$aa9	LDA #0
513	.$aab	STA A_REG
514	.$aae	STA A_REG+1
515	.$ab1	JSR NEXT
517	.$ab4	LDA A_REG
518	.$ab7	BNE RBEQ_1
519	.$ab9	JMP (JUMP_TARGET)
521	.$abc	RBEQ_1:
522	.$abc	JSR END
523	.$abf	RTS
526	.$ac0	END   LDX SP_SAVE
527	.$ac3	TXS
534	.$ac4	RTS
537	.$ac5	START  LDA ENDSTRBUF+1
538	.$ac8	BNE ENDGIVEN
539	.$aca	LDA BASICEND
540	.$acc	STA ENDSTRBUF
541	.$acf	LDA BASICEND+1
542	.$ad1	STA ENDSTRBUF+1
543	.$ad4	ENDGIVEN LDA #<FPSTACK
544	.$ad6	LDY #>FPSTACK
545	.$ad8	STA FPSTACKP
546	.$adb	STY FPSTACKP+1
547	.$ade	LDA #<FORSTACK
548	.$ae0	LDY #>FORSTACK
549	.$ae2	STA FORSTACKP
550	.$ae5	STY FORSTACKP+1
551	.$ae8	LDA #<STRBUF
552	.$aea	LDY #>STRBUF
553	.$aec	STA STRBUFP
554	.$aef	STY STRBUFP+1
555	.$af2	STA HIGHP
556	.$af5	STY HIGHP+1
557	.$af8	LDA #0
558	.$afa	STA CHLOCKFLAG
559	.$afd	STA LASTVAR
560	.$b00	STA LASTVAR+1
561	.$b03	JSR INITVARS
562	.$b06	LDA #0
563	.$b08	STA CMD_NUM
564	.$b0b	STA CHANNEL
565	.$b0e	TAY
566	.$b0f	TAX
570	.$b10	STA KEYNDX
576	.$b12	JSR RESTORE
577	.$b15	CLC
581	.$b16	RTS
584	.$b17	INITNARRAY
585	.$b17	STA TMP_ZP
586	.$b19	STY TMP_ZP+1
587	.$b1b	LDY #0
588	.$b1d	TYA
589	.$b1e	NINITLOOP STA (TMP_ZP),Y
590	.$b20	INC TMP_ZP
591	.$b22	BNE NLOOPNOV
592	.$b24	INC TMP_ZP+1
593	.$b26	NLOOPNOV LDX TMP2_ZP
594	.$b28	BNE NLOOPNOV2
595	.$b2a	DEC TMP2_ZP+1
596	.$b2c	NLOOPNOV2 DEC TMP2_ZP
597	.$b2e	BNE NINITLOOP
598	.$b30	LDX TMP2_ZP+1
599	.$b32	BNE NINITLOOP
600	.$b34	RTS
603	.$b35	INITSTRARRAY
604	.$b35	STA TMP_ZP
605	.$b37	STY TMP_ZP+1
606	.$b39	SINITLOOP LDY #0
607	.$b3b	LDA #<EMPTYSTR
608	.$b3d	STA (TMP_ZP),Y
609	.$b3f	LDA #>EMPTYSTR
610	.$b41	INY
611	.$b42	STA (TMP_ZP),Y
612	.$b44	CLC
613	.$b45	LDA TMP_ZP
614	.$b47	ADC #2
615	.$b49	STA TMP_ZP
616	.$b4b	BCC SLOOPNOV1
617	.$b4d	INC TMP_ZP+1
618	.$b4f	SLOOPNOV1 SEC
619	.$b50	LDA TMP2_ZP
620	.$b52	SBC #2
621	.$b54	STA TMP2_ZP
622	.$b56	BCS SLOOPNOV2
623	.$b58	DEC TMP2_ZP+1
624	.$b5a	SLOOPNOV2 LDA TMP2_ZP
625	.$b5c	BNE SINITLOOP
626	.$b5e	LDA TMP2_ZP+1
627	.$b60	BNE SINITLOOP
628	.$b62	RTS
631	.$b63	INITSPARAMS STA TMP3_ZP
632	.$b65	STY TMP3_ZP+1
633	.$b67	SEC
634	.$b68	SBC #2
635	.$b6a	STA TMP_ZP
636	.$b6c	TYA
637	.$b6d	SBC #0
638	.$b6f	STA TMP_ZP+1
639	.$b71	LDY #0
640	.$b73	LDA (TMP_ZP),Y
641	.$b75	STA TMP2_ZP
642	.$b77	INY
643	.$b78	LDA (TMP_ZP),Y
644	.$b7a	STA TMP2_ZP+1
645	.$b7c	LDA TMP3_ZP
646	.$b7e	LDY TMP3_ZP+1
647	.$b80	RTS
650	.$b81	INITSTRVARS LDA #<STRINGVARS_START  
651	.$b83	LDY #>STRINGVARS_START
652	.$b85	CMP #<STRINGVARS_END
653	.$b87	BNE INITIT1
654	.$b89	CPY #>STRINGVARS_END
655	.$b8b	BNE INITIT1
656	.$b8d	JMP INITSA2     
657	.$b90	INITIT1  STA TMP_ZP
658	.$b92	STY TMP_ZP+1
659	.$b94	LDY #0
660	.$b96	INITSTRLOOP LDA #<EMPTYSTR
661	.$b98	STA (TMP_ZP),Y
662	.$b9a	INY
663	.$b9b	LDA #>EMPTYSTR
664	.$b9d	STA (TMP_ZP),Y
665	.$b9f	DEY
666	.$ba0	LDA TMP_ZP
667	.$ba2	CLC
668	.$ba3	ADC #2
669	.$ba5	STA TMP_ZP
670	.$ba7	LDA TMP_ZP+1
671	.$ba9	ADC #0
672	.$bab	STA TMP_ZP+1
673	.$bad	CMP #>STRINGVARS_END
674	.$baf	BNE INITSTRLOOP
675	.$bb1	LDA TMP_ZP
676	.$bb3	CMP #<STRINGVARS_END
677	.$bb5	BNE INITSTRLOOP
678	.$bb7	INITSA2  LDA #<STRINGARRAYS_START 
679	.$bb9	LDY #>STRINGARRAYS_START
680	.$bbb	CMP #<STRINGARRAYS_END
681	.$bbd	BNE ARRAYLOOP
682	.$bbf	CPY #>STRINGARRAYS_END
683	.$bc1	BNE ARRAYLOOP
684	.$bc3	RTS       
685	.$bc4	ARRAYLOOP CLC
686	.$bc5	ADC #3
687	.$bc7	BCC ARRAYSKIP1
688	.$bc9	INY
689	.$bca	ARRAYSKIP1 CPY #>STRINGARRAYS_END
690	.$bcc	BEQ ARRAYSC
691	.$bce	BCC ARRAYSKIP2
692	.$bd0	JMP ARRAYQUIT
693	.$bd3	ARRAYSC  CMP #<STRINGARRAYS_END
694	.$bd5	BCS ARRAYQUIT
695	.$bd7	ARRAYSKIP2 STA TMP_REG
696	.$bd9	STY TMP_REG+1
697	.$bdb	JSR INITSPARAMS
698	.$bde	LDA TMP_REG
699	.$be0	LDY TMP_REG+1
700	.$be2	JSR INITSTRARRAY
701	.$be5	LDA TMP_ZP
702	.$be7	LDY TMP_ZP+1
703	.$be9	JMP ARRAYLOOP
704	.$bec	ARRAYQUIT RTS
707	.$bed	RESTORE  LDA #<DATAS
708	.$bef	LDY #>DATAS
709	.$bf1	STA DATASP
710	.$bf4	STY DATASP+1
711	.$bf7	RTS
714	.$bf8	LEFT  JSR STRFUNCINT
715	.$bfb	LEFT2  STY TMP_REG+1  
716	.$bfd	LDA (TMP_ZP),Y
717	.$bff	CMP TMP_REG   
718	.$c01	BCS LEFTBELOW
719	.$c03	STA TMP_REG   
720	.$c05	LEFTBELOW JMP STRFUNC
723	.$c08	STRFUNCINT  LDA B_REG   
724	.$c0b	STA TMP_ZP
725	.$c0d	LDA B_REG+1
726	.$c10	STA TMP_ZP+1
727	.$c12	LDA #<C_REG
728	.$c14	LDY #>C_REG
729	.$c16	JSR REALFAC
730	.$c19	JSR FACWORD
731	.$c1c	STY TMP_REG   
732	.$c1e	LDY #0
733	.$c20	RTS
740	.$c21	STRFUNC  LDA TMP_REG+1
741	.$c23	BEQ STARTATZERO
742	.$c25	LDA TMP_ZP
743	.$c27	CLC
744	.$c28	ADC TMP_REG+1
745	.$c2a	STA TMP_ZP
746	.$c2c	BCC STARTATZERO
747	.$c2e	INC TMP_ZP+1
748	.$c30	STARTATZERO LDY #0
749	.$c32	LDA (TMP_ZP),Y
750	.$c34	PHA     
751	.$c35	LDA TMP_REG
752	.$c37	BNE STRFUNCNZ
753	.$c39	LDA #<EMPTYSTR
754	.$c3b	STA A_REG
755	.$c3e	LDA #>EMPTYSTR
756	.$c40	STA A_REG+1
757	.$c43	PLA     
760	.$c44	JMP EXITSTRFUNC
761	.$c47	STRFUNCNZ STA (TMP_ZP),Y
762	.$c49	LDA #<A_REG
763	.$c4b	LDY #>A_REG
764	.$c4d	STA TMP2_ZP
765	.$c4f	STY TMP2_ZP+1
766	.$c51	LDX TMP_REG   
767	.$c53	JSR COPYONLY
768	.$c56	PLA
769	.$c57	LDY #0
770	.$c59	STA (TMP_ZP),Y  
771	.$c5b	EXITSTRFUNC RTS
774	.$c5c	CONCAT  LDA A_REG
775	.$c5f	STA TMP_ZP
776	.$c61	LDA A_REG+1
777	.$c64	STA TMP_ZP+1
778	.$c66	LDA STRBUFP  
779	.$c69	STA A_REG
780	.$c6c	STA TMP3_ZP
781	.$c6e	LDA STRBUFP+1
782	.$c71	STA A_REG+1
783	.$c74	STA TMP3_ZP+1
784	.$c76	LDY #0
785	.$c78	LDA (TMP_ZP),Y
786	.$c7a	TAX
787	.$c7b	LDA B_REG
788	.$c7e	STA TMP2_ZP
789	.$c80	LDA B_REG+1
790	.$c83	STA TMP2_ZP+1
791	.$c85	TXA
792	.$c86	CLC
793	.$c87	ADC (TMP2_ZP),Y
794	.$c89	BCC CCSTRFITS
795	.$c8b	JMP STRINGTOOLONG
796	.$c8e	CCSTRFITS STA (TMP3_ZP),Y
797	.$c90	INC TMP3_ZP
798	.$c92	BNE CCNOOV2
799	.$c94	INC TMP3_ZP+1
800	.$c96	CCNOOV2  CLC
801	.$c97	ADC STRBUFP
802	.$c9a	PHP
803	.$c9b	CLC
804	.$c9c	ADC #3
805	.$c9e	STA STRBUFP
806	.$ca1	BCC CCNOCS1
807	.$ca3	INC STRBUFP+1
808	.$ca6	CCNOCS1  PLP
809	.$ca7	BCC CCSTRFITS2
810	.$ca9	INC STRBUFP+1
811	.$cac	CCSTRFITS2 JSR COPY2CONCAT  
812	.$caf	LDA B_REG   
813	.$cb2	STA TMP_ZP
814	.$cb4	LDA B_REG+1
815	.$cb7	STA TMP_ZP+1
816	.$cb9	JMP COPY2CONCAT  
819	.$cbc	COPY2CONCAT LDY #0
820	.$cbe	LDA (TMP_ZP),Y
821	.$cc0	BEQ NOC2C   
822	.$cc2	STA TMP2_ZP
823	.$cc4	INC TMP_ZP
824	.$cc6	BNE COPY2LOOP
825	.$cc8	INC TMP_ZP+1
826	.$cca	COPY2LOOP LDA (TMP_ZP),Y
827	.$ccc	STA (TMP3_ZP),Y
828	.$cce	INY
829	.$ccf	CPY TMP2_ZP
830	.$cd1	BNE COPY2LOOP
831	.$cd3	TYA
832	.$cd4	CLC
833	.$cd5	ADC TMP3_ZP   
834	.$cd7	STA TMP3_ZP
835	.$cd9	BCC NOC2C
836	.$cdb	INC TMP3_ZP+1
837	.$cdd	NOC2C  RTS
840	.$cde	WRITETID LDY #0
841	.$ce0	LDA (TMP_ZP),Y
842	.$ce2	CMP #$6
843	.$ce4	BEQ FORMATOK
844	.$ce6	JMP ILLEGALQUANTITY
845	.$ce9	FORMATOK INC TMP_ZP
846	.$ceb	BNE WRITE2
847	.$ced	INC TMP_ZP+1
848	.$cef	WRITE2  LDA TMP_ZP
849	.$cf1	STA INDEX1
850	.$cf3	LDA TMP_ZP+1
851	.$cf5	STA INDEX1+1
853	.$cf7	JMP WRITETIS
860	.$cfa	SAVEPOINTERS
861	.$cfa	LDA TMP_ZP   
862	.$cfc	STA STORE1
863	.$cff	LDA TMP_ZP+1
864	.$d01	STA STORE1+1
865	.$d04	LDA TMP2_ZP
866	.$d06	STA STORE2
867	.$d09	LDA TMP2_ZP+1
868	.$d0b	STA STORE2+1
869	.$d0e	LDA TMP3_ZP
870	.$d10	STA STORE3
871	.$d13	LDA TMP3_ZP+1
872	.$d15	STA STORE3+1
873	.$d18	RTS
876	.$d19	RESTOREPOINTERS
877	.$d19	LDA STORE3+1  
878	.$d1c	STA TMP3_ZP+1
879	.$d1e	LDA STORE3
880	.$d21	STA TMP3_ZP
881	.$d23	LDA STORE2+1
882	.$d26	STA TMP2_ZP+1
883	.$d28	LDA STORE2
884	.$d2b	STA TMP2_ZP
885	.$d2d	LDA STORE1+1
886	.$d30	STA TMP_ZP+1
887	.$d32	LDA STORE1
888	.$d35	STA TMP_ZP
889	.$d37	RTS
896	.$d38	COMPACTMAX
897	.$d38	LDA #$FF
898	.$d3a	LDY #$0
899	.$d3c	JMP COMPACTF
902	.$d3f	COMPACT
903	.$d3f	LDY #0
904	.$d41	GCBUFNE  LDA (TMP_ZP),Y  
905	.$d43	COMPACTF STA TMP4_REG  
906	.$d46	LDY STRBUFP+1  
907	.$d49	STY TMP4_REG+1  
908	.$d4c	INY     
909	.$d4d	BEQ ENDMEM   
910	.$d4f	CPY ENDSTRBUF+1  
911	.$d52	BCC RGCEXIT   
912	.$d54	ENDMEM  LDA STRBUFP
913	.$d57	CLC
914	.$d58	ADC TMP4_REG
915	.$d5b	STA TMP4_REG
916	.$d5e	BCC RGCNOOV1
917	.$d60	INC TMP4_REG+1
918	.$d63	RGCNOOV1 CLC
919	.$d64	LDA TMP4_REG
920	.$d67	ADC #3
921	.$d69	STA TMP4_REG
922	.$d6c	BCC RGCNOOV2
923	.$d6e	INC TMP4_REG+1
924	.$d71	RGCNOOV2 LDA TMP4_REG+1  
925	.$d74	CMP ENDSTRBUF+1
926	.$d77	BEQ RGCLOW1
927	.$d79	BCS GCEXECOMP  
928	.$d7b	JMP RGCEXIT
929	.$d7e	RGCLOW1  LDA TMP4_REG
930	.$d81	CMP ENDSTRBUF
931	.$d84	BCS GCEXECOMP  
932	.$d86	RGCEXIT  RTS     
933	.$d87	GCEXECOMP LDA STRBUFP
934	.$d8a	STA STORE4
935	.$d8d	LDA STRBUFP+1
936	.$d90	STA STORE4+1
937	.$d93	JSR GCEXE
938	.$d96	JMP CHECKMEMORY
941	.$d99	GCEXE  JSR SAVEPOINTERS
942	.$d9c	LDA #0
943	.$d9e	STA LASTVAR
944	.$da1	STA LASTVAR+1  
945	.$da4	LDA #<STRBUF
946	.$da6	STA TMP_ZP
947	.$da8	STA GCSTART
948	.$dab	LDA #>STRBUF
949	.$dad	STA TMP_ZP+1  
950	.$daf	STA GCSTART+1
951	.$db2	GCLOOP  LDY #0
952	.$db4	LDA TMP_ZP
953	.$db6	STA GCWORK
954	.$db9	LDA TMP_ZP+1
955	.$dbb	STA GCWORK+1  
956	.$dbe	LDA (TMP_ZP),Y
957	.$dc0	STA GCLEN   
958	.$dc3	INC TMP_ZP
959	.$dc5	BNE GCLOOPNOOV
960	.$dc7	INC TMP_ZP+1
961	.$dc9	GCLOOPNOOV LDA TMP_ZP
962	.$dcb	CLC
963	.$dcc	ADC GCLEN
964	.$dcf	STA TMP_ZP
965	.$dd1	BCC GCLOOPNOOV2
966	.$dd3	INC TMP_ZP+1  
967	.$dd5	GCLOOPNOOV2 LDY #0
968	.$dd7	LDA (TMP_ZP),Y
969	.$dd9	STA TMP2_ZP
970	.$ddb	INY
971	.$ddc	LDA (TMP_ZP),Y
972	.$dde	STA TMP2_ZP+1  
973	.$de0	LDA TMP_ZP
974	.$de2	CLC
975	.$de3	ADC #2
976	.$de5	STA TMP_ZP
977	.$de7	BCC GCLOOPNOOV3
978	.$de9	INC TMP_ZP+1  
979	.$deb	GCLOOPNOOV3 LDY #0
980	.$ded	LDA (TMP2_ZP),Y
981	.$def	CMP GCWORK
982	.$df2	BNE GCKLOOP
983	.$df4	INY
984	.$df5	LDA (TMP2_ZP),Y
985	.$df7	CMP GCWORK+1
986	.$dfa	BEQ MEMFREE
987	.$dfc	GCKLOOP  LDA TMP_ZP+1  
988	.$dfe	CMP HIGHP+1
989	.$e01	BEQ GCHECKLOW
990	.$e03	BCC GCLOOP
991	.$e05	JMP GCDONE
992	.$e08	GCHECKLOW LDA TMP_ZP
993	.$e0a	CMP HIGHP
994	.$e0d	BCS GCDONE
995	.$e0f	JMP GCLOOP
996	.$e12	MEMFREE  LDA GCSTART   
997	.$e15	CMP GCWORK   
998	.$e18	BNE COPYDOWN
999	.$e1a	LDA GCSTART+1
1000	.$e1d	CMP GCWORK+1
1001	.$e20	BNE COPYDOWN
1002	.$e22	LDA TMP_ZP   
1003	.$e24	STA GCSTART
1004	.$e27	LDA TMP_ZP+1
1005	.$e29	STA GCSTART+1
1006	.$e2c	JMP GCKLOOP   
1007	.$e2f	COPYDOWN LDA GCSTART   
1008	.$e32	STA TMP_REG
1009	.$e34	LDA GCSTART+1
1010	.$e37	STA TMP_REG+1  
1011	.$e39	LDA GCWORK
1012	.$e3c	STA TMP2_REG
1013	.$e3f	LDA GCWORK+1
1014	.$e42	STA TMP2_REG+1  
1015	.$e45	LDA TMP_ZP
1016	.$e47	SEC
1017	.$e48	SBC GCWORK
1018	.$e4b	STA TMP3_REG
1019	.$e4e	LDA TMP_ZP+1
1020	.$e50	SBC GCWORK+1
1021	.$e53	STA TMP3_REG+1  
1022	.$e56	LDA GCSTART
1023	.$e59	CLC
1024	.$e5a	ADC TMP3_REG
1025	.$e5d	STA GCSTART
1026	.$e60	LDA GCSTART+1
1027	.$e63	ADC TMP3_REG+1
1028	.$e66	STA GCSTART+1  
1029	.$e69	JSR QUICKCOPY  
1030	.$e6c	LDY #0
1031	.$e6e	LDA TMP_REG
1032	.$e70	STA (TMP2_ZP),Y
1033	.$e72	INY
1034	.$e73	LDA TMP_REG+1
1035	.$e75	STA (TMP2_ZP),Y  
1036	.$e77	JMP GCKLOOP
1037	.$e7a	GCDONE  LDA GCSTART
1038	.$e7d	STA HIGHP
1039	.$e80	STA STRBUFP
1040	.$e83	LDA GCSTART+1
1041	.$e86	STA HIGHP+1
1042	.$e89	STA STRBUFP+1  
1043	.$e8c	GCSKIP  JSR RESTOREPOINTERS
1044	.$e8f	RTS     
1047	.$e90	CHECKMEMORY
1048	.$e90	LDA STRBUFP+1  
1049	.$e93	CMP STORE4+1  
1050	.$e96	BCC STILLFITSCM  
1054	.$e98	BEQ CHECKMEMLOWCM
1055	.$e9a	JMP OUTOFMEMORY  
1056	.$e9d	CHECKMEMLOWCM
1057	.$e9d	LDA STRBUFP   
1058	.$ea0	CMP STORE4
1059	.$ea3	BCC STILLFITSCM
1060	.$ea5	JMP OUTOFMEMORY  
1061	.$ea8	STILLFITSCM RTS
1064	.$ea9	QUICKCOPY LDA TMP_REG  
1065	.$eab	STA TMEM+1
1066	.$eae	LDA TMP_REG+1
1067	.$eb0	STA TMEM+2
1068	.$eb3	LDA TMP2_REG
1069	.$eb6	STA SMEM+1
1070	.$eb9	LDA TMP2_REG+1
1071	.$ebc	STA SMEM+2
1072	.$ebf	LDY #$0
1073	.$ec1	LDX TMP3_REG
1074	.$ec4	BNE QCLOOP
1075	.$ec6	LDA TMP3_REG+1
1076	.$ec9	BEQ QCEXIT  
1077	.$ecb	QCLOOP
1078	.$ecb	SMEM  LDA $0000,Y
1079	.$ece	TMEM  STA $0000,Y
1080	.$ed1	INY
1081	.$ed2	BNE YNOOV
1082	.$ed4	INC TMEM+2
1083	.$ed7	INC SMEM+2
1084	.$eda	YNOOV  DEX
1085	.$edb	BNE QCLOOP
1086	.$edd	LDA TMP3_REG+1
1087	.$ee0	BEQ QCEXIT
1088	.$ee2	DEC TMP3_REG+1
1089	.$ee5	JMP QCLOOP
1090	.$ee8	QCEXIT  RTS
1093	.$ee9	COPYSTRING STA TMP2_ZP
1094	.$eeb	STY TMP2_ZP+1
1095	.$eed	CPY TMP_ZP+1
1096	.$eef	BNE CONTCOPY
1097	.$ef1	LDA TMP2_ZP
1098	.$ef3	CMP TMP_ZP
1099	.$ef5	BNE CONTCOPY
1100	.$ef7	RTS     
1101	.$ef8	CONTCOPY JSR COMPACT   
1102	.$efb	LDY #0
1103	.$efd	STY TMP_FLAG
1104	.$f00	LDA (TMP_ZP),Y
1105	.$f02	BNE NOTEMPTYSTR
1106	.$f04	LDA #<EMPTYSTR  
1107	.$f06	STA TMP_ZP
1108	.$f08	LDA #>EMPTYSTR
1109	.$f0a	STA TMP_ZP+1
1110	.$f0c	JMP ISCONST
1111	.$f0f	NOTEMPTYSTR TAX     
1112	.$f10	LDA (TMP2_ZP),Y
1113	.$f12	STA TMP3_ZP
1114	.$f14	INY
1115	.$f15	LDA (TMP2_ZP),Y
1116	.$f17	STA TMP3_ZP+1
1117	.$f19	DEY
1118	.$f1a	LDA TMP_ZP+1  
1119	.$f1c	CMP #>CONSTANTS_END
1120	.$f1e	BEQ CHECKLOW1
1121	.$f20	BCS INVAR
1122	.$f22	JMP CHECKNEXT
1123	.$f25	CHECKLOW1 LDA TMP_ZP
1124	.$f27	CMP #<CONSTANTS_END
1125	.$f29	BCS INVAR
1126	.$f2b	CHECKNEXT LDA TMP_ZP+1  
1127	.$f2d	CMP #>CONSTANTS
1128	.$f2f	BEQ CHECKLOW3
1129	.$f31	BCC INVAR
1130	.$f33	JMP ISCONST
1131	.$f36	CHECKLOW3 LDA TMP_ZP
1132	.$f38	CMP #<CONSTANTS
1133	.$f3a	BCC INVAR   
1134	.$f3c	ISCONST  JSR CHECKLASTVAR 
1135	.$f3f	LDA TMP_ZP
1136	.$f41	STA (TMP2_ZP),Y  
1137	.$f43	INY
1138	.$f44	LDA TMP_ZP+1
1139	.$f46	STA (TMP2_ZP),Y
1140	.$f48	LDA HIGHP   
1141	.$f4b	STA STRBUFP
1142	.$f4e	LDA HIGHP+1
1143	.$f51	STA STRBUFP+1
1144	.$f54	RTS
1145	.$f55	INVAR  INY
1146	.$f56	LDA (TMP2_ZP),Y  
1147	.$f58	CMP #>CONSTANTS_END
1148	.$f5a	BEQ CHECKLOW2
1149	.$f5c	BCS INVAR2
1150	.$f5e	JMP PUPDATEPTR
1151	.$f61	CHECKLOW2 DEY
1152	.$f62	LDA (TMP2_ZP),Y
1153	.$f64	CMP #<CONSTANTS_END
1154	.$f66	BCS INVAR2
1155	.$f68	JMP PUPDATEPTR
1156	.$f6b	INVAR2  LDY #0   
1157	.$f6d	LDA (TMP3_ZP),Y
1158	.$f6f	STA TMP_REG
1159	.$f71	TXA
1160	.$f72	CMP TMP_REG  
1161	.$f74	BEQ UPDATEHP2 
1164	.$f76	PUPDATEPTR JSR CHECKLASTVAR
1165	.$f79	LDY #1   
1166	.$f7b	STY TMP_FLAG 
1167	.$f7e	JMP UPDATEPTR 
1168	.$f81	UPDATEHP2 LDA HIGHP  
1169	.$f84	STA STRBUFP
1170	.$f87	LDA HIGHP+1
1171	.$f8a	STA STRBUFP+1
1172	.$f8d	JMP STRFITS
1173	.$f90	COPYONLY LDY #0
1174	.$f92	STY TMP_FLAG
1175	.$f95	JMP CHECKMEM
1176	.$f98	ALTCOPY  JMP COPYSTRING2
1177	.$f9b	UPDATEPTR LDA TMP_ZP+1 
1178	.$f9d	CMP HIGHP+1  
1179	.$fa0	BEQ CHECKXT1
1180	.$fa2	BCS ALTCOPY
1181	.$fa4	JMP CHECKMEM
1182	.$fa7	CHECKXT1 LDA TMP_ZP
1183	.$fa9	CMP HIGHP
1184	.$fac	BCS ALTCOPY
1185	.$fae	CHECKMEM
1186	.$fae	MEMOK  LDY #0
1187	.$fb0	LDA STRBUFP  
1188	.$fb3	STA (TMP2_ZP),Y 
1189	.$fb5	STA TMP3_ZP
1190	.$fb7	LDA STRBUFP+1
1191	.$fba	INY
1192	.$fbb	STA (TMP2_ZP),Y
1193	.$fbd	STA TMP3_ZP+1
1194	.$fbf	TXA
1195	.$fc0	CLC
1196	.$fc1	ADC STRBUFP
1197	.$fc4	PHP
1198	.$fc5	CLC
1199	.$fc6	ADC #3
1200	.$fc8	STA STRBUFP
1201	.$fcb	BCC NOCS1
1202	.$fcd	INC STRBUFP+1
1203	.$fd0	NOCS1  PLP
1204	.$fd1	BCC STRFITS
1205	.$fd3	INC STRBUFP+1
1206	.$fd6	STRFITS  LDY TMP_FLAG 
1207	.$fd9	BEQ NOHPUPDATE 
1208	.$fdb	LDA HIGHP+1
1209	.$fde	CMP STRBUFP+1
1210	.$fe1	BCC UPDATEHIGHP
1211	.$fe3	BEQ CHECKNEXTHP
1212	.$fe5	JMP NOHPUPDATE
1213	.$fe8	CHECKNEXTHP LDA HIGHP
1214	.$feb	CMP STRBUFP
1215	.$fee	BCC UPDATEHIGHP
1216	.$ff0	JMP NOHPUPDATE
1217	.$ff3	UPDATEHIGHP LDA STRBUFP
1218	.$ff6	STA HIGHP
1219	.$ff9	LDA STRBUFP+1
1220	.$ffc	STA HIGHP+1  
1221	.$fff	JSR REMEMBERLASTVAR
1222	.$1002	JSR STOREVARREF
1223	.$1005	NOHPUPDATE LDY #0
1224	.$1007	LDA (TMP_ZP),Y 
1225	.$1009	STA (TMP3_ZP),Y
1226	.$100b	TAY    
1227	.$100c	BEQ EXITCOPY 
1228	.$100e	LOOP  LDA (TMP_ZP),Y 
1229	.$1010	STA (TMP3_ZP),Y
1230	.$1012	DEY
1231	.$1013	BNE LOOP
1232	.$1015	EXITCOPY RTS
1237	.$1016	COPYSTRING2 LDY #0
1238	.$1018	LDA (TMP_ZP),Y
1239	.$101a	STA TMP_REG
1240	.$101c	TAX
1241	.$101d	LDA HIGHP
1242	.$1020	STA TMP3_ZP
1243	.$1022	STA (TMP2_ZP),Y
1244	.$1024	LDA HIGHP+1
1245	.$1027	STA TMP3_ZP+1
1246	.$1029	INY
1247	.$102a	STA (TMP2_ZP),Y
1248	.$102c	JSR REMEMBERLASTVAR
1251	.$102f	LDA TMP_ZP
1252	.$1031	CMP TMP3_ZP
1253	.$1033	BNE DOLOOP
1254	.$1035	LDA TMP_ZP+1
1255	.$1037	CMP TMP3_ZP+1
1256	.$1039	BEQ SKIPCP2
1257	.$103b	DOLOOP  DEY
1258	.$103c	TXA
1259	.$103d	STA (TMP3_ZP),Y
1260	.$103f	INY
1261	.$1040	ASLOOP  LDA (TMP_ZP),Y
1262	.$1042	STA (TMP3_ZP),Y
1263	.$1044	INY
1264	.$1045	DEX
1265	.$1046	BNE ASLOOP
1266	.$1048	SKIPCP2  LDA HIGHP
1267	.$104b	CLC
1268	.$104c	ADC TMP_REG
1269	.$104e	PHP
1270	.$104f	CLC
1271	.$1050	ADC #3
1272	.$1052	STA HIGHP
1273	.$1055	STA STRBUFP
1274	.$1058	BCC SKIPLOWAS1
1275	.$105a	INC HIGHP+1
1276	.$105d	SKIPLOWAS1 PLP
1277	.$105e	BCC SKIPLOWAS2
1278	.$1060	INC HIGHP+1
1279	.$1063	SKIPLOWAS2 LDA HIGHP+1
1280	.$1066	STA STRBUFP+1
1281	.$1069	JSR STOREVARREF
1282	.$106c	RTS
1286	.$106d	CHECKLASTVAR
1287	.$106d	LDA TMP2_ZP
1288	.$106f	CMP LASTVAR
1289	.$1072	BNE NOTSAMEVAR
1290	.$1074	LDA TMP2_ZP+1
1291	.$1076	CMP LASTVAR+1
1292	.$1079	BNE NOTSAMEVAR
1293	.$107b	LDA LASTVARP   
1294	.$107e	STA HIGHP
1295	.$1081	STA STRBUFP
1296	.$1084	LDA LASTVARP+1
1297	.$1087	STA HIGHP+1
1298	.$108a	STA STRBUFP+1
1299	.$108d	NOTSAMEVAR RTS
1303	.$108e	REMEMBERLASTVAR
1304	.$108e	LDA TMP2_ZP
1305	.$1090	STA LASTVAR
1306	.$1093	LDA TMP2_ZP+1
1307	.$1095	STA LASTVAR+1
1308	.$1098	LDA TMP3_ZP
1309	.$109a	STA LASTVARP
1310	.$109d	LDA TMP3_ZP+1
1311	.$109f	STA LASTVARP+1 
1312	.$10a2	RTS
1317	.$10a3	STOREVARREF
1318	.$10a3	TYA
1319	.$10a4	PHA    
1320	.$10a5	LDA TMP_ZP
1321	.$10a7	PHA
1322	.$10a8	LDA TMP_ZP+1
1323	.$10aa	PHA
1324	.$10ab	LDA HIGHP+1
1325	.$10ae	STA TMP_ZP+1
1326	.$10b0	LDA HIGHP
1327	.$10b3	SEC
1328	.$10b4	SBC #2
1329	.$10b6	STA TMP_ZP
1330	.$10b8	BCS RLVNOOV
1331	.$10ba	DEC TMP_ZP+1
1332	.$10bc	RLVNOOV  LDA TMP2_ZP
1333	.$10be	LDY #0
1334	.$10c0	STA (TMP_ZP),Y
1335	.$10c2	LDA TMP2_ZP+1
1336	.$10c4	INY
1337	.$10c5	STA (TMP_ZP),Y 
1338	.$10c7	PLA
1339	.$10c8	STA TMP_ZP+1
1340	.$10ca	PLA
1341	.$10cb	STA TMP_ZP  
1342	.$10cd	PLA
1343	.$10ce	TAY    
1344	.$10cf	RTS
1347	.$10d0	REROUTE  LDA CMD_NUM  
1348	.$10d3	BEQ REROUTECMD
1349	.$10d5	TAX
1350	.$10d6	STA CHANNEL
1351	.$10d9	JMP CHKOUT
1352	.$10dc	REROUTECMD RTS
1355	.$10dd	RESETROUTE LDA CMD_NUM  
1356	.$10e0	BEQ RESETROUTECMD
1357	.$10e2	JMP CLRCHNEW
1358	.$10e5	RESETROUTECMD
1359	.$10e5	RTS
1362	.$10e6	INTOUTBRK   JMP REALOUTBRK
1365	.$10e9	INTOUTFASTZ LDX #32    
1366	.$10eb	LDA TMP_ZP+1
1367	.$10ed	BPL INTISPOS
1368	.$10ef	CLC
1369	.$10f0	LDA TMP_ZP
1370	.$10f2	EOR #$FF
1371	.$10f4	ADC #1
1372	.$10f6	STA TMP_ZP
1373	.$10f8	LDA TMP_ZP+1
1374	.$10fa	EOR #$FF
1375	.$10fc	ADC #0
1376	.$10fe	STA TMP_ZP+1
1377	.$1100	LDX #45    
1378	.$1102	INTISPOS
1379	.$1102	TXA
1380	.$1103	JSR CHROUT
1381	.$1106	JSR CONVPOSINT
1382	.$1109	LDA NUMFLAG
1383	.$110c	BNE ALLINTOUTDONE
1384	.$110e	LDA #48
1385	.$1110	JSR CHROUT
1386	.$1113	ALLINTOUTDONE
1387	.$1113	RTS
1390	.$1114	NUMBEROUT
1391	.$1114	BEQ NUMZERO
1392	.$1116	ORA #$30
1393	.$1118	STA NUMFLAG
1394	.$111b	JMP CHROUT
1395	.$111e	NUMZERO
1396	.$111e	LDX NUMFLAG
1397	.$1121	BEQ STILLZERO
1398	.$1123	ORA #$30
1399	.$1125	JMP CHROUT
1400	.$1128	STILLZERO
1401	.$1128	RTS
1404	.$1129	CONVPOSINT
1405	.$1129	JSR INT2BCD
1406	.$112c	LDX #0
1407	.$112e	STX NUMFLAG
1408	.$1131	AND #$0F
1409	.$1133	JSR NUMBEROUT
1410	.$1136	LDA BCD+1
1411	.$1139	LSR
1412	.$113a	LSR
1413	.$113b	LSR
1414	.$113c	LSR
1415	.$113d	JSR NUMBEROUT
1416	.$1140	LDA BCD+1
1417	.$1143	AND #$0F
1418	.$1145	TAY
1419	.$1146	JSR NUMBEROUT
1420	.$1149	LDA BCD
1421	.$114c	LSR
1422	.$114d	LSR
1423	.$114e	LSR
1424	.$114f	LSR
1425	.$1150	JSR NUMBEROUT
1426	.$1153	LDA BCD
1427	.$1156	AND #$0F
1428	.$1158	JSR NUMBEROUT
1429	.$115b	RTS
1432	.$115c	INT2BCD
1433	.$115c	SED
1434	.$115d	LDA #0
1435	.$115f	STA BCD
1436	.$1162	STA BCD+1
1437	.$1165	STA BCD+2
1438	.$1168	ASL TMP_ZP
1439	.$116a	ROL TMP_ZP+1
1440	.$116c	LDA BCD
1441	.$116f	ADC BCD
1442	.$1172	STA BCD
1443	.$1175	ASL TMP_ZP
1444	.$1177	ROL TMP_ZP+1
1445	.$1179	ADC BCD
1446	.$117c	STA BCD
1447	.$117f	ASL TMP_ZP
1448	.$1181	ROL TMP_ZP+1
1449	.$1183	ADC BCD
1450	.$1186	STA BCD
1451	.$1189	ASL TMP_ZP
1452	.$118b	ROL TMP_ZP+1
1453	.$118d	ADC BCD
1454	.$1190	STA BCD
1455	.$1193	ASL TMP_ZP
1456	.$1195	ROL TMP_ZP+1
1457	.$1197	ADC BCD
1458	.$119a	STA BCD
1459	.$119d	ASL TMP_ZP
1460	.$119f	ROL TMP_ZP+1
1461	.$11a1	ADC BCD
1462	.$11a4	STA BCD
1463	.$11a7	LDX #7
1464	.$11a9	BCDBIT1
1465	.$11a9	ASL TMP_ZP
1466	.$11ab	ROL TMP_ZP+1
1467	.$11ad	LDA BCD
1468	.$11b0	ADC BCD
1469	.$11b3	STA BCD
1470	.$11b6	LDA BCD+1
1471	.$11b9	ADC BCD+1
1472	.$11bc	STA BCD+1
1473	.$11bf	DEX
1474	.$11c0	BNE BCDBIT1
1475	.$11c2	LDX #3
1476	.$11c4	BCDBIT2
1477	.$11c4	ASL TMP_ZP
1478	.$11c6	ROL TMP_ZP+1
1479	.$11c8	LDA BCD
1480	.$11cb	ADC BCD
1481	.$11ce	STA BCD
1482	.$11d1	LDA BCD+1
1483	.$11d4	ADC BCD+1
1484	.$11d7	STA BCD+1
1485	.$11da	LDA BCD+2
1486	.$11dd	ADC BCD+2
1487	.$11e0	STA BCD+2
1488	.$11e3	DEX
1489	.$11e4	BNE BCDBIT2
1490	.$11e6	CLD
1491	.$11e7	RTS
1492	.$11e8	BCD
1493	.$11e8	.WORD 0 0
1494	.$11ec	NUMFLAG
1495	.$11ec	.BYTE 0
1498	.$11ed	REALOUTFAST JSR FACINT
1499	.$11f0	STA TMP_ZP+1
1500	.$11f2	STY TMP_ZP
1501	.$11f4	JMP INTOUTFASTZ
1504	.$11f7	CHECKFORFASTOUT
1505	.$11f7	JSR REROUTE
1506	.$11fa	JSR XREGFAC
1507	.$11fd	LDA FACEXP
1508	.$11ff	CMP #$90
1509	.$1201	BCS REALOUTINT
1510	.$1203	CMP #$81
1511	.$1205	BCC REALOUTINT
1512	.$1207	MAYBEREALOUTFAST
1513	.$1207	LDA FACEXP+3
1514	.$1209	BNE REALOUTINT
1515	.$120b	LDA FACEXP+4
1516	.$120d	BNE REALOUTINT
1517	.$120f	LDA FACEXP
1518	.$1211	SEC
1519	.$1212	SBC #129
1520	.$1214	ASL
1521	.$1215	TAX
1522	.$1216	LDA FACEXP+1
1523	.$1218	AND MANTMASK,X
1524	.$121b	BNE REALOUTINT
1525	.$121d	INX
1526	.$121e	LDA FACEXP+2
1527	.$1220	AND MANTMASK,X
1528	.$1223	BNE REALOUTINT
1529	.$1225	JMP REALOUTFAST
1530	.$1228	REALOUTINT LDY #0
1531	.$122a	JSR FACSTR
1532	.$122d	LDY #0
1533	.$122f	LDA LOFBUF,Y
1534	.$1232	STRLOOPRO JSR CHROUT
1535	.$1235	INY
1536	.$1236	LDA LOFBUF,Y
1537	.$1239	BNE STRLOOPRO
1538	.$123b	RTS
1539	.$123c	MANTMASK
1540	.$123c	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
1543	.$125a	REALOUT  LDA X_REG
1544	.$125c	BNE RNOTNULL
1545	.$125e	JMP PRINTNULL
1546	.$1261	RNOTNULL JSR CHECKFORFASTOUT
1547	.$1264	JMP RESETROUTE
1550	.$1267	REALOUTBRK  LDA X_REG
1551	.$1269	BNE RNOTNULLBRK
1552	.$126b	JMP PRINTNULLBRK
1553	.$126e	RNOTNULLBRK JSR CHECKFORFASTOUT
1554	.$1271	LDA #$0D
1555	.$1273	JSR CHROUT
1556	.$1276	JMP RESETROUTE
1559	.$1279	PRINTNULL JSR REROUTE
1560	.$127c	LDA #$20
1561	.$127e	JSR CHROUT
1562	.$1281	LDA #$30
1563	.$1283	JSR CHROUT
1564	.$1286	JMP RESETROUTE
1567	.$1289	PRINTNULLBRK
1568	.$1289	JSR REROUTE
1569	.$128c	LDA #$20
1570	.$128e	JSR CHROUT
1571	.$1291	LDA #$30
1572	.$1293	JSR CHROUT
1573	.$1296	LDA #$0D
1574	.$1298	JSR CHROUT
1575	.$129b	JMP RESETROUTE
1578	.$129e	STROUTWL STA A_REG
1579	.$12a1	STY A_REG+1
1580	.$12a4	STROUT  JSR REROUTE
1581	.$12a7	LDA A_REG
1582	.$12aa	STA INDEX1
1583	.$12ac	LDA A_REG+1
1584	.$12af	STA INDEX1+1
1585	.$12b1	LDY #0
1586	.$12b3	LDA (INDEX1),Y
1587	.$12b5	TAX
1588	.$12b6	INC INDEX1
1589	.$12b8	BNE PRINTSTR
1590	.$12ba	INC INDEX1+1
1591	.$12bc	PRINTSTR JSR PRINTSTRS
1592	.$12bf	LDA HIGHP   
1593	.$12c2	STA STRBUFP
1594	.$12c5	LDA HIGHP+1
1595	.$12c8	STA STRBUFP+1
1596	.$12cb	JSR RESETROUTE
1597	.$12ce	RTS
1600	.$12cf	SINGLECHROUTBRKMAX
1601	.$12cf	JSR SINGLECHROUTBRK
1602	.$12d2	JMP COMPACTMAX
1605	.$12d5	SINGLECHROUTBRK
1606	.$12d5	STA TMP_ZP
1607	.$12d7	JSR REROUTE
1608	.$12da	LDA TMP_ZP
1609	.$12dc	JSR CHROUT
1610	.$12df	LDA #$0D
1611	.$12e1	JSR CHROUT
1612	.$12e4	JMP RESETROUTE
1615	.$12e7	SINGLECHROUTMAX
1616	.$12e7	JSR SINGLECHROUT
1617	.$12ea	JMP COMPACTMAX
1620	.$12ed	SINGLECHROUT
1621	.$12ed	STA TMP_ZP
1622	.$12ef	JSR REROUTE
1623	.$12f2	LDA TMP_ZP
1624	.$12f4	JSR CHROUT
1625	.$12f7	JMP RESETROUTE
1628	.$12fa	STROUTBRKWL STA A_REG
1629	.$12fd	STY A_REG+1
1630	.$1300	STROUTBRK JSR REROUTE
1631	.$1303	LDA A_REG
1632	.$1306	STA INDEX1
1633	.$1308	LDA A_REG+1
1634	.$130b	STA INDEX1+1
1635	.$130d	LDY #0
1636	.$130f	LDA (INDEX1),Y
1637	.$1311	TAX
1638	.$1312	INC INDEX1
1639	.$1314	BNE PRINTSTR2
1640	.$1316	INC INDEX1+1
1641	.$1318	PRINTSTR2 JSR PRINTSTRS
1642	.$131b	LDA HIGHP   
1643	.$131e	STA STRBUFP
1644	.$1321	LDA HIGHP+1
1645	.$1324	STA STRBUFP+1
1646	.$1327	LDA #$0D
1647	.$1329	JSR CHROUT
1648	.$132c	JMP RESETROUTE  
1651	.$132f	FRE
1652	.$132f	JSR GCEXE
1653	.$1332	LDA ENDSTRBUF
1654	.$1335	SEC
1655	.$1336	SBC STRBUFP
1656	.$1339	TAY
1657	.$133a	LDA ENDSTRBUF+1
1658	.$133d	SBC STRBUFP+1
1659	.$1340	JSR INTFAC
1660	.$1343	JMP FACXREG
1663	.$1346	ARRAYACCESS_STRING
1664	.$1346	JSR XREGFAC
1665	.$1349	JSR FACINT
1666	.$134c	ARRAYACCESS_STRING_INT
1667	.$134c	LDX G_REG
1668	.$134e	STX TMP_ZP
1669	.$1350	LDX G_REG+1
1670	.$1352	STX TMP_ZP+1
1671	.$1354	TAX
1672	.$1355	TYA
1673	.$1356	ASL
1674	.$1357	STA TMP2_ZP
1675	.$1359	TXA
1676	.$135a	ROL
1677	.$135b	STA TMP2_ZP+1
1678	.$135d	LDA TMP_ZP
1679	.$135f	CLC
1680	.$1360	ADC TMP2_ZP
1681	.$1362	STA TMP_ZP
1682	.$1364	LDA TMP_ZP+1
1683	.$1366	ADC TMP2_ZP+1
1684	.$1368	STA TMP_ZP+1
1685	.$136a	LDY #0
1686	.$136c	LDA (TMP_ZP),Y
1687	.$136e	STA A_REG
1688	.$1371	INY
1689	.$1372	LDA (TMP_ZP),Y
1690	.$1374	STA A_REG+1
1691	.$1377	RTS
1694	.$1378	ARRAYSTORE_STRING
1695	.$1378	JSR XREGFAC
1696	.$137b	JSR FACINT
1697	.$137e	ARRAYSTORE_STRING_INT
1698	.$137e	LDX G_REG
1699	.$1380	STX TMP_ZP
1700	.$1382	LDX G_REG+1
1701	.$1384	STX TMP_ZP+1
1702	.$1386	TAX
1703	.$1387	TYA
1704	.$1388	ASL
1705	.$1389	STA TMP2_ZP
1706	.$138b	TXA
1707	.$138c	ROL
1708	.$138d	STA TMP2_ZP+1
1709	.$138f	LDA TMP_ZP
1710	.$1391	CLC
1711	.$1392	ADC TMP2_ZP
1712	.$1394	TAX
1713	.$1395	LDA TMP_ZP+1
1714	.$1397	ADC TMP2_ZP+1
1715	.$1399	TAY
1716	.$139a	LDA A_REG
1717	.$139d	STA TMP_ZP
1718	.$139f	LDA A_REG+1
1719	.$13a2	STA TMP_ZP+1
1720	.$13a4	TXA
1721	.$13a5	JMP COPYSTRING 
1724	.$13a8	ADJUSTSTACK LDA FORSTACKP 
1725	.$13ab	STA TMP_ZP
1726	.$13ad	LDA FORSTACKP+1
1727	.$13b0	STA TMP_ZP+1
1728	.$13b2	ADSEARCHFOR LDA TMP_ZP
1729	.$13b4	CMP #<FORSTACK
1730	.$13b6	BNE ADJUST2
1731	.$13b8	LDA TMP_ZP+1
1732	.$13ba	CMP #>FORSTACK
1733	.$13bc	BNE ADJUST2
1734	.$13be	RTS    
1735	.$13bf	ADJUST2  LDA TMP_ZP
1736	.$13c1	SEC
1737	.$13c2	SBC #2
1738	.$13c4	STA TMP_ZP
1739	.$13c6	BCS ADNOPV1N1
1740	.$13c8	DEC TMP_ZP+1
1741	.$13ca	ADNOPV1N1 LDY #0
1742	.$13cc	LDA (TMP_ZP),Y
1743	.$13ce	BNE ADNOGOSUB
1744	.$13d0	RTS    
1745	.$13d1	ADNOGOSUB
1746	.$13d1	INY
1747	.$13d2	LDA TMP_ZP
1748	.$13d4	SEC
1749	.$13d5	SBC (TMP_ZP),Y
1750	.$13d7	STA TMP_ZP
1751	.$13d9	BCS ADNOPV1N2
1752	.$13db	DEC TMP_ZP+1
1753	.$13dd	ADNOPV1N2 DEY
1754	.$13de	LDA A_REG
1755	.$13e1	ADCMPFOR CMP (TMP_ZP),Y
1756	.$13e3	BNE ADSEARCHFOR
1757	.$13e5	LDA A_REG+1
1758	.$13e8	INY
1759	.$13e9	CMP (TMP_ZP),Y
1760	.$13eb	BEQ ADFOUNDFOR
1761	.$13ed	JMP ADSEARCHFOR
1762	.$13f0	ADLOW0  LDX A_REG+1
1763	.$13f3	BEQ ADFOUNDFOR
1764	.$13f5	BNE ADCMPFOR
1765	.$13f7	ADFOUNDFOR LDA TMP_ZP  
1766	.$13f9	STA FORSTACKP
1767	.$13fc	LDA TMP_ZP+1
1768	.$13fe	STA FORSTACKP+1
1769	.$1401	RTS
1772	.$1402	INITFOR  JSR ADJUSTSTACK
1773	.$1405	LDA FORSTACKP
1774	.$1408	STA TMP_ZP
1775	.$140a	LDA FORSTACKP+1
1776	.$140d	STA TMP_ZP+1
1777	.$140f	LDY #0
1778	.$1411	LDA A_REG
1779	.$1414	STA (TMP_ZP),Y
1780	.$1416	INY
1781	.$1417	LDA A_REG+1
1782	.$141a	STA (TMP_ZP),Y
1783	.$141c	INY
1784	.$141d	LDA JUMP_TARGET
1785	.$141f	STA (TMP_ZP),Y
1786	.$1421	INY
1787	.$1422	LDA JUMP_TARGET+1
1788	.$1424	STA (TMP_ZP),Y
1789	.$1426	INY
1790	.$1427	STY TMP3_ZP
1791	.$1429	JSR INCTMPZP
1792	.$142c	JSR POPREAL
1793	.$142f	LDX TMP_ZP
1794	.$1431	LDY TMP_ZP+1
1796	.$1433	JSR FACMEM
1797	.$1436	JSR SGNFAC
1798	.$1439	STA TMP_FLAG
1799	.$143c	LDY #5
1800	.$143e	STY TMP3_ZP
1801	.$1440	JSR INCTMPZP
1802	.$1443	JSR POPREAL
1803	.$1446	LDX TMP_ZP
1804	.$1448	LDY TMP_ZP+1
1806	.$144a	JSR FACMEM
1807	.$144d	LDY #5
1808	.$144f	STY TMP3_ZP
1809	.$1451	JSR INCTMPZP
1810	.$1454	LDY #0
1811	.$1456	LDA TMP_FLAG
1812	.$1459	STA (TMP_ZP),Y
1813	.$145b	INY
1814	.$145c	LDA #1
1815	.$145e	STA (TMP_ZP),Y
1816	.$1460	INY
1817	.$1461	LDA #15
1818	.$1463	STA (TMP_ZP),Y
1819	.$1465	LDY #3
1820	.$1467	STY TMP3_ZP
1821	.$1469	JSR INCTMPZP
1822	.$146c	LDA TMP_ZP
1823	.$146e	STA FORSTACKP
1824	.$1471	LDA TMP_ZP+1
1825	.$1473	STA FORSTACKP+1
1826	.$1476	RTS
1829	.$1477	NEXT  LDA FORSTACKP
1830	.$147a	STA TMP_ZP
1831	.$147c	LDA FORSTACKP+1
1832	.$147f	STA TMP_ZP+1
1833	.$1481	SEARCHFOR LDA TMP_ZP+1
1834	.$1483	STA TMP3_REG+1
1835	.$1486	LDA TMP_ZP
1836	.$1488	STA TMP3_REG
1837	.$148b	SEC
1838	.$148c	SBC #2
1839	.$148e	STA TMP_ZP
1840	.$1490	BCS NOPV1N1
1841	.$1492	DEC TMP_ZP+1
1842	.$1494	NOPV1N1  LDY #0
1843	.$1496	LDA (TMP_ZP),Y
1844	.$1498	BNE NOGOSUB
1845	.$149a	JMP NEXTWOFOR
1846	.$149d	NOGOSUB
1847	.$149d	INY
1848	.$149e	LDA TMP_ZP
1849	.$14a0	SEC
1850	.$14a1	SBC (TMP_ZP),Y
1851	.$14a3	STA TMP_ZP
1852	.$14a5	BCS NOPV1N2
1853	.$14a7	DEC TMP_ZP+1
1854	.$14a9	NOPV1N2  DEY
1855	.$14aa	LDA A_REG
1856	.$14ad	BEQ LOW0
1857	.$14af	CMPFOR  CMP (TMP_ZP),Y
1858	.$14b1	BNE SEARCHFOR
1859	.$14b3	LDA A_REG+1
1860	.$14b6	INY
1861	.$14b7	CMP (TMP_ZP),Y
1862	.$14b9	BEQ FOUNDFOR
1863	.$14bb	JMP SEARCHFOR
1864	.$14be	LOW0  LDX A_REG+1
1865	.$14c1	BEQ FOUNDFOR
1866	.$14c3	BNE CMPFOR
1867	.$14c5	FOUNDFOR LDA TMP_ZP
1868	.$14c7	STA TMP2_REG
1869	.$14ca	LDA TMP_ZP+1
1870	.$14cc	STA TMP2_REG+1
1871	.$14cf	VARREAL
1872	.$14cf	LDY #0
1873	.$14d1	STY A_REG+1 
1874	.$14d4	LDA (TMP_ZP),Y
1875	.$14d6	TAX
1876	.$14d7	INY
1877	.$14d8	LDA (TMP_ZP),Y
1878	.$14da	TAY
1879	.$14db	TXA
1880	.$14dc	JSR REALFAC
1881	.$14df	CALCNEXT LDA TMP_ZP
1882	.$14e1	CLC
1883	.$14e2	ADC #4
1884	.$14e4	STA TMP_ZP
1885	.$14e6	BCC NOPV2IN
1886	.$14e8	INC TMP_ZP+1
1887	.$14ea	NOPV2IN  STA TMP_REG
1888	.$14ec	LDY TMP_ZP+1
1889	.$14ee	STY TMP_REG+1
1890	.$14f0	JSR FASTFADDMEM
1892	.$14f3	LDA TMP2_REG
1893	.$14f6	STA TMP_ZP
1894	.$14f8	LDA TMP2_REG+1
1895	.$14fb	STA TMP_ZP+1
1896	.$14fd	STOREREAL
1897	.$14fd	LDY #0
1898	.$14ff	LDA (TMP_ZP),Y
1899	.$1501	TAX
1900	.$1502	INY
1901	.$1503	LDA (TMP_ZP),Y
1902	.$1505	TAY
1903	.$1506	JSR FACMEM 
1904	.$1509	CMPFORXX LDA #5
1905	.$150b	STA TMP3_ZP
1906	.$150d	LDA TMP_REG
1907	.$150f	CLC
1908	.$1510	ADC #5
1909	.$1512	STA TMP_REG
1910	.$1514	BCC NOPV3
1911	.$1516	INC TMP_REG+1
1912	.$1518	NOPV3  LDY TMP_REG+1
1913	.$151a	JSR CMPFAC  
1914	.$151d	BEQ LOOPING
1915	.$151f	PHA
1916	.$1520	LDY #14
1917	.$1522	LDA (TMP_ZP),Y
1918	.$1524	BEQ STEPZERO
1919	.$1526	ROL
1920	.$1527	BCC STEPPOS
1921	.$1529	STEPNEG  PLA
1922	.$152a	ROL
1923	.$152b	BCC LOOPING
1924	.$152d	BCS EXITLOOP
1925	.$152f	STEPPOS  PLA
1926	.$1530	ROL
1927	.$1531	BCC EXITLOOP
1928	.$1533	LOOPING  LDA TMP3_REG
1929	.$1536	STA FORSTACKP
1930	.$1539	LDA TMP3_REG+1
1931	.$153c	STA FORSTACKP+1
1932	.$153f	LDA TMP2_REG
1933	.$1542	CLC
1934	.$1543	ADC #2
1935	.$1545	STA TMP2_REG
1936	.$1548	BCC NOPV4IN
1937	.$154a	INC TMP2_REG+1
1938	.$154d	NOPV4IN  LDY #0
1939	.$154f	STY A_REG
1940	.$1552	STA TMP_ZP
1941	.$1554	LDA TMP2_REG+1
1942	.$1557	STA TMP_ZP+1
1943	.$1559	LDA (TMP_ZP),Y
1944	.$155b	STA JUMP_TARGET
1945	.$155d	INY
1946	.$155e	LDA (TMP_ZP),Y
1947	.$1560	STA JUMP_TARGET+1
1948	.$1562	RTS
1949	.$1563	STEPZERO PLA
1950	.$1564	JMP LOOPING
1951	.$1567	EXITLOOP LDA TMP2_REG
1952	.$156a	STA FORSTACKP
1953	.$156d	LDA TMP2_REG+1
1954	.$1570	STA FORSTACKP+1
1955	.$1573	LDA #1
1956	.$1575	STA A_REG
1957	.$1578	RTS
1960	.$1579	PUSHINT  LDX FPSTACKP
1961	.$157c	STX TMP2_ZP
1962	.$157e	LDX FPSTACKP+1
1963	.$1581	STX TMP2_ZP+1
1964	.$1583	LDA TMP_ZP
1965	.$1585	LDY #0
1966	.$1587	STA (TMP2_ZP),Y
1967	.$1589	LDA TMP_ZP+1
1968	.$158b	INY
1969	.$158c	STA (TMP2_ZP),Y
1970	.$158e	LDA TMP2_ZP
1971	.$1590	CLC
1972	.$1591	ADC #2
1973	.$1593	STA FPSTACKP
1974	.$1596	LDA TMP2_ZP+1
1975	.$1598	ADC #0
1976	.$159a	STA FPSTACKP+1
1977	.$159d	RTS
1980	.$159e	POPINT2B LDA FPSTACKP
1981	.$15a1	SEC
1982	.$15a2	SBC #2
1983	.$15a4	STA FPSTACKP
1984	.$15a7	LDA FPSTACKP+1
1985	.$15aa	SBC #0
1986	.$15ac	STA FPSTACKP+1
1987	.$15af	LDX FPSTACKP
1988	.$15b2	STX TMP2_ZP
1989	.$15b4	LDX FPSTACKP+1
1990	.$15b7	STX TMP2_ZP+1
1991	.$15b9	LDY #0
1992	.$15bb	LDA (TMP2_ZP),Y
1993	.$15bd	STA B_REG
1994	.$15c0	INY
1995	.$15c1	LDA (TMP2_ZP),Y
1996	.$15c3	STA B_REG+1
1997	.$15c6	RTS
2000	.$15c7	REALFACPUSH STA TMP_ZP
2001	.$15c9	STY TMP_ZP+1
2002	.$15cb	LDX FPSTACKP
2003	.$15ce	LDY FPSTACKP+1
2004	.$15d1	STX TMP2_ZP
2005	.$15d3	STY TMP2_ZP+1
2006	.$15d5	LDY #0
2007	.$15d7	LDA (TMP_ZP),Y
2008	.$15d9	STA (TMP2_ZP),Y
2009	.$15db	INY
2010	.$15dc	LDA (TMP_ZP),Y
2011	.$15de	STA (TMP2_ZP),Y
2012	.$15e0	INY
2013	.$15e1	LDA (TMP_ZP),Y
2014	.$15e3	STA (TMP2_ZP),Y
2015	.$15e5	INY
2016	.$15e6	LDA (TMP_ZP),Y
2017	.$15e8	STA (TMP2_ZP),Y
2018	.$15ea	INY
2019	.$15eb	LDA (TMP_ZP),Y
2020	.$15ed	STA (TMP2_ZP),Y
2021	.$15ef	TXA    
2022	.$15f0	CLC
2023	.$15f1	ADC #5
2024	.$15f3	STA FPSTACKP
2025	.$15f6	BCC NOPVRFPXX
2026	.$15f8	INC FPSTACKP+1
2027	.$15fb	NOPVRFPXX RTS
2030	.$15fc	POPREAL  LDA FPSTACKP
2031	.$15ff	SEC
2032	.$1600	SBC #5
2033	.$1602	STA FPSTACKP
2034	.$1605	BCS NOPVPR
2035	.$1607	DEC FPSTACKP+1
2036	.$160a	NOPVPR  LDA FPSTACKP
2037	.$160d	LDY FPSTACKP+1
2038	.$1610	JMP REALFAC
2041	.$1613	POPREALXREG LDA FPSTACKP
2042	.$1616	SEC
2043	.$1617	SBC #5
2044	.$1619	STA FPSTACKP
2045	.$161c	BCS NOPVPRXR
2046	.$161e	DEC FPSTACKP+1
2047	.$1621	NOPVPRXR LDA FPSTACKP
2048	.$1624	LDY FPSTACKP+1
2049	.$1627	STA TMP_ZP
2050	.$1629	STY TMP_ZP+1
2051	.$162b	LDY #$4
2052	.$162d	LDA (TMP_ZP),Y
2053	.$162f	STA X_REG+4
2054	.$1631	STA FACLO
2055	.$1633	DEY
2056	.$1634	LDA (TMP_ZP),Y
2057	.$1636	STA X_REG+3
2058	.$1638	STA FACMO
2059	.$163a	DEY
2060	.$163b	LDA (TMP_ZP),Y
2061	.$163d	STA X_REG+2
2062	.$163f	STA FACMOH
2063	.$1641	DEY
2064	.$1642	LDA (TMP_ZP),Y
2065	.$1644	STA X_REG+1
2066	.$1646	STA FACSGN
2067	.$1648	ORA #$80
2068	.$164a	STA FACHO
2069	.$164c	DEY
2070	.$164d	LDA (TMP_ZP),Y
2071	.$164f	STA X_REG
2072	.$1651	STA FACEXP
2073	.$1653	STY FACOV
2074	.$1655	RTS
2077	.$1656	SHL   LDA FACEXP
2078	.$1658	BEQ SHLOK
2079	.$165a	CLC
2080	.$165b	ADC A_REG
2081	.$165e	BCC SHLOK
2082	.$1660	LDA #0
2083	.$1662	STA FACSGN
2084	.$1664	STA FACLO
2085	.$1666	STA FACMO
2086	.$1668	STA FACMOH
2087	.$166a	STA FACHO
2088	.$166c	LDA #$FF
2089	.$166e	SHLOK  STA FACEXP
2090	.$1670	RTS
2093	.$1671	INCTMPZP LDA TMP_ZP
2094	.$1673	CLC
2095	.$1674	ADC TMP3_ZP
2096	.$1676	STA TMP_ZP
2097	.$1678	BCC NOPV2
2098	.$167a	INC TMP_ZP+1
2099	.$167c	NOPV2  RTS
2102	.$167d	COPY2_XYA_XREG
2103	.$167d	STA TMP3_ZP
2104	.$167f	STY TMP3_ZP+1
2105	.$1681	COPY2_XY_XREG
2106	.$1681	LDX #<X_REG  
2107	.$1683	LDY #0
2108	.$1685	LDA (TMP3_ZP),Y
2109	.$1687	STA X_REG
2110	.$1689	INY
2111	.$168a	LDA (TMP3_ZP),Y
2112	.$168c	STA X_REG+1
2113	.$168e	INY
2114	.$168f	LDA (TMP3_ZP),Y
2115	.$1691	STA X_REG+2
2116	.$1693	INY
2117	.$1694	LDA (TMP3_ZP),Y
2118	.$1696	STA X_REG+3
2119	.$1698	INY
2120	.$1699	LDA (TMP3_ZP),Y
2121	.$169b	STA X_REG+4
2122	.$169d	RTS
2125	.$169e	COPY2_XYA_YREG
2126	.$169e	STA TMP3_ZP
2127	.$16a0	STY TMP3_ZP+1
2128	.$16a2	COPY2_XY_YREG
2129	.$16a2	LDX #<Y_REG  
2130	.$16a4	LDY #0
2131	.$16a6	LDA (TMP3_ZP),Y
2132	.$16a8	STA Y_REG
2133	.$16ab	INY
2134	.$16ac	LDA (TMP3_ZP),Y
2135	.$16ae	STA Y_REG+1
2136	.$16b1	INY
2137	.$16b2	LDA (TMP3_ZP),Y
2138	.$16b4	STA Y_REG+2
2139	.$16b7	INY
2140	.$16b8	LDA (TMP3_ZP),Y
2141	.$16ba	STA Y_REG+3
2142	.$16bd	INY
2143	.$16be	LDA (TMP3_ZP),Y
2144	.$16c0	STA Y_REG+4
2145	.$16c3	RTS
2148	.$16c4	COPY_XREG2YREG
2149	.$16c4	LDA X_REG
2150	.$16c6	STA Y_REG
2151	.$16c9	LDA X_REG+1
2152	.$16cb	STA Y_REG+1
2153	.$16ce	LDA X_REG+2
2154	.$16d0	STA Y_REG+2
2155	.$16d3	LDA X_REG+3
2156	.$16d5	STA Y_REG+3
2157	.$16d8	LDA X_REG+4
2158	.$16da	STA Y_REG+4
2159	.$16dd	RTS
2163	.$16de	FACWORD
2164	.$16de	LDA FACEXP   
2165	.$16e0	BNE DOFACWORD
2166	.$16e2	STA FACSGN   
2167	.$16e4	DOFACWORD:
2168	.$16e4	JMP XFACWORD
2172	.$16e7	CLRCHNEW
2173	.$16e7	LDA CHLOCKFLAG
2174	.$16ea	BNE SKIPCLRCH
2175	.$16ec	JMP CLRCH
2176	.$16ef	SKIPCLRCH
2177	.$16ef	RTS
2180	.$16f0	NEXTWOFOR
2184	.$16f0	LDX #$0A
2185	.$16f2	JMP ERRALL
2188	.$16f5	OUTOFMEMORY
2192	.$16f5	LDX #$10
2193	.$16f7	JMP ERRALL
2196	.$16fa	STRINGTOOLONG
2200	.$16fa	LDX #$17
2201	.$16fc	JMP ERRALL
2204	.$16ff	ILLEGALQUANTITY
2208	.$16ff	JMP ERRIQ
2211	.$1702	FACXREG  LDA FACLO
2212	.$1704	STA X_REG+4
2213	.$1706	LDA FACMO
2214	.$1708	STA X_REG+3
2215	.$170a	LDA FACMOH
2216	.$170c	STA X_REG+2
2217	.$170e	LDA FACSGN
2218	.$1710	ORA #$7F
2219	.$1712	AND FACHO
2220	.$1714	STA X_REG+1
2221	.$1716	LDA FACEXP
2222	.$1718	STA X_REG
2223	.$171a	LDA #0   
2224	.$171c	STA FACOV
2225	.$171e	RTS
2228	.$171f	XREGFAC  LDA X_REG+4
2229	.$1721	STA FACLO
2230	.$1723	LDA X_REG+3
2231	.$1725	STA FACMO
2232	.$1727	LDA X_REG+2
2233	.$1729	STA FACMOH
2234	.$172b	LDA X_REG+1
2235	.$172d	STA FACSGN
2236	.$172f	ORA #$80
2237	.$1731	STA FACHO
2238	.$1733	LDA X_REG
2239	.$1735	STA FACEXP
2240	.$1737	LDA #0
2241	.$1739	STA FACOV
2242	.$173b	RTS
2245	.$173c	YREGFAC  LDA Y_REG+4
2246	.$173f	STA FACLO
2247	.$1741	LDA Y_REG+3
2248	.$1744	STA FACMO
2249	.$1746	LDA Y_REG+2
2250	.$1749	STA FACMOH
2251	.$174b	LDA Y_REG+1
2252	.$174e	STA FACSGN
2253	.$1750	ORA #$80
2254	.$1752	STA FACHO
2255	.$1754	LDA Y_REG
2256	.$1757	STA FACEXP
2257	.$1759	LDA #0
2258	.$175b	STA FACOV
2259	.$175d	RTS
2373	.$175e	FASTFADDMEM
2374	.$175e	JSR MEMARG
2375	.$1761	FASTFADDARG
2376	.$1761	BNE FADDRET2     
2377	.$1763	JMP ARGFAC
2378	.$1766	FADDRET2 LDA ARGEXP
2379	.$1768	BNE FADDRET1     
2380	.$176a	RTS
2381	.$176b	FADDRET1 SEC
2382	.$176c	SBC FACEXP
2383	.$176e	BEQ FFADD_EXPEQ     
2384	.$1770	BCC FFADD_SHFARG1   
2388	.$1772	LDY ARGEXP
2389	.$1774	STY FACEXP
2390	.$1776	LDY ARGSGN
2391	.$1778	STY FACSGN
2392	.$177a	LDX #0
2393	.$177c	STX OLDOV        
2394	.$177e	LDX #FAC         
2396	.$1780	SEC
2397	.$1781	SBC #$08
2398	.$1783	BMI FFADD_SHFFAC2
2400	.$1785	FFADD_SHFFAC1
2401	.$1785	LDY FACLO        
2402	.$1787	STY FACOV
2403	.$1789	LDY FACMO        
2404	.$178b	STY FACMO+1
2405	.$178d	LDY FACMOH       
2406	.$178f	STY FACMOH+1
2407	.$1791	LDY FACHO        
2408	.$1793	STY FACHO+1
2409	.$1795	LDY #0
2410	.$1797	STY FACHO        
2411	.$1799	SBC #$08         
2412	.$179b	BPL FFADD_SHFFAC1   
2413	.$179d	FFADD_SHFFAC2
2414	.$179d	ADC #$08         
2415	.$179f	BEQ FFADD_SHFFAC4   
2416	.$17a1	TAY
2417	.$17a2	LDA FACOV
2418	.$17a4	FFADD_SHFFAC3
2419	.$17a4	LSR FACHO        
2420	.$17a6	ROR FACMOH       
2421	.$17a8	ROR FACMO        
2422	.$17aa	ROR FACLO        
2423	.$17ac	ROR              
2424	.$17ad	DEY
2425	.$17ae	BNE FFADD_SHFFAC3
2426	.$17b0	JMP FFADD_MANADD2   
2427	.$17b3	FFADD_SHFFAC4
2428	.$17b3	LDA FACOV        
2429	.$17b5	JMP FFADD_MANADD2
2430	.$17b8	FFADD_EXPEQ
2431	.$17b8	LDX FACOV
2432	.$17ba	STX OLDOV
2435	.$17bc	JMP FFADD_MANADD1
2436	.$17bf	FFADD_SHFARG2
2437	.$17bf	LDA FACOV        
2438	.$17c1	JMP FFADD_MANADD1
2439	.$17c4	FFADD_SHFARG1
2440	.$17c4	LDX FACOV
2441	.$17c6	STX OLDOV        
2442	.$17c8	LDX #$00         
2445	.$17ca	ADC #$08
2446	.$17cc	BPL FFADD_SHFARG6   
2447	.$17ce	FFADD_SHFARG3
2448	.$17ce	LDX ARGLO        
2449	.$17d0	LDY ARGMO        
2450	.$17d2	STY ARGMO+1
2451	.$17d4	LDY ARGMOH       
2452	.$17d6	STY ARGMOH+1
2453	.$17d8	LDY ARGHO        
2454	.$17da	STY ARGHO+1
2455	.$17dc	LDY #0
2456	.$17de	STY ARGHO        
2457	.$17e0	FFADD_SHFARG4
2458	.$17e0	ADC #$08
2459	.$17e2	BMI FFADD_SHFARG3
2460	.$17e4	BEQ FFADD_SHFARG3
2461	.$17e6	FFADD_SHFARG6
2462	.$17e6	SBC #$08
2463	.$17e8	BEQ FFADD_SHFARG2   
2464	.$17ea	TAY
2465	.$17eb	TXA              
2466	.$17ec	FFADD_SHFARG5
2467	.$17ec	LSR ARGHO
2468	.$17ee	ROR ARGMOH
2469	.$17f0	ROR ARGMO
2470	.$17f2	ROR ARGLO
2471	.$17f4	ROR           
2472	.$17f5	INY
2473	.$17f6	BNE FFADD_SHFARG5
2474	.$17f8	FFADD_MANADD1
2475	.$17f8	LDX #ARGEXP      
2476	.$17fa	FFADD_MANADD2
2477	.$17fa	BIT ARISGN
2478	.$17fc	BMI FFADD_MANSUB1   
2479	.$17fe	CLC
2480	.$17ff	ADC OLDOV
2481	.$1801	STA FACOV
2482	.$1803	LDA FACLO
2483	.$1805	ADC ARGLO
2484	.$1807	STA FACLO
2485	.$1809	LDA FACMO
2486	.$180b	ADC ARGMO
2487	.$180d	STA FACMO
2488	.$180f	LDA FACMOH
2489	.$1811	ADC ARGMOH
2490	.$1813	STA FACMOH
2491	.$1815	LDA FACHO
2492	.$1817	ADC ARGHO
2493	.$1819	STA FACHO
2494	.$181b	BCC FFADD_RNDRTS
2495	.$181d	INC FACEXP
2496	.$181f	BEQ FFADD_OVERR
2498	.$1821	ROR FACHO
2499	.$1823	ROR FACMOH
2500	.$1825	ROR FACMO
2501	.$1827	ROR FACLO
2502	.$1829	ROR FACOV
2503	.$182b	FFADD_RNDRTS
2504	.$182b	RTS
2505	.$182c	FFADD_OVERR
2506	.$182c	JMP ILLEGALQUANTITY
2507	.$182f	FFADD_MANSUB1
2508	.$182f	LDY #FACEXP
2509	.$1831	CPX #ARGEXP
2510	.$1833	BEQ FFADD_MANSUB2
2511	.$1835	LDY #ARGEXP
2512	.$1837	FFADD_MANSUB2
2513	.$1837	SEC              
2514	.$1838	EOR #$FF
2515	.$183a	ADC OLDOV
2516	.$183c	STA FACOV
2517	.$183e	LDA 4,Y
2518	.$1841	SBC 4,X
2519	.$1843	STA FACLO
2520	.$1845	LDA 3,Y
2521	.$1848	SBC 3,X
2522	.$184a	STA FACMO
2523	.$184c	LDA 2,Y
2524	.$184f	SBC 2,X
2525	.$1851	STA FACMOH
2526	.$1853	LDA 1,Y
2527	.$1856	SBC 1,X
2528	.$1858	STA FACHO
2529	.$185a	BCS FCNORMAL
2530	.$185c	LDA FACSGN
2531	.$185e	EOR #$FF
2532	.$1860	STA FACSGN
2533	.$1862	LDA FACHO
2534	.$1864	EOR #$FF
2535	.$1866	STA FACHO
2536	.$1868	LDA FACMOH
2537	.$186a	EOR #$FF
2538	.$186c	STA FACMOH
2539	.$186e	LDA FACMO
2540	.$1870	EOR #$FF
2541	.$1872	STA FACMO
2542	.$1874	LDA FACLO
2543	.$1876	EOR #$FF
2544	.$1878	STA FACLO
2545	.$187a	LDA FACOV
2546	.$187c	EOR #$FF
2547	.$187e	CLC
2548	.$187f	ADC #1
2549	.$1881	STA FACOV
2550	.$1883	BNE FCNORMAL
2551	.$1885	INC FACLO
2552	.$1887	BNE FCNORMAL
2553	.$1889	INC FACMO
2554	.$188b	BNE FCNORMAL
2555	.$188d	INC FACMOH
2556	.$188f	BNE FCNORMAL
2557	.$1891	INC FACHO
2558	.$1893	FCNORMAL   BIT FACHO
2559	.$1895	BMI FFADD_RET       
2560	.$1897	LDA #0           
2561	.$1899	CLC
2562	.$189a	FFADD_NORM3
2563	.$189a	LDX FACHO
2564	.$189c	BNE FFADD_NORM1
2565	.$189e	LDX FACHO+1
2566	.$18a0	STX FACHO
2567	.$18a2	LDX FACMOH+1
2568	.$18a4	STX FACMOH
2569	.$18a6	LDX FACMO+1
2570	.$18a8	STX FACMO
2571	.$18aa	LDX FACOV
2572	.$18ac	STX FACLO
2573	.$18ae	LDX #0
2574	.$18b0	STX FACOV
2575	.$18b2	ADC #$08
2576	.$18b4	CMP #$20
2577	.$18b6	BNE FFADD_NORM3
2578	.$18b8	JMP FFADD_ZEROFAC
2579	.$18bb	FFADD_NORM2
2580	.$18bb	CLC
2581	.$18bc	ADC #1
2582	.$18be	ASL FACOV
2583	.$18c0	ROL FACLO
2584	.$18c2	ROL FACMO
2585	.$18c4	ROL FACMOH
2586	.$18c6	ROL FACHO
2587	.$18c8	FFADD_NORM1
2588	.$18c8	BPL FFADD_NORM2     
2589	.$18ca	SEC
2590	.$18cb	SBC FACEXP
2591	.$18cd	BCS FFADD_ZEROFAC
2592	.$18cf	EOR #$FF
2593	.$18d1	CLC
2594	.$18d2	ADC #1
2595	.$18d4	STA FACEXP
2596	.$18d6	FFADD_RET   RTS
2597	.$18d7	FFADD_ZEROFAC
2598	.$18d7	LDX #0
2599	.$18d9	STX FACEXP
2600	.$18db	STX FACSGN
2601	.$18dd	RTS
2604	.$18de	INITVARS
2605	.$18de	JSR INITSTRVARS
2606	.$18e1	LDA #0
2607	.$18e3	LDY #4
2608	.$18e5	REALINITLOOP0:
2609	.$18e5	STA VAR_X,Y
2610	.$18e8	STA VAR_I,Y
2611	.$18eb	STA VAR_TI,Y
2612	.$18ee	DEY
2613	.$18ef	BMI REALLOOPEXIT0
2614	.$18f1	JMP REALINITLOOP0
2615	.$18f4	REALLOOPEXIT0:
2616	.$18f4	RTS
2620	.$18f5	CONSTANTS
2622	.$18f5	CONST_0 .BYTE 8
2623	.$18f6	.STRG "initial:"
2626	.$18fe	CONST_1R .REAL 0.0
2629	.$1903	CONST_2R .REAL 1000.0
2632	.$1908	CONST_3R .REAL 1.0
2634	.$190d	CONST_4 .BYTE 6
2635	.$190e	.STRG "000000"
2638	.$1914	CONST_5R .REAL 50.0
2643	.$1919	CONST_7 .BYTE 14
2644	.$191a	.STRG "12345678901234"
2646	.$1928	CONST_8 .BYTE 3
2647	.$1929	.STRG "uuu"
2649	.$192c	CONST_9 .BYTE 4
2650	.$192d	.STRG "kkkk"
2652	.$1931	CONST_10 .BYTE 2
2653	.$1932	.STRG "e:"
2655	.$1934	CONST_11 .BYTE 2
2656	.$1935	.STRG "u:"
2658	.$1937	CONST_12 .BYTE 2
2659	.$1938	.STRG "z:"
2661	.$193a	CONST_13 .BYTE 2
2662	.$193b	.STRG "f:"
2671	.$193d	DATAS
2672	.$193d	.BYTE $FF
2674	.$193e	CONSTANTS_END
2677	.$193e	VARIABLES
2679	.$193e	VAR_X .REAL 0.0
2681	.$1943	VAR_I .REAL 0.0
2683	.$1948	VAR_TI .REAL 0.0
2684	.$194d	STRINGVARS_START
2686	.$194d	VAR_TI$ .WORD EMPTYSTR
2688	.$194f	VAR_A$ .WORD EMPTYSTR
2690	.$1951	VAR_B$ .WORD EMPTYSTR
2692	.$1953	VAR_E$ .WORD EMPTYSTR
2693	.$1955	STRINGVARS_END
2694	.$1955	STRINGARRAYS_START
2696	.$1955	.BYTE 2
2697	.$1956	.WORD 102
2698	.$1958	VAR_Z$[]
2699	.$1958	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
2700	.$196c	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
2701	.$1980	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
2702	.$1994	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
2703	.$19a8	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
2704	.$19bc	.WORD EMPTYSTR
2706	.$19be	.BYTE 2
2707	.$19bf	.WORD 102
2708	.$19c1	VAR_U$[]
2709	.$19c1	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
2710	.$19d5	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
2711	.$19e9	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
2712	.$19fd	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
2713	.$1a11	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
2714	.$1a25	.WORD EMPTYSTR
2715	.$1a27	STRINGARRAYS_END
2716	.$1a27	VARIABLES_END
2718	.$1a27	Y_REG .REAL 0.0
2719	.$1a2c	C_REG .REAL 0.0
2720	.$1a31	D_REG .REAL 0.0
2721	.$1a36	E_REG .REAL 0.0
2722	.$1a3b	F_REG .REAL 0.0
2723	.$1a40	A_REG .WORD 0
2724	.$1a42	B_REG .WORD 0
2725	.$1a44	CMD_NUM .BYTE 0
2726	.$1a45	CHANNEL .BYTE 0
2727	.$1a46	SP_SAVE .BYTE 0
2728	.$1a47	TMP2_REG .WORD 0
2729	.$1a49	TMP3_REG .WORD 0
2730	.$1a4b	TMP4_REG .WORD 0
2731	.$1a4d	AS_TMP .WORD 0
2732	.$1a4f	BPOINTER_TMP .WORD 0
2733	.$1a51	BASICTEXTP .BYTE 0
2734	.$1a52	STORE1 .WORD 0
2735	.$1a54	STORE2 .WORD 0
2736	.$1a56	STORE3 .WORD 0
2737	.$1a58	STORE4 .WORD 0
2738	.$1a5a	GCSTART .WORD 0
2739	.$1a5c	GCLEN .WORD 0
2740	.$1a5e	GCWORK .WORD 0
2741	.$1a60	INPUTLENGTH .BYTE 0
2742	.$1a61	TMP_FREG .REAL 0
2743	.$1a66	TMP2_FREG .REAL 0
2744	.$1a6b	TMP_FLAG .BYTE 0
2745	.$1a6c	INT_FLAG .BYTE 0
2746	.$1a6d	REAL_CONST_ONE .REAL 1.0
2747	.$1a72	REAL_CONST_ZERO .REAL 0.0
2748	.$1a77	REAL_CONST_MINUS_ONE .REAL -1.0
2749	.$1a7c	CHLOCKFLAG .BYTE 0
2750	.$1a7d	EMPTYSTR .BYTE 0
2751	.$1a7e	FPSTACKP .WORD FPSTACK
2752	.$1a80	FORSTACKP .WORD FORSTACK
2753	.$1a82	DATASP .WORD DATAS
2754	.$1a84	LASTVAR .WORD 0
2755	.$1a86	LASTVARP .WORD 0
2756	.$1a88	HIGHP .WORD STRBUF
2757	.$1a8a	STRBUFP .WORD STRBUF
2758	.$1a8c	ENDSTRBUF .WORD 0
2759	.$1a8e	INPUTQUEUEP .BYTE 0
2760	.$1a8f	PROGRAMEND
2761	.$1a8f	INPUTQUEUE .ARRAY $0F
2762	.$1a9e	FPSTACK .ARRAY 100
2763	.$1b02	FORSTACK .ARRAY 340
2764	.$1c56	STRBUF .BYTE 0
