117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
128	.$81f	LDX #4
129	.$821	dcloop235_1:
130	.$821	LDA CONST_0R,X
131	.$824	STA VAR_I,X
132	.$827	DEX
133	.$828	BPL dcloop235_1
135	.$82a	LDA #<CONST_1R
136	.$82c	LDY #>CONST_1R
137	.$82e	JSR REALFACPUSH
139	.$831	LDA #<CONST_2R
140	.$833	LDY #>CONST_2R
141	.$835	JSR REALFACPUSH
143	.$838	LDA #<VAR_I
144	.$83a	LDY #>VAR_I
145	.$83c	STA A_REG
146	.$83f	STY A_REG+1
147	.$842	LDA #<CONST_3R
148	.$844	LDY #>CONST_3R
149	.$846	JSR COPY2_XYA_XREG
153	.$849	JSR FASTFOR
154	.$84c	LDY #0
155	.$84e	TYA
156	.$84f	CPY A_REG
157	.$852	BNE COMP_SKP0
158	.$854	CMP A_REG+1
159	.$857	BNE COMP_SKP0
160	.$859	COMP_SKP0:
161	.$859	BNE RBEQ_0
162	.$85b	JMP (JUMP_TARGET)
163	.$85e	RBEQ_0:
164	.$85e	LDA #<VAR_I
165	.$860	LDY #>VAR_I
166	.$862	JSR COPY2_XYA_XREG
170	.$865	JSR REALOUTBRK
173	.$868	LINE_20:
175	.$868	LDX #4
176	.$86a	dcloop401_1:
177	.$86a	LDA CONST_0R,X
178	.$86d	STA VAR_I,X
179	.$870	DEX
180	.$871	BPL dcloop401_1
182	.$873	LDA #<CONST_1R
183	.$875	LDY #>CONST_1R
184	.$877	JSR REALFACPUSH
186	.$87a	LDA #<CONST_2R
187	.$87c	LDY #>CONST_2R
188	.$87e	JSR REALFACPUSH
190	.$881	LDA #<VAR_I
191	.$883	LDY #>VAR_I
192	.$885	STA A_REG
193	.$888	STY A_REG+1
194	.$88b	LDA #<CONST_4R
195	.$88d	LDY #>CONST_4R
196	.$88f	JSR COPY2_XYA_XREG
200	.$892	JSR FASTFOR
201	.$895	LDY #0
202	.$897	TYA
203	.$898	CPY A_REG
204	.$89b	BNE COMP_SKP1
205	.$89d	CMP A_REG+1
206	.$8a0	BNE COMP_SKP1
207	.$8a2	COMP_SKP1:
208	.$8a2	BNE RBEQ_1
209	.$8a4	JMP (JUMP_TARGET)
210	.$8a7	RBEQ_1:
211	.$8a7	LDA #<VAR_I
212	.$8a9	LDY #>VAR_I
213	.$8ab	JSR COPY2_XYA_XREG
217	.$8ae	JSR REALOUTBRK
220	.$8b1	LINE_30:
222	.$8b1	LDX #4
223	.$8b3	dcloop567_1:
224	.$8b3	LDA CONST_0R,X
225	.$8b6	STA VAR_I,X
226	.$8b9	DEX
227	.$8ba	BPL dcloop567_1
229	.$8bc	LDA #<CONST_1R
230	.$8be	LDY #>CONST_1R
231	.$8c0	JSR REALFACPUSH
233	.$8c3	LDA #<CONST_5R
234	.$8c5	LDY #>CONST_5R
235	.$8c7	JSR REALFACPUSH
237	.$8ca	LDA #<VAR_I
238	.$8cc	LDY #>VAR_I
239	.$8ce	STA A_REG
240	.$8d1	STY A_REG+1
241	.$8d4	LDA #<CONST_4R
242	.$8d6	LDY #>CONST_4R
243	.$8d8	JSR COPY2_XYA_XREG
247	.$8db	JSR FASTFOR
248	.$8de	LDY #0
249	.$8e0	TYA
250	.$8e1	CPY A_REG
251	.$8e4	BNE COMP_SKP2
252	.$8e6	CMP A_REG+1
253	.$8e9	BNE COMP_SKP2
254	.$8eb	COMP_SKP2:
255	.$8eb	BNE RBEQ_2
256	.$8ed	JMP (JUMP_TARGET)
257	.$8f0	RBEQ_2:
258	.$8f0	LDA #<VAR_I
259	.$8f2	LDY #>VAR_I
260	.$8f4	JSR COPY2_XYA_XREG
264	.$8f7	JSR REALOUTBRK
267	.$8fa	LINE_40:
269	.$8fa	LDX #4
270	.$8fc	dcloop733_1:
271	.$8fc	LDA CONST_6R,X
272	.$8ff	STA VAR_I,X
273	.$902	DEX
274	.$903	BPL dcloop733_1
276	.$905	LDA #<CONST_7R
277	.$907	LDY #>CONST_7R
278	.$909	JSR REALFACPUSH
280	.$90c	LDA #<CONST_8
281	.$90e	LDY #>CONST_8
282	.$910	JSR REALFACPUSH
284	.$913	LDA #<VAR_I
285	.$915	LDY #>VAR_I
286	.$917	STA A_REG
287	.$91a	STY A_REG+1
288	.$91d	LDA #<CONST_4R
289	.$91f	LDY #>CONST_4R
290	.$921	JSR COPY2_XYA_XREG
294	.$924	JSR FASTFOR
295	.$927	LDY #0
296	.$929	TYA
297	.$92a	CPY A_REG
298	.$92d	BNE COMP_SKP3
299	.$92f	CMP A_REG+1
300	.$932	BNE COMP_SKP3
301	.$934	COMP_SKP3:
302	.$934	BNE RBEQ_3
303	.$936	JMP (JUMP_TARGET)
304	.$939	RBEQ_3:
305	.$939	LDA #<VAR_I
306	.$93b	LDY #>VAR_I
307	.$93d	JSR COPY2_XYA_XREG
311	.$940	JSR REALOUTBRK
314	.$943	LINE_45:
316	.$943	LDX #4
317	.$945	dcloop899_1:
318	.$945	LDA CONST_6R,X
319	.$948	STA VAR_I,X
320	.$94b	DEX
321	.$94c	BPL dcloop899_1
323	.$94e	LDA #<CONST_7R
324	.$950	LDY #>CONST_7R
325	.$952	JSR REALFACPUSH
327	.$955	LDA #<CONST_9
328	.$957	LDY #>CONST_9
329	.$959	JSR REALFACPUSH
331	.$95c	LDA #<VAR_I
332	.$95e	LDY #>VAR_I
333	.$960	STA A_REG
334	.$963	STY A_REG+1
335	.$966	LDA #<CONST_4R
336	.$968	LDY #>CONST_4R
337	.$96a	JSR COPY2_XYA_XREG
341	.$96d	JSR FASTFOR
342	.$970	LDY #0
343	.$972	TYA
344	.$973	CPY A_REG
345	.$976	BNE COMP_SKP4
346	.$978	CMP A_REG+1
347	.$97b	BNE COMP_SKP4
348	.$97d	COMP_SKP4:
349	.$97d	BNE RBEQ_4
350	.$97f	JMP (JUMP_TARGET)
351	.$982	RBEQ_4:
352	.$982	LDA #<VAR_I
353	.$984	LDY #>VAR_I
354	.$986	JSR COPY2_XYA_XREG
358	.$989	JSR REALOUTBRK
361	.$98c	LINE_50:
363	.$98c	LDX #4
364	.$98e	dcloop1065_1:
365	.$98e	LDA CONST_10R,X
366	.$991	STA VAR_I,X
367	.$994	DEX
368	.$995	BPL dcloop1065_1
370	.$997	LDA #<CONST_11R
371	.$999	LDY #>CONST_11R
372	.$99b	JSR REALFACPUSH
374	.$99e	LDA #<CONST_8
375	.$9a0	LDY #>CONST_8
376	.$9a2	JSR REALFACPUSH
378	.$9a5	LDA #<VAR_I
379	.$9a7	LDY #>VAR_I
380	.$9a9	STA A_REG
381	.$9ac	STY A_REG+1
382	.$9af	LDA #<CONST_4R
383	.$9b1	LDY #>CONST_4R
384	.$9b3	JSR COPY2_XYA_XREG
388	.$9b6	JSR FASTFOR
389	.$9b9	LDY #0
390	.$9bb	TYA
391	.$9bc	CPY A_REG
392	.$9bf	BNE COMP_SKP5
393	.$9c1	CMP A_REG+1
394	.$9c4	BNE COMP_SKP5
395	.$9c6	COMP_SKP5:
396	.$9c6	BNE RBEQ_5
397	.$9c8	JMP (JUMP_TARGET)
398	.$9cb	RBEQ_5:
399	.$9cb	LDA #<VAR_I
400	.$9cd	LDY #>VAR_I
401	.$9cf	JSR COPY2_XYA_XREG
405	.$9d2	JSR REALOUTBRK
407	.$9d5	JSR END
408	.$9d8	RTS
411	.$9d9	END   LDX SP_SAVE
412	.$9dc	TXS
419	.$9dd	RTS
422	.$9de	START  LDA ENDSTRBUF+1
423	.$9e1	BNE ENDGIVEN
424	.$9e3	LDA BASICEND
425	.$9e5	STA ENDSTRBUF
426	.$9e8	LDA BASICEND+1
427	.$9ea	STA ENDSTRBUF+1
428	.$9ed	ENDGIVEN LDA #<FPSTACK
429	.$9ef	LDY #>FPSTACK
430	.$9f1	STA FPSTACKP
431	.$9f4	STY FPSTACKP+1
432	.$9f7	LDA #<FORSTACK
433	.$9f9	LDY #>FORSTACK
434	.$9fb	STA FORSTACKP
435	.$9fe	STY FORSTACKP+1
436	.$a01	LDA #<STRBUF
437	.$a03	LDY #>STRBUF
438	.$a05	STA STRBUFP
439	.$a08	STY STRBUFP+1
440	.$a0b	STA HIGHP
441	.$a0e	STY HIGHP+1
442	.$a11	LDA #0
443	.$a13	STA CHLOCKFLAG
444	.$a16	STA LASTVAR
445	.$a19	STA LASTVAR+1
446	.$a1c	JSR INITVARS
447	.$a1f	LDA #0
448	.$a21	STA CMD_NUM
449	.$a24	STA CHANNEL
450	.$a27	TAY
451	.$a28	TAX
455	.$a29	STA KEYNDX
461	.$a2b	JSR RESTORE
462	.$a2e	CLC
466	.$a2f	RTS
469	.$a30	INITNARRAY
470	.$a30	STA TMP_ZP
471	.$a32	STY TMP_ZP+1
472	.$a34	LDY #0
473	.$a36	TYA
474	.$a37	NINITLOOP STA (TMP_ZP),Y
475	.$a39	INC TMP_ZP
476	.$a3b	BNE NLOOPNOV
477	.$a3d	INC TMP_ZP+1
478	.$a3f	NLOOPNOV LDX TMP2_ZP
479	.$a41	BNE NLOOPNOV2
480	.$a43	DEC TMP2_ZP+1
481	.$a45	NLOOPNOV2 DEC TMP2_ZP
482	.$a47	BNE NINITLOOP
483	.$a49	LDX TMP2_ZP+1
484	.$a4b	BNE NINITLOOP
485	.$a4d	RTS
488	.$a4e	INITSTRARRAY
489	.$a4e	STA TMP_ZP
490	.$a50	STY TMP_ZP+1
491	.$a52	SINITLOOP LDY #0
492	.$a54	LDA #<EMPTYSTR
493	.$a56	STA (TMP_ZP),Y
494	.$a58	LDA #>EMPTYSTR
495	.$a5a	INY
496	.$a5b	STA (TMP_ZP),Y
497	.$a5d	CLC
498	.$a5e	LDA TMP_ZP
499	.$a60	ADC #2
500	.$a62	STA TMP_ZP
501	.$a64	BCC SLOOPNOV1
502	.$a66	INC TMP_ZP+1
503	.$a68	SLOOPNOV1 SEC
504	.$a69	LDA TMP2_ZP
505	.$a6b	SBC #2
506	.$a6d	STA TMP2_ZP
507	.$a6f	BCS SLOOPNOV2
508	.$a71	DEC TMP2_ZP+1
509	.$a73	SLOOPNOV2 LDA TMP2_ZP
510	.$a75	BNE SINITLOOP
511	.$a77	LDA TMP2_ZP+1
512	.$a79	BNE SINITLOOP
513	.$a7b	RTS
516	.$a7c	INITSPARAMS STA TMP3_ZP
517	.$a7e	STY TMP3_ZP+1
518	.$a80	SEC
519	.$a81	SBC #2
520	.$a83	STA TMP_ZP
521	.$a85	TYA
522	.$a86	SBC #0
523	.$a88	STA TMP_ZP+1
524	.$a8a	LDY #0
525	.$a8c	LDA (TMP_ZP),Y
526	.$a8e	STA TMP2_ZP
527	.$a90	INY
528	.$a91	LDA (TMP_ZP),Y
529	.$a93	STA TMP2_ZP+1
530	.$a95	LDA TMP3_ZP
531	.$a97	LDY TMP3_ZP+1
532	.$a99	RTS
535	.$a9a	INITSTRVARS LDA #<STRINGVARS_START  
536	.$a9c	LDY #>STRINGVARS_START
537	.$a9e	CMP #<STRINGVARS_END
538	.$aa0	BNE INITIT1
539	.$aa2	CPY #>STRINGVARS_END
540	.$aa4	BNE INITIT1
541	.$aa6	JMP INITSA2     
542	.$aa9	INITIT1  STA TMP_ZP
543	.$aab	STY TMP_ZP+1
544	.$aad	LDY #0
545	.$aaf	INITSTRLOOP LDA #<EMPTYSTR
546	.$ab1	STA (TMP_ZP),Y
547	.$ab3	INY
548	.$ab4	LDA #>EMPTYSTR
549	.$ab6	STA (TMP_ZP),Y
550	.$ab8	DEY
551	.$ab9	LDA TMP_ZP
552	.$abb	CLC
553	.$abc	ADC #2
554	.$abe	STA TMP_ZP
555	.$ac0	LDA TMP_ZP+1
556	.$ac2	ADC #0
557	.$ac4	STA TMP_ZP+1
558	.$ac6	CMP #>STRINGVARS_END
559	.$ac8	BNE INITSTRLOOP
560	.$aca	LDA TMP_ZP
561	.$acc	CMP #<STRINGVARS_END
562	.$ace	BNE INITSTRLOOP
563	.$ad0	INITSA2  LDA #<STRINGARRAYS_START 
564	.$ad2	LDY #>STRINGARRAYS_START
565	.$ad4	CMP #<STRINGARRAYS_END
566	.$ad6	BNE ARRAYLOOP
567	.$ad8	CPY #>STRINGARRAYS_END
568	.$ada	BNE ARRAYLOOP
569	.$adc	RTS       
570	.$add	ARRAYLOOP CLC
571	.$ade	ADC #3
572	.$ae0	BCC ARRAYSKIP1
573	.$ae2	INY
574	.$ae3	ARRAYSKIP1 CPY #>STRINGARRAYS_END
575	.$ae5	BEQ ARRAYSC
576	.$ae7	BCC ARRAYSKIP2
577	.$ae9	JMP ARRAYQUIT
578	.$aec	ARRAYSC  CMP #<STRINGARRAYS_END
579	.$aee	BCS ARRAYQUIT
580	.$af0	ARRAYSKIP2 STA TMP_REG
581	.$af2	STY TMP_REG+1
582	.$af4	JSR INITSPARAMS
583	.$af7	LDA TMP_REG
584	.$af9	LDY TMP_REG+1
585	.$afb	JSR INITSTRARRAY
586	.$afe	LDA TMP_ZP
587	.$b00	LDY TMP_ZP+1
588	.$b02	JMP ARRAYLOOP
589	.$b05	ARRAYQUIT RTS
592	.$b06	RESTORE  LDA #<DATAS
593	.$b08	LDY #>DATAS
594	.$b0a	STA DATASP
595	.$b0d	STY DATASP+1
596	.$b10	RTS
601	.$b11	FASTFOR  JSR POPREAL
602	.$b14	JSR SGNFAC
603	.$b17	STA TMP_REG  
604	.$b19	BCC FFPOSSTEP
605	.$b1b	LDA #<REAL_CONST_MINUS_ONE 
606	.$b1d	LDY #>REAL_CONST_MINUS_ONE
607	.$b1f	JSR MEMARG 
608	.$b22	JSR FACMUL 
609	.$b25	FFPOSSTEP JSR FACWORD 
610	.$b28	STY TMP2_ZP
611	.$b2a	STA TMP2_ZP+1 
612	.$b2c	LDA A_REG
613	.$b2f	LDY A_REG+1
614	.$b32	JSR REALFAC
615	.$b35	JSR FACWORD
616	.$b38	STY TMP_ZP
617	.$b3a	STA TMP_ZP+1 
618	.$b3c	JSR POPREAL
619	.$b3f	JSR FACWORD
620	.$b42	STY TMP2_ZP+2
621	.$b44	STA TMP2_ZP+3 
622	.$b46	JSR XREGFAC
623	.$b49	JSR FACINT
624	.$b4c	STY TMP3_ZP  
625	.$b4e	LDA TMP2_ZP+1
626	.$b50	BNE STEPNOTONE
627	.$b52	LDA TMP2_ZP
628	.$b54	CMP #$1
629	.$b56	BNE STEPNOTONE
630	.$b58	JMP STEPONE
631	.$b5b	STEPNOTONE LDA TMP_REG
632	.$b5d	BEQ FFSTEPZERO
633	.$b5f	ROL
634	.$b60	FFSTEPZERO BCC FFSTEPPOS
635	.$b62	FFSTEPNEG LDY #0
636	.$b64	LDA TMP3_ZP
637	.$b66	TAX
638	.$b67	FFNEGLOOP TXA
639	.$b68	STA (TMP_ZP),Y
640	.$b6a	LDA TMP_ZP
641	.$b6c	SEC
642	.$b6d	SBC TMP2_ZP
643	.$b6f	STA TMP_ZP
644	.$b71	LDA TMP_ZP+1
645	.$b73	BCS FFNEGSKIP
646	.$b75	SBC TMP2_ZP+1
647	.$b77	STA TMP_ZP+1
648	.$b79	FFNEGSKIP CMP TMP2_ZP+3
649	.$b7b	BEQ FFNEGCHECK2
650	.$b7d	BCS FFNEGLOOP
651	.$b7f	JMP FFDONE
652	.$b82	FFNEGCHECK2 LDA TMP_ZP
653	.$b84	CMP TMP2_ZP+2
654	.$b86	BCS FFNEGLOOP
655	.$b88	JMP FFDONE
656	.$b8b	FFSTEPPOS LDY #0
657	.$b8d	LDA TMP3_ZP
658	.$b8f	TAX
659	.$b90	FFPOSLOOP TXA
660	.$b91	STA (TMP_ZP),Y
661	.$b93	LDA TMP_ZP
662	.$b95	CLC
663	.$b96	ADC TMP2_ZP
664	.$b98	STA TMP_ZP
665	.$b9a	LDA TMP_ZP+1
666	.$b9c	BCC FFPOSSKIP
667	.$b9e	ADC TMP2_ZP+1
668	.$ba0	STA TMP_ZP+1
669	.$ba2	FFPOSSKIP CMP TMP2_ZP+3
670	.$ba4	BCC FFPOSLOOP
671	.$ba6	BEQ FFPOSCHECK2
672	.$ba8	JMP FFDONE
673	.$bab	FFPOSCHECK2 LDA TMP_ZP
674	.$bad	CMP TMP2_ZP+2
675	.$baf	BCC FFPOSLOOP
676	.$bb1	BEQ FFPOSLOOP
677	.$bb3	FFDONE  LDY TMP_ZP
678	.$bb5	LDA TMP_ZP+1
679	.$bb7	JSR INTFAC
680	.$bba	LDX A_REG
681	.$bbd	LDY A_REG+1
682	.$bc0	LDA #1
683	.$bc2	STA A_REG
684	.$bc5	JMP FACMEM  
686	.$bc8	STEPONE LDA TMP_REG
687	.$bca	BEQ OFFSTEPZERO
688	.$bcc	ROL
689	.$bcd	OFFSTEPZERO BCC OFFSTEPPOS
690	.$bcf	OFFSTEPNEG LDY #0
691	.$bd1	LDA TMP3_ZP
692	.$bd3	TAX
693	.$bd4	OFFNEGLOOP TXA
694	.$bd5	STA (TMP_ZP),Y
695	.$bd7	LDA TMP_ZP
696	.$bd9	BNE ONOOVERFLOW
697	.$bdb	DEC TMP_ZP+1
698	.$bdd	ONOOVERFLOW DEC TMP_ZP
699	.$bdf	LDA TMP_ZP+1
700	.$be1	OFFNEGSKIP CMP TMP2_ZP+3
701	.$be3	BEQ OFFNEGCHECK2
702	.$be5	BCS OFFNEGLOOP
703	.$be7	JMP FFDONE
704	.$bea	OFFNEGCHECK2
705	.$bea	LDA TMP_ZP
706	.$bec	CMP TMP2_ZP+2
707	.$bee	BCS OFFNEGLOOP
708	.$bf0	JMP FFDONE
709	.$bf3	OFFSTEPPOS LDY #0
710	.$bf5	LDA TMP3_ZP
711	.$bf7	TAX
712	.$bf8	OFFPOSLOOP TXA
713	.$bf9	STA (TMP_ZP),Y
714	.$bfb	INC TMP_ZP
715	.$bfd	BNE ONOOVERFLOW2
716	.$bff	INC TMP_ZP+1
717	.$c01	ONOOVERFLOW2
718	.$c01	LDA TMP_ZP+1
719	.$c03	OFFPOSSKIP CMP TMP2_ZP+3
720	.$c05	BCC OFFPOSLOOP
721	.$c07	BEQ OFFPOSCHECK2
722	.$c09	JMP FFDONE
723	.$c0c	OFFPOSCHECK2
724	.$c0c	LDA TMP_ZP
725	.$c0e	CMP TMP2_ZP+2
726	.$c10	BCC OFFPOSLOOP
727	.$c12	BEQ OFFPOSLOOP
728	.$c14	JMP FFDONE
731	.$c17	REROUTE  LDA CMD_NUM  
732	.$c1a	BEQ REROUTECMD
733	.$c1c	TAX
734	.$c1d	STA CHANNEL
735	.$c20	JMP CHKOUT
736	.$c23	REROUTECMD RTS
739	.$c24	RESETROUTE LDA CMD_NUM  
740	.$c27	BEQ RESETROUTECMD
741	.$c29	JMP CLRCHNEW
742	.$c2c	RESETROUTECMD
743	.$c2c	RTS
746	.$c2d	INTOUTFASTZ LDX #32    
747	.$c2f	LDA TMP_ZP+1
748	.$c31	BPL INTISPOS
749	.$c33	CLC
750	.$c34	LDA TMP_ZP
751	.$c36	EOR #$FF
752	.$c38	ADC #1
753	.$c3a	STA TMP_ZP
754	.$c3c	LDA TMP_ZP+1
755	.$c3e	EOR #$FF
756	.$c40	ADC #0
757	.$c42	STA TMP_ZP+1
758	.$c44	LDX #45    
759	.$c46	INTISPOS
760	.$c46	TXA
761	.$c47	JSR CHROUT
762	.$c4a	JSR CONVPOSINT
763	.$c4d	LDA NUMFLAG
764	.$c50	BNE ALLINTOUTDONE
765	.$c52	LDA #48
766	.$c54	JSR CHROUT
767	.$c57	ALLINTOUTDONE
768	.$c57	RTS
771	.$c58	NUMBEROUT
772	.$c58	BEQ NUMZERO
773	.$c5a	ORA #$30
774	.$c5c	STA NUMFLAG
775	.$c5f	JMP CHROUT
776	.$c62	NUMZERO
777	.$c62	LDX NUMFLAG
778	.$c65	BEQ STILLZERO
779	.$c67	ORA #$30
780	.$c69	JMP CHROUT
781	.$c6c	STILLZERO
782	.$c6c	RTS
785	.$c6d	CONVPOSINT
786	.$c6d	JSR INT2BCD
787	.$c70	LDX #0
788	.$c72	STX NUMFLAG
789	.$c75	AND #$0F
790	.$c77	JSR NUMBEROUT
791	.$c7a	LDA BCD+1
792	.$c7d	LSR
793	.$c7e	LSR
794	.$c7f	LSR
795	.$c80	LSR
796	.$c81	JSR NUMBEROUT
797	.$c84	LDA BCD+1
798	.$c87	AND #$0F
799	.$c89	TAY
800	.$c8a	JSR NUMBEROUT
801	.$c8d	LDA BCD
802	.$c90	LSR
803	.$c91	LSR
804	.$c92	LSR
805	.$c93	LSR
806	.$c94	JSR NUMBEROUT
807	.$c97	LDA BCD
808	.$c9a	AND #$0F
809	.$c9c	JSR NUMBEROUT
810	.$c9f	RTS
813	.$ca0	INT2BCD
814	.$ca0	SED
815	.$ca1	LDA #0
816	.$ca3	STA BCD
817	.$ca6	STA BCD+1
818	.$ca9	STA BCD+2
819	.$cac	ASL TMP_ZP
820	.$cae	ROL TMP_ZP+1
821	.$cb0	LDA BCD
822	.$cb3	ADC BCD
823	.$cb6	STA BCD
824	.$cb9	ASL TMP_ZP
825	.$cbb	ROL TMP_ZP+1
826	.$cbd	ADC BCD
827	.$cc0	STA BCD
828	.$cc3	ASL TMP_ZP
829	.$cc5	ROL TMP_ZP+1
830	.$cc7	ADC BCD
831	.$cca	STA BCD
832	.$ccd	ASL TMP_ZP
833	.$ccf	ROL TMP_ZP+1
834	.$cd1	ADC BCD
835	.$cd4	STA BCD
836	.$cd7	ASL TMP_ZP
837	.$cd9	ROL TMP_ZP+1
838	.$cdb	ADC BCD
839	.$cde	STA BCD
840	.$ce1	ASL TMP_ZP
841	.$ce3	ROL TMP_ZP+1
842	.$ce5	ADC BCD
843	.$ce8	STA BCD
844	.$ceb	LDX #7
845	.$ced	BCDBIT1
846	.$ced	ASL TMP_ZP
847	.$cef	ROL TMP_ZP+1
848	.$cf1	LDA BCD
849	.$cf4	ADC BCD
850	.$cf7	STA BCD
851	.$cfa	LDA BCD+1
852	.$cfd	ADC BCD+1
853	.$d00	STA BCD+1
854	.$d03	DEX
855	.$d04	BNE BCDBIT1
856	.$d06	LDX #3
857	.$d08	BCDBIT2
858	.$d08	ASL TMP_ZP
859	.$d0a	ROL TMP_ZP+1
860	.$d0c	LDA BCD
861	.$d0f	ADC BCD
862	.$d12	STA BCD
863	.$d15	LDA BCD+1
864	.$d18	ADC BCD+1
865	.$d1b	STA BCD+1
866	.$d1e	LDA BCD+2
867	.$d21	ADC BCD+2
868	.$d24	STA BCD+2
869	.$d27	DEX
870	.$d28	BNE BCDBIT2
871	.$d2a	CLD
872	.$d2b	RTS
873	.$d2c	BCD
874	.$d2c	.WORD 0 0
875	.$d30	NUMFLAG
876	.$d30	.BYTE 0
879	.$d31	REALOUTFAST JSR FACINT
880	.$d34	STA TMP_ZP+1
881	.$d36	STY TMP_ZP
882	.$d38	JMP INTOUTFASTZ
885	.$d3b	CHECKFORFASTOUT
886	.$d3b	JSR REROUTE
887	.$d3e	JSR XREGFAC
888	.$d41	LDA FACEXP
889	.$d43	CMP #$90
890	.$d45	BCS REALOUTINT
891	.$d47	CMP #$81
892	.$d49	BCC REALOUTINT
893	.$d4b	MAYBEREALOUTFAST
894	.$d4b	LDA FACEXP+3
895	.$d4d	BNE REALOUTINT
896	.$d4f	LDA FACEXP+4
897	.$d51	BNE REALOUTINT
898	.$d53	LDA FACEXP
899	.$d55	SEC
900	.$d56	SBC #129
901	.$d58	ASL
902	.$d59	TAX
903	.$d5a	LDA FACEXP+1
904	.$d5c	AND MANTMASK,X
905	.$d5f	BNE REALOUTINT
906	.$d61	INX
907	.$d62	LDA FACEXP+2
908	.$d64	AND MANTMASK,X
909	.$d67	BNE REALOUTINT
910	.$d69	JMP REALOUTFAST
911	.$d6c	REALOUTINT LDY #0
912	.$d6e	JSR FACSTR
913	.$d71	LDY #0
914	.$d73	LDA LOFBUF,Y
915	.$d76	STRLOOPRO JSR CHROUT
916	.$d79	INY
917	.$d7a	LDA LOFBUF,Y
918	.$d7d	BNE STRLOOPRO
919	.$d7f	RTS
920	.$d80	MANTMASK
921	.$d80	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
924	.$d9e	REALOUTBRK  LDA X_REG
925	.$da0	BNE RNOTNULLBRK
926	.$da2	JMP PRINTNULLBRK
927	.$da5	RNOTNULLBRK JSR CHECKFORFASTOUT
928	.$da8	LDA #$0D
929	.$daa	JSR CHROUT
930	.$dad	JMP RESETROUTE
933	.$db0	PRINTNULLBRK
934	.$db0	JSR REROUTE
935	.$db3	LDA #$20
936	.$db5	JSR CHROUT
937	.$db8	LDA #$30
938	.$dba	JSR CHROUT
939	.$dbd	LDA #$0D
940	.$dbf	JSR CHROUT
941	.$dc2	JMP RESETROUTE
944	.$dc5	REALFACPUSH STA TMP_ZP
945	.$dc7	STY TMP_ZP+1
946	.$dc9	LDX FPSTACKP
947	.$dcc	LDY FPSTACKP+1
948	.$dcf	STX TMP2_ZP
949	.$dd1	STY TMP2_ZP+1
950	.$dd3	LDY #0
951	.$dd5	LDA (TMP_ZP),Y
952	.$dd7	STA (TMP2_ZP),Y
953	.$dd9	INY
954	.$dda	LDA (TMP_ZP),Y
955	.$ddc	STA (TMP2_ZP),Y
956	.$dde	INY
957	.$ddf	LDA (TMP_ZP),Y
958	.$de1	STA (TMP2_ZP),Y
959	.$de3	INY
960	.$de4	LDA (TMP_ZP),Y
961	.$de6	STA (TMP2_ZP),Y
962	.$de8	INY
963	.$de9	LDA (TMP_ZP),Y
964	.$deb	STA (TMP2_ZP),Y
965	.$ded	TXA    
966	.$dee	CLC
967	.$def	ADC #5
968	.$df1	STA FPSTACKP
969	.$df4	BCC NOPVRFPXX
970	.$df6	INC FPSTACKP+1
971	.$df9	NOPVRFPXX RTS
974	.$dfa	POPREAL  LDA FPSTACKP
975	.$dfd	SEC
976	.$dfe	SBC #5
977	.$e00	STA FPSTACKP
978	.$e03	BCS NOPVPR
979	.$e05	DEC FPSTACKP+1
980	.$e08	NOPVPR  LDA FPSTACKP
981	.$e0b	LDY FPSTACKP+1
982	.$e0e	JMP REALFAC
985	.$e11	COPY2_XYA_XREG
986	.$e11	STA TMP3_ZP
987	.$e13	STY TMP3_ZP+1
988	.$e15	COPY2_XY_XREG
989	.$e15	LDX #<X_REG  
990	.$e17	LDY #0
991	.$e19	LDA (TMP3_ZP),Y
992	.$e1b	STA X_REG
993	.$e1d	INY
994	.$e1e	LDA (TMP3_ZP),Y
995	.$e20	STA X_REG+1
996	.$e22	INY
997	.$e23	LDA (TMP3_ZP),Y
998	.$e25	STA X_REG+2
999	.$e27	INY
1000	.$e28	LDA (TMP3_ZP),Y
1001	.$e2a	STA X_REG+3
1002	.$e2c	INY
1003	.$e2d	LDA (TMP3_ZP),Y
1004	.$e2f	STA X_REG+4
1005	.$e31	RTS
1009	.$e32	FACWORD
1010	.$e32	LDA FACEXP   
1011	.$e34	BNE DOFACWORD
1012	.$e36	STA FACSGN   
1013	.$e38	DOFACWORD:
1014	.$e38	JMP XFACWORD
1018	.$e3b	CLRCHNEW
1019	.$e3b	LDA CHLOCKFLAG
1020	.$e3e	BNE SKIPCLRCH
1021	.$e40	JMP CLRCH
1022	.$e43	SKIPCLRCH
1023	.$e43	RTS
1026	.$e44	XREGFAC  LDA X_REG+4
1027	.$e46	STA FACLO
1028	.$e48	LDA X_REG+3
1029	.$e4a	STA FACMO
1030	.$e4c	LDA X_REG+2
1031	.$e4e	STA FACMOH
1032	.$e50	LDA X_REG+1
1033	.$e52	STA FACSGN
1034	.$e54	ORA #$80
1035	.$e56	STA FACHO
1036	.$e58	LDA X_REG
1037	.$e5a	STA FACEXP
1038	.$e5c	LDA #0
1039	.$e5e	STA FACOV
1040	.$e60	RTS
1154	.$e61	INITVARS
1155	.$e61	JSR INITSTRVARS
1156	.$e64	LDA #0
1157	.$e66	LDY #4
1158	.$e68	REALINITLOOP0:
1159	.$e68	STA VAR_I,Y
1160	.$e6b	DEY
1161	.$e6c	BMI REALLOOPEXIT0
1162	.$e6e	JMP REALINITLOOP0
1163	.$e71	REALLOOPEXIT0:
1164	.$e71	RTS
1168	.$e72	CONSTANTS
1171	.$e72	CONST_0R .REAL 8192.0
1174	.$e77	CONST_1R .REAL 16191.0
1177	.$e7c	CONST_2R .REAL 1.0
1180	.$e81	CONST_3R .REAL 0.0
1183	.$e86	CONST_4R .REAL 11.0
1186	.$e8b	CONST_5R .REAL 12.0
1189	.$e90	CONST_6R .REAL 20000.0
1192	.$e95	CONST_7R .REAL 10000.0
1195	.$e9a	CONST_8 .REAL -7.0
1198	.$e9f	CONST_9 .REAL -1.0
1201	.$ea4	CONST_10R .REAL 20.0
1204	.$ea9	CONST_11R .REAL 10.0
1207	.$eae	DATAS
1208	.$eae	.BYTE $FF
1210	.$eaf	CONSTANTS_END
1213	.$eaf	VARIABLES
1215	.$eaf	VAR_I .REAL 0.0
1216	.$eb4	STRINGVARS_START
1218	.$eb4	VAR_TI$ .WORD EMPTYSTR
1219	.$eb6	STRINGVARS_END
1220	.$eb6	STRINGARRAYS_START
1221	.$eb6	STRINGARRAYS_END
1222	.$eb6	VARIABLES_END
1224	.$eb6	Y_REG .REAL 0.0
1225	.$ebb	C_REG .REAL 0.0
1226	.$ec0	D_REG .REAL 0.0
1227	.$ec5	E_REG .REAL 0.0
1228	.$eca	F_REG .REAL 0.0
1229	.$ecf	A_REG .WORD 0
1230	.$ed1	B_REG .WORD 0
1231	.$ed3	CMD_NUM .BYTE 0
1232	.$ed4	CHANNEL .BYTE 0
1233	.$ed5	SP_SAVE .BYTE 0
1234	.$ed6	TMP2_REG .WORD 0
1235	.$ed8	TMP3_REG .WORD 0
1236	.$eda	TMP4_REG .WORD 0
1237	.$edc	AS_TMP .WORD 0
1238	.$ede	BPOINTER_TMP .WORD 0
1239	.$ee0	BASICTEXTP .BYTE 0
1240	.$ee1	STORE1 .WORD 0
1241	.$ee3	STORE2 .WORD 0
1242	.$ee5	STORE3 .WORD 0
1243	.$ee7	STORE4 .WORD 0
1244	.$ee9	GCSTART .WORD 0
1245	.$eeb	GCLEN .WORD 0
1246	.$eed	GCWORK .WORD 0
1247	.$eef	INPUTLENGTH .BYTE 0
1248	.$ef0	TMP_FREG .REAL 0
1249	.$ef5	TMP2_FREG .REAL 0
1250	.$efa	TMP_FLAG .BYTE 0
1251	.$efb	INT_FLAG .BYTE 0
1252	.$efc	REAL_CONST_ONE .REAL 1.0
1253	.$f01	REAL_CONST_ZERO .REAL 0.0
1254	.$f06	REAL_CONST_MINUS_ONE .REAL -1.0
1255	.$f0b	CHLOCKFLAG .BYTE 0
1256	.$f0c	EMPTYSTR .BYTE 0
1257	.$f0d	FPSTACKP .WORD FPSTACK
1258	.$f0f	FORSTACKP .WORD FORSTACK
1259	.$f11	DATASP .WORD DATAS
1260	.$f13	LASTVAR .WORD 0
1261	.$f15	LASTVARP .WORD 0
1262	.$f17	HIGHP .WORD STRBUF
1263	.$f19	STRBUFP .WORD STRBUF
1264	.$f1b	ENDSTRBUF .WORD 0
1265	.$f1d	INPUTQUEUEP .BYTE 0
1266	.$f1e	PROGRAMEND
1267	.$f1e	INPUTQUEUE .ARRAY $0F
1268	.$f2d	FPSTACK .ARRAY 100
1269	.$f91	FORSTACK .ARRAY 340
1270	.$10e5	STRBUF .BYTE 0
