117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_590:
129	.$81f	LINE_650:
131	.$81f	LDX #4
132	.$821	dcloop401_1:
133	.$821	LDA CONST_0R,X
134	.$824	STA VAR_I,X
135	.$827	DEX
136	.$828	BPL dcloop401_1
138	.$82a	LDA #<CONST_1R
139	.$82c	LDY #>CONST_1R
140	.$82e	JSR REALFACPUSH
142	.$831	LDA #<CONST_0R
143	.$833	LDY #>CONST_0R
144	.$835	JSR REALFACPUSH
146	.$838	LDA #<VAR_I
147	.$83a	LDY #>VAR_I
148	.$83c	STA A_REG
149	.$83f	STY A_REG+1
150	.$842	LDA #<FORLOOP0
151	.$844	STA JUMP_TARGET
152	.$846	LDA #>FORLOOP0
153	.$848	STA JUMP_TARGET+1
154	.$84a	JSR INITFOR
155	.$84d	FORLOOP0:
157	.$84d	LINE_660:
159	.$84d	JSR ONETOFAC
161	.$850	LDA #<VAR_I
162	.$852	LDY #>VAR_I
163	.$854	JSR FASTFADDMEM
168	.$857	LDX #<VAR_K
169	.$859	LDY #>VAR_K
171	.$85b	JSR FACMEM
172	.$85e	LDA #<CONST_2R
173	.$860	LDY #>CONST_2R
174	.$862	JSR REALFACPUSH
176	.$865	LDA #<CONST_0R
177	.$867	LDY #>CONST_0R
178	.$869	JSR REALFACPUSH
180	.$86c	LDA #<VAR_K
181	.$86e	LDY #>VAR_K
182	.$870	STA A_REG
183	.$873	STY A_REG+1
184	.$876	LDA #<FORLOOP1
185	.$878	STA JUMP_TARGET
186	.$87a	LDA #>FORLOOP1
187	.$87c	STA JUMP_TARGET+1
188	.$87e	JSR INITFOR
189	.$881	FORLOOP1:
190	.$881	LDA #<VAR_I
191	.$883	LDY #>VAR_I
192	.$885	JSR COPY2_XYA_XREG
196	.$888	JSR REALOUT
197	.$88b	JSR CRSRRIGHT
198	.$88e	JSR TABOUT
199	.$891	LDA #<VAR_K
200	.$893	LDY #>VAR_K
201	.$895	JSR COPY2_XYA_XREG
205	.$898	JSR REALOUTBRK
208	.$89b	LINE_670:
210	.$89b	LDA #<VAR_S$[]
211	.$89d	LDY #>VAR_S$[]
212	.$89f	STA G_REG
213	.$8a1	STY G_REG+1
214	.$8a3	LDY #0
215	.$8a5	TYA
216	.$8a6	JSR ARRAYACCESS_STRING_INT
218	.$8a9	LDA A_REG
219	.$8ac	LDY A_REG+1
220	.$8af	STA TMP_ZP
221	.$8b1	STY TMP_ZP+1
222	.$8b3	JSR PUSHINT
224	.$8b6	LDA #<VAR_S$[]
225	.$8b8	LDY #>VAR_S$[]
226	.$8ba	STA G_REG
227	.$8bc	STY G_REG+1
228	.$8be	LDY #0
229	.$8c0	TYA
230	.$8c1	JSR ARRAYACCESS_STRING_INT
232	.$8c4	JSR POPINT2B
235	.$8c7	JSR SGT
236	.$8ca	LDA X_REG
237	.$8cc	COMP_SKP0:
238	.$8cc	BEQ LINE_SKIP1
241	.$8ce	LINE_NSKIP1:
243	.$8ce	JMP LINE_690
245	.$8d1	LINE_SKIP1:
248	.$8d1	LINE_690:
250	.$8d1	LDA #<VAR_K
251	.$8d3	LDY #>VAR_K
252	.$8d5	STA A_REG
253	.$8d8	STY A_REG+1
254	.$8db	JSR NEXT
255	.$8de	LDA A_REG
256	.$8e1	BNE RBEQ_0
257	.$8e3	JMP (JUMP_TARGET)
259	.$8e6	RBEQ_0:
261	.$8e6	LINE_695:
263	.$8e6	LDA #<VAR_I
264	.$8e8	LDY #>VAR_I
265	.$8ea	STA A_REG
266	.$8ed	STY A_REG+1
267	.$8f0	JSR NEXT
268	.$8f3	LDA A_REG
269	.$8f6	BNE RBEQ_1
270	.$8f8	JMP (JUMP_TARGET)
272	.$8fb	RBEQ_1:
273	.$8fb	JSR END
274	.$8fe	RTS
277	.$8ff	END   LDX SP_SAVE
278	.$902	TXS
285	.$903	RTS
288	.$904	START  LDA ENDSTRBUF+1
289	.$907	BNE ENDGIVEN
290	.$909	LDA BASICEND
291	.$90b	STA ENDSTRBUF
292	.$90e	LDA BASICEND+1
293	.$910	STA ENDSTRBUF+1
294	.$913	ENDGIVEN LDA #<FPSTACK
295	.$915	LDY #>FPSTACK
296	.$917	STA FPSTACKP
297	.$91a	STY FPSTACKP+1
298	.$91d	LDA #<FORSTACK
299	.$91f	LDY #>FORSTACK
300	.$921	STA FORSTACKP
301	.$924	STY FORSTACKP+1
302	.$927	LDA #<STRBUF
303	.$929	LDY #>STRBUF
304	.$92b	STA STRBUFP
305	.$92e	STY STRBUFP+1
306	.$931	STA HIGHP
307	.$934	STY HIGHP+1
308	.$937	LDA #0
309	.$939	STA CHLOCKFLAG
310	.$93c	STA LASTVAR
311	.$93f	STA LASTVAR+1
312	.$942	JSR INITVARS
313	.$945	LDA #0
314	.$947	STA CMD_NUM
315	.$94a	STA CHANNEL
316	.$94d	TAY
317	.$94e	TAX
321	.$94f	STA KEYNDX
327	.$951	JSR RESTORE
328	.$954	CLC
332	.$955	RTS
335	.$956	INITNARRAY
336	.$956	STA TMP_ZP
337	.$958	STY TMP_ZP+1
338	.$95a	LDY #0
339	.$95c	TYA
340	.$95d	NINITLOOP STA (TMP_ZP),Y
341	.$95f	INC TMP_ZP
342	.$961	BNE NLOOPNOV
343	.$963	INC TMP_ZP+1
344	.$965	NLOOPNOV LDX TMP2_ZP
345	.$967	BNE NLOOPNOV2
346	.$969	DEC TMP2_ZP+1
347	.$96b	NLOOPNOV2 DEC TMP2_ZP
348	.$96d	BNE NINITLOOP
349	.$96f	LDX TMP2_ZP+1
350	.$971	BNE NINITLOOP
351	.$973	RTS
354	.$974	INITSTRARRAY
355	.$974	STA TMP_ZP
356	.$976	STY TMP_ZP+1
357	.$978	SINITLOOP LDY #0
358	.$97a	LDA #<EMPTYSTR
359	.$97c	STA (TMP_ZP),Y
360	.$97e	LDA #>EMPTYSTR
361	.$980	INY
362	.$981	STA (TMP_ZP),Y
363	.$983	CLC
364	.$984	LDA TMP_ZP
365	.$986	ADC #2
366	.$988	STA TMP_ZP
367	.$98a	BCC SLOOPNOV1
368	.$98c	INC TMP_ZP+1
369	.$98e	SLOOPNOV1 SEC
370	.$98f	LDA TMP2_ZP
371	.$991	SBC #2
372	.$993	STA TMP2_ZP
373	.$995	BCS SLOOPNOV2
374	.$997	DEC TMP2_ZP+1
375	.$999	SLOOPNOV2 LDA TMP2_ZP
376	.$99b	BNE SINITLOOP
377	.$99d	LDA TMP2_ZP+1
378	.$99f	BNE SINITLOOP
379	.$9a1	RTS
382	.$9a2	INITSPARAMS STA TMP3_ZP
383	.$9a4	STY TMP3_ZP+1
384	.$9a6	SEC
385	.$9a7	SBC #2
386	.$9a9	STA TMP_ZP
387	.$9ab	TYA
388	.$9ac	SBC #0
389	.$9ae	STA TMP_ZP+1
390	.$9b0	LDY #0
391	.$9b2	LDA (TMP_ZP),Y
392	.$9b4	STA TMP2_ZP
393	.$9b6	INY
394	.$9b7	LDA (TMP_ZP),Y
395	.$9b9	STA TMP2_ZP+1
396	.$9bb	LDA TMP3_ZP
397	.$9bd	LDY TMP3_ZP+1
398	.$9bf	RTS
401	.$9c0	INITSTRVARS LDA #<STRINGVARS_START  
402	.$9c2	LDY #>STRINGVARS_START
403	.$9c4	CMP #<STRINGVARS_END
404	.$9c6	BNE INITIT1
405	.$9c8	CPY #>STRINGVARS_END
406	.$9ca	BNE INITIT1
407	.$9cc	JMP INITSA2     
408	.$9cf	INITIT1  STA TMP_ZP
409	.$9d1	STY TMP_ZP+1
410	.$9d3	LDY #0
411	.$9d5	INITSTRLOOP LDA #<EMPTYSTR
412	.$9d7	STA (TMP_ZP),Y
413	.$9d9	INY
414	.$9da	LDA #>EMPTYSTR
415	.$9dc	STA (TMP_ZP),Y
416	.$9de	DEY
417	.$9df	LDA TMP_ZP
418	.$9e1	CLC
419	.$9e2	ADC #2
420	.$9e4	STA TMP_ZP
421	.$9e6	LDA TMP_ZP+1
422	.$9e8	ADC #0
423	.$9ea	STA TMP_ZP+1
424	.$9ec	CMP #>STRINGVARS_END
425	.$9ee	BNE INITSTRLOOP
426	.$9f0	LDA TMP_ZP
427	.$9f2	CMP #<STRINGVARS_END
428	.$9f4	BNE INITSTRLOOP
429	.$9f6	INITSA2  LDA #<STRINGARRAYS_START 
430	.$9f8	LDY #>STRINGARRAYS_START
431	.$9fa	CMP #<STRINGARRAYS_END
432	.$9fc	BNE ARRAYLOOP
433	.$9fe	CPY #>STRINGARRAYS_END
434	.$a00	BNE ARRAYLOOP
435	.$a02	RTS       
436	.$a03	ARRAYLOOP CLC
437	.$a04	ADC #3
438	.$a06	BCC ARRAYSKIP1
439	.$a08	INY
440	.$a09	ARRAYSKIP1 CPY #>STRINGARRAYS_END
441	.$a0b	BEQ ARRAYSC
442	.$a0d	BCC ARRAYSKIP2
443	.$a0f	JMP ARRAYQUIT
444	.$a12	ARRAYSC  CMP #<STRINGARRAYS_END
445	.$a14	BCS ARRAYQUIT
446	.$a16	ARRAYSKIP2 STA TMP_REG
447	.$a18	STY TMP_REG+1
448	.$a1a	JSR INITSPARAMS
449	.$a1d	LDA TMP_REG
450	.$a1f	LDY TMP_REG+1
451	.$a21	JSR INITSTRARRAY
452	.$a24	LDA TMP_ZP
453	.$a26	LDY TMP_ZP+1
454	.$a28	JMP ARRAYLOOP
455	.$a2b	ARRAYQUIT RTS
458	.$a2c	RESTORE  LDA #<DATAS
459	.$a2e	LDY #>DATAS
460	.$a30	STA DATASP
461	.$a33	STY DATASP+1
462	.$a36	RTS
465	.$a37	TABSPC     BCC DOSPC
466	.$a39	TXA
467	.$a3a	SBC $09
468	.$a3c	BCC TABSPCQUIT
469	.$a3e	TAX
470	.$a3f	DOSPC  INX
471	.$a40	TABSPCLOOP  DEX
472	.$a41	BNE TABSPCRIGHT
473	.$a43	TABSPCQUIT RTS
474	.$a44	TABSPCRIGHT JSR CRSRRIGHT
475	.$a47	JMP TABSPCLOOP
478	.$a4a	REROUTE  LDA CMD_NUM  
479	.$a4d	BEQ REROUTECMD
480	.$a4f	TAX
481	.$a50	STA CHANNEL
482	.$a53	JMP CHKOUT
483	.$a56	REROUTECMD RTS
486	.$a57	RESETROUTE LDA CMD_NUM  
487	.$a5a	BEQ RESETROUTECMD
488	.$a5c	JMP CLRCHNEW
489	.$a5f	RESETROUTECMD
490	.$a5f	RTS
493	.$a60	INTOUTFASTZ LDX #32    
494	.$a62	LDA TMP_ZP+1
495	.$a64	BPL INTISPOS
496	.$a66	CLC
497	.$a67	LDA TMP_ZP
498	.$a69	EOR #$FF
499	.$a6b	ADC #1
500	.$a6d	STA TMP_ZP
501	.$a6f	LDA TMP_ZP+1
502	.$a71	EOR #$FF
503	.$a73	ADC #0
504	.$a75	STA TMP_ZP+1
505	.$a77	LDX #45    
506	.$a79	INTISPOS
507	.$a79	TXA
508	.$a7a	JSR CHROUT
509	.$a7d	JSR CONVPOSINT
510	.$a80	LDA NUMFLAG
511	.$a83	BNE ALLINTOUTDONE
512	.$a85	LDA #48
513	.$a87	JSR CHROUT
514	.$a8a	ALLINTOUTDONE
515	.$a8a	RTS
518	.$a8b	NUMBEROUT
519	.$a8b	BEQ NUMZERO
520	.$a8d	ORA #$30
521	.$a8f	STA NUMFLAG
522	.$a92	JMP CHROUT
523	.$a95	NUMZERO
524	.$a95	LDX NUMFLAG
525	.$a98	BEQ STILLZERO
526	.$a9a	ORA #$30
527	.$a9c	JMP CHROUT
528	.$a9f	STILLZERO
529	.$a9f	RTS
532	.$aa0	CONVPOSINT
533	.$aa0	JSR INT2BCD
534	.$aa3	LDX #0
535	.$aa5	STX NUMFLAG
536	.$aa8	AND #$0F
537	.$aaa	JSR NUMBEROUT
538	.$aad	LDA BCD+1
539	.$ab0	LSR
540	.$ab1	LSR
541	.$ab2	LSR
542	.$ab3	LSR
543	.$ab4	JSR NUMBEROUT
544	.$ab7	LDA BCD+1
545	.$aba	AND #$0F
546	.$abc	TAY
547	.$abd	JSR NUMBEROUT
548	.$ac0	LDA BCD
549	.$ac3	LSR
550	.$ac4	LSR
551	.$ac5	LSR
552	.$ac6	LSR
553	.$ac7	JSR NUMBEROUT
554	.$aca	LDA BCD
555	.$acd	AND #$0F
556	.$acf	JSR NUMBEROUT
557	.$ad2	RTS
560	.$ad3	INT2BCD
561	.$ad3	SED
562	.$ad4	LDA #0
563	.$ad6	STA BCD
564	.$ad9	STA BCD+1
565	.$adc	STA BCD+2
566	.$adf	ASL TMP_ZP
567	.$ae1	ROL TMP_ZP+1
568	.$ae3	LDA BCD
569	.$ae6	ADC BCD
570	.$ae9	STA BCD
571	.$aec	ASL TMP_ZP
572	.$aee	ROL TMP_ZP+1
573	.$af0	ADC BCD
574	.$af3	STA BCD
575	.$af6	ASL TMP_ZP
576	.$af8	ROL TMP_ZP+1
577	.$afa	ADC BCD
578	.$afd	STA BCD
579	.$b00	ASL TMP_ZP
580	.$b02	ROL TMP_ZP+1
581	.$b04	ADC BCD
582	.$b07	STA BCD
583	.$b0a	ASL TMP_ZP
584	.$b0c	ROL TMP_ZP+1
585	.$b0e	ADC BCD
586	.$b11	STA BCD
587	.$b14	ASL TMP_ZP
588	.$b16	ROL TMP_ZP+1
589	.$b18	ADC BCD
590	.$b1b	STA BCD
591	.$b1e	LDX #7
592	.$b20	BCDBIT1
593	.$b20	ASL TMP_ZP
594	.$b22	ROL TMP_ZP+1
595	.$b24	LDA BCD
596	.$b27	ADC BCD
597	.$b2a	STA BCD
598	.$b2d	LDA BCD+1
599	.$b30	ADC BCD+1
600	.$b33	STA BCD+1
601	.$b36	DEX
602	.$b37	BNE BCDBIT1
603	.$b39	LDX #3
604	.$b3b	BCDBIT2
605	.$b3b	ASL TMP_ZP
606	.$b3d	ROL TMP_ZP+1
607	.$b3f	LDA BCD
608	.$b42	ADC BCD
609	.$b45	STA BCD
610	.$b48	LDA BCD+1
611	.$b4b	ADC BCD+1
612	.$b4e	STA BCD+1
613	.$b51	LDA BCD+2
614	.$b54	ADC BCD+2
615	.$b57	STA BCD+2
616	.$b5a	DEX
617	.$b5b	BNE BCDBIT2
618	.$b5d	CLD
619	.$b5e	RTS
620	.$b5f	BCD
621	.$b5f	.WORD 0 0
622	.$b63	NUMFLAG
623	.$b63	.BYTE 0
626	.$b64	REALOUTFAST JSR FACINT
627	.$b67	STA TMP_ZP+1
628	.$b69	STY TMP_ZP
629	.$b6b	JMP INTOUTFASTZ
632	.$b6e	CHECKFORFASTOUT
633	.$b6e	JSR REROUTE
634	.$b71	JSR XREGFAC
635	.$b74	LDA FACEXP
636	.$b76	CMP #$90
637	.$b78	BCS REALOUTINT
638	.$b7a	CMP #$81
639	.$b7c	BCC REALOUTINT
640	.$b7e	MAYBEREALOUTFAST
641	.$b7e	LDA FACEXP+3
642	.$b80	BNE REALOUTINT
643	.$b82	LDA FACEXP+4
644	.$b84	BNE REALOUTINT
645	.$b86	LDA FACEXP
646	.$b88	SEC
647	.$b89	SBC #129
648	.$b8b	ASL
649	.$b8c	TAX
650	.$b8d	LDA FACEXP+1
651	.$b8f	AND MANTMASK,X
652	.$b92	BNE REALOUTINT
653	.$b94	INX
654	.$b95	LDA FACEXP+2
655	.$b97	AND MANTMASK,X
656	.$b9a	BNE REALOUTINT
657	.$b9c	JMP REALOUTFAST
658	.$b9f	REALOUTINT LDY #0
659	.$ba1	JSR FACSTR
660	.$ba4	LDY #0
661	.$ba6	LDA LOFBUF,Y
662	.$ba9	STRLOOPRO JSR CHROUT
663	.$bac	INY
664	.$bad	LDA LOFBUF,Y
665	.$bb0	BNE STRLOOPRO
666	.$bb2	RTS
667	.$bb3	MANTMASK
668	.$bb3	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
671	.$bd1	REALOUT  LDA X_REG
672	.$bd3	BNE RNOTNULL
673	.$bd5	JMP PRINTNULL
674	.$bd8	RNOTNULL JSR CHECKFORFASTOUT
675	.$bdb	JMP RESETROUTE
678	.$bde	REALOUTBRK  LDA X_REG
679	.$be0	BNE RNOTNULLBRK
680	.$be2	JMP PRINTNULLBRK
681	.$be5	RNOTNULLBRK JSR CHECKFORFASTOUT
682	.$be8	LDA #$0D
683	.$bea	JSR CHROUT
684	.$bed	JMP RESETROUTE
687	.$bf0	PRINTNULL JSR REROUTE
688	.$bf3	LDA #$20
689	.$bf5	JSR CHROUT
690	.$bf8	LDA #$30
691	.$bfa	JSR CHROUT
692	.$bfd	JMP RESETROUTE
695	.$c00	PRINTNULLBRK
696	.$c00	JSR REROUTE
697	.$c03	LDA #$20
698	.$c05	JSR CHROUT
699	.$c08	LDA #$30
700	.$c0a	JSR CHROUT
701	.$c0d	LDA #$0D
702	.$c0f	JSR CHROUT
703	.$c12	JMP RESETROUTE
706	.$c15	TABOUT  JSR REROUTE
707	.$c18	LDA CMD_NUM
708	.$c1b	BEQ NORMALTABOUT  
709	.$c1d	CMP #3
710	.$c1f	BEQ NORMALTABOUT2  
711	.$c21	JMP TABOUTCHANNEL2
712	.$c24	NORMALTABOUT2
713	.$c24	JSR CLRCHNEW
714	.$c27	NORMALTABOUT
715	.$c27	SEC
716	.$c28	JSR CRSRPOS
717	.$c2b	TYA
718	.$c2c	SEC
719	.$c2d	TABSUB   SBC #$0A
720	.$c2f	BCS TABSUB
721	.$c31	EOR #$FF
722	.$c33	ADC #$01
723	.$c35	TAX
724	.$c36	INX
725	.$c37	TABLOOP  DEX
726	.$c38	BNE TABRIGHT
727	.$c3a	RTS
728	.$c3b	TABRIGHT JSR CRSRRIGHT
729	.$c3e	JMP TABLOOP
732	.$c41	ARRAYACCESS_STRING
733	.$c41	JSR XREGFAC
734	.$c44	JSR FACINT
735	.$c47	ARRAYACCESS_STRING_INT
736	.$c47	LDX G_REG
737	.$c49	STX TMP_ZP
738	.$c4b	LDX G_REG+1
739	.$c4d	STX TMP_ZP+1
740	.$c4f	TAX
741	.$c50	TYA
742	.$c51	ASL
743	.$c52	STA TMP2_ZP
744	.$c54	TXA
745	.$c55	ROL
746	.$c56	STA TMP2_ZP+1
747	.$c58	LDA TMP_ZP
748	.$c5a	CLC
749	.$c5b	ADC TMP2_ZP
750	.$c5d	STA TMP_ZP
751	.$c5f	LDA TMP_ZP+1
752	.$c61	ADC TMP2_ZP+1
753	.$c63	STA TMP_ZP+1
754	.$c65	LDY #0
755	.$c67	LDA (TMP_ZP),Y
756	.$c69	STA A_REG
757	.$c6c	INY
758	.$c6d	LDA (TMP_ZP),Y
759	.$c6f	STA A_REG+1
760	.$c72	RTS
763	.$c73	ADJUSTSTACK LDA FORSTACKP 
764	.$c76	STA TMP_ZP
765	.$c78	LDA FORSTACKP+1
766	.$c7b	STA TMP_ZP+1
767	.$c7d	ADSEARCHFOR LDA TMP_ZP
768	.$c7f	CMP #<FORSTACK
769	.$c81	BNE ADJUST2
770	.$c83	LDA TMP_ZP+1
771	.$c85	CMP #>FORSTACK
772	.$c87	BNE ADJUST2
773	.$c89	RTS    
774	.$c8a	ADJUST2  LDA TMP_ZP
775	.$c8c	SEC
776	.$c8d	SBC #2
777	.$c8f	STA TMP_ZP
778	.$c91	BCS ADNOPV1N1
779	.$c93	DEC TMP_ZP+1
780	.$c95	ADNOPV1N1 LDY #0
781	.$c97	LDA (TMP_ZP),Y
782	.$c99	BNE ADNOGOSUB
783	.$c9b	RTS    
784	.$c9c	ADNOGOSUB
785	.$c9c	INY
786	.$c9d	LDA TMP_ZP
787	.$c9f	SEC
788	.$ca0	SBC (TMP_ZP),Y
789	.$ca2	STA TMP_ZP
790	.$ca4	BCS ADNOPV1N2
791	.$ca6	DEC TMP_ZP+1
792	.$ca8	ADNOPV1N2 DEY
793	.$ca9	LDA A_REG
794	.$cac	ADCMPFOR CMP (TMP_ZP),Y
795	.$cae	BNE ADSEARCHFOR
796	.$cb0	LDA A_REG+1
797	.$cb3	INY
798	.$cb4	CMP (TMP_ZP),Y
799	.$cb6	BEQ ADFOUNDFOR
800	.$cb8	JMP ADSEARCHFOR
801	.$cbb	ADLOW0  LDX A_REG+1
802	.$cbe	BEQ ADFOUNDFOR
803	.$cc0	BNE ADCMPFOR
804	.$cc2	ADFOUNDFOR LDA TMP_ZP  
805	.$cc4	STA FORSTACKP
806	.$cc7	LDA TMP_ZP+1
807	.$cc9	STA FORSTACKP+1
808	.$ccc	RTS
811	.$ccd	INITFOR  JSR ADJUSTSTACK
812	.$cd0	LDA FORSTACKP
813	.$cd3	STA TMP_ZP
814	.$cd5	LDA FORSTACKP+1
815	.$cd8	STA TMP_ZP+1
816	.$cda	LDY #0
817	.$cdc	LDA A_REG
818	.$cdf	STA (TMP_ZP),Y
819	.$ce1	INY
820	.$ce2	LDA A_REG+1
821	.$ce5	STA (TMP_ZP),Y
822	.$ce7	INY
823	.$ce8	LDA JUMP_TARGET
824	.$cea	STA (TMP_ZP),Y
825	.$cec	INY
826	.$ced	LDA JUMP_TARGET+1
827	.$cef	STA (TMP_ZP),Y
828	.$cf1	INY
829	.$cf2	STY TMP3_ZP
830	.$cf4	JSR INCTMPZP
831	.$cf7	JSR POPREAL
832	.$cfa	LDX TMP_ZP
833	.$cfc	LDY TMP_ZP+1
835	.$cfe	JSR FACMEM
836	.$d01	JSR SGNFAC
837	.$d04	STA TMP_FLAG
838	.$d07	LDY #5
839	.$d09	STY TMP3_ZP
840	.$d0b	JSR INCTMPZP
841	.$d0e	JSR POPREAL
842	.$d11	LDX TMP_ZP
843	.$d13	LDY TMP_ZP+1
845	.$d15	JSR FACMEM
846	.$d18	LDY #5
847	.$d1a	STY TMP3_ZP
848	.$d1c	JSR INCTMPZP
849	.$d1f	LDY #0
850	.$d21	LDA TMP_FLAG
851	.$d24	STA (TMP_ZP),Y
852	.$d26	INY
853	.$d27	LDA #1
854	.$d29	STA (TMP_ZP),Y
855	.$d2b	INY
856	.$d2c	LDA #15
857	.$d2e	STA (TMP_ZP),Y
858	.$d30	LDY #3
859	.$d32	STY TMP3_ZP
860	.$d34	JSR INCTMPZP
861	.$d37	LDA TMP_ZP
862	.$d39	STA FORSTACKP
863	.$d3c	LDA TMP_ZP+1
864	.$d3e	STA FORSTACKP+1
865	.$d41	RTS
868	.$d42	NEXT  LDA FORSTACKP
869	.$d45	STA TMP_ZP
870	.$d47	LDA FORSTACKP+1
871	.$d4a	STA TMP_ZP+1
872	.$d4c	SEARCHFOR LDA TMP_ZP+1
873	.$d4e	STA TMP3_REG+1
874	.$d51	LDA TMP_ZP
875	.$d53	STA TMP3_REG
876	.$d56	SEC
877	.$d57	SBC #2
878	.$d59	STA TMP_ZP
879	.$d5b	BCS NOPV1N1
880	.$d5d	DEC TMP_ZP+1
881	.$d5f	NOPV1N1  LDY #0
882	.$d61	LDA (TMP_ZP),Y
883	.$d63	BNE NOGOSUB
884	.$d65	JMP NEXTWOFOR
885	.$d68	NOGOSUB
886	.$d68	INY
887	.$d69	LDA TMP_ZP
888	.$d6b	SEC
889	.$d6c	SBC (TMP_ZP),Y
890	.$d6e	STA TMP_ZP
891	.$d70	BCS NOPV1N2
892	.$d72	DEC TMP_ZP+1
893	.$d74	NOPV1N2  DEY
894	.$d75	LDA A_REG
895	.$d78	BEQ LOW0
896	.$d7a	CMPFOR  CMP (TMP_ZP),Y
897	.$d7c	BNE SEARCHFOR
898	.$d7e	LDA A_REG+1
899	.$d81	INY
900	.$d82	CMP (TMP_ZP),Y
901	.$d84	BEQ FOUNDFOR
902	.$d86	JMP SEARCHFOR
903	.$d89	LOW0  LDX A_REG+1
904	.$d8c	BEQ FOUNDFOR
905	.$d8e	BNE CMPFOR
906	.$d90	FOUNDFOR LDA TMP_ZP
907	.$d92	STA TMP2_REG
908	.$d95	LDA TMP_ZP+1
909	.$d97	STA TMP2_REG+1
910	.$d9a	VARREAL
911	.$d9a	LDY #0
912	.$d9c	STY A_REG+1 
913	.$d9f	LDA (TMP_ZP),Y
914	.$da1	TAX
915	.$da2	INY
916	.$da3	LDA (TMP_ZP),Y
917	.$da5	TAY
918	.$da6	TXA
919	.$da7	JSR REALFAC
920	.$daa	CALCNEXT LDA TMP_ZP
921	.$dac	CLC
922	.$dad	ADC #4
923	.$daf	STA TMP_ZP
924	.$db1	BCC NOPV2IN
925	.$db3	INC TMP_ZP+1
926	.$db5	NOPV2IN  STA TMP_REG
927	.$db7	LDY TMP_ZP+1
928	.$db9	STY TMP_REG+1
929	.$dbb	JSR FASTFADDMEM
931	.$dbe	LDA TMP2_REG
932	.$dc1	STA TMP_ZP
933	.$dc3	LDA TMP2_REG+1
934	.$dc6	STA TMP_ZP+1
935	.$dc8	STOREREAL
936	.$dc8	LDY #0
937	.$dca	LDA (TMP_ZP),Y
938	.$dcc	TAX
939	.$dcd	INY
940	.$dce	LDA (TMP_ZP),Y
941	.$dd0	TAY
942	.$dd1	JSR FACMEM 
943	.$dd4	CMPFORXX LDA #5
944	.$dd6	STA TMP3_ZP
945	.$dd8	LDA TMP_REG
946	.$dda	CLC
947	.$ddb	ADC #5
948	.$ddd	STA TMP_REG
949	.$ddf	BCC NOPV3
950	.$de1	INC TMP_REG+1
951	.$de3	NOPV3  LDY TMP_REG+1
952	.$de5	JSR CMPFAC  
953	.$de8	BEQ LOOPING
954	.$dea	PHA
955	.$deb	LDY #14
956	.$ded	LDA (TMP_ZP),Y
957	.$def	BEQ STEPZERO
958	.$df1	ROL
959	.$df2	BCC STEPPOS
960	.$df4	STEPNEG  PLA
961	.$df5	ROL
962	.$df6	BCC LOOPING
963	.$df8	BCS EXITLOOP
964	.$dfa	STEPPOS  PLA
965	.$dfb	ROL
966	.$dfc	BCC EXITLOOP
967	.$dfe	LOOPING  LDA TMP3_REG
968	.$e01	STA FORSTACKP
969	.$e04	LDA TMP3_REG+1
970	.$e07	STA FORSTACKP+1
971	.$e0a	LDA TMP2_REG
972	.$e0d	CLC
973	.$e0e	ADC #2
974	.$e10	STA TMP2_REG
975	.$e13	BCC NOPV4IN
976	.$e15	INC TMP2_REG+1
977	.$e18	NOPV4IN  LDY #0
978	.$e1a	STY A_REG
979	.$e1d	STA TMP_ZP
980	.$e1f	LDA TMP2_REG+1
981	.$e22	STA TMP_ZP+1
982	.$e24	LDA (TMP_ZP),Y
983	.$e26	STA JUMP_TARGET
984	.$e28	INY
985	.$e29	LDA (TMP_ZP),Y
986	.$e2b	STA JUMP_TARGET+1
987	.$e2d	RTS
988	.$e2e	STEPZERO PLA
989	.$e2f	JMP LOOPING
990	.$e32	EXITLOOP LDA TMP2_REG
991	.$e35	STA FORSTACKP
992	.$e38	LDA TMP2_REG+1
993	.$e3b	STA FORSTACKP+1
994	.$e3e	LDA #1
995	.$e40	STA A_REG
996	.$e43	RTS
999	.$e44	ZEROSET  LDA #0
1000	.$e46	STA X_REG
1001	.$e48	STA X_REG+1
1002	.$e4a	STA X_REG+2
1003	.$e4c	STA X_REG+3
1004	.$e4e	STA X_REG+4
1005	.$e50	RTS
1008	.$e51	SGT   JSR CMPSTRGT
1009	.$e54	LDA TMP3_ZP
1010	.$e56	BNE NOTSGT
1011	.$e58	LDA #<REAL_CONST_MINUS_ONE
1012	.$e5a	STA TMP3_ZP
1013	.$e5c	LDA #>REAL_CONST_MINUS_ONE
1014	.$e5e	STA TMP3_ZP+1
1015	.$e60	JMP COPY2_XY_XREG
1016	.$e63	NOTSGT  JMP ZEROSET
1019	.$e66	CMPSTRGT LDY #0    
1020	.$e68	LDX #1
1021	.$e6a	LDA A_REG
1022	.$e6d	STA TMP_ZP
1023	.$e6f	LDA A_REG+1
1024	.$e72	STA TMP_ZP+1
1025	.$e74	LDA B_REG
1026	.$e77	STA TMP2_ZP
1027	.$e79	LDA B_REG+1
1028	.$e7c	STA TMP2_ZP+1
1029	.$e7e	CMP TMP_ZP+1
1030	.$e80	BNE CMPSTRSK2
1031	.$e82	LDA TMP2_ZP
1032	.$e84	CMP TMP_ZP
1033	.$e86	BNE CMPSTRSK2
1034	.$e88	JMP STRSGTRES
1035	.$e8b	CMPSTRSK2 LDA (TMP2_ZP),Y
1036	.$e8d	STA TMP3_ZP+1
1037	.$e8f	LDA (TMP_ZP),Y
1038	.$e91	STA TMP3_ZP
1039	.$e93	CMP TMP3_ZP+1
1040	.$e95	BCC DONTSWAP
1041	.$e97	LDA TMP3_ZP+1
1042	.$e99	DONTSWAP TAX
1043	.$e9a	BNE NOTZSTR
1044	.$e9c	LDX #1
1045	.$e9e	LDA TMP3_ZP+1
1046	.$ea0	CMP TMP3_ZP
1048	.$ea2	BCS STRSGTRES
1049	.$ea4	LDX #0
1050	.$ea6	JMP STRSGTRES
1051	.$ea9	NOTZSTR  INC TMP_ZP
1052	.$eab	BNE SCGTSKP1
1053	.$ead	INC TMP_ZP+1
1054	.$eaf	SCGTSKP1 INC TMP2_ZP
1055	.$eb1	BNE CMPSGTLOOP
1056	.$eb3	INC TMP2_ZP+1
1057	.$eb5	CMPSGTLOOP LDA (TMP_ZP),Y
1058	.$eb7	CMP (TMP2_ZP),Y
1059	.$eb9	BCC STRSGTRES
1060	.$ebb	BEQ SGTEQCONT
1061	.$ebd	LDX #0
1062	.$ebf	JMP STRSGTRES
1063	.$ec2	SGTEQCONT INY
1064	.$ec3	DEX
1065	.$ec4	BNE CMPSGTLOOP
1066	.$ec6	LDA TMP3_ZP+1     
1067	.$ec8	CMP TMP3_ZP
1068	.$eca	BCC STRSGTRES
1069	.$ecc	LDX #1
1070	.$ece	STRSGTRES STX TMP3_ZP
1071	.$ed0	RTS
1074	.$ed1	PUSHINT  LDX FPSTACKP
1075	.$ed4	STX TMP2_ZP
1076	.$ed6	LDX FPSTACKP+1
1077	.$ed9	STX TMP2_ZP+1
1078	.$edb	LDA TMP_ZP
1079	.$edd	LDY #0
1080	.$edf	STA (TMP2_ZP),Y
1081	.$ee1	LDA TMP_ZP+1
1082	.$ee3	INY
1083	.$ee4	STA (TMP2_ZP),Y
1084	.$ee6	LDA TMP2_ZP
1085	.$ee8	CLC
1086	.$ee9	ADC #2
1087	.$eeb	STA FPSTACKP
1088	.$eee	LDA TMP2_ZP+1
1089	.$ef0	ADC #0
1090	.$ef2	STA FPSTACKP+1
1091	.$ef5	RTS
1094	.$ef6	POPINT2B LDA FPSTACKP
1095	.$ef9	SEC
1096	.$efa	SBC #2
1097	.$efc	STA FPSTACKP
1098	.$eff	LDA FPSTACKP+1
1099	.$f02	SBC #0
1100	.$f04	STA FPSTACKP+1
1101	.$f07	LDX FPSTACKP
1102	.$f0a	STX TMP2_ZP
1103	.$f0c	LDX FPSTACKP+1
1104	.$f0f	STX TMP2_ZP+1
1105	.$f11	LDY #0
1106	.$f13	LDA (TMP2_ZP),Y
1107	.$f15	STA B_REG
1108	.$f18	INY
1109	.$f19	LDA (TMP2_ZP),Y
1110	.$f1b	STA B_REG+1
1111	.$f1e	RTS
1114	.$f1f	REALFACPUSH STA TMP_ZP
1115	.$f21	STY TMP_ZP+1
1116	.$f23	LDX FPSTACKP
1117	.$f26	LDY FPSTACKP+1
1118	.$f29	STX TMP2_ZP
1119	.$f2b	STY TMP2_ZP+1
1120	.$f2d	LDY #0
1121	.$f2f	LDA (TMP_ZP),Y
1122	.$f31	STA (TMP2_ZP),Y
1123	.$f33	INY
1124	.$f34	LDA (TMP_ZP),Y
1125	.$f36	STA (TMP2_ZP),Y
1126	.$f38	INY
1127	.$f39	LDA (TMP_ZP),Y
1128	.$f3b	STA (TMP2_ZP),Y
1129	.$f3d	INY
1130	.$f3e	LDA (TMP_ZP),Y
1131	.$f40	STA (TMP2_ZP),Y
1132	.$f42	INY
1133	.$f43	LDA (TMP_ZP),Y
1134	.$f45	STA (TMP2_ZP),Y
1135	.$f47	TXA    
1136	.$f48	CLC
1137	.$f49	ADC #5
1138	.$f4b	STA FPSTACKP
1139	.$f4e	BCC NOPVRFPXX
1140	.$f50	INC FPSTACKP+1
1141	.$f53	NOPVRFPXX RTS
1144	.$f54	POPREAL  LDA FPSTACKP
1145	.$f57	SEC
1146	.$f58	SBC #5
1147	.$f5a	STA FPSTACKP
1148	.$f5d	BCS NOPVPR
1149	.$f5f	DEC FPSTACKP+1
1150	.$f62	NOPVPR  LDA FPSTACKP
1151	.$f65	LDY FPSTACKP+1
1152	.$f68	JMP REALFAC
1155	.$f6b	INCTMPZP LDA TMP_ZP
1156	.$f6d	CLC
1157	.$f6e	ADC TMP3_ZP
1158	.$f70	STA TMP_ZP
1159	.$f72	BCC NOPV2
1160	.$f74	INC TMP_ZP+1
1161	.$f76	NOPV2  RTS
1164	.$f77	COPY2_XYA_XREG
1165	.$f77	STA TMP3_ZP
1166	.$f79	STY TMP3_ZP+1
1167	.$f7b	COPY2_XY_XREG
1168	.$f7b	LDX #<X_REG  
1169	.$f7d	LDY #0
1170	.$f7f	LDA (TMP3_ZP),Y
1171	.$f81	STA X_REG
1172	.$f83	INY
1173	.$f84	LDA (TMP3_ZP),Y
1174	.$f86	STA X_REG+1
1175	.$f88	INY
1176	.$f89	LDA (TMP3_ZP),Y
1177	.$f8b	STA X_REG+2
1178	.$f8d	INY
1179	.$f8e	LDA (TMP3_ZP),Y
1180	.$f90	STA X_REG+3
1181	.$f92	INY
1182	.$f93	LDA (TMP3_ZP),Y
1183	.$f95	STA X_REG+4
1184	.$f97	RTS
1188	.$f98	FACWORD
1189	.$f98	LDA FACEXP   
1190	.$f9a	BNE DOFACWORD
1191	.$f9c	STA FACSGN   
1192	.$f9e	DOFACWORD:
1193	.$f9e	JMP XFACWORD
1197	.$fa1	ONETOFAC    LDX #129
1198	.$fa3	STX FAC
1199	.$fa5	DEX
1200	.$fa6	STX FAC+1
1201	.$fa8	LDX #0
1202	.$faa	STX FAC+2
1203	.$fac	STX FAC+3
1204	.$fae	STX FAC+4
1205	.$fb0	STX FAC+5
1206	.$fb2	STX FAC+15
1207	.$fb4	RTS
1210	.$fb5	INITOUTCHANNEL
1211	.$fb5	LDA CHLOCKFLAG
1212	.$fb8	BEQ INITOUT2
1213	.$fba	CMP #$FF
1214	.$fbc	BNE SKIPINITCH
1215	.$fbe	INITOUT2
1216	.$fbe	LDA #<C_REG
1217	.$fc0	LDY #>C_REG
1218	.$fc2	JSR REALFAC
1219	.$fc5	JSR FACWORD
1220	.$fc8	TYA
1221	.$fc9	TAX
1222	.$fca	CPX CMD_NUM
1223	.$fcd	BNE CMDNEQUAL
1224	.$fcf	LDY #0
1225	.$fd1	STY CMD_NUM   
1226	.$fd4	CMDNEQUAL STA CHANNEL
1227	.$fd7	STA CHLOCKFLAG
1228	.$fda	JMP CHKOUT
1229	.$fdd	SKIPINITCH
1230	.$fdd	RTS
1233	.$fde	CLRCHNEW
1234	.$fde	LDA CHLOCKFLAG
1235	.$fe1	BNE SKIPCLRCH
1236	.$fe3	JMP CLRCH
1237	.$fe6	SKIPCLRCH
1238	.$fe6	RTS
1241	.$fe7	TABOUTCHANNEL
1242	.$fe7	JSR INITOUTCHANNEL
1243	.$fea	LDA CHANNEL
1244	.$fed	CMP #3  
1245	.$fef	BEQ TABOUTSCREEN
1246	.$ff1	TABOUTCHANNEL2
1247	.$ff1	LDA IOCHANNEL
1248	.$ff3	STA STORE1
1249	.$ff6	LDA #1
1250	.$ff8	STA IOCHANNEL  
1251	.$ffa	LDX #10
1252	.$ffc	JMP EXITCHANNEL
1253	.$fff	TABOUTSCREEN
1254	.$fff	JSR CLRCHNEW
1255	.$1002	JMP TABOUT
1258	.$1005	EXITCHANNEL CLC
1259	.$1006	JSR TABSPC
1260	.$1009	JSR CLRCHNEW
1261	.$100c	LDA STORE1
1262	.$100f	STA IOCHANNEL
1263	.$1011	RTS
1266	.$1012	NEXTWOFOR
1270	.$1012	LDX #$0A
1271	.$1014	JMP ERRALL
1274	.$1017	ILLEGALQUANTITY
1278	.$1017	JMP ERRIQ
1281	.$101a	XREGFAC  LDA X_REG+4
1282	.$101c	STA FACLO
1283	.$101e	LDA X_REG+3
1284	.$1020	STA FACMO
1285	.$1022	LDA X_REG+2
1286	.$1024	STA FACMOH
1287	.$1026	LDA X_REG+1
1288	.$1028	STA FACSGN
1289	.$102a	ORA #$80
1290	.$102c	STA FACHO
1291	.$102e	LDA X_REG
1292	.$1030	STA FACEXP
1293	.$1032	LDA #0
1294	.$1034	STA FACOV
1295	.$1036	RTS
1409	.$1037	FASTFADDMEM
1410	.$1037	JSR MEMARG
1411	.$103a	FASTFADDARG
1412	.$103a	BNE FADDRET2     
1413	.$103c	JMP ARGFAC
1414	.$103f	FADDRET2 LDA ARGEXP
1415	.$1041	BNE FADDRET1     
1416	.$1043	RTS
1417	.$1044	FADDRET1 SEC
1418	.$1045	SBC FACEXP
1419	.$1047	BEQ FFADD_EXPEQ     
1420	.$1049	BCC FFADD_SHFARG1   
1424	.$104b	LDY ARGEXP
1425	.$104d	STY FACEXP
1426	.$104f	LDY ARGSGN
1427	.$1051	STY FACSGN
1428	.$1053	LDX #0
1429	.$1055	STX OLDOV        
1430	.$1057	LDX #FAC         
1432	.$1059	SEC
1433	.$105a	SBC #$08
1434	.$105c	BMI FFADD_SHFFAC2
1436	.$105e	FFADD_SHFFAC1
1437	.$105e	LDY FACLO        
1438	.$1060	STY FACOV
1439	.$1062	LDY FACMO        
1440	.$1064	STY FACMO+1
1441	.$1066	LDY FACMOH       
1442	.$1068	STY FACMOH+1
1443	.$106a	LDY FACHO        
1444	.$106c	STY FACHO+1
1445	.$106e	LDY #0
1446	.$1070	STY FACHO        
1447	.$1072	SBC #$08         
1448	.$1074	BPL FFADD_SHFFAC1   
1449	.$1076	FFADD_SHFFAC2
1450	.$1076	ADC #$08         
1451	.$1078	BEQ FFADD_SHFFAC4   
1452	.$107a	TAY
1453	.$107b	LDA FACOV
1454	.$107d	FFADD_SHFFAC3
1455	.$107d	LSR FACHO        
1456	.$107f	ROR FACMOH       
1457	.$1081	ROR FACMO        
1458	.$1083	ROR FACLO        
1459	.$1085	ROR              
1460	.$1086	DEY
1461	.$1087	BNE FFADD_SHFFAC3
1462	.$1089	JMP FFADD_MANADD2   
1463	.$108c	FFADD_SHFFAC4
1464	.$108c	LDA FACOV        
1465	.$108e	JMP FFADD_MANADD2
1466	.$1091	FFADD_EXPEQ
1467	.$1091	LDX FACOV
1468	.$1093	STX OLDOV
1471	.$1095	JMP FFADD_MANADD1
1472	.$1098	FFADD_SHFARG2
1473	.$1098	LDA FACOV        
1474	.$109a	JMP FFADD_MANADD1
1475	.$109d	FFADD_SHFARG1
1476	.$109d	LDX FACOV
1477	.$109f	STX OLDOV        
1478	.$10a1	LDX #$00         
1481	.$10a3	ADC #$08
1482	.$10a5	BPL FFADD_SHFARG6   
1483	.$10a7	FFADD_SHFARG3
1484	.$10a7	LDX ARGLO        
1485	.$10a9	LDY ARGMO        
1486	.$10ab	STY ARGMO+1
1487	.$10ad	LDY ARGMOH       
1488	.$10af	STY ARGMOH+1
1489	.$10b1	LDY ARGHO        
1490	.$10b3	STY ARGHO+1
1491	.$10b5	LDY #0
1492	.$10b7	STY ARGHO        
1493	.$10b9	FFADD_SHFARG4
1494	.$10b9	ADC #$08
1495	.$10bb	BMI FFADD_SHFARG3
1496	.$10bd	BEQ FFADD_SHFARG3
1497	.$10bf	FFADD_SHFARG6
1498	.$10bf	SBC #$08
1499	.$10c1	BEQ FFADD_SHFARG2   
1500	.$10c3	TAY
1501	.$10c4	TXA              
1502	.$10c5	FFADD_SHFARG5
1503	.$10c5	LSR ARGHO
1504	.$10c7	ROR ARGMOH
1505	.$10c9	ROR ARGMO
1506	.$10cb	ROR ARGLO
1507	.$10cd	ROR           
1508	.$10ce	INY
1509	.$10cf	BNE FFADD_SHFARG5
1510	.$10d1	FFADD_MANADD1
1511	.$10d1	LDX #ARGEXP      
1512	.$10d3	FFADD_MANADD2
1513	.$10d3	BIT ARISGN
1514	.$10d5	BMI FFADD_MANSUB1   
1515	.$10d7	CLC
1516	.$10d8	ADC OLDOV
1517	.$10da	STA FACOV
1518	.$10dc	LDA FACLO
1519	.$10de	ADC ARGLO
1520	.$10e0	STA FACLO
1521	.$10e2	LDA FACMO
1522	.$10e4	ADC ARGMO
1523	.$10e6	STA FACMO
1524	.$10e8	LDA FACMOH
1525	.$10ea	ADC ARGMOH
1526	.$10ec	STA FACMOH
1527	.$10ee	LDA FACHO
1528	.$10f0	ADC ARGHO
1529	.$10f2	STA FACHO
1530	.$10f4	BCC FFADD_RNDRTS
1531	.$10f6	INC FACEXP
1532	.$10f8	BEQ FFADD_OVERR
1534	.$10fa	ROR FACHO
1535	.$10fc	ROR FACMOH
1536	.$10fe	ROR FACMO
1537	.$1100	ROR FACLO
1538	.$1102	ROR FACOV
1539	.$1104	FFADD_RNDRTS
1540	.$1104	RTS
1541	.$1105	FFADD_OVERR
1542	.$1105	JMP ILLEGALQUANTITY
1543	.$1108	FFADD_MANSUB1
1544	.$1108	LDY #FACEXP
1545	.$110a	CPX #ARGEXP
1546	.$110c	BEQ FFADD_MANSUB2
1547	.$110e	LDY #ARGEXP
1548	.$1110	FFADD_MANSUB2
1549	.$1110	SEC              
1550	.$1111	EOR #$FF
1551	.$1113	ADC OLDOV
1552	.$1115	STA FACOV
1553	.$1117	LDA 4,Y
1554	.$111a	SBC 4,X
1555	.$111c	STA FACLO
1556	.$111e	LDA 3,Y
1557	.$1121	SBC 3,X
1558	.$1123	STA FACMO
1559	.$1125	LDA 2,Y
1560	.$1128	SBC 2,X
1561	.$112a	STA FACMOH
1562	.$112c	LDA 1,Y
1563	.$112f	SBC 1,X
1564	.$1131	STA FACHO
1565	.$1133	BCS FCNORMAL
1566	.$1135	LDA FACSGN
1567	.$1137	EOR #$FF
1568	.$1139	STA FACSGN
1569	.$113b	LDA FACHO
1570	.$113d	EOR #$FF
1571	.$113f	STA FACHO
1572	.$1141	LDA FACMOH
1573	.$1143	EOR #$FF
1574	.$1145	STA FACMOH
1575	.$1147	LDA FACMO
1576	.$1149	EOR #$FF
1577	.$114b	STA FACMO
1578	.$114d	LDA FACLO
1579	.$114f	EOR #$FF
1580	.$1151	STA FACLO
1581	.$1153	LDA FACOV
1582	.$1155	EOR #$FF
1583	.$1157	CLC
1584	.$1158	ADC #1
1585	.$115a	STA FACOV
1586	.$115c	BNE FCNORMAL
1587	.$115e	INC FACLO
1588	.$1160	BNE FCNORMAL
1589	.$1162	INC FACMO
1590	.$1164	BNE FCNORMAL
1591	.$1166	INC FACMOH
1592	.$1168	BNE FCNORMAL
1593	.$116a	INC FACHO
1594	.$116c	FCNORMAL   BIT FACHO
1595	.$116e	BMI FFADD_RET       
1596	.$1170	LDA #0           
1597	.$1172	CLC
1598	.$1173	FFADD_NORM3
1599	.$1173	LDX FACHO
1600	.$1175	BNE FFADD_NORM1
1601	.$1177	LDX FACHO+1
1602	.$1179	STX FACHO
1603	.$117b	LDX FACMOH+1
1604	.$117d	STX FACMOH
1605	.$117f	LDX FACMO+1
1606	.$1181	STX FACMO
1607	.$1183	LDX FACOV
1608	.$1185	STX FACLO
1609	.$1187	LDX #0
1610	.$1189	STX FACOV
1611	.$118b	ADC #$08
1612	.$118d	CMP #$20
1613	.$118f	BNE FFADD_NORM3
1614	.$1191	JMP FFADD_ZEROFAC
1615	.$1194	FFADD_NORM2
1616	.$1194	CLC
1617	.$1195	ADC #1
1618	.$1197	ASL FACOV
1619	.$1199	ROL FACLO
1620	.$119b	ROL FACMO
1621	.$119d	ROL FACMOH
1622	.$119f	ROL FACHO
1623	.$11a1	FFADD_NORM1
1624	.$11a1	BPL FFADD_NORM2     
1625	.$11a3	SEC
1626	.$11a4	SBC FACEXP
1627	.$11a6	BCS FFADD_ZEROFAC
1628	.$11a8	EOR #$FF
1629	.$11aa	CLC
1630	.$11ab	ADC #1
1631	.$11ad	STA FACEXP
1632	.$11af	FFADD_RET   RTS
1633	.$11b0	FFADD_ZEROFAC
1634	.$11b0	LDX #0
1635	.$11b2	STX FACEXP
1636	.$11b4	STX FACSGN
1637	.$11b6	RTS
1640	.$11b7	INITVARS
1641	.$11b7	JSR INITSTRVARS
1642	.$11ba	LDA #0
1643	.$11bc	LDY #4
1644	.$11be	REALINITLOOP0:
1645	.$11be	STA VAR_I,Y
1646	.$11c1	STA VAR_K,Y
1647	.$11c4	DEY
1648	.$11c5	BMI REALLOOPEXIT0
1649	.$11c7	JMP REALINITLOOP0
1650	.$11ca	REALLOOPEXIT0:
1651	.$11ca	RTS
1655	.$11cb	CONSTANTS
1658	.$11cb	CONST_0R .REAL 1.0
1661	.$11d0	CONST_1R .REAL 99.0
1664	.$11d5	CONST_2R .REAL 100.0
1670	.$11da	DATAS
1671	.$11da	.BYTE $FF
1673	.$11db	CONSTANTS_END
1676	.$11db	VARIABLES
1678	.$11db	VAR_I .REAL 0.0
1680	.$11e0	VAR_K .REAL 0.0
1681	.$11e5	STRINGVARS_START
1683	.$11e5	VAR_TI$ .WORD EMPTYSTR
1684	.$11e7	STRINGVARS_END
1685	.$11e7	STRINGARRAYS_START
1687	.$11e7	.BYTE 2
1688	.$11e8	.WORD 202
1689	.$11ea	VAR_S$[]
1690	.$11ea	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1691	.$11fe	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1692	.$1212	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1693	.$1226	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1694	.$123a	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1695	.$124e	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1696	.$1262	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1697	.$1276	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1698	.$128a	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1699	.$129e	.WORD EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR EMPTYSTR
1700	.$12b2	.WORD EMPTYSTR
1701	.$12b4	STRINGARRAYS_END
1702	.$12b4	VARIABLES_END
1704	.$12b4	Y_REG .REAL 0.0
1705	.$12b9	C_REG .REAL 0.0
1706	.$12be	D_REG .REAL 0.0
1707	.$12c3	E_REG .REAL 0.0
1708	.$12c8	F_REG .REAL 0.0
1709	.$12cd	A_REG .WORD 0
1710	.$12cf	B_REG .WORD 0
1711	.$12d1	CMD_NUM .BYTE 0
1712	.$12d2	CHANNEL .BYTE 0
1713	.$12d3	SP_SAVE .BYTE 0
1714	.$12d4	TMP2_REG .WORD 0
1715	.$12d6	TMP3_REG .WORD 0
1716	.$12d8	TMP4_REG .WORD 0
1717	.$12da	AS_TMP .WORD 0
1718	.$12dc	BPOINTER_TMP .WORD 0
1719	.$12de	BASICTEXTP .BYTE 0
1720	.$12df	STORE1 .WORD 0
1721	.$12e1	STORE2 .WORD 0
1722	.$12e3	STORE3 .WORD 0
1723	.$12e5	STORE4 .WORD 0
1724	.$12e7	GCSTART .WORD 0
1725	.$12e9	GCLEN .WORD 0
1726	.$12eb	GCWORK .WORD 0
1727	.$12ed	INPUTLENGTH .BYTE 0
1728	.$12ee	TMP_FREG .REAL 0
1729	.$12f3	TMP2_FREG .REAL 0
1730	.$12f8	TMP_FLAG .BYTE 0
1731	.$12f9	INT_FLAG .BYTE 0
1732	.$12fa	REAL_CONST_ONE .REAL 1.0
1733	.$12ff	REAL_CONST_ZERO .REAL 0.0
1734	.$1304	REAL_CONST_MINUS_ONE .REAL -1.0
1735	.$1309	CHLOCKFLAG .BYTE 0
1736	.$130a	EMPTYSTR .BYTE 0
1737	.$130b	FPSTACKP .WORD FPSTACK
1738	.$130d	FORSTACKP .WORD FORSTACK
1739	.$130f	DATASP .WORD DATAS
1740	.$1311	LASTVAR .WORD 0
1741	.$1313	LASTVARP .WORD 0
1742	.$1315	HIGHP .WORD STRBUF
1743	.$1317	STRBUFP .WORD STRBUF
1744	.$1319	ENDSTRBUF .WORD 0
1745	.$131b	INPUTQUEUEP .BYTE 0
1746	.$131c	PROGRAMEND
1747	.$131c	INPUTQUEUE .ARRAY $0F
1748	.$132b	FPSTACK .ARRAY 100
1749	.$138f	FORSTACK .ARRAY 340
1750	.$14e3	STRBUF .BYTE 0
