PROGRAMSTART:
JSR START
0:
10:
NOP
NOP
MOVB 53281,#0{INTEGER}
NOP
MOVB 53280,#0{INTEGER}
NOP
JSR COMPACTMAX
MOV Y,#158{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
JSR COMPACTMAX
MOV Y,#142{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
JSR COMPACTMAX
MOV Y,#8{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
JSR COMPACTMAX
MOV Y,#147{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
20:
NOP
NOP
NOP
MOV Y,TI{REAL}
NEG X,Y
MOV Y,X
RND X,Y
MOV Z%{INTEGER},X
NOP
MOV Y,#77{INTEGER}
MOV Z%{INTEGER},Y
NOP
MOVB X,1
MOV R%{INTEGER},X
NOP
30:
NOP
MOV Y,#0{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#2{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
MOV Y,I{REAL}
PUSH Y
JSR READNUMBER
POP X
MOV G,C%[]{INTEGER}
JSR ARRAYSTORE
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
40:
NOP
MOV Y,#0{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#7{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
MOV Y,#3{INTEGER}
MOV X,I{REAL}
GT X,Y
MOV Y,#400{INTEGER}
MUL X,Y
PUSH X
MOV Y,#3{INTEGER}
MOV X,I{REAL}
AND X,Y
MOV A,#3{INTEGER}
SHL X,A
MOV Y,#1024{INTEGER}
ADD X,Y
MOV Y,#124{INTEGER}
ADD X,Y
POP Y
SUB X,Y
MOV OF%{INTEGER},X
NOP
MOVB 56334,#0{INTEGER}
NOP
MOVB 1,#51{INTEGER}
50:
NOP
JSR COMPACTMAX
MOV Y,#1{INTEGER}
MOV X,I{REAL}
ADD X,Y
PUSH X
MOV C,#-1{INTEGER}
PUSH C
CHGCTX #1
MOV B,#starwars{STRING}
POP D
POP C
JSR MID
MOV B,A
CHGCTX #0
JSR ASC
MOV Y,#63{INTEGER}
AND X,Y
MOV A,#3{INTEGER}
SHL X,A
MOV Y,#53248.0{REAL}
ADD X,Y
MOV B{REAL},X
60:
NOP
MOV Y,#0{INTEGER}
MOV J{REAL},Y
NOP
MOV Y,#7{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(J{REAL})
JSR INITFOR
NOP
MOV Y,#1{INTEGER}
MOV X,J{REAL}
ADD X,Y
PUSH X
NOP
MOV Y,J{REAL}
MOV X,B{REAL}
ADD X,Y
MOV Y,X
MOVB X,(Y)
MOV Y,X
POP X
MOV G,L%[]{INTEGER}
JSR ARRAYSTORE
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
70:
NOP
MOV X,R%{INTEGER}
MOVB 1,X
NOP
MOVB 56334,#1{INTEGER}
80:
NOP
MOV Y,#0{INTEGER}
MOV J{REAL},Y
NOP
MOV Y,#8{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(J{REAL})
JSR INITFOR
NOP
MOV X,J{REAL}
MOV G,L%[]{INTEGER}
CHGCTX #0
JSR ARRAYACCESS
MOV B%{INTEGER},X
90:
NOP
MOV X,B%{INTEGER}
MOV A,#1{INTEGER}
SHL X,A
MOV Y,#255{INTEGER}
AND X,Y
PUSH X
MOV A,#1{INTEGER}
MOV X,B%{INTEGER}
SHR X,A
MOV Y,X
INT X,Y
POP Y
OR X,Y
MOV W%{INTEGER},X
100:
NOP
MOV Y,#0{INTEGER}
MOV X,J{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
NOP
MOV Y,#1{INTEGER}
MOV X,J{REAL}
SUB X,Y
MOV G,L%[]{INTEGER}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,X
MOV X,W%{INTEGER}
OR X,Y
MOV W%{INTEGER},X
NOP
SKIP0:
110:
NOP
MOV Y,#8{INTEGER}
MOV X,J{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
NOP
MOV Y,#1{INTEGER}
MOV X,J{REAL}
ADD X,Y
MOV G,L%[]{INTEGER}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,X
MOV X,W%{INTEGER}
OR X,Y
MOV W%{INTEGER},X
NOP
SKIP1:
120:
NOP
MOV Y,B%{INTEGER}
NOT X,Y
MOV Y,X
MOV X,W%{INTEGER}
AND X,Y
MOV W%{INTEGER},X
NOP
MOV Y,#7{INTEGER}
MOV K%{INTEGER},Y
130:
NOP
MOV Y,#1{INTEGER}
MOV X,W%{INTEGER}
AND X,Y
CMP X,#0{REAL}
JNE NSKIP2
JMP SKIP2
NSKIP2:
MOV Y,J{REAL}
MOV A,#5{INTEGER}
MOV X,Y
SHL X,A
MOV A,#3{INTEGER}
SHL Y,A
ADD X,Y
PUSH X
MOV Y,K%{INTEGER}
MOV X,OF%{INTEGER}
ADD X,Y
POP Y
ADD X,Y
PUSH X
MOV X,Z%{INTEGER}
POP Y
MOVB (Y),X
NOP
SKIP2:
140:
NOP
MOV X,K%{INTEGER}
JSR FDEX
MOV K%{INTEGER},X
NOP
MOV A,#1{INTEGER}
MOV X,W%{INTEGER}
SHR X,A
MOV Y,X
INT X,Y
MOV W%{INTEGER},X
NOP
MOV Y,W%{INTEGER}
CMP Y,#0{REAL}
JNE NSKIP3
JMP SKIP3
NSKIP3:
JMP 130
NOP
SKIP3:
150:
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
160:
NOP
MOV Y,#0{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#99{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
MOV Y,#1{INTEGER}
RND X,Y
MOV Y,#1000{INTEGER}
MUL X,Y
MOV Y,#1024{INTEGER}
ADD X,Y
MOV N{REAL},X
165:
NOP
MOV Y,N{REAL}
MOVB X,(Y)
MOV Y,#32{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP4
JMP SKIP4
NSKIP4:
MOV Y,N{REAL}
MOVB (Y),#46{INTEGER}
MOV Y,N{REAL}
MOV X,#54272{INTEGER}
ADD X,Y
PUSH X
MOV Y,#1{INTEGER}
RND X,Y
MOV A,#1{INTEGER}
MOV Y,X
SHL Y,A
ADD X,Y
MOV G,C%[]{INTEGER}
CHGCTX #0
JSR ARRAYACCESS
POP Y
MOVB (Y),X
NOP
SKIP4:
170:
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
MOVB 198,#0{INTEGER}
NOP
MOV Y,#198{INTEGER}
MOV X,#1{INTEGER}
WAIT0:
MOV D,(Y)
AND D,X
CMP D,#0{INTEGER}
JE WAIT0
NOP
JSR $e518
NOP
JSR END
RTS
