PROGRAMSTART:
JSR START
0:
1:
NOP
10:
NOP
MOV Y,#1024{INTEGER}
MOV SM%{INTEGER},Y
NOP
20:
NOP
MOV A,#{clr}{light gray}{ct n}{control-q}{control-q}{control-q}{control-q}{control-q}{control-q}{control-q}{control-q}{STRING}
JSR STROUT
JSR LINEBREAK
30:
NOP
MOV Y,#0{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#255{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
JSR READNUMBER
MOV A%{INTEGER},Y
NOP
MOV Y,I{REAL}
MOV X,#1024{INTEGER}
ADD X,Y
PUSH X
MOV X,A%{INTEGER}
POP Y
MOVB (Y),X
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
40:
NOP
MOV A,#{ctrl 9}{211}{208}{193}{195}{197}{ctrl 0} to start{STRING}
JSR STROUT
JSR LINEBREAK
50:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,# {STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SNEQ
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
JMP 50
NOP
SKIP0:
60:
NOP
MOV A,#{sh cursor down}{211}{207}{210}{212}{201}{206}{199}...           {STRING}
JSR STROUT
JSR LINEBREAK
70:
NOP
MOV B,#000000{STRING}
MOV TI${STRING},B
80:
NOP
100:
NOP
110:
NOP
MOV Y,#1{INTEGER}
PUSH Y
NOP
POP X
MOV Y,#0{INTEGER}
MOV G,S%[]{INTEGER}
JSR ARRAYSTORE
NOP
MOV Y,#2{INTEGER}
PUSH Y
NOP
POP X
MOV Y,#255{INTEGER}
MOV G,S%[]{INTEGER}
JSR ARRAYSTORE
NOP
MOV Y,#2{INTEGER}
MOV P%{INTEGER},Y
120:
NOP
MOV X,P%{INTEGER}
MOV G,S%[]{INTEGER}
CHGCTX #0
JSR ARRAYACCESS
MOV L%{INTEGER},X
NOP
MOV X,P%{INTEGER}
JSR FDEX
MOV P%{INTEGER},X
NOP
MOV X,P%{INTEGER}
MOV G,S%[]{INTEGER}
CHGCTX #0
JSR ARRAYACCESS
MOV F%{INTEGER},X
NOP
MOV X,P%{INTEGER}
JSR FDEX
MOV P%{INTEGER},X
NOP
MOV Y,F%{INTEGER}
MOV I%{INTEGER},Y
130:
NOP
MOV Y,L%{INTEGER}
MOV J%{INTEGER},Y
NOP
MOV Y,L%{INTEGER}
MOV X,F%{INTEGER}
ADD X,Y
MOV G%{INTEGER},X
NOP
MOV A,#1{INTEGER}
MOV X,G%{INTEGER}
SHR X,A
MOV G%{INTEGER},X
NOP
MOV Y,#1024{INTEGER}
MOV X,G%{INTEGER}
ADD X,Y
MOV G%{INTEGER},X
NOP
MOV Y,G%{INTEGER}
MOVB X,(Y)
MOV D%{INTEGER},X
140:
NOP
MOV Y,I%{INTEGER}
MOV X,#1024{INTEGER}
ADD X,Y
MOV Y,X
MOVB X,(Y)
MOV Y,D%{INTEGER}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
NOP
MOV X,I%{INTEGER}
JSR FINX
MOV I%{INTEGER},X
JMP 140
NOP
SKIP1:
150:
NOP
MOV Y,J%{INTEGER}
MOV X,#1024{INTEGER}
ADD X,Y
MOV Y,X
MOVB X,(Y)
MOV Y,D%{INTEGER}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP2
JMP SKIP2
NSKIP2:
NOP
MOV X,J%{INTEGER}
JSR FDEX
MOV J%{INTEGER},X
JMP 150
NOP
SKIP2:
160:
NOP
MOV Y,J%{INTEGER}
MOV X,I%{INTEGER}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP3
JMP SKIP3
NSKIP3:
JMP 190
NOP
SKIP3:
165:
NOP
MOV Y,I%{INTEGER}
MOV X,#1024{INTEGER}
ADD X,Y
MOV X%{INTEGER},X
NOP
MOV Y,J%{INTEGER}
MOV X,#1024{INTEGER}
ADD X,Y
MOV Y%{INTEGER},X
170:
NOP
MOV Y,X%{INTEGER}
MOVB X,(Y)
MOV T%{INTEGER},X
NOP
MOV Y,X%{INTEGER}
PUSH Y
MOV Y,Y%{INTEGER}
MOVB X,(Y)
POP Y
MOVB (Y),X
NOP
MOV Y,Y%{INTEGER}
PUSH Y
MOV X,T%{INTEGER}
POP Y
MOVB (Y),X
180:
NOP
MOV X,I%{INTEGER}
JSR FINX
MOV I%{INTEGER},X
NOP
MOV X,J%{INTEGER}
JSR FDEX
MOV J%{INTEGER},X
190:
NOP
MOV Y,J%{INTEGER}
MOV X,I%{INTEGER}
LTEQ X,Y
CMP X,#0{REAL}
JNE NSKIP4
JMP SKIP4
NSKIP4:
JMP 140
NOP
SKIP4:
200:
NOP
MOV Y,J%{INTEGER}
MOV X,F%{INTEGER}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP5
JMP SKIP5
NSKIP5:
NOP
MOV X,P%{INTEGER}
JSR FINX
MOV P%{INTEGER},X
NOP
MOV Y,P%{INTEGER}
PUSH Y
NOP
POP X
MOV Y,F%{INTEGER}
MOV G,S%[]{INTEGER}
JSR ARRAYSTORE
NOP
MOV X,P%{INTEGER}
JSR FINX
MOV P%{INTEGER},X
NOP
MOV Y,P%{INTEGER}
PUSH Y
NOP
POP X
MOV Y,J%{INTEGER}
MOV G,S%[]{INTEGER}
JSR ARRAYSTORE
NOP
SKIP5:
210:
NOP
MOV Y,I%{INTEGER}
MOV F%{INTEGER},Y
NOP
MOV Y,L%{INTEGER}
MOV X,F%{INTEGER}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP6
JMP SKIP6
NSKIP6:
JMP 130
NOP
SKIP6:
220:
NOP
MOV Y,P%{INTEGER}
CMP Y,#0{REAL}
JNE NSKIP7
JMP SKIP7
NSKIP7:
JMP 120
NOP
SKIP7:
230:
NOP
240:
NOP
MOV Y,#60{INTEGER}
MOV X,TI{REAL}
DIV X,Y
MOV Z{REAL},X
NOP
MOV X,Z{REAL}
MOV Y,#100{INTEGER}
MUL X,Y
MOV Y,X
INT X,Y
MOV Y,#100{INTEGER}
DIV X,Y
MOV Z{REAL},X
250:
NOP
MOV A,#{sh cursor down}{198}{201}{206}{201}{211}{200}{197}{196}!           {STRING}
JSR STROUT
JSR LINEBREAK
260:
NOP
MOV A,#{control-q}{212}{201}{205}{197}:{STRING}
JSR STROUT
NOP
MOV X,Z{REAL}
JSR REALOUT
JSR CRSRRIGHT
NOP
MOV A,#secs.{STRING}
JSR STROUT
JSR LINEBREAK
270:
NOP
500:
501:
502:
503:
504:
505:
506:
507:
508:
509:
510:
511:
512:
513:
514:
515:
516:
517:
518:
519:
520:
521:
522:
523:
524:
525:
526:
527:
528:
529:
530:
531:
NOP
JSR END
RTS
