PROGRAMSTART:
JSR START
0:
5:
NOP
MOVB 53280,#0{INTEGER}
NOP
MOVB 53281,#0{INTEGER}
NOP
MOVB 646,#15{INTEGER}
NOP
MOVB 650,#128{INTEGER}
10:
NOP
JSR COMPACTMAX
MOV Y,#147{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
MOV A,#initializing sprites...{STRING}
JSR STROUT
NOP
11:
NOP
MOVB 53269,#1{INTEGER}
12:
NOP
MOVB 2040,#13{INTEGER}
NOP
MOVB 53287,#14{INTEGER}
NOP
MOVB 56325,#29{INTEGER}
20:
NOP
MOV Y,#0{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#62{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
JSR READNUMBER
MOV Q{REAL},Y
NOP
MOV Y,N{REAL}
MOV X,#832{INTEGER}
ADD X,Y
PUSH X
MOV X,Q{REAL}
POP Y
MOVB (Y),X
NOP
MOV Y,N{REAL}
MOV X,#896{INTEGER}
ADD X,Y
PUSH X
MOV X,Q{REAL}
POP Y
MOVB (Y),X
NOP
MOV Y,N{REAL}
MOV X,#49152{INTEGER}
ADD X,Y
PUSH X
MOV X,Q{REAL}
POP Y
MOVB (Y),X
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
23:
NOP
MOV A,#done{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV A,#initializing machine code...{STRING}
JSR STROUT
25:
NOP
JSR GOSUB
JSR 30000
NOP
MOV A,#done{STRING}
JSR STROUT
JSR LINEBREAK
NOP
JSR GOSUB
JSR 1000
30:
NOP
MOV Y,#150{INTEGER}
MOV X{REAL},Y
NOP
MOV Y,#80{INTEGER}
MOV Y{REAL},Y
NOP
MOVB 49663,#0{INTEGER}
50:
NOP
MOV A,#8{INTEGER}
MOV X,X{REAL}
SHR X,A
MOV XH{REAL},X
NOP
MOV Y,#255{INTEGER}
MOV X,X{REAL}
AND X,Y
MOV XL{REAL},X
52:
NOP
MOV X,XL{REAL}
MOVB 49659,X
NOP
MOV X,XH{REAL}
MOVB 49660,X
NOP
MOV X,Y{REAL}
MOVB 49661,X
55:
NOP
JSR $c200
60:
NOP
MOVB 198,#0{INTEGER}
NOP
MOV Y,#198{INTEGER}
MOV X,#1{INTEGER}
WAIT0:
MOV D,(Y)
AND D,X
CMP D,#0{INTEGER}
JE WAIT0
NOP
JSR GETSTR
MOV A${STRING},A
70:
NOP
MOV B,#x{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
NOP
JSR COMPACTMAX
MOV Y,#147{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
MOVB 53269,#0{INTEGER}
MOVB 56325,#40{INTEGER}
NOP
JSR END
RTS
NOP
SKIP0:
80:
NOP
MOV B,#w{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
NOP
MOV Y,#3{INTEGER}
MOV X,Y{REAL}
SUB X,Y
MOV Y{REAL},X
JMP 115
NOP
SKIP1:
90:
NOP
MOV B,#a{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP2
JMP SKIP2
NSKIP2:
NOP
MOV Y,#3{INTEGER}
MOV X,X{REAL}
SUB X,Y
MOV X{REAL},X
JMP 118
NOP
SKIP2:
100:
NOP
MOV B,#d{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP3
JMP SKIP3
NSKIP3:
NOP
MOV Y,#3{INTEGER}
MOV X,X{REAL}
ADD X,Y
MOV X{REAL},X
JMP 118
NOP
SKIP3:
110:
NOP
MOV B,#s{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP4
JMP SKIP4
NSKIP4:
NOP
MOV Y,#3{INTEGER}
MOV X,Y{REAL}
ADD X,Y
MOV Y{REAL},X
JMP 115
NOP
SKIP4:
112:
NOP
JMP 60
115:
NOP
MOV Y,#50{INTEGER}
MOV X,Y{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP5
JMP SKIP5
NSKIP5:
NOP
MOV Y,#50{INTEGER}
MOV Y{REAL},Y
NOP
SKIP5:
116:
NOP
MOV Y,#250{INTEGER}
MOV X,Y{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP6
JMP SKIP6
NSKIP6:
NOP
MOV Y,#250{INTEGER}
MOV Y{REAL},Y
NOP
SKIP6:
117:
NOP
JMP 50
118:
NOP
MOV Y,#24{INTEGER}
MOV X,X{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP7
JMP SKIP7
NSKIP7:
NOP
MOV Y,#24{INTEGER}
MOV X{REAL},Y
NOP
SKIP7:
119:
NOP
MOV Y,#320{INTEGER}
MOV X,X{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP8
JMP SKIP8
NSKIP8:
NOP
MOV Y,#320{INTEGER}
MOV X{REAL},Y
NOP
SKIP8:
120:
NOP
JMP 50
200:
210:
220:
230:
240:
1000:
NOP
JSR COMPACTMAX
MOV Y,#147{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
1020:
NOP
MOV Y,#0{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#150{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
MOV Y,#0{INTEGER}
RND X,Y
MOV A,#5{INTEGER}
MOV Y,X
SHL X,A
MOV A,#3{INTEGER}
SHL Y,A
ADD X,Y
MOV X{REAL},X
NOP
MOV Y,#0{INTEGER}
RND X,Y
MOV A,#4{INTEGER}
MOV Y,X
SHL X,A
MOV A,#3{INTEGER}
SHL Y,A
ADD X,Y
MOV Y{REAL},X
1025:
NOP
MOV Y,Y{REAL}
MOV A,#5{INTEGER}
MOV X,Y
SHL X,A
MOV A,#3{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,X{REAL}
ADD X,Y
MOV OF{REAL},X
1030:
NOP
MOV Y,OF{REAL}
MOV X,#1024{INTEGER}
ADD X,Y
MOV Y,X
MOVB (Y),#126{INTEGER}
NOP
MOV Y,OF{REAL}
MOV X,#55296{INTEGER}
ADD X,Y
MOV Y,X
MOVB (Y),#7{INTEGER}
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
1040:
NOP
MOV Y,#0{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#6{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
MOV Y,#0{INTEGER}
RND X,Y
MOV Y,#22{INTEGER}
MUL X,Y
MOV Y,#6{INTEGER}
ADD X,Y
MOV X{REAL},X
NOP
MOV Y,#0{INTEGER}
RND X,Y
MOV A,#4{INTEGER}
MOV Y,X
SHL X,A
MOV A,#1{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,X
INT X,Y
MOV Y,#2{INTEGER}
ADD X,Y
MOV Y{REAL},X
1050:
NOP
MOV Y,#2{INTEGER}
MOV X,X{REAL}
SUB X,Y
MOV P{REAL},X
NOP
MOV Y,#2{INTEGER}
MOV X,X{REAL}
ADD X,Y
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(P{REAL})
JSR INITFOR
NOP
MOV Y,Y{REAL}
MOV A,#5{INTEGER}
MOV X,Y
SHL X,A
MOV A,#3{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,P{REAL}
ADD X,Y
MOV OF{REAL},X
NOP
MOV Y,OF{REAL}
MOV X,#1024{INTEGER}
ADD X,Y
MOV Y,X
MOVB (Y),#104{INTEGER}
NOP
MOV Y,OF{REAL}
MOV X,#55296{INTEGER}
ADD X,Y
MOV Y,X
MOVB (Y),#15{INTEGER}
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
1055:
NOP
MOV Y,#1{INTEGER}
MOV X,Y{REAL}
ADD X,Y
MOV Y{REAL},X
1060:
NOP
MOV Y,#3{INTEGER}
MOV X,X{REAL}
SUB X,Y
MOV P{REAL},X
NOP
MOV Y,#3{INTEGER}
MOV X,X{REAL}
ADD X,Y
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(P{REAL})
JSR INITFOR
NOP
MOV Y,Y{REAL}
MOV A,#5{INTEGER}
MOV X,Y
SHL X,A
MOV A,#3{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,P{REAL}
ADD X,Y
MOV OF{REAL},X
NOP
MOV Y,OF{REAL}
MOV X,#1024{INTEGER}
ADD X,Y
MOV Y,X
MOVB (Y),#104{INTEGER}
NOP
MOV Y,OF{REAL}
MOV X,#55296{INTEGER}
ADD X,Y
MOV Y,X
MOVB (Y),#15{INTEGER}
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
1065:
NOP
MOV Y,#1{INTEGER}
MOV X,Y{REAL}
ADD X,Y
MOV Y{REAL},X
1070:
NOP
MOV Y,#6{INTEGER}
MOV X,X{REAL}
SUB X,Y
MOV P{REAL},X
NOP
MOV Y,#6{INTEGER}
MOV X,X{REAL}
ADD X,Y
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(P{REAL})
JSR INITFOR
NOP
MOV Y,Y{REAL}
MOV A,#5{INTEGER}
MOV X,Y
SHL X,A
MOV A,#3{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,P{REAL}
ADD X,Y
MOV OF{REAL},X
NOP
MOV Y,OF{REAL}
MOV X,#1024{INTEGER}
ADD X,Y
MOV Y,X
MOVB (Y),#104{INTEGER}
NOP
MOV Y,OF{REAL}
MOV X,#55296{INTEGER}
ADD X,Y
MOV Y,X
MOVB (Y),#15{INTEGER}
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
1075:
NOP
MOV Y,#1{INTEGER}
MOV X,Y{REAL}
ADD X,Y
MOV Y{REAL},X
1080:
NOP
MOV Y,#4{INTEGER}
MOV X,X{REAL}
SUB X,Y
MOV P{REAL},X
NOP
MOV Y,#4{INTEGER}
MOV X,X{REAL}
ADD X,Y
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(P{REAL})
JSR INITFOR
NOP
MOV Y,Y{REAL}
MOV A,#5{INTEGER}
MOV X,Y
SHL X,A
MOV A,#3{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,P{REAL}
ADD X,Y
MOV OF{REAL},X
NOP
MOV Y,OF{REAL}
MOV X,#1024{INTEGER}
ADD X,Y
MOV Y,X
MOVB (Y),#104{INTEGER}
NOP
MOV Y,OF{REAL}
MOV X,#55296{INTEGER}
ADD X,Y
MOV Y,X
MOVB (Y),#15{INTEGER}
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
1100:
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
1102:
NOP
JSR COMPACTMAX
MOV Y,#19{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
JSR COMPACTMAX
MOV Y,#17{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
JSR COMPACTMAX
MOV Y,#17{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
JSR COMPACTMAX
MOV Y,#17{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
JSR COMPACTMAX
MOV Y,#17{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
JSR COMPACTMAX
MOV Y,#17{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
1104:
NOP
JSR COMPACTMAX
MOV Y,#29{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
JSR COMPACTMAX
MOV Y,#29{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
JSR COMPACTMAX
MOV Y,#29{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
JSR COMPACTMAX
MOV Y,#29{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
1110:
NOP
MOV A,#** use wasd to move, x to exit **{STRING}
JSR STROUT
JSR LINEBREAK
1120:
NOP
JMP RETURN
30000:
NOP
MOV Y,#49664{INTEGER}
MOV QQ{REAL},Y
NOP
MOV Y,#50535{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(QQ{REAL})
JSR INITFOR
NOP
JSR READNUMBER
MOV DQ{REAL},Y
NOP
MOV Y,QQ{REAL}
PUSH Y
MOV X,DQ{REAL}
POP Y
MOVB (Y),X
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
30001:
NOP
JMP RETURN
30002:
30003:
30004:
30005:
30006:
30007:
30008:
30009:
30010:
30011:
30012:
30013:
30014:
30015:
30016:
30017:
30018:
30019:
30020:
30021:
30022:
30023:
30024:
30025:
30026:
30027:
30028:
30029:
30030:
30031:
30032:
30033:
30034:
30035:
30036:
30037:
30038:
30039:
30040:
30041:
30042:
30043:
30044:
30045:
30046:
30047:
30048:
30049:
30050:
NOP
JSR END
RTS
