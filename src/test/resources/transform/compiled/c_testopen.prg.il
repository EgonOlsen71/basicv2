PROGRAMSTART:
JSR START
0:
1:
NOP
JSR GOSUB
JSR 1000
5:
NOP
MOV A,#scratching files...{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV Y,#8{INTEGER}
PUSH Y
MOV Y,#15{INTEGER}
PUSH Y
MOV B,#s:test*{STRING}
MOV G,B
POP D
POP C
POP X
MOV Y,#4{INTEGER}
JSR OPEN
NOP
MOV X,#1{INTEGER}
JSR CLOSE
6:
NOP
INPUT0:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP1
MOV A${STRING},A
EMPTYINPUTSKIP1:
JSR QUEUESIZE
CMP X,#0{REAL}
JNE QINPUT0_1
JSR QMARKOUT2
QINPUT0_1:
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP2
MOV B${STRING},A
EMPTYINPUTSKIP2:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK0
JSR EXTRAIGNORED
INPUTCHECK0:
NOP
MOV A,A${STRING}
JSR STROUT
JSR TABOUT
NOP
MOV A,B${STRING}
JSR STROUT
JSR LINEBREAK
NOP
JSR GOSUB
JSR 1000
10:
NOP
MOV A,#writing...{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV Y,#8{INTEGER}
PUSH Y
MOV Y,#10{INTEGER}
PUSH Y
MOV B,#test2,seq,w{STRING}
MOV G,B
POP D
POP C
POP X
MOV Y,#4{INTEGER}
JSR OPEN
NOP
MOV Y,#65.331{REAL}
MOV A{REAL},Y
15:
NOP
JSR LOCKCHANNEL
MOV Y,#1{INTEGER}
PUSH Y
NOP
MOV A,#troet{STRING}
POP C
JSR STROUTCHANNEL
JSR TABOUTCHANNEL
PUSH C
NOP
MOV A,#yeah{STRING}
POP C
JSR STROUTCHANNEL
PUSH C
NOP
MOV Y,#5{INTEGER}
CHGCTX #1
JSR TABCHANNEL
NOP
MOV A,#5{STRING}
POP C
JSR STROUTCHANNEL
PUSH C
NOP
MOV Y,#5{INTEGER}
CHGCTX #1
JSR SPCCHANNEL
NOP
MOV A,#5{STRING}
POP C
JSR STROUTCHANNEL
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
NOP
JSR LOCKCHANNEL
MOV Y,#1{INTEGER}
PUSH Y
NOP
JSR COMPACTMAX
MOV Y,#111{INTEGER}
CHGCTX #1
JSR CHR
POP C
JSR STROUTCHANNEL
PUSH C
NOP
MOV Y,#3{INTEGER}
CHGCTX #1
JSR SPCCHANNEL
POP C
JSR TABOUTCHANNEL
PUSH C
NOP
MOV X,A{REAL}
POP C
JSR REALOUTCHANNEL
MOV A,# {STRING}
JSR STROUTCHANNEL
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
20:
NOP
MOV X,#1{INTEGER}
JSR CLOSE
NOP
MOV A,#done!{STRING}
JSR STROUT
NOP
MOV Y,#5{INTEGER}
CHGCTX #1
JSR SPC
NOP
JSR COMPACTMAX
MOV Y,#33{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
NOP
JSR GOSUB
JSR 1000
21:
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV Y,#8{INTEGER}
PUSH Y
MOV Y,#10{INTEGER}
PUSH Y
MOV B,#testnum,seq,w{STRING}
MOV G,B
POP D
POP C
POP X
MOV Y,#4{INTEGER}
JSR OPEN
NOP
JSR LOCKCHANNEL
MOV Y,#1{INTEGER}
PUSH Y
NOP
MOV X,#12{INTEGER}
POP C
JSR INTOUTCHANNEL
MOV A,# {STRING}
JSR STROUTCHANNEL
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
NOP
JSR LOCKCHANNEL
MOV Y,#1{INTEGER}
PUSH Y
NOP
MOV X,#12.33{REAL}
POP C
JSR REALOUTCHANNEL
MOV A,# {STRING}
JSR STROUTCHANNEL
JSR UNLOCKCHANNEL
22:
NOP
JSR LOCKCHANNEL
MOV Y,#1{INTEGER}
PUSH Y
NOP
MOV X,#33.44{REAL}
POP C
JSR REALOUTCHANNEL
MOV A,# {STRING}
JSR STROUTCHANNEL
PUSH C
NOP
MOV X,#223{INTEGER}
POP C
JSR INTOUTCHANNEL
MOV A,# {STRING}
JSR STROUTCHANNEL
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
NOP
MOV X,#1{INTEGER}
JSR CLOSE
NOP
JSR GOSUB
JSR 1000
30:
NOP
MOV A,#reading{STRING}
JSR STROUT
JSR LINEBREAK
40:
NOP
MOV Y,#2{INTEGER}
PUSH Y
MOV Y,#8{INTEGER}
PUSH Y
MOV Y,#10{INTEGER}
PUSH Y
MOV B,#test2,seq,r{STRING}
MOV G,B
POP D
POP C
POP X
MOV Y,#4{INTEGER}
JSR OPEN
NOP
MOV B,#{STRING}
MOV A${STRING},B
50:
NOP
MOV Y,#0{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#5{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
MOV C,#2{INTEGER}
JSR GETSTRCHANNEL
MOV B${STRING},A
NOP
JSR COMPACTMAX
MOV B,B${STRING}
MOV A,A${STRING}
JSR CONCAT
JSR COPYSTR
MOV A${STRING},A
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
51:
NOP
JSR COMPACTMAX
MOV Y,#65{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
NOP
MOV Y,#2{INTEGER}
PUSH Y
JSR CLEARQUEUE
JSR COMPACTMAX
POP C
JSR INPUTSTRCHANNEL
PUSH C
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP3
MOV C${STRING},A
EMPTYINPUTSKIP3:
POP C
JSR INPUTSTRCHANNEL
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP4
MOV D${STRING},A
EMPTYINPUTSKIP4:
NOP
JSR COMPACTMAX
MOV Y,#66{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
60:
NOP
MOV X,#2{INTEGER}
JSR CLOSE
NOP
MOV A,A${STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV A,C${STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV A,D${STRING}
JSR STROUT
JSR LINEBREAK
NOP
JSR GOSUB
JSR 1000
70:
NOP
MOV A,#done!{STRING}
JSR STROUT
JSR TABOUT
NOP
MOV X,#23.33{REAL}
JSR REALOUT
JSR CRSRRIGHT
NOP
MOV X,#334{INTEGER}
JSR INTOUT
JSR LINEBREAK
NOP
JSR END
RTS
1000:
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV Y,#8{INTEGER}
PUSH Y
MOV D,#15{INTEGER}
POP C
POP X
MOV Y,#3{INTEGER}
JSR OPEN
1010:
NOP
MOV Y,#1{INTEGER}
PUSH Y
JSR CLEARQUEUE
JSR COMPACTMAX
POP C
JSR INPUTNUMBERCHANNEL
PUSH C
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP5
MOV A{REAL},Y
EMPTYINPUTSKIP5:
POP C
JSR INPUTSTRCHANNEL
PUSH C
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP6
MOV B${STRING},A
EMPTYINPUTSKIP6:
POP C
JSR INPUTNUMBERCHANNEL
PUSH C
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP7
MOV C{REAL},Y
EMPTYINPUTSKIP7:
POP C
JSR INPUTNUMBERCHANNEL
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP8
MOV D{REAL},Y
EMPTYINPUTSKIP8:
1020:
NOP
MOV X,#1{INTEGER}
JSR CLOSE
1030:
NOP
MOV X,A{REAL}
JSR REALOUT
JSR CRSRRIGHT
NOP
MOV A,B${STRING}
JSR STROUT
NOP
MOV X,C{REAL}
JSR REALOUT
JSR CRSRRIGHT
NOP
MOV X,D{REAL}
JSR REALOUT
JSR LINEBREAK
NOP
MOV A,#{down}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
JMP RETURN
NOP
JSR END
RTS
