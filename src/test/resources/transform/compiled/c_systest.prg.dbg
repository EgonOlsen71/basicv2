117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_100:
128	.$81f	LDX #4
129	.$821	dcloop235_1:
130	.$821	LDA CONST_0,X
131	.$824	STA VAR_I,X
132	.$827	DEX
133	.$828	BPL dcloop235_1
135	.$82a	LDA #<CONST_1
136	.$82c	LDY #>CONST_1
137	.$82e	JSR REALFACPUSH
139	.$831	JSR ONETOFAC
142	.$834	JSR FACYREG
144	.$837	LDA #<Y_REG
145	.$839	LDY #>Y_REG
147	.$83b	JSR REALFACPUSH
149	.$83e	LDA #<VAR_I
150	.$840	LDY #>VAR_I
151	.$842	STA A_REG
152	.$845	STY A_REG+1
153	.$848	LDA #<FORLOOP0
154	.$84a	STA JUMP_TARGET
155	.$84c	LDA #>FORLOOP0
156	.$84e	STA JUMP_TARGET+1
157	.$850	JSR INITFOR
158	.$853	FORLOOP0:
160	.$853	LINE_110:
162	.$853	JSR READNUMBER
163	.$856	JSR YREGFAC
165	.$859	LDX #<VAR_X
166	.$85b	LDY #>VAR_X
167	.$85d	JSR FACMEM
168	.$860	JSR FACXREG
169	.$863	LDA #<VAR_I
170	.$865	LDY #>VAR_I
171	.$867	JSR REALFAC
172	.$86a	LDX #<X_REG
174	.$86c	JSR FACWORD
176	.$86f	STY MOVBSELF1+1
177	.$872	STA MOVBSELF1+2
178	.$875	JSR XREGFAC
181	.$878	JSR FACWORD
182	.$87b	MOVBSELF1:
183	.$87b	STY $FFFF
184	.$87e	LDA #<VAR_X
185	.$880	LDY #>VAR_X
186	.$882	JSR REALFAC
187	.$885	LDA #<VAR_S
188	.$887	LDY #>VAR_S
189	.$889	JSR FASTFADDMEM
194	.$88c	LDX #<VAR_S
195	.$88e	LDY #>VAR_S
197	.$890	JSR FACMEM
198	.$893	LDA #0
199	.$895	STA A_REG
200	.$898	STA A_REG+1
201	.$89b	JSR NEXT
203	.$89e	LDA A_REG
204	.$8a1	BNE RBEQ_0
205	.$8a3	JMP (JUMP_TARGET)
207	.$8a6	RBEQ_0:
209	.$8a6	LINE_120:
212	.$8a6	LINE_130:
215	.$8a6	LINE_140:
218	.$8a6	LINE_150:
220	.$8a6	LDX #4
221	.$8a8	dcneloop2493_1:
222	.$8a8	LDA CONST_4R,X
223	.$8ab	CMP VAR_S,X
224	.$8ae	BNE LINE_NSKIP4
225	.$8b0	DEX
226	.$8b1	BPL dcneloop2493_1
227	.$8b3	JMP LINE_SKIP4
229	.$8b6	LINE_NSKIP4:
232	.$8b6	LDA #<CONST_5
233	.$8b8	LDY #>CONST_5
234	.$8ba	JSR STROUTBRKWL
237	.$8bd	JSR END
238	.$8c0	RTS
240	.$8c1	LINE_SKIP4:
243	.$8c1	LINE_160:
245	.$8c1	LDY #7
246	.$8c3	STY 646
248	.$8c6	LDA #147
249	.$8c8	JSR SINGLECHROUTMAX
252	.$8cb	LDX #4
253	.$8cd	dcloop733_1:
254	.$8cd	LDA CONST_0,X
255	.$8d0	STA VAR_S,X
256	.$8d3	DEX
257	.$8d4	BPL dcloop733_1
259	.$8d6	LDA #0
260	.$8d8	STA VAR_C
261	.$8db	STA VAR_C+1
262	.$8de	STA VAR_C+2
263	.$8e1	STA VAR_C+3
264	.$8e4	STA VAR_C+4
267	.$8e7	LINE_200:
269	.$8e7	LDA #0
270	.$8e9	STA VAR_I
271	.$8ec	STA VAR_I+1
272	.$8ef	STA VAR_I+2
273	.$8f2	STA VAR_I+3
274	.$8f5	STA VAR_I+4
276	.$8f8	LDA #<CONST_8
277	.$8fa	LDY #>CONST_8
278	.$8fc	JSR REALFACPUSH
280	.$8ff	LDA #<CONST_9
281	.$901	LDY #>CONST_9
282	.$903	JSR REALFACPUSH
284	.$906	LDA #<VAR_I
285	.$908	LDY #>VAR_I
286	.$90a	STA A_REG
287	.$90d	STY A_REG+1
288	.$910	LDA #<FORLOOP1
289	.$912	STA JUMP_TARGET
290	.$914	LDA #>FORLOOP1
291	.$916	STA JUMP_TARGET+1
292	.$918	JSR INITFOR
293	.$91b	FORLOOP1:
295	.$91b	LINE_205:
297	.$91b	LDA #<CONST_10R
298	.$91d	LDY #>CONST_10R
299	.$91f	JSR REALFAC
300	.$922	LDA #<VAR_C
301	.$924	LDY #>VAR_C
302	.$926	JSR MEMARG
303	.$929	JSR FASTAND
306	.$92c	JSR FACXREG
308	.$92f	LDA #<CONST_10R
309	.$931	LDY #>CONST_10R
310	.$933	JSR REALFAC
313	.$936	LDA #<X_REG
314	.$938	LDY #>X_REG
316	.$93a	JSR CMPFAC
317	.$93d	EQ_EQ1:
318	.$93d	EQ_SKIP1:
319	.$93d	COMP_SKP2:
320	.$93d	BNE LINE_SKIP5
321	.$93f	LINE_NSKIP5:
324	.$93f	LDX #4
325	.$941	dcloop1231_1:
326	.$941	LDA CONST_6R,X
327	.$944	STA VAR_C,X
328	.$947	DEX
329	.$948	BPL dcloop1231_1
332	.$94a	LINE_SKIP5:
335	.$94a	LINE_210:
337	.$94a	LDA #<VAR_I
338	.$94c	LDY #>VAR_I
339	.$94e	JSR REALFAC
342	.$951	JSR FACSIN
343	.$954	JSR FACXREG
344	.$957	LDY #3
345	.$959	STY A_REG
347	.$95c	JSR SHL
352	.$95f	JSR BASINT
354	.$962	LDX #<VAR_X
355	.$964	LDY #>VAR_X
357	.$966	JSR FACMEM
358	.$969	LDA #<VAR_I
359	.$96b	LDY #>VAR_I
360	.$96d	JSR REALFAC
363	.$970	JSR FACCOS
364	.$973	JSR FACXREG
365	.$976	LDY #3
366	.$978	STY A_REG
368	.$97b	JSR SHL
373	.$97e	JSR BASINT
374	.$981	JSR FACXREG
376	.$984	LDA #<CONST_12R
377	.$986	LDY #>CONST_12R
378	.$988	JSR REALFAC
381	.$98b	LDA #<X_REG
382	.$98d	LDY #>X_REG
384	.$98f	JSR FASTFADDMEM
388	.$992	LDX #<VAR_Y
389	.$994	LDY #>VAR_Y
391	.$996	JSR FACMEM
392	.$999	LDA #<VAR_C
393	.$99b	LDY #>VAR_C
394	.$99d	JSR COPY2_XYA_XREG
397	.$9a0	JSR XREGFAC
400	.$9a3	JSR FACWORD
401	.$9a6	STY 646
402	.$9a9	JSR ONETOFAC
404	.$9ac	LDA #<VAR_C
405	.$9ae	LDY #>VAR_C
406	.$9b0	JSR FASTFADDMEM
411	.$9b3	LDX #<VAR_C
412	.$9b5	LDY #>VAR_C
414	.$9b7	JSR FACMEM
416	.$9ba	LINE_220:
418	.$9ba	JSR COMPACTMAX
419	.$9bd	LDA #113
420	.$9bf	JSR CHRINT
423	.$9c2	LDA A_REG
424	.$9c5	LDY A_REG+1
425	.$9c8	STA TMP_ZP
426	.$9ca	STY TMP_ZP+1
427	.$9cc	LDA #<VAR_A$
428	.$9ce	LDY #>VAR_A$
429	.$9d0	JSR COPYSTRING
430	.$9d3	LDA #<CONST_14R
431	.$9d5	LDY #>CONST_14R
432	.$9d7	JSR REALFAC
433	.$9da	LDA #<VAR_X
434	.$9dc	LDY #>VAR_X
435	.$9de	JSR FASTFADDMEM
440	.$9e1	LDX #<VAR_XP
441	.$9e3	LDY #>VAR_XP
443	.$9e5	JSR FACMEM
445	.$9e8	LINE_230:
447	.$9e8	LDA #<CONST_15R
448	.$9ea	LDY #>CONST_15R
449	.$9ec	JSR REALFAC
450	.$9ef	LDA #<VAR_XP
451	.$9f1	LDY #>VAR_XP
452	.$9f3	JSR CMPFAC
454	.$9f6	BEQ GTEQ_GTEQ2
455	.$9f8	BCS GTEQ_GTEQ2
456	.$9fa	LDA #0
457	.$9fc	JMP GTEQ_SKIP2
458	.$9ff	GTEQ_GTEQ2:
459	.$9ff	LDA #$1
460	.$a01	GTEQ_SKIP2:
461	.$a01	COMP_SKP3:
462	.$a01	BEQ LINE_SKIP6
465	.$a03	LINE_NSKIP6:
467	.$a03	JMP LINE_260
469	.$a06	LINE_SKIP6:
472	.$a06	LINE_240:
474	.$a06	JSR ONETOFAC
476	.$a09	LDA #<VAR_XP
477	.$a0b	LDY #>VAR_XP
478	.$a0d	JSR FASTFADDMEM
483	.$a10	LDX #<VAR_XI
484	.$a12	LDY #>VAR_XI
486	.$a14	JSR FACMEM
488	.$a17	LINE_250:
490	.$a17	LDA #<VAR_Y
491	.$a19	LDY #>VAR_Y
493	.$a1b	JSR REALFAC
494	.$a1e	JSR FACYREG
495	.$a21	LDY #5
496	.$a23	LDA #0
497	.$a25	STY A_REG
498	.$a28	STA A_REG+1
503	.$a2b	JSR SHL
504	.$a2e	JSR FACXREG
506	.$a31	LDY #3
507	.$a33	LDA #0
508	.$a35	STY A_REG
509	.$a38	STA A_REG+1
510	.$a3b	JSR YREGFAC
513	.$a3e	JSR SHL
515	.$a41	LDA #<X_REG
516	.$a43	LDY #>X_REG
518	.$a45	JSR FASTFADDMEM
521	.$a48	JSR FACXREG
523	.$a4b	LDA #<CONST_17R
524	.$a4d	LDY #>CONST_17R
525	.$a4f	JSR REALFAC
528	.$a52	LDA #<X_REG
529	.$a54	LDY #>X_REG
531	.$a56	JSR FASTFADDMEM
534	.$a59	JSR FACXREG
536	.$a5c	LDA #<VAR_XI
537	.$a5e	LDY #>VAR_XI
538	.$a60	JSR REALFAC
540	.$a63	LDA #<X_REG
541	.$a65	LDY #>X_REG
543	.$a67	JSR FASTFADDMEM
547	.$a6a	LDX #<VAR_PO
548	.$a6c	LDY #>VAR_PO
549	.$a6e	JSR FACMEM
553	.$a71	JSR FACWORD
554	.$a74	STY MOVBSELF4+1
555	.$a77	STA MOVBSELF4+2
556	.$a7a	MOVBSELF4:
557	.$a7a	LDA $FFFF
558	.$a7d	CMP #32
559	.$a7f	BCC PEEKLT0
560	.$a81	BEQ PEEKEQ0
561	.$a83	LDA #$FF
562	.$a85	JMP PEEKDONE0
563	.$a88	PEEKLT0:
564	.$a88	LDA #$01
565	.$a8a	JMP PEEKDONE0
566	.$a8d	PEEKEQ0:
567	.$a8d	LDA #0
568	.$a8f	PEEKDONE0:
572	.$a8f	BEQ EQ_EQ3
573	.$a91	LDA #0
574	.$a93	JMP EQ_SKIP3
575	.$a96	EQ_EQ3:
576	.$a96	LDA #$1
577	.$a98	EQ_SKIP3:
578	.$a98	COMP_SKP4:
579	.$a98	BNE LINE_NSKIP7
581	.$a9a	JMP LINE_SKIP7
583	.$a9d	LINE_NSKIP7:
585	.$a9d	LDA #<VAR_PO
586	.$a9f	LDY #>VAR_PO
587	.$aa1	JSR REALFAC
590	.$aa4	JSR FACWORD
591	.$aa7	STY MOVBSELF5+1
592	.$aaa	STA MOVBSELF5+2
593	.$aad	LDA #$40
594	.$aaf	MOVBSELF5:
595	.$aaf	STA $FFFF
596	.$ab2	JSR ONETOFAC
598	.$ab5	LDA #<VAR_XI
599	.$ab7	LDY #>VAR_XI
600	.$ab9	JSR FASTFADDMEM
605	.$abc	LDX #<VAR_XI
606	.$abe	LDY #>VAR_XI
608	.$ac0	JSR FACMEM
609	.$ac3	JMP LINE_250
611	.$ac6	LINE_SKIP7:
614	.$ac6	LINE_260:
616	.$ac6	JSR SETUPMULTIPARS
617	.$ac9	LDA #<VAR_XP
618	.$acb	LDY #>VAR_XP
619	.$acd	JSR COPY2_XREG_REALPAR
621	.$ad0	LDA #<VAR_Y
622	.$ad2	LDY #>VAR_Y
623	.$ad4	JSR COPY2_XREG_REALPAR
625	.$ad7	LDA VAR_A$
626	.$ada	LDY VAR_A$+1
627	.$add	STA B_REG
628	.$ae0	STY B_REG+1
629	.$ae3	JSR COPYSTRINGPAR
630	.$ae6	JSR ADDCOLON
631	.$ae9	LDA #<VAR_S
632	.$aeb	LDY #>VAR_S
633	.$aed	JSR SYS_AND_PULLDOWN
636	.$af0	LINE_270:
638	.$af0	LDA #0
639	.$af2	STA A_REG
640	.$af5	STA A_REG+1
641	.$af8	JSR NEXT
643	.$afb	LDA A_REG
644	.$afe	BNE RBEQ_1
645	.$b00	JMP (JUMP_TARGET)
647	.$b03	RBEQ_1:
648	.$b03	JSR END
649	.$b06	RTS
652	.$b07	END   LDX SP_SAVE
653	.$b0a	TXS
660	.$b0b	RTS
663	.$b0c	SYSTEMCALLDYN
664	.$b0c	JSR XREGFAC
665	.$b0f	JSR FACWORD
666	.$b12	STY TMP_ZP
667	.$b14	STA TMP_ZP+1
668	.$b16	JMP SYSTEMCALL
671	.$b19	SYSTEMCALL
672	.$b19	LDA TMP_ZP
673	.$b1b	STA SCDO+1
674	.$b1e	LDA TMP_ZP+1
675	.$b20	STA SCDO+2
676	.$b23	LDA $030F
677	.$b26	PHA
678	.$b27	LDA $030C
679	.$b2a	LDX $030D
680	.$b2d	LDY $030E
681	.$b30	PLP
685	.$b31	SCDO  JSR $FFFF
689	.$b34	PHP
690	.$b35	STA $030C
691	.$b38	STX $030D
692	.$b3b	STY $030E
693	.$b3e	PLA
694	.$b3f	STA $030F
695	.$b42	RTS
698	.$b43	START  LDA ENDSTRBUF+1
699	.$b46	BNE ENDGIVEN
700	.$b48	LDA BASICEND
701	.$b4a	STA ENDSTRBUF
702	.$b4d	LDA BASICEND+1
703	.$b4f	STA ENDSTRBUF+1
704	.$b52	ENDGIVEN LDA #<FPSTACK
705	.$b54	LDY #>FPSTACK
706	.$b56	STA FPSTACKP
707	.$b59	STY FPSTACKP+1
708	.$b5c	LDA #<FORSTACK
709	.$b5e	LDY #>FORSTACK
710	.$b60	STA FORSTACKP
711	.$b63	STY FORSTACKP+1
712	.$b66	LDA #<STRBUF
713	.$b68	LDY #>STRBUF
714	.$b6a	STA STRBUFP
715	.$b6d	STY STRBUFP+1
716	.$b70	STA HIGHP
717	.$b73	STY HIGHP+1
718	.$b76	LDA #0
719	.$b78	STA CHLOCKFLAG
720	.$b7b	STA LASTVAR
721	.$b7e	STA LASTVAR+1
722	.$b81	JSR INITVARS
723	.$b84	LDA #0
724	.$b86	STA CMD_NUM
725	.$b89	STA CHANNEL
726	.$b8c	TAY
727	.$b8d	TAX
731	.$b8e	STA KEYNDX
737	.$b90	JSR RESTORE
738	.$b93	CLC
742	.$b94	RTS
745	.$b95	INITNARRAY
746	.$b95	STA TMP_ZP
747	.$b97	STY TMP_ZP+1
748	.$b99	LDY #0
749	.$b9b	TYA
750	.$b9c	NINITLOOP STA (TMP_ZP),Y
751	.$b9e	INC TMP_ZP
752	.$ba0	BNE NLOOPNOV
753	.$ba2	INC TMP_ZP+1
754	.$ba4	NLOOPNOV LDX TMP2_ZP
755	.$ba6	BNE NLOOPNOV2
756	.$ba8	DEC TMP2_ZP+1
757	.$baa	NLOOPNOV2 DEC TMP2_ZP
758	.$bac	BNE NINITLOOP
759	.$bae	LDX TMP2_ZP+1
760	.$bb0	BNE NINITLOOP
761	.$bb2	RTS
764	.$bb3	INITSTRARRAY
765	.$bb3	STA TMP_ZP
766	.$bb5	STY TMP_ZP+1
767	.$bb7	SINITLOOP LDY #0
768	.$bb9	LDA #<EMPTYSTR
769	.$bbb	STA (TMP_ZP),Y
770	.$bbd	LDA #>EMPTYSTR
771	.$bbf	INY
772	.$bc0	STA (TMP_ZP),Y
773	.$bc2	CLC
774	.$bc3	LDA TMP_ZP
775	.$bc5	ADC #2
776	.$bc7	STA TMP_ZP
777	.$bc9	BCC SLOOPNOV1
778	.$bcb	INC TMP_ZP+1
779	.$bcd	SLOOPNOV1 SEC
780	.$bce	LDA TMP2_ZP
781	.$bd0	SBC #2
782	.$bd2	STA TMP2_ZP
783	.$bd4	BCS SLOOPNOV2
784	.$bd6	DEC TMP2_ZP+1
785	.$bd8	SLOOPNOV2 LDA TMP2_ZP
786	.$bda	BNE SINITLOOP
787	.$bdc	LDA TMP2_ZP+1
788	.$bde	BNE SINITLOOP
789	.$be0	RTS
792	.$be1	INITSPARAMS STA TMP3_ZP
793	.$be3	STY TMP3_ZP+1
794	.$be5	SEC
795	.$be6	SBC #2
796	.$be8	STA TMP_ZP
797	.$bea	TYA
798	.$beb	SBC #0
799	.$bed	STA TMP_ZP+1
800	.$bef	LDY #0
801	.$bf1	LDA (TMP_ZP),Y
802	.$bf3	STA TMP2_ZP
803	.$bf5	INY
804	.$bf6	LDA (TMP_ZP),Y
805	.$bf8	STA TMP2_ZP+1
806	.$bfa	LDA TMP3_ZP
807	.$bfc	LDY TMP3_ZP+1
808	.$bfe	RTS
811	.$bff	INITSTRVARS LDA #<STRINGVARS_START  
812	.$c01	LDY #>STRINGVARS_START
813	.$c03	CMP #<STRINGVARS_END
814	.$c05	BNE INITIT1
815	.$c07	CPY #>STRINGVARS_END
816	.$c09	BNE INITIT1
817	.$c0b	JMP INITSA2     
818	.$c0e	INITIT1  STA TMP_ZP
819	.$c10	STY TMP_ZP+1
820	.$c12	LDY #0
821	.$c14	INITSTRLOOP LDA #<EMPTYSTR
822	.$c16	STA (TMP_ZP),Y
823	.$c18	INY
824	.$c19	LDA #>EMPTYSTR
825	.$c1b	STA (TMP_ZP),Y
826	.$c1d	DEY
827	.$c1e	LDA TMP_ZP
828	.$c20	CLC
829	.$c21	ADC #2
830	.$c23	STA TMP_ZP
831	.$c25	LDA TMP_ZP+1
832	.$c27	ADC #0
833	.$c29	STA TMP_ZP+1
834	.$c2b	CMP #>STRINGVARS_END
835	.$c2d	BNE INITSTRLOOP
836	.$c2f	LDA TMP_ZP
837	.$c31	CMP #<STRINGVARS_END
838	.$c33	BNE INITSTRLOOP
839	.$c35	INITSA2  LDA #<STRINGARRAYS_START 
840	.$c37	LDY #>STRINGARRAYS_START
841	.$c39	CMP #<STRINGARRAYS_END
842	.$c3b	BNE ARRAYLOOP
843	.$c3d	CPY #>STRINGARRAYS_END
844	.$c3f	BNE ARRAYLOOP
845	.$c41	RTS       
846	.$c42	ARRAYLOOP CLC
847	.$c43	ADC #3
848	.$c45	BCC ARRAYSKIP1
849	.$c47	INY
850	.$c48	ARRAYSKIP1 CPY #>STRINGARRAYS_END
851	.$c4a	BEQ ARRAYSC
852	.$c4c	BCC ARRAYSKIP2
853	.$c4e	JMP ARRAYQUIT
854	.$c51	ARRAYSC  CMP #<STRINGARRAYS_END
855	.$c53	BCS ARRAYQUIT
856	.$c55	ARRAYSKIP2 STA TMP_REG
857	.$c57	STY TMP_REG+1
858	.$c59	JSR INITSPARAMS
859	.$c5c	LDA TMP_REG
860	.$c5e	LDY TMP_REG+1
861	.$c60	JSR INITSTRARRAY
862	.$c63	LDA TMP_ZP
863	.$c65	LDY TMP_ZP+1
864	.$c67	JMP ARRAYLOOP
865	.$c6a	ARRAYQUIT RTS
868	.$c6b	RESTORE  LDA #<DATAS
869	.$c6d	LDY #>DATAS
870	.$c6f	STA DATASP
871	.$c72	STY DATASP+1
872	.$c75	RTS
875	.$c76	CHRINT  TAX
876	.$c77	LDA STRBUFP
877	.$c7a	STA TMP_ZP
878	.$c7c	STA A_REG
879	.$c7f	LDA STRBUFP+1
880	.$c82	STA TMP_ZP+1
881	.$c84	STA A_REG+1
882	.$c87	LDA #1
883	.$c89	LDY #0
884	.$c8b	STA (TMP_ZP),Y
885	.$c8d	TXA
886	.$c8e	INY
887	.$c8f	STA (TMP_ZP),Y
888	.$c91	LDA STRBUFP
889	.$c94	CLC
890	.$c95	ADC #2
891	.$c97	STA STRBUFP
892	.$c9a	BCC NOCHR2
893	.$c9c	INC STRBUFP+1
894	.$c9f	NOCHR2  RTS
897	.$ca0	SAVEPOINTERS
898	.$ca0	LDA TMP_ZP   
899	.$ca2	STA STORE1
900	.$ca5	LDA TMP_ZP+1
901	.$ca7	STA STORE1+1
902	.$caa	LDA TMP2_ZP
903	.$cac	STA STORE2
904	.$caf	LDA TMP2_ZP+1
905	.$cb1	STA STORE2+1
906	.$cb4	LDA TMP3_ZP
907	.$cb6	STA STORE3
908	.$cb9	LDA TMP3_ZP+1
909	.$cbb	STA STORE3+1
910	.$cbe	RTS
913	.$cbf	RESTOREPOINTERS
914	.$cbf	LDA STORE3+1  
915	.$cc2	STA TMP3_ZP+1
916	.$cc4	LDA STORE3
917	.$cc7	STA TMP3_ZP
918	.$cc9	LDA STORE2+1
919	.$ccc	STA TMP2_ZP+1
920	.$cce	LDA STORE2
921	.$cd1	STA TMP2_ZP
922	.$cd3	LDA STORE1+1
923	.$cd6	STA TMP_ZP+1
924	.$cd8	LDA STORE1
925	.$cdb	STA TMP_ZP
926	.$cdd	RTS
933	.$cde	COMPACTMAX
934	.$cde	LDA #$FF
935	.$ce0	LDY #$0
936	.$ce2	JMP COMPACTF
939	.$ce5	COMPACT
940	.$ce5	LDY #0
941	.$ce7	GCBUFNE  LDA (TMP_ZP),Y  
942	.$ce9	COMPACTF STA TMP4_REG  
943	.$cec	LDY STRBUFP+1  
944	.$cef	STY TMP4_REG+1  
945	.$cf2	INY     
946	.$cf3	BEQ ENDMEM   
947	.$cf5	CPY ENDSTRBUF+1  
948	.$cf8	BCC RGCEXIT   
949	.$cfa	ENDMEM  LDA STRBUFP
950	.$cfd	CLC
951	.$cfe	ADC TMP4_REG
952	.$d01	STA TMP4_REG
953	.$d04	BCC RGCNOOV1
954	.$d06	INC TMP4_REG+1
955	.$d09	RGCNOOV1 CLC
956	.$d0a	LDA TMP4_REG
957	.$d0d	ADC #3
958	.$d0f	STA TMP4_REG
959	.$d12	BCC RGCNOOV2
960	.$d14	INC TMP4_REG+1
961	.$d17	RGCNOOV2 LDA TMP4_REG+1  
962	.$d1a	CMP ENDSTRBUF+1
963	.$d1d	BEQ RGCLOW1
964	.$d1f	BCS GCEXECOMP  
965	.$d21	JMP RGCEXIT
966	.$d24	RGCLOW1  LDA TMP4_REG
967	.$d27	CMP ENDSTRBUF
968	.$d2a	BCS GCEXECOMP  
969	.$d2c	RGCEXIT  RTS     
970	.$d2d	GCEXECOMP LDA STRBUFP
971	.$d30	STA STORE4
972	.$d33	LDA STRBUFP+1
973	.$d36	STA STORE4+1
974	.$d39	JSR GCEXE
975	.$d3c	JMP CHECKMEMORY
978	.$d3f	GCEXE  JSR SAVEPOINTERS
979	.$d42	LDA #0
980	.$d44	STA LASTVAR
981	.$d47	STA LASTVAR+1  
982	.$d4a	LDA #<STRBUF
983	.$d4c	STA TMP_ZP
984	.$d4e	STA GCSTART
985	.$d51	LDA #>STRBUF
986	.$d53	STA TMP_ZP+1  
987	.$d55	STA GCSTART+1
988	.$d58	GCLOOP  LDY #0
989	.$d5a	LDA TMP_ZP
990	.$d5c	STA GCWORK
991	.$d5f	LDA TMP_ZP+1
992	.$d61	STA GCWORK+1  
993	.$d64	LDA (TMP_ZP),Y
994	.$d66	STA GCLEN   
995	.$d69	INC TMP_ZP
996	.$d6b	BNE GCLOOPNOOV
997	.$d6d	INC TMP_ZP+1
998	.$d6f	GCLOOPNOOV LDA TMP_ZP
999	.$d71	CLC
1000	.$d72	ADC GCLEN
1001	.$d75	STA TMP_ZP
1002	.$d77	BCC GCLOOPNOOV2
1003	.$d79	INC TMP_ZP+1  
1004	.$d7b	GCLOOPNOOV2 LDY #0
1005	.$d7d	LDA (TMP_ZP),Y
1006	.$d7f	STA TMP2_ZP
1007	.$d81	INY
1008	.$d82	LDA (TMP_ZP),Y
1009	.$d84	STA TMP2_ZP+1  
1010	.$d86	LDA TMP_ZP
1011	.$d88	CLC
1012	.$d89	ADC #2
1013	.$d8b	STA TMP_ZP
1014	.$d8d	BCC GCLOOPNOOV3
1015	.$d8f	INC TMP_ZP+1  
1016	.$d91	GCLOOPNOOV3 LDY #0
1017	.$d93	LDA (TMP2_ZP),Y
1018	.$d95	CMP GCWORK
1019	.$d98	BNE GCKLOOP
1020	.$d9a	INY
1021	.$d9b	LDA (TMP2_ZP),Y
1022	.$d9d	CMP GCWORK+1
1023	.$da0	BEQ MEMFREE
1024	.$da2	GCKLOOP  LDA TMP_ZP+1  
1025	.$da4	CMP HIGHP+1
1026	.$da7	BEQ GCHECKLOW
1027	.$da9	BCC GCLOOP
1028	.$dab	JMP GCDONE
1029	.$dae	GCHECKLOW LDA TMP_ZP
1030	.$db0	CMP HIGHP
1031	.$db3	BCS GCDONE
1032	.$db5	JMP GCLOOP
1033	.$db8	MEMFREE  LDA GCSTART   
1034	.$dbb	CMP GCWORK   
1035	.$dbe	BNE COPYDOWN
1036	.$dc0	LDA GCSTART+1
1037	.$dc3	CMP GCWORK+1
1038	.$dc6	BNE COPYDOWN
1039	.$dc8	LDA TMP_ZP   
1040	.$dca	STA GCSTART
1041	.$dcd	LDA TMP_ZP+1
1042	.$dcf	STA GCSTART+1
1043	.$dd2	JMP GCKLOOP   
1044	.$dd5	COPYDOWN LDA GCSTART   
1045	.$dd8	STA TMP_REG
1046	.$dda	LDA GCSTART+1
1047	.$ddd	STA TMP_REG+1  
1048	.$ddf	LDA GCWORK
1049	.$de2	STA TMP2_REG
1050	.$de5	LDA GCWORK+1
1051	.$de8	STA TMP2_REG+1  
1052	.$deb	LDA TMP_ZP
1053	.$ded	SEC
1054	.$dee	SBC GCWORK
1055	.$df1	STA TMP3_REG
1056	.$df4	LDA TMP_ZP+1
1057	.$df6	SBC GCWORK+1
1058	.$df9	STA TMP3_REG+1  
1059	.$dfc	LDA GCSTART
1060	.$dff	CLC
1061	.$e00	ADC TMP3_REG
1062	.$e03	STA GCSTART
1063	.$e06	LDA GCSTART+1
1064	.$e09	ADC TMP3_REG+1
1065	.$e0c	STA GCSTART+1  
1066	.$e0f	JSR QUICKCOPY  
1067	.$e12	LDY #0
1068	.$e14	LDA TMP_REG
1069	.$e16	STA (TMP2_ZP),Y
1070	.$e18	INY
1071	.$e19	LDA TMP_REG+1
1072	.$e1b	STA (TMP2_ZP),Y  
1073	.$e1d	JMP GCKLOOP
1074	.$e20	GCDONE  LDA GCSTART
1075	.$e23	STA HIGHP
1076	.$e26	STA STRBUFP
1077	.$e29	LDA GCSTART+1
1078	.$e2c	STA HIGHP+1
1079	.$e2f	STA STRBUFP+1  
1080	.$e32	GCSKIP  JSR RESTOREPOINTERS
1081	.$e35	RTS     
1084	.$e36	CHECKMEMORY
1085	.$e36	LDA STRBUFP+1  
1086	.$e39	CMP STORE4+1  
1087	.$e3c	BCC STILLFITSCM  
1091	.$e3e	BEQ CHECKMEMLOWCM
1092	.$e40	JMP OUTOFMEMORY  
1093	.$e43	CHECKMEMLOWCM
1094	.$e43	LDA STRBUFP   
1095	.$e46	CMP STORE4
1096	.$e49	BCC STILLFITSCM
1097	.$e4b	JMP OUTOFMEMORY  
1098	.$e4e	STILLFITSCM RTS
1101	.$e4f	QUICKCOPY LDA TMP_REG  
1102	.$e51	STA TMEM+1
1103	.$e54	LDA TMP_REG+1
1104	.$e56	STA TMEM+2
1105	.$e59	LDA TMP2_REG
1106	.$e5c	STA SMEM+1
1107	.$e5f	LDA TMP2_REG+1
1108	.$e62	STA SMEM+2
1109	.$e65	LDY #$0
1110	.$e67	LDX TMP3_REG
1111	.$e6a	BNE QCLOOP
1112	.$e6c	LDA TMP3_REG+1
1113	.$e6f	BEQ QCEXIT  
1114	.$e71	QCLOOP
1115	.$e71	SMEM  LDA $0000,Y
1116	.$e74	TMEM  STA $0000,Y
1117	.$e77	INY
1118	.$e78	BNE YNOOV
1119	.$e7a	INC TMEM+2
1120	.$e7d	INC SMEM+2
1121	.$e80	YNOOV  DEX
1122	.$e81	BNE QCLOOP
1123	.$e83	LDA TMP3_REG+1
1124	.$e86	BEQ QCEXIT
1125	.$e88	DEC TMP3_REG+1
1126	.$e8b	JMP QCLOOP
1127	.$e8e	QCEXIT  RTS
1130	.$e8f	COPYSTRING STA TMP2_ZP
1131	.$e91	STY TMP2_ZP+1
1132	.$e93	CPY TMP_ZP+1
1133	.$e95	BNE CONTCOPY
1134	.$e97	LDA TMP2_ZP
1135	.$e99	CMP TMP_ZP
1136	.$e9b	BNE CONTCOPY
1137	.$e9d	RTS     
1138	.$e9e	CONTCOPY JSR COMPACT   
1139	.$ea1	LDY #0
1140	.$ea3	STY TMP_FLAG
1141	.$ea6	LDA (TMP_ZP),Y
1142	.$ea8	BNE NOTEMPTYSTR
1143	.$eaa	LDA #<EMPTYSTR  
1144	.$eac	STA TMP_ZP
1145	.$eae	LDA #>EMPTYSTR
1146	.$eb0	STA TMP_ZP+1
1147	.$eb2	JMP ISCONST
1148	.$eb5	NOTEMPTYSTR TAX     
1149	.$eb6	LDA (TMP2_ZP),Y
1150	.$eb8	STA TMP3_ZP
1151	.$eba	INY
1152	.$ebb	LDA (TMP2_ZP),Y
1153	.$ebd	STA TMP3_ZP+1
1154	.$ebf	DEY
1155	.$ec0	LDA TMP_ZP+1  
1156	.$ec2	CMP #>CONSTANTS_END
1157	.$ec4	BEQ CHECKLOW1
1158	.$ec6	BCS INVAR
1159	.$ec8	JMP CHECKNEXT
1160	.$ecb	CHECKLOW1 LDA TMP_ZP
1161	.$ecd	CMP #<CONSTANTS_END
1162	.$ecf	BCS INVAR
1163	.$ed1	CHECKNEXT LDA TMP_ZP+1  
1164	.$ed3	CMP #>CONSTANTS
1165	.$ed5	BEQ CHECKLOW3
1166	.$ed7	BCC INVAR
1167	.$ed9	JMP ISCONST
1168	.$edc	CHECKLOW3 LDA TMP_ZP
1169	.$ede	CMP #<CONSTANTS
1170	.$ee0	BCC INVAR   
1171	.$ee2	ISCONST  JSR CHECKLASTVAR 
1172	.$ee5	LDA TMP_ZP
1173	.$ee7	STA (TMP2_ZP),Y  
1174	.$ee9	INY
1175	.$eea	LDA TMP_ZP+1
1176	.$eec	STA (TMP2_ZP),Y
1177	.$eee	LDA HIGHP   
1178	.$ef1	STA STRBUFP
1179	.$ef4	LDA HIGHP+1
1180	.$ef7	STA STRBUFP+1
1181	.$efa	RTS
1182	.$efb	INVAR  INY
1183	.$efc	LDA (TMP2_ZP),Y  
1184	.$efe	CMP #>CONSTANTS_END
1185	.$f00	BEQ CHECKLOW2
1186	.$f02	BCS INVAR2
1187	.$f04	JMP PUPDATEPTR
1188	.$f07	CHECKLOW2 DEY
1189	.$f08	LDA (TMP2_ZP),Y
1190	.$f0a	CMP #<CONSTANTS_END
1191	.$f0c	BCS INVAR2
1192	.$f0e	JMP PUPDATEPTR
1193	.$f11	INVAR2  LDY #0   
1194	.$f13	LDA (TMP3_ZP),Y
1195	.$f15	STA TMP_REG
1196	.$f17	TXA
1197	.$f18	CMP TMP_REG  
1198	.$f1a	BEQ UPDATEHP2 
1201	.$f1c	PUPDATEPTR JSR CHECKLASTVAR
1202	.$f1f	LDY #1   
1203	.$f21	STY TMP_FLAG 
1204	.$f24	JMP UPDATEPTR 
1205	.$f27	UPDATEHP2 LDA HIGHP  
1206	.$f2a	STA STRBUFP
1207	.$f2d	LDA HIGHP+1
1208	.$f30	STA STRBUFP+1
1209	.$f33	JMP STRFITS
1210	.$f36	COPYONLY LDY #0
1211	.$f38	STY TMP_FLAG
1212	.$f3b	JMP CHECKMEM
1213	.$f3e	ALTCOPY  JMP COPYSTRING2
1214	.$f41	UPDATEPTR LDA TMP_ZP+1 
1215	.$f43	CMP HIGHP+1  
1216	.$f46	BEQ CHECKXT1
1217	.$f48	BCS ALTCOPY
1218	.$f4a	JMP CHECKMEM
1219	.$f4d	CHECKXT1 LDA TMP_ZP
1220	.$f4f	CMP HIGHP
1221	.$f52	BCS ALTCOPY
1222	.$f54	CHECKMEM
1223	.$f54	MEMOK  LDY #0
1224	.$f56	LDA STRBUFP  
1225	.$f59	STA (TMP2_ZP),Y 
1226	.$f5b	STA TMP3_ZP
1227	.$f5d	LDA STRBUFP+1
1228	.$f60	INY
1229	.$f61	STA (TMP2_ZP),Y
1230	.$f63	STA TMP3_ZP+1
1231	.$f65	TXA
1232	.$f66	CLC
1233	.$f67	ADC STRBUFP
1234	.$f6a	PHP
1235	.$f6b	CLC
1236	.$f6c	ADC #3
1237	.$f6e	STA STRBUFP
1238	.$f71	BCC NOCS1
1239	.$f73	INC STRBUFP+1
1240	.$f76	NOCS1  PLP
1241	.$f77	BCC STRFITS
1242	.$f79	INC STRBUFP+1
1243	.$f7c	STRFITS  LDY TMP_FLAG 
1244	.$f7f	BEQ NOHPUPDATE 
1245	.$f81	LDA HIGHP+1
1246	.$f84	CMP STRBUFP+1
1247	.$f87	BCC UPDATEHIGHP
1248	.$f89	BEQ CHECKNEXTHP
1249	.$f8b	JMP NOHPUPDATE
1250	.$f8e	CHECKNEXTHP LDA HIGHP
1251	.$f91	CMP STRBUFP
1252	.$f94	BCC UPDATEHIGHP
1253	.$f96	JMP NOHPUPDATE
1254	.$f99	UPDATEHIGHP LDA STRBUFP
1255	.$f9c	STA HIGHP
1256	.$f9f	LDA STRBUFP+1
1257	.$fa2	STA HIGHP+1  
1258	.$fa5	JSR REMEMBERLASTVAR
1259	.$fa8	JSR STOREVARREF
1260	.$fab	NOHPUPDATE LDY #0
1261	.$fad	LDA (TMP_ZP),Y 
1262	.$faf	STA (TMP3_ZP),Y
1263	.$fb1	TAY    
1264	.$fb2	BEQ EXITCOPY 
1265	.$fb4	LOOP  LDA (TMP_ZP),Y 
1266	.$fb6	STA (TMP3_ZP),Y
1267	.$fb8	DEY
1268	.$fb9	BNE LOOP
1269	.$fbb	EXITCOPY RTS
1274	.$fbc	COPYSTRING2 LDY #0
1275	.$fbe	LDA (TMP_ZP),Y
1276	.$fc0	STA TMP_REG
1277	.$fc2	TAX
1278	.$fc3	LDA HIGHP
1279	.$fc6	STA TMP3_ZP
1280	.$fc8	STA (TMP2_ZP),Y
1281	.$fca	LDA HIGHP+1
1282	.$fcd	STA TMP3_ZP+1
1283	.$fcf	INY
1284	.$fd0	STA (TMP2_ZP),Y
1285	.$fd2	JSR REMEMBERLASTVAR
1288	.$fd5	LDA TMP_ZP
1289	.$fd7	CMP TMP3_ZP
1290	.$fd9	BNE DOLOOP
1291	.$fdb	LDA TMP_ZP+1
1292	.$fdd	CMP TMP3_ZP+1
1293	.$fdf	BEQ SKIPCP2
1294	.$fe1	DOLOOP  DEY
1295	.$fe2	TXA
1296	.$fe3	STA (TMP3_ZP),Y
1297	.$fe5	INY
1298	.$fe6	ASLOOP  LDA (TMP_ZP),Y
1299	.$fe8	STA (TMP3_ZP),Y
1300	.$fea	INY
1301	.$feb	DEX
1302	.$fec	BNE ASLOOP
1303	.$fee	SKIPCP2  LDA HIGHP
1304	.$ff1	CLC
1305	.$ff2	ADC TMP_REG
1306	.$ff4	PHP
1307	.$ff5	CLC
1308	.$ff6	ADC #3
1309	.$ff8	STA HIGHP
1310	.$ffb	STA STRBUFP
1311	.$ffe	BCC SKIPLOWAS1
1312	.$1000	INC HIGHP+1
1313	.$1003	SKIPLOWAS1 PLP
1314	.$1004	BCC SKIPLOWAS2
1315	.$1006	INC HIGHP+1
1316	.$1009	SKIPLOWAS2 LDA HIGHP+1
1317	.$100c	STA STRBUFP+1
1318	.$100f	JSR STOREVARREF
1319	.$1012	RTS
1323	.$1013	CHECKLASTVAR
1324	.$1013	LDA TMP2_ZP
1325	.$1015	CMP LASTVAR
1326	.$1018	BNE NOTSAMEVAR
1327	.$101a	LDA TMP2_ZP+1
1328	.$101c	CMP LASTVAR+1
1329	.$101f	BNE NOTSAMEVAR
1330	.$1021	LDA LASTVARP   
1331	.$1024	STA HIGHP
1332	.$1027	STA STRBUFP
1333	.$102a	LDA LASTVARP+1
1334	.$102d	STA HIGHP+1
1335	.$1030	STA STRBUFP+1
1336	.$1033	NOTSAMEVAR RTS
1340	.$1034	REMEMBERLASTVAR
1341	.$1034	LDA TMP2_ZP
1342	.$1036	STA LASTVAR
1343	.$1039	LDA TMP2_ZP+1
1344	.$103b	STA LASTVAR+1
1345	.$103e	LDA TMP3_ZP
1346	.$1040	STA LASTVARP
1347	.$1043	LDA TMP3_ZP+1
1348	.$1045	STA LASTVARP+1 
1349	.$1048	RTS
1354	.$1049	STOREVARREF
1355	.$1049	TYA
1356	.$104a	PHA    
1357	.$104b	LDA TMP_ZP
1358	.$104d	PHA
1359	.$104e	LDA TMP_ZP+1
1360	.$1050	PHA
1361	.$1051	LDA HIGHP+1
1362	.$1054	STA TMP_ZP+1
1363	.$1056	LDA HIGHP
1364	.$1059	SEC
1365	.$105a	SBC #2
1366	.$105c	STA TMP_ZP
1367	.$105e	BCS RLVNOOV
1368	.$1060	DEC TMP_ZP+1
1369	.$1062	RLVNOOV  LDA TMP2_ZP
1370	.$1064	LDY #0
1371	.$1066	STA (TMP_ZP),Y
1372	.$1068	LDA TMP2_ZP+1
1373	.$106a	INY
1374	.$106b	STA (TMP_ZP),Y 
1375	.$106d	PLA
1376	.$106e	STA TMP_ZP+1
1377	.$1070	PLA
1378	.$1071	STA TMP_ZP  
1379	.$1073	PLA
1380	.$1074	TAY    
1381	.$1075	RTS
1384	.$1076	REROUTE  LDA CMD_NUM  
1385	.$1079	BEQ REROUTECMD
1386	.$107b	TAX
1387	.$107c	STA CHANNEL
1388	.$107f	JMP CHKOUT
1389	.$1082	REROUTECMD RTS
1392	.$1083	RESETROUTE LDA CMD_NUM  
1393	.$1086	BEQ RESETROUTECMD
1394	.$1088	JMP CLRCHNEW
1395	.$108b	RESETROUTECMD
1396	.$108b	RTS
1399	.$108c	SINGLECHROUTMAX
1400	.$108c	JSR SINGLECHROUT
1401	.$108f	JMP COMPACTMAX
1404	.$1092	SINGLECHROUT
1405	.$1092	STA TMP_ZP
1406	.$1094	JSR REROUTE
1407	.$1097	LDA TMP_ZP
1408	.$1099	JSR CHROUT
1409	.$109c	JMP RESETROUTE
1412	.$109f	STROUTBRKWL STA A_REG
1413	.$10a2	STY A_REG+1
1414	.$10a5	STROUTBRK JSR REROUTE
1415	.$10a8	LDA A_REG
1416	.$10ab	STA INDEX1
1417	.$10ad	LDA A_REG+1
1418	.$10b0	STA INDEX1+1
1419	.$10b2	LDY #0
1420	.$10b4	LDA (INDEX1),Y
1421	.$10b6	TAX
1422	.$10b7	INC INDEX1
1423	.$10b9	BNE PRINTSTR2
1424	.$10bb	INC INDEX1+1
1425	.$10bd	PRINTSTR2 JSR PRINTSTRS
1426	.$10c0	LDA HIGHP   
1427	.$10c3	STA STRBUFP
1428	.$10c6	LDA HIGHP+1
1429	.$10c9	STA STRBUFP+1
1430	.$10cc	LDA #$0D
1431	.$10ce	JSR CHROUT
1432	.$10d1	JMP RESETROUTE  
1435	.$10d4	ADJUSTSTACK LDA FORSTACKP 
1436	.$10d7	STA TMP_ZP
1437	.$10d9	LDA FORSTACKP+1
1438	.$10dc	STA TMP_ZP+1
1439	.$10de	ADSEARCHFOR LDA TMP_ZP
1440	.$10e0	CMP #<FORSTACK
1441	.$10e2	BNE ADJUST2
1442	.$10e4	LDA TMP_ZP+1
1443	.$10e6	CMP #>FORSTACK
1444	.$10e8	BNE ADJUST2
1445	.$10ea	RTS    
1446	.$10eb	ADJUST2  LDA TMP_ZP
1447	.$10ed	SEC
1448	.$10ee	SBC #2
1449	.$10f0	STA TMP_ZP
1450	.$10f2	BCS ADNOPV1N1
1451	.$10f4	DEC TMP_ZP+1
1452	.$10f6	ADNOPV1N1 LDY #0
1453	.$10f8	LDA (TMP_ZP),Y
1454	.$10fa	BNE ADNOGOSUB
1455	.$10fc	RTS    
1456	.$10fd	ADNOGOSUB
1457	.$10fd	INY
1458	.$10fe	LDA TMP_ZP
1459	.$1100	SEC
1460	.$1101	SBC (TMP_ZP),Y
1461	.$1103	STA TMP_ZP
1462	.$1105	BCS ADNOPV1N2
1463	.$1107	DEC TMP_ZP+1
1464	.$1109	ADNOPV1N2 DEY
1465	.$110a	LDA A_REG
1466	.$110d	ADCMPFOR CMP (TMP_ZP),Y
1467	.$110f	BNE ADSEARCHFOR
1468	.$1111	LDA A_REG+1
1469	.$1114	INY
1470	.$1115	CMP (TMP_ZP),Y
1471	.$1117	BEQ ADFOUNDFOR
1472	.$1119	JMP ADSEARCHFOR
1473	.$111c	ADLOW0  LDX A_REG+1
1474	.$111f	BEQ ADFOUNDFOR
1475	.$1121	BNE ADCMPFOR
1476	.$1123	ADFOUNDFOR LDA TMP_ZP  
1477	.$1125	STA FORSTACKP
1478	.$1128	LDA TMP_ZP+1
1479	.$112a	STA FORSTACKP+1
1480	.$112d	RTS
1483	.$112e	INITFOR  JSR ADJUSTSTACK
1484	.$1131	LDA FORSTACKP
1485	.$1134	STA TMP_ZP
1486	.$1136	LDA FORSTACKP+1
1487	.$1139	STA TMP_ZP+1
1488	.$113b	LDY #0
1489	.$113d	LDA A_REG
1490	.$1140	STA (TMP_ZP),Y
1491	.$1142	INY
1492	.$1143	LDA A_REG+1
1493	.$1146	STA (TMP_ZP),Y
1494	.$1148	INY
1495	.$1149	LDA JUMP_TARGET
1496	.$114b	STA (TMP_ZP),Y
1497	.$114d	INY
1498	.$114e	LDA JUMP_TARGET+1
1499	.$1150	STA (TMP_ZP),Y
1500	.$1152	INY
1501	.$1153	STY TMP3_ZP
1502	.$1155	JSR INCTMPZP
1503	.$1158	JSR POPREAL
1504	.$115b	LDX TMP_ZP
1505	.$115d	LDY TMP_ZP+1
1507	.$115f	JSR FACMEM
1508	.$1162	JSR SGNFAC
1509	.$1165	STA TMP_FLAG
1510	.$1168	LDY #5
1511	.$116a	STY TMP3_ZP
1512	.$116c	JSR INCTMPZP
1513	.$116f	JSR POPREAL
1514	.$1172	LDX TMP_ZP
1515	.$1174	LDY TMP_ZP+1
1517	.$1176	JSR FACMEM
1518	.$1179	LDY #5
1519	.$117b	STY TMP3_ZP
1520	.$117d	JSR INCTMPZP
1521	.$1180	LDY #0
1522	.$1182	LDA TMP_FLAG
1523	.$1185	STA (TMP_ZP),Y
1524	.$1187	INY
1525	.$1188	LDA #1
1526	.$118a	STA (TMP_ZP),Y
1527	.$118c	INY
1528	.$118d	LDA #15
1529	.$118f	STA (TMP_ZP),Y
1530	.$1191	LDY #3
1531	.$1193	STY TMP3_ZP
1532	.$1195	JSR INCTMPZP
1533	.$1198	LDA TMP_ZP
1534	.$119a	STA FORSTACKP
1535	.$119d	LDA TMP_ZP+1
1536	.$119f	STA FORSTACKP+1
1537	.$11a2	RTS
1540	.$11a3	NEXT  LDA FORSTACKP
1541	.$11a6	STA TMP_ZP
1542	.$11a8	LDA FORSTACKP+1
1543	.$11ab	STA TMP_ZP+1
1544	.$11ad	SEARCHFOR LDA TMP_ZP+1
1545	.$11af	STA TMP3_REG+1
1546	.$11b2	LDA TMP_ZP
1547	.$11b4	STA TMP3_REG
1548	.$11b7	SEC
1549	.$11b8	SBC #2
1550	.$11ba	STA TMP_ZP
1551	.$11bc	BCS NOPV1N1
1552	.$11be	DEC TMP_ZP+1
1553	.$11c0	NOPV1N1  LDY #0
1554	.$11c2	LDA (TMP_ZP),Y
1555	.$11c4	BNE NOGOSUB
1556	.$11c6	JMP NEXTWOFOR
1557	.$11c9	NOGOSUB
1558	.$11c9	INY
1559	.$11ca	LDA TMP_ZP
1560	.$11cc	SEC
1561	.$11cd	SBC (TMP_ZP),Y
1562	.$11cf	STA TMP_ZP
1563	.$11d1	BCS NOPV1N2
1564	.$11d3	DEC TMP_ZP+1
1565	.$11d5	NOPV1N2  DEY
1566	.$11d6	LDA A_REG
1567	.$11d9	BEQ LOW0
1568	.$11db	CMPFOR  CMP (TMP_ZP),Y
1569	.$11dd	BNE SEARCHFOR
1570	.$11df	LDA A_REG+1
1571	.$11e2	INY
1572	.$11e3	CMP (TMP_ZP),Y
1573	.$11e5	BEQ FOUNDFOR
1574	.$11e7	JMP SEARCHFOR
1575	.$11ea	LOW0  LDX A_REG+1
1576	.$11ed	BEQ FOUNDFOR
1577	.$11ef	BNE CMPFOR
1578	.$11f1	FOUNDFOR LDA TMP_ZP
1579	.$11f3	STA TMP2_REG
1580	.$11f6	LDA TMP_ZP+1
1581	.$11f8	STA TMP2_REG+1
1582	.$11fb	VARREAL
1583	.$11fb	LDY #0
1584	.$11fd	STY A_REG+1 
1585	.$1200	LDA (TMP_ZP),Y
1586	.$1202	TAX
1587	.$1203	INY
1588	.$1204	LDA (TMP_ZP),Y
1589	.$1206	TAY
1590	.$1207	TXA
1591	.$1208	JSR REALFAC
1592	.$120b	CALCNEXT LDA TMP_ZP
1593	.$120d	CLC
1594	.$120e	ADC #4
1595	.$1210	STA TMP_ZP
1596	.$1212	BCC NOPV2IN
1597	.$1214	INC TMP_ZP+1
1598	.$1216	NOPV2IN  STA TMP_REG
1599	.$1218	LDY TMP_ZP+1
1600	.$121a	STY TMP_REG+1
1601	.$121c	JSR FASTFADDMEM
1603	.$121f	LDA TMP2_REG
1604	.$1222	STA TMP_ZP
1605	.$1224	LDA TMP2_REG+1
1606	.$1227	STA TMP_ZP+1
1607	.$1229	STOREREAL
1608	.$1229	LDY #0
1609	.$122b	LDA (TMP_ZP),Y
1610	.$122d	TAX
1611	.$122e	INY
1612	.$122f	LDA (TMP_ZP),Y
1613	.$1231	TAY
1614	.$1232	JSR FACMEM 
1615	.$1235	CMPFORXX LDA #5
1616	.$1237	STA TMP3_ZP
1617	.$1239	LDA TMP_REG
1618	.$123b	CLC
1619	.$123c	ADC #5
1620	.$123e	STA TMP_REG
1621	.$1240	BCC NOPV3
1622	.$1242	INC TMP_REG+1
1623	.$1244	NOPV3  LDY TMP_REG+1
1624	.$1246	JSR CMPFAC  
1625	.$1249	BEQ LOOPING
1626	.$124b	PHA
1627	.$124c	LDY #14
1628	.$124e	LDA (TMP_ZP),Y
1629	.$1250	BEQ STEPZERO
1630	.$1252	ROL
1631	.$1253	BCC STEPPOS
1632	.$1255	STEPNEG  PLA
1633	.$1256	ROL
1634	.$1257	BCC LOOPING
1635	.$1259	BCS EXITLOOP
1636	.$125b	STEPPOS  PLA
1637	.$125c	ROL
1638	.$125d	BCC EXITLOOP
1639	.$125f	LOOPING  LDA TMP3_REG
1640	.$1262	STA FORSTACKP
1641	.$1265	LDA TMP3_REG+1
1642	.$1268	STA FORSTACKP+1
1643	.$126b	LDA TMP2_REG
1644	.$126e	CLC
1645	.$126f	ADC #2
1646	.$1271	STA TMP2_REG
1647	.$1274	BCC NOPV4IN
1648	.$1276	INC TMP2_REG+1
1649	.$1279	NOPV4IN  LDY #0
1650	.$127b	STY A_REG
1651	.$127e	STA TMP_ZP
1652	.$1280	LDA TMP2_REG+1
1653	.$1283	STA TMP_ZP+1
1654	.$1285	LDA (TMP_ZP),Y
1655	.$1287	STA JUMP_TARGET
1656	.$1289	INY
1657	.$128a	LDA (TMP_ZP),Y
1658	.$128c	STA JUMP_TARGET+1
1659	.$128e	RTS
1660	.$128f	STEPZERO PLA
1661	.$1290	JMP LOOPING
1662	.$1293	EXITLOOP LDA TMP2_REG
1663	.$1296	STA FORSTACKP
1664	.$1299	LDA TMP2_REG+1
1665	.$129c	STA FORSTACKP+1
1666	.$129f	LDA #1
1667	.$12a1	STA A_REG
1668	.$12a4	RTS
1671	.$12a5	READINIT LDA DATASP
1672	.$12a8	STA TMP3_ZP
1673	.$12aa	LDA DATASP+1
1674	.$12ad	STA TMP3_ZP+1
1675	.$12af	LDY #$0
1676	.$12b1	LDA (TMP3_ZP),Y
1677	.$12b3	INC TMP3_ZP
1678	.$12b5	BNE READNOOV
1679	.$12b7	INC TMP3_ZP+1
1680	.$12b9	READNOOV CMP #$FF
1681	.$12bb	BNE MOREDATA
1682	.$12bd	JMP OUTOFDATA
1683	.$12c0	MOREDATA RTS
1686	.$12c1	READADDPTR STX TMP_REG+1
1687	.$12c3	LDA TMP3_ZP
1688	.$12c5	CLC
1689	.$12c6	ADC TMP_REG+1
1690	.$12c8	STA TMP3_ZP
1691	.$12ca	BCC READADDPTRX
1692	.$12cc	INC TMP3_ZP+1
1693	.$12ce	READADDPTRX RTS
1696	.$12cf	READNUMBER JSR READINIT
1697	.$12d2	MORENUMDATA CMP #$2    
1698	.$12d4	BNE NUMNUM
1699	.$12d6	LDA (TMP3_ZP),Y  
1700	.$12d8	BEQ RNESTR
1701	.$12da	CMP #1    
1702	.$12dc	BEQ STRGNUMCHK
1703	.$12de	JMP SYNTAXERROR
1704	.$12e1	STRGNUMCHK  INY
1705	.$12e2	LDA (TMP3_ZP),Y
1706	.$12e4	CMP #46    
1707	.$12e6	BEQ RNESTR2
1708	.$12e8	CMP #69    
1709	.$12ea	BEQ RNESTR2
1710	.$12ec	JMP SYNTAXERROR
1711	.$12ef	RNESTR2  LDA #0
1712	.$12f1	LDY #0
1713	.$12f3	JSR INTFAC
1714	.$12f6	LDX #2
1715	.$12f8	JSR READADDPTR
1716	.$12fb	JMP NUMREAD
1717	.$12fe	RNESTR  LDA #0
1718	.$1300	LDY #0
1719	.$1302	JSR INTFAC
1720	.$1305	LDX #1
1721	.$1307	JSR READADDPTR
1722	.$130a	JMP NUMREAD
1723	.$130d	NUMNUM  CMP #$1
1724	.$130f	BEQ NUMREADREAL
1725	.$1311	CMP #$0
1726	.$1313	BEQ NUMREADINT
1727	.$1315	CMP #$4
1728	.$1317	BCS READNOTYPE
1729	.$1319	LDA (TMP3_ZP),Y
1730	.$131b	TAY
1731	.$131c	JSR BYTEFAC
1732	.$131f	LDX #1
1733	.$1321	JSR READADDPTR
1734	.$1324	JMP NUMREAD   
1735	.$1327	READNOTYPE TAY     
1736	.$1328	JSR BYTEFAC
1737	.$132b	JMP NUMREAD
1738	.$132e	NUMREADINT LDA (TMP3_ZP),Y  
1739	.$1330	STA TMP_REG
1740	.$1332	INY
1741	.$1333	LDA (TMP3_ZP),Y
1742	.$1335	LDY TMP_REG
1743	.$1337	JSR INTFAC
1744	.$133a	LDX #2
1745	.$133c	JSR READADDPTR
1746	.$133f	JMP NUMREAD
1747	.$1342	NUMREADREAL LDA TMP3_ZP
1748	.$1344	LDY TMP3_ZP+1
1749	.$1346	JSR REALFAC
1750	.$1349	LDX #5
1751	.$134b	JSR READADDPTR
1752	.$134e	NUMREAD  JSR NEXTDATA
1753	.$1351	JMP FACYREG  
1756	.$1354	NEXTDATA LDA TMP3_ZP   
1757	.$1356	STA DATASP
1758	.$1359	LDA TMP3_ZP+1
1759	.$135b	STA DATASP+1
1760	.$135e	RTS
1763	.$135f	REALFACPUSH STA TMP_ZP
1764	.$1361	STY TMP_ZP+1
1765	.$1363	LDX FPSTACKP
1766	.$1366	LDY FPSTACKP+1
1767	.$1369	STX TMP2_ZP
1768	.$136b	STY TMP2_ZP+1
1769	.$136d	LDY #0
1770	.$136f	LDA (TMP_ZP),Y
1771	.$1371	STA (TMP2_ZP),Y
1772	.$1373	INY
1773	.$1374	LDA (TMP_ZP),Y
1774	.$1376	STA (TMP2_ZP),Y
1775	.$1378	INY
1776	.$1379	LDA (TMP_ZP),Y
1777	.$137b	STA (TMP2_ZP),Y
1778	.$137d	INY
1779	.$137e	LDA (TMP_ZP),Y
1780	.$1380	STA (TMP2_ZP),Y
1781	.$1382	INY
1782	.$1383	LDA (TMP_ZP),Y
1783	.$1385	STA (TMP2_ZP),Y
1784	.$1387	TXA    
1785	.$1388	CLC
1786	.$1389	ADC #5
1787	.$138b	STA FPSTACKP
1788	.$138e	BCC NOPVRFPXX
1789	.$1390	INC FPSTACKP+1
1790	.$1393	NOPVRFPXX RTS
1793	.$1394	POPREAL  LDA FPSTACKP
1794	.$1397	SEC
1795	.$1398	SBC #5
1796	.$139a	STA FPSTACKP
1797	.$139d	BCS NOPVPR
1798	.$139f	DEC FPSTACKP+1
1799	.$13a2	NOPVPR  LDA FPSTACKP
1800	.$13a5	LDY FPSTACKP+1
1801	.$13a8	JMP REALFAC
1804	.$13ab	SHL   LDA FACEXP
1805	.$13ad	BEQ SHLOK
1806	.$13af	CLC
1807	.$13b0	ADC A_REG
1808	.$13b3	BCC SHLOK
1809	.$13b5	LDA #0
1810	.$13b7	STA FACSGN
1811	.$13b9	STA FACLO
1812	.$13bb	STA FACMO
1813	.$13bd	STA FACMOH
1814	.$13bf	STA FACHO
1815	.$13c1	LDA #$FF
1816	.$13c3	SHLOK  STA FACEXP
1817	.$13c5	RTS
1820	.$13c6	INCTMPZP LDA TMP_ZP
1821	.$13c8	CLC
1822	.$13c9	ADC TMP3_ZP
1823	.$13cb	STA TMP_ZP
1824	.$13cd	BCC NOPV2
1825	.$13cf	INC TMP_ZP+1
1826	.$13d1	NOPV2  RTS
1829	.$13d2	COPY2_XYA_XREG
1830	.$13d2	STA TMP3_ZP
1831	.$13d4	STY TMP3_ZP+1
1832	.$13d6	COPY2_XY_XREG
1833	.$13d6	LDX #<X_REG  
1834	.$13d8	LDY #0
1835	.$13da	LDA (TMP3_ZP),Y
1836	.$13dc	STA X_REG
1837	.$13de	INY
1838	.$13df	LDA (TMP3_ZP),Y
1839	.$13e1	STA X_REG+1
1840	.$13e3	INY
1841	.$13e4	LDA (TMP3_ZP),Y
1842	.$13e6	STA X_REG+2
1843	.$13e8	INY
1844	.$13e9	LDA (TMP3_ZP),Y
1845	.$13eb	STA X_REG+3
1846	.$13ed	INY
1847	.$13ee	LDA (TMP3_ZP),Y
1848	.$13f0	STA X_REG+4
1849	.$13f2	RTS
1853	.$13f3	FACWORD
1854	.$13f3	LDA FACEXP   
1855	.$13f5	BNE DOFACWORD
1856	.$13f7	STA FACSGN   
1857	.$13f9	DOFACWORD:
1858	.$13f9	JMP XFACWORD
1862	.$13fc	ONETOFAC    LDX #129
1863	.$13fe	STX FAC
1864	.$1400	DEX
1865	.$1401	STX FAC+1
1866	.$1403	LDX #0
1867	.$1405	STX FAC+2
1868	.$1407	STX FAC+3
1869	.$1409	STX FAC+4
1870	.$140b	STX FAC+5
1871	.$140d	STX FAC+15
1872	.$140f	RTS
1875	.$1410	FASTAND  LDA ARGEXP   
1876	.$1412	BNE CHECKFAC
1877	.$1414	STA FACSGN   
1878	.$1416	STA FACLO
1879	.$1418	STA FACMO
1880	.$141a	STA FACMOH
1881	.$141c	STA FACHO
1882	.$141e	STA FACEXP
1883	.$1420	RTS
1884	.$1421	CHECKFAC LDA FACEXP   
1885	.$1423	BNE FACNOTNULL
1886	.$1425	STA FACSGN   
1887	.$1427	RTS    
1888	.$1428	FACNOTNULL CMP #$81
1889	.$142a	BNE NORMALAND
1890	.$142c	LDA FACHO
1891	.$142e	CMP #$80
1892	.$1430	BNE NORMALAND
1893	.$1432	LDA FACMOH
1894	.$1434	BNE NORMALAND
1895	.$1436	LDA FACMO
1896	.$1438	BNE NORMALAND
1897	.$143a	LDA FACLO
1898	.$143c	BNE NORMALAND
1899	.$143e	LDA FACSGN
1900	.$1440	ROL
1901	.$1441	BCC NORMALAND
1902	.$1443	LDA ARGEXP   
1903	.$1445	CMP #$81
1904	.$1447	BNE NORMALAND
1905	.$1449	LDA ARGHO
1906	.$144b	CMP #$80
1907	.$144d	BNE NORMALAND
1908	.$144f	LDA ARGMOH
1909	.$1451	BNE NORMALAND
1910	.$1453	LDA ARGMO
1911	.$1455	BNE NORMALAND
1912	.$1457	LDA ARGLO
1913	.$1459	BNE NORMALAND
1914	.$145b	LDA ARGSGN
1915	.$145d	ROL
1916	.$145e	BCC NORMALAND
1917	.$1460	RTS    
1918	.$1461	NORMALAND JMP ARGAND
1921	.$1464	CLRCHNEW
1922	.$1464	LDA CHLOCKFLAG
1923	.$1467	BNE SKIPCLRCH
1924	.$1469	JMP CLRCH
1925	.$146c	SKIPCLRCH
1926	.$146c	RTS
1929	.$146d	NEXTWOFOR
1933	.$146d	LDX #$0A
1934	.$146f	JMP ERRALL
1937	.$1472	OUTOFDATA
1941	.$1472	LDX #$0D
1942	.$1474	JMP ERRALL
1945	.$1477	OUTOFMEMORY
1949	.$1477	LDX #$10
1950	.$1479	JMP ERRALL
1953	.$147c	ILLEGALQUANTITY
1957	.$147c	JMP ERRIQ
1960	.$147f	SYNTAXERROR
1964	.$147f	JMP ERRSYN
1967	.$1482	SETUPMULTIPARS
1968	.$1482	LDA BASICPOINTER
1969	.$1484	STA BPOINTER_TMP
1970	.$1487	LDA BASICPOINTER+1
1971	.$1489	STA BPOINTER_TMP+1
1972	.$148c	LDA #<BASICBUFFER
1973	.$148e	STA BASICPOINTER
1974	.$1490	LDA #>BASICBUFFER
1975	.$1492	STA BASICPOINTER+1
1976	.$1494	LDA #0
1977	.$1496	STA BASICTEXTP
1978	.$1499	RTS
1981	.$149a	COPYSTRINGPAR
1982	.$149a	JSR ADDKOMMA
1983	.$149d	COPYSTRINGPARNK
1984	.$149d	JSR ADDQUOTE
1985	.$14a0	LDA B_REG
1986	.$14a3	STA TMP_ZP
1987	.$14a5	LDA B_REG+1
1988	.$14a8	STA TMP_ZP+1
1989	.$14aa	LDY #0
1990	.$14ac	LDA (TMP_ZP),Y
1991	.$14ae	TAX
1992	.$14af	INC TMP_ZP
1993	.$14b1	BNE CONTBASICC
1994	.$14b3	INC TMP_ZP+1
1995	.$14b5	CONTBASICC JSR BASICCOPY
1996	.$14b8	JSR ADDQUOTE
1997	.$14bb	RTS
2000	.$14bc	COPY2_XREG_REALPAR
2001	.$14bc	JSR COPY2_XYA_XREG
2002	.$14bf	JMP COPYREALPAR
2005	.$14c2	SYS_AND_PULLDOWN
2006	.$14c2	JSR COPY2_XYA_XREG
2007	.$14c5	JSR SYSTEMCALLDYN
2008	.$14c8	JMP PULLDOWNMULTIPARS
2011	.$14cb	COPYREALPAR
2012	.$14cb	JSR ADDKOMMA
2013	.$14ce	COPYREALPARNK
2014	.$14ce	JSR XREGFAC
2015	.$14d1	LDY #1
2016	.$14d3	JSR FACSTR
2017	.$14d6	LDY #0
2018	.$14d8	DEY
2019	.$14d9	CRPSTRLOOP INY
2020	.$14da	LDA LOFBUFH,Y
2021	.$14dd	BNE CRPSTRLOOP
2022	.$14df	STY LOFBUF
2023	.$14e1	TYA
2024	.$14e2	TAX   
2025	.$14e3	LDA #<LOFBUFH
2026	.$14e5	STA TMP_ZP
2027	.$14e7	LDA #>LOFBUFH
2028	.$14e9	STA TMP_ZP+1
2029	.$14eb	LDY #0
2030	.$14ed	LDA (TMP_ZP),Y
2031	.$14ef	CMP #$20
2032	.$14f1	BNE CRPOK
2033	.$14f3	DEX
2034	.$14f4	INC TMP_ZP
2035	.$14f6	BNE CRPOK
2036	.$14f8	INC TMP_ZP+1
2037	.$14fa	CRPOK  JSR BASICCOPY
2038	.$14fd	RTS
2041	.$14fe	ADDGENERIC
2042	.$14fe	LDY BASICTEXTP
2043	.$1501	STA (TMP2_ZP),Y
2044	.$1503	INY
2045	.$1504	STY BASICTEXTP
2046	.$1507	RTS
2049	.$1508	ADDKOMMA
2050	.$1508	JSR BASICTEXTINIT
2051	.$150b	LDA #$2C
2052	.$150d	JMP ADDGENERIC
2055	.$1510	ADDCOLON
2056	.$1510	JSR BASICTEXTINIT
2057	.$1513	LDA #$3A
2058	.$1515	JMP ADDGENERIC
2061	.$1518	ADDQUOTE
2062	.$1518	JSR BASICTEXTINIT
2063	.$151b	LDA #$22
2064	.$151d	JMP ADDGENERIC
2067	.$1520	PULLDOWNMULTIPARS
2068	.$1520	LDA BPOINTER_TMP
2069	.$1523	STA BASICPOINTER
2070	.$1525	LDA BPOINTER_TMP+1
2071	.$1528	STA BASICPOINTER+1
2072	.$152a	RTS
2075	.$152b	BASICTEXTINIT
2076	.$152b	LDA #<BASICBUFFER
2077	.$152d	STA TMP2_ZP
2078	.$152f	LDA #>BASICBUFFER
2079	.$1531	STA TMP2_ZP+1
2080	.$1533	RTS
2083	.$1534	BASICCOPY
2084	.$1534	LDY BASICTEXTP
2085	.$1537	LDA #0
2086	.$1539	STA TMP2_REG
2087	.$153c	JSR BASICTEXTINIT
2088	.$153f	BASICCOPYLOOP
2089	.$153f	TYA
2090	.$1540	PHA
2091	.$1541	LDY TMP2_REG
2092	.$1544	LDA (TMP_ZP),Y
2093	.$1546	STA TMP2_REG+1
2094	.$1549	INY
2095	.$154a	STY TMP2_REG
2096	.$154d	PLA
2097	.$154e	TAY
2098	.$154f	LDA TMP2_REG+1
2099	.$1552	STA (TMP2_ZP),Y
2100	.$1554	INY
2101	.$1555	DEX
2102	.$1556	BNE BASICCOPYLOOP
2103	.$1558	STY BASICTEXTP
2104	.$155b	RTS
2107	.$155c	FACXREG  LDA FACLO
2108	.$155e	STA X_REG+4
2109	.$1560	LDA FACMO
2110	.$1562	STA X_REG+3
2111	.$1564	LDA FACMOH
2112	.$1566	STA X_REG+2
2113	.$1568	LDA FACSGN
2114	.$156a	ORA #$7F
2115	.$156c	AND FACHO
2116	.$156e	STA X_REG+1
2117	.$1570	LDA FACEXP
2118	.$1572	STA X_REG
2119	.$1574	LDA #0   
2120	.$1576	STA FACOV
2121	.$1578	RTS
2124	.$1579	FACYREG  LDA FACLO
2125	.$157b	STA Y_REG+4
2126	.$157e	LDA FACMO
2127	.$1580	STA Y_REG+3
2128	.$1583	LDA FACMOH
2129	.$1585	STA Y_REG+2
2130	.$1588	LDA FACSGN
2131	.$158a	ORA #$7F
2132	.$158c	AND FACHO
2133	.$158e	STA Y_REG+1
2134	.$1591	LDA FACEXP
2135	.$1593	STA Y_REG
2136	.$1596	LDA #0   
2137	.$1598	STA FACOV
2138	.$159a	RTS
2141	.$159b	XREGFAC  LDA X_REG+4
2142	.$159d	STA FACLO
2143	.$159f	LDA X_REG+3
2144	.$15a1	STA FACMO
2145	.$15a3	LDA X_REG+2
2146	.$15a5	STA FACMOH
2147	.$15a7	LDA X_REG+1
2148	.$15a9	STA FACSGN
2149	.$15ab	ORA #$80
2150	.$15ad	STA FACHO
2151	.$15af	LDA X_REG
2152	.$15b1	STA FACEXP
2153	.$15b3	LDA #0
2154	.$15b5	STA FACOV
2155	.$15b7	RTS
2158	.$15b8	YREGFAC  LDA Y_REG+4
2159	.$15bb	STA FACLO
2160	.$15bd	LDA Y_REG+3
2161	.$15c0	STA FACMO
2162	.$15c2	LDA Y_REG+2
2163	.$15c5	STA FACMOH
2164	.$15c7	LDA Y_REG+1
2165	.$15ca	STA FACSGN
2166	.$15cc	ORA #$80
2167	.$15ce	STA FACHO
2168	.$15d0	LDA Y_REG
2169	.$15d3	STA FACEXP
2170	.$15d5	LDA #0
2171	.$15d7	STA FACOV
2172	.$15d9	RTS
2286	.$15da	FASTFADDMEM
2287	.$15da	JSR MEMARG
2288	.$15dd	FASTFADDARG
2289	.$15dd	BNE FADDRET2     
2290	.$15df	JMP ARGFAC
2291	.$15e2	FADDRET2 LDA ARGEXP
2292	.$15e4	BNE FADDRET1     
2293	.$15e6	RTS
2294	.$15e7	FADDRET1 SEC
2295	.$15e8	SBC FACEXP
2296	.$15ea	BEQ FFADD_EXPEQ     
2297	.$15ec	BCC FFADD_SHFARG1   
2301	.$15ee	LDY ARGEXP
2302	.$15f0	STY FACEXP
2303	.$15f2	LDY ARGSGN
2304	.$15f4	STY FACSGN
2305	.$15f6	LDX #0
2306	.$15f8	STX OLDOV        
2307	.$15fa	LDX #FAC         
2309	.$15fc	SEC
2310	.$15fd	SBC #$08
2311	.$15ff	BMI FFADD_SHFFAC2
2313	.$1601	FFADD_SHFFAC1
2314	.$1601	LDY FACLO        
2315	.$1603	STY FACOV
2316	.$1605	LDY FACMO        
2317	.$1607	STY FACMO+1
2318	.$1609	LDY FACMOH       
2319	.$160b	STY FACMOH+1
2320	.$160d	LDY FACHO        
2321	.$160f	STY FACHO+1
2322	.$1611	LDY #0
2323	.$1613	STY FACHO        
2324	.$1615	SBC #$08         
2325	.$1617	BPL FFADD_SHFFAC1   
2326	.$1619	FFADD_SHFFAC2
2327	.$1619	ADC #$08         
2328	.$161b	BEQ FFADD_SHFFAC4   
2329	.$161d	TAY
2330	.$161e	LDA FACOV
2331	.$1620	FFADD_SHFFAC3
2332	.$1620	LSR FACHO        
2333	.$1622	ROR FACMOH       
2334	.$1624	ROR FACMO        
2335	.$1626	ROR FACLO        
2336	.$1628	ROR              
2337	.$1629	DEY
2338	.$162a	BNE FFADD_SHFFAC3
2339	.$162c	JMP FFADD_MANADD2   
2340	.$162f	FFADD_SHFFAC4
2341	.$162f	LDA FACOV        
2342	.$1631	JMP FFADD_MANADD2
2343	.$1634	FFADD_EXPEQ
2344	.$1634	LDX FACOV
2345	.$1636	STX OLDOV
2348	.$1638	JMP FFADD_MANADD1
2349	.$163b	FFADD_SHFARG2
2350	.$163b	LDA FACOV        
2351	.$163d	JMP FFADD_MANADD1
2352	.$1640	FFADD_SHFARG1
2353	.$1640	LDX FACOV
2354	.$1642	STX OLDOV        
2355	.$1644	LDX #$00         
2358	.$1646	ADC #$08
2359	.$1648	BPL FFADD_SHFARG6   
2360	.$164a	FFADD_SHFARG3
2361	.$164a	LDX ARGLO        
2362	.$164c	LDY ARGMO        
2363	.$164e	STY ARGMO+1
2364	.$1650	LDY ARGMOH       
2365	.$1652	STY ARGMOH+1
2366	.$1654	LDY ARGHO        
2367	.$1656	STY ARGHO+1
2368	.$1658	LDY #0
2369	.$165a	STY ARGHO        
2370	.$165c	FFADD_SHFARG4
2371	.$165c	ADC #$08
2372	.$165e	BMI FFADD_SHFARG3
2373	.$1660	BEQ FFADD_SHFARG3
2374	.$1662	FFADD_SHFARG6
2375	.$1662	SBC #$08
2376	.$1664	BEQ FFADD_SHFARG2   
2377	.$1666	TAY
2378	.$1667	TXA              
2379	.$1668	FFADD_SHFARG5
2380	.$1668	LSR ARGHO
2381	.$166a	ROR ARGMOH
2382	.$166c	ROR ARGMO
2383	.$166e	ROR ARGLO
2384	.$1670	ROR           
2385	.$1671	INY
2386	.$1672	BNE FFADD_SHFARG5
2387	.$1674	FFADD_MANADD1
2388	.$1674	LDX #ARGEXP      
2389	.$1676	FFADD_MANADD2
2390	.$1676	BIT ARISGN
2391	.$1678	BMI FFADD_MANSUB1   
2392	.$167a	CLC
2393	.$167b	ADC OLDOV
2394	.$167d	STA FACOV
2395	.$167f	LDA FACLO
2396	.$1681	ADC ARGLO
2397	.$1683	STA FACLO
2398	.$1685	LDA FACMO
2399	.$1687	ADC ARGMO
2400	.$1689	STA FACMO
2401	.$168b	LDA FACMOH
2402	.$168d	ADC ARGMOH
2403	.$168f	STA FACMOH
2404	.$1691	LDA FACHO
2405	.$1693	ADC ARGHO
2406	.$1695	STA FACHO
2407	.$1697	BCC FFADD_RNDRTS
2408	.$1699	INC FACEXP
2409	.$169b	BEQ FFADD_OVERR
2411	.$169d	ROR FACHO
2412	.$169f	ROR FACMOH
2413	.$16a1	ROR FACMO
2414	.$16a3	ROR FACLO
2415	.$16a5	ROR FACOV
2416	.$16a7	FFADD_RNDRTS
2417	.$16a7	RTS
2418	.$16a8	FFADD_OVERR
2419	.$16a8	JMP ILLEGALQUANTITY
2420	.$16ab	FFADD_MANSUB1
2421	.$16ab	LDY #FACEXP
2422	.$16ad	CPX #ARGEXP
2423	.$16af	BEQ FFADD_MANSUB2
2424	.$16b1	LDY #ARGEXP
2425	.$16b3	FFADD_MANSUB2
2426	.$16b3	SEC              
2427	.$16b4	EOR #$FF
2428	.$16b6	ADC OLDOV
2429	.$16b8	STA FACOV
2430	.$16ba	LDA 4,Y
2431	.$16bd	SBC 4,X
2432	.$16bf	STA FACLO
2433	.$16c1	LDA 3,Y
2434	.$16c4	SBC 3,X
2435	.$16c6	STA FACMO
2436	.$16c8	LDA 2,Y
2437	.$16cb	SBC 2,X
2438	.$16cd	STA FACMOH
2439	.$16cf	LDA 1,Y
2440	.$16d2	SBC 1,X
2441	.$16d4	STA FACHO
2442	.$16d6	BCS FCNORMAL
2443	.$16d8	LDA FACSGN
2444	.$16da	EOR #$FF
2445	.$16dc	STA FACSGN
2446	.$16de	LDA FACHO
2447	.$16e0	EOR #$FF
2448	.$16e2	STA FACHO
2449	.$16e4	LDA FACMOH
2450	.$16e6	EOR #$FF
2451	.$16e8	STA FACMOH
2452	.$16ea	LDA FACMO
2453	.$16ec	EOR #$FF
2454	.$16ee	STA FACMO
2455	.$16f0	LDA FACLO
2456	.$16f2	EOR #$FF
2457	.$16f4	STA FACLO
2458	.$16f6	LDA FACOV
2459	.$16f8	EOR #$FF
2460	.$16fa	CLC
2461	.$16fb	ADC #1
2462	.$16fd	STA FACOV
2463	.$16ff	BNE FCNORMAL
2464	.$1701	INC FACLO
2465	.$1703	BNE FCNORMAL
2466	.$1705	INC FACMO
2467	.$1707	BNE FCNORMAL
2468	.$1709	INC FACMOH
2469	.$170b	BNE FCNORMAL
2470	.$170d	INC FACHO
2471	.$170f	FCNORMAL   BIT FACHO
2472	.$1711	BMI FFADD_RET       
2473	.$1713	LDA #0           
2474	.$1715	CLC
2475	.$1716	FFADD_NORM3
2476	.$1716	LDX FACHO
2477	.$1718	BNE FFADD_NORM1
2478	.$171a	LDX FACHO+1
2479	.$171c	STX FACHO
2480	.$171e	LDX FACMOH+1
2481	.$1720	STX FACMOH
2482	.$1722	LDX FACMO+1
2483	.$1724	STX FACMO
2484	.$1726	LDX FACOV
2485	.$1728	STX FACLO
2486	.$172a	LDX #0
2487	.$172c	STX FACOV
2488	.$172e	ADC #$08
2489	.$1730	CMP #$20
2490	.$1732	BNE FFADD_NORM3
2491	.$1734	JMP FFADD_ZEROFAC
2492	.$1737	FFADD_NORM2
2493	.$1737	CLC
2494	.$1738	ADC #1
2495	.$173a	ASL FACOV
2496	.$173c	ROL FACLO
2497	.$173e	ROL FACMO
2498	.$1740	ROL FACMOH
2499	.$1742	ROL FACHO
2500	.$1744	FFADD_NORM1
2501	.$1744	BPL FFADD_NORM2     
2502	.$1746	SEC
2503	.$1747	SBC FACEXP
2504	.$1749	BCS FFADD_ZEROFAC
2505	.$174b	EOR #$FF
2506	.$174d	CLC
2507	.$174e	ADC #1
2508	.$1750	STA FACEXP
2509	.$1752	FFADD_RET   RTS
2510	.$1753	FFADD_ZEROFAC
2511	.$1753	LDX #0
2512	.$1755	STX FACEXP
2513	.$1757	STX FACSGN
2514	.$1759	RTS
2517	.$175a	INITVARS
2518	.$175a	JSR INITSTRVARS
2519	.$175d	LDA #0
2520	.$175f	LDY #4
2521	.$1761	REALINITLOOP0:
2522	.$1761	STA VAR_I,Y
2523	.$1764	STA VAR_X,Y
2524	.$1767	STA VAR_S,Y
2525	.$176a	STA VAR_C,Y
2526	.$176d	STA VAR_Y,Y
2527	.$1770	STA VAR_XP,Y
2528	.$1773	STA VAR_XI,Y
2529	.$1776	STA VAR_PO,Y
2530	.$1779	DEY
2531	.$177a	BMI REALLOOPEXIT0
2532	.$177c	JMP REALINITLOOP0
2533	.$177f	REALLOOPEXIT0:
2534	.$177f	RTS
2538	.$1780	CONSTANTS
2541	.$1780	CONST_0 .REAL 49152
2544	.$1785	CONST_1 .REAL 49177
2553	.$178a	CONST_4R .REAL 3566.0
2555	.$178f	CONST_5 .BYTE 20
2556	.$1790	.STRG "fehler in den datas!"
2559	.$17a4	CONST_6R .REAL 7.0
2565	.$17a9	CONST_8 .REAL 6.28318
2568	.$17ae	CONST_9 .REAL 0.1
2571	.$17b3	CONST_10R .REAL 6.0
2577	.$17b8	CONST_12R .REAL 10.0
2583	.$17bd	CONST_14R .REAL 20.0
2586	.$17c2	CONST_15R .REAL 18.0
2592	.$17c7	CONST_17R .REAL 1024.0
2601	.$17cc	DATAS
2602	.$17cc	.BYTE 32
2603	.$17cd	.BYTE 253
2604	.$17ce	.BYTE 174
2605	.$17cf	.BYTE 32
2606	.$17d0	.BYTE 158
2607	.$17d1	.BYTE 183
2608	.$17d2	.BYTE 138
2609	.$17d3	.BYTE 72
2610	.$17d4	.BYTE 32
2611	.$17d5	.BYTE 253
2612	.$17d6	.BYTE 174
2613	.$17d7	.BYTE 32
2614	.$17d8	.BYTE 158
2615	.$17d9	.BYTE 183
2616	.$17da	.BYTE 104
2617	.$17db	.BYTE 168
2618	.$17dc	.BYTE 24
2619	.$17dd	.BYTE 32
2620	.$17de	.BYTE 240
2621	.$17df	.BYTE 3
2622	.$17e0	.BYTE 255
2623	.$17e1	.BYTE 32
2624	.$17e2	.BYTE 253
2625	.$17e3	.BYTE 174
2626	.$17e4	.BYTE 76
2627	.$17e5	.BYTE 164
2628	.$17e6	.BYTE 170
2629	.$17e7	.BYTE $FF
2631	.$17e8	CONSTANTS_END
2634	.$17e8	VARIABLES
2636	.$17e8	VAR_I .REAL 0.0
2638	.$17ed	VAR_X .REAL 0.0
2640	.$17f2	VAR_S .REAL 0.0
2642	.$17f7	VAR_C .REAL 0.0
2644	.$17fc	VAR_Y .REAL 0.0
2646	.$1801	VAR_XP .REAL 0.0
2648	.$1806	VAR_XI .REAL 0.0
2650	.$180b	VAR_PO .REAL 0.0
2651	.$1810	STRINGVARS_START
2653	.$1810	VAR_A$ .WORD EMPTYSTR
2655	.$1812	VAR_TI$ .WORD EMPTYSTR
2656	.$1814	STRINGVARS_END
2657	.$1814	STRINGARRAYS_START
2658	.$1814	STRINGARRAYS_END
2659	.$1814	VARIABLES_END
2661	.$1814	Y_REG .REAL 0.0
2662	.$1819	C_REG .REAL 0.0
2663	.$181e	D_REG .REAL 0.0
2664	.$1823	E_REG .REAL 0.0
2665	.$1828	F_REG .REAL 0.0
2666	.$182d	A_REG .WORD 0
2667	.$182f	B_REG .WORD 0
2668	.$1831	CMD_NUM .BYTE 0
2669	.$1832	CHANNEL .BYTE 0
2670	.$1833	SP_SAVE .BYTE 0
2671	.$1834	TMP2_REG .WORD 0
2672	.$1836	TMP3_REG .WORD 0
2673	.$1838	TMP4_REG .WORD 0
2674	.$183a	AS_TMP .WORD 0
2675	.$183c	BPOINTER_TMP .WORD 0
2676	.$183e	BASICTEXTP .BYTE 0
2677	.$183f	STORE1 .WORD 0
2678	.$1841	STORE2 .WORD 0
2679	.$1843	STORE3 .WORD 0
2680	.$1845	STORE4 .WORD 0
2681	.$1847	GCSTART .WORD 0
2682	.$1849	GCLEN .WORD 0
2683	.$184b	GCWORK .WORD 0
2684	.$184d	INPUTLENGTH .BYTE 0
2685	.$184e	TMP_FREG .REAL 0
2686	.$1853	TMP2_FREG .REAL 0
2687	.$1858	TMP_FLAG .BYTE 0
2688	.$1859	INT_FLAG .BYTE 0
2689	.$185a	REAL_CONST_ONE .REAL 1.0
2690	.$185f	REAL_CONST_ZERO .REAL 0.0
2691	.$1864	REAL_CONST_MINUS_ONE .REAL -1.0
2692	.$1869	CHLOCKFLAG .BYTE 0
2693	.$186a	EMPTYSTR .BYTE 0
2694	.$186b	FPSTACKP .WORD FPSTACK
2695	.$186d	FORSTACKP .WORD FORSTACK
2696	.$186f	DATASP .WORD DATAS
2697	.$1871	LASTVAR .WORD 0
2698	.$1873	LASTVARP .WORD 0
2699	.$1875	HIGHP .WORD STRBUF
2700	.$1877	STRBUFP .WORD STRBUF
2701	.$1879	ENDSTRBUF .WORD 0
2702	.$187b	INPUTQUEUEP .BYTE 0
2703	.$187c	PROGRAMEND
2704	.$187c	INPUTQUEUE .ARRAY $0F
2705	.$188b	FPSTACK .ARRAY 100
2706	.$18ef	FORSTACK .ARRAY 340
2707	.$1a43	STRBUF .BYTE 0
