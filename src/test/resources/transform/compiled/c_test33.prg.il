PROGRAMSTART:
JSR START
0:
10:
NOP
INPUT0:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#text{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP1
MOV A${STRING},A
EMPTYINPUTSKIP1:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK0
JSR EXTRAIGNORED
INPUTCHECK0:
20:
NOP
MOV Y,#1{INTEGER}
MOV I{REAL},Y
NOP
MOV B,A${STRING}
CHGCTX #0
JSR LEN
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
30:
NOP
JSR COMPACTMAX
MOV C,I{REAL}
MOV D,#1{INTEGER}
CHGCTX #1
MOV B,A${STRING}
JSR MID
JSR STROUT
40:
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
JSR LINEBREAK
50:
NOP
MOV Y,#1{INTEGER}
MOV I{REAL},Y
NOP
MOV B,A${STRING}
CHGCTX #0
JSR LEN
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
60:
NOP
JSR COMPACTMAX
MOV C,I{REAL}
MOV D,#2{INTEGER}
CHGCTX #1
MOV B,A${STRING}
JSR MID
JSR STROUT
70:
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
JSR LINEBREAK
80:
NOP
MOV Y,#1{INTEGER}
MOV I{REAL},Y
NOP
MOV B,A${STRING}
CHGCTX #0
JSR LEN
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
90:
NOP
JSR COMPACTMAX
MOV C,I{REAL}
CHGCTX #1
MOV B,A${STRING}
JSR LEFT
JSR STROUT
100:
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
JSR LINEBREAK
NOP
JSR END
RTS
