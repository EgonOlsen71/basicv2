117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_5:
128	.$81f	LDX #4
129	.$821	dcloop401_1:
130	.$821	LDA CONST_0,X
131	.$824	STA VAR_KK,X
132	.$827	DEX
133	.$828	BPL dcloop401_1
135	.$82a	LDA #<CONST_1R
136	.$82c	LDY #>CONST_1R
137	.$82e	JSR REALFAC
138	.$831	LDA #<VAR_KK
139	.$833	LDY #>VAR_KK
140	.$835	JSR FACDIV
144	.$838	LDX #<VAR_KK
145	.$83a	LDY #>VAR_KK
147	.$83c	JSR FACMEM
148	.$83f	LDA #<VAR_KK
149	.$841	LDY #>VAR_KK
150	.$843	JSR COPY2_XYA_XREG
154	.$846	JSR REALOUT
155	.$849	JSR CRSRRIGHT
156	.$84c	JSR TABOUT
157	.$84f	LDA #<VAR_KK
158	.$851	LDY #>VAR_KK
159	.$853	JSR REALFAC
162	.$856	JSR BASINT
163	.$859	JSR FACXREG
165	.$85c	JSR INTOUTBRK
167	.$85f	LDA #<VAR_KK
168	.$861	LDY #>VAR_KK
169	.$863	JSR COPY2_XYA_XREG
173	.$866	LDA #<CONST_2
174	.$868	LDY #>CONST_2
175	.$86a	JSR REALFAC
177	.$86d	LDA #<X_REG
178	.$86f	LDY #>X_REG
180	.$871	JSR FASTFMULMEM
183	.$874	LDX #<VAR_KK
184	.$876	LDY #>VAR_KK
186	.$878	JSR FACMEM
187	.$87b	LDA #<VAR_KK
188	.$87d	LDY #>VAR_KK
189	.$87f	JSR COPY2_XYA_XREG
193	.$882	JSR REALOUT
194	.$885	JSR CRSRRIGHT
195	.$888	JSR TABOUT
196	.$88b	LDA #<VAR_KK
197	.$88d	LDY #>VAR_KK
198	.$88f	JSR REALFAC
201	.$892	JSR BASINT
202	.$895	JSR FACXREG
204	.$898	JSR INTOUTBRK
207	.$89b	LINE_10:
209	.$89b	LDX #4
210	.$89d	dcloop567_1:
211	.$89d	LDA CONST_3R,X
212	.$8a0	STA VAR_KK,X
213	.$8a3	DEX
214	.$8a4	BPL dcloop567_1
216	.$8a6	LDA #<VAR_KK
217	.$8a8	LDY #>VAR_KK
218	.$8aa	JSR COPY2_XYA_XREG
222	.$8ad	JSR REALOUT
223	.$8b0	JSR CRSRRIGHT
224	.$8b3	JSR TABOUT
225	.$8b6	LDA #<VAR_KK
226	.$8b8	LDY #>VAR_KK
227	.$8ba	JSR REALFAC
230	.$8bd	JSR BASINT
231	.$8c0	JSR FACXREG
233	.$8c3	JSR INTOUTBRK
236	.$8c6	LINE_20:
238	.$8c6	LDY #$05
239	.$8c8	STY TMP_ZP
240	.$8ca	LDA #$00
241	.$8cc	STA TMP_ZP+1
242	.$8ce	JSR INTOUTBRKFAST
247	.$8d1	LINE_30:
249	.$8d1	LDY #$00
250	.$8d3	STY TMP_ZP
251	.$8d5	LDA #$00
252	.$8d7	STA TMP_ZP+1
253	.$8d9	JSR INTOUTBRKFAST
258	.$8dc	LINE_40:
260	.$8dc	LDA #<CONST_5
261	.$8de	LDY #>CONST_5
262	.$8e0	JSR COPY2_XYA_XREG
266	.$8e3	JSR REALOUTBRK
268	.$8e6	JSR END
269	.$8e9	RTS
272	.$8ea	END   LDX SP_SAVE
273	.$8ed	TXS
280	.$8ee	RTS
283	.$8ef	START  LDA ENDSTRBUF+1
284	.$8f2	BNE ENDGIVEN
285	.$8f4	LDA BASICEND
286	.$8f6	STA ENDSTRBUF
287	.$8f9	LDA BASICEND+1
288	.$8fb	STA ENDSTRBUF+1
289	.$8fe	ENDGIVEN LDA #<FPSTACK
290	.$900	LDY #>FPSTACK
291	.$902	STA FPSTACKP
292	.$905	STY FPSTACKP+1
293	.$908	LDA #<FORSTACK
294	.$90a	LDY #>FORSTACK
295	.$90c	STA FORSTACKP
296	.$90f	STY FORSTACKP+1
297	.$912	LDA #<STRBUF
298	.$914	LDY #>STRBUF
299	.$916	STA STRBUFP
300	.$919	STY STRBUFP+1
301	.$91c	STA HIGHP
302	.$91f	STY HIGHP+1
303	.$922	LDA #0
304	.$924	STA CHLOCKFLAG
305	.$927	STA LASTVAR
306	.$92a	STA LASTVAR+1
307	.$92d	JSR INITVARS
308	.$930	LDA #0
309	.$932	STA CMD_NUM
310	.$935	STA CHANNEL
311	.$938	TAY
312	.$939	TAX
316	.$93a	STA KEYNDX
322	.$93c	JSR RESTORE
323	.$93f	CLC
327	.$940	RTS
330	.$941	INITNARRAY
331	.$941	STA TMP_ZP
332	.$943	STY TMP_ZP+1
333	.$945	LDY #0
334	.$947	TYA
335	.$948	NINITLOOP STA (TMP_ZP),Y
336	.$94a	INC TMP_ZP
337	.$94c	BNE NLOOPNOV
338	.$94e	INC TMP_ZP+1
339	.$950	NLOOPNOV LDX TMP2_ZP
340	.$952	BNE NLOOPNOV2
341	.$954	DEC TMP2_ZP+1
342	.$956	NLOOPNOV2 DEC TMP2_ZP
343	.$958	BNE NINITLOOP
344	.$95a	LDX TMP2_ZP+1
345	.$95c	BNE NINITLOOP
346	.$95e	RTS
349	.$95f	INITSTRARRAY
350	.$95f	STA TMP_ZP
351	.$961	STY TMP_ZP+1
352	.$963	SINITLOOP LDY #0
353	.$965	LDA #<EMPTYSTR
354	.$967	STA (TMP_ZP),Y
355	.$969	LDA #>EMPTYSTR
356	.$96b	INY
357	.$96c	STA (TMP_ZP),Y
358	.$96e	CLC
359	.$96f	LDA TMP_ZP
360	.$971	ADC #2
361	.$973	STA TMP_ZP
362	.$975	BCC SLOOPNOV1
363	.$977	INC TMP_ZP+1
364	.$979	SLOOPNOV1 SEC
365	.$97a	LDA TMP2_ZP
366	.$97c	SBC #2
367	.$97e	STA TMP2_ZP
368	.$980	BCS SLOOPNOV2
369	.$982	DEC TMP2_ZP+1
370	.$984	SLOOPNOV2 LDA TMP2_ZP
371	.$986	BNE SINITLOOP
372	.$988	LDA TMP2_ZP+1
373	.$98a	BNE SINITLOOP
374	.$98c	RTS
377	.$98d	INITSPARAMS STA TMP3_ZP
378	.$98f	STY TMP3_ZP+1
379	.$991	SEC
380	.$992	SBC #2
381	.$994	STA TMP_ZP
382	.$996	TYA
383	.$997	SBC #0
384	.$999	STA TMP_ZP+1
385	.$99b	LDY #0
386	.$99d	LDA (TMP_ZP),Y
387	.$99f	STA TMP2_ZP
388	.$9a1	INY
389	.$9a2	LDA (TMP_ZP),Y
390	.$9a4	STA TMP2_ZP+1
391	.$9a6	LDA TMP3_ZP
392	.$9a8	LDY TMP3_ZP+1
393	.$9aa	RTS
396	.$9ab	INITSTRVARS LDA #<STRINGVARS_START  
397	.$9ad	LDY #>STRINGVARS_START
398	.$9af	CMP #<STRINGVARS_END
399	.$9b1	BNE INITIT1
400	.$9b3	CPY #>STRINGVARS_END
401	.$9b5	BNE INITIT1
402	.$9b7	JMP INITSA2     
403	.$9ba	INITIT1  STA TMP_ZP
404	.$9bc	STY TMP_ZP+1
405	.$9be	LDY #0
406	.$9c0	INITSTRLOOP LDA #<EMPTYSTR
407	.$9c2	STA (TMP_ZP),Y
408	.$9c4	INY
409	.$9c5	LDA #>EMPTYSTR
410	.$9c7	STA (TMP_ZP),Y
411	.$9c9	DEY
412	.$9ca	LDA TMP_ZP
413	.$9cc	CLC
414	.$9cd	ADC #2
415	.$9cf	STA TMP_ZP
416	.$9d1	LDA TMP_ZP+1
417	.$9d3	ADC #0
418	.$9d5	STA TMP_ZP+1
419	.$9d7	CMP #>STRINGVARS_END
420	.$9d9	BNE INITSTRLOOP
421	.$9db	LDA TMP_ZP
422	.$9dd	CMP #<STRINGVARS_END
423	.$9df	BNE INITSTRLOOP
424	.$9e1	INITSA2  LDA #<STRINGARRAYS_START 
425	.$9e3	LDY #>STRINGARRAYS_START
426	.$9e5	CMP #<STRINGARRAYS_END
427	.$9e7	BNE ARRAYLOOP
428	.$9e9	CPY #>STRINGARRAYS_END
429	.$9eb	BNE ARRAYLOOP
430	.$9ed	RTS       
431	.$9ee	ARRAYLOOP CLC
432	.$9ef	ADC #3
433	.$9f1	BCC ARRAYSKIP1
434	.$9f3	INY
435	.$9f4	ARRAYSKIP1 CPY #>STRINGARRAYS_END
436	.$9f6	BEQ ARRAYSC
437	.$9f8	BCC ARRAYSKIP2
438	.$9fa	JMP ARRAYQUIT
439	.$9fd	ARRAYSC  CMP #<STRINGARRAYS_END
440	.$9ff	BCS ARRAYQUIT
441	.$a01	ARRAYSKIP2 STA TMP_REG
442	.$a03	STY TMP_REG+1
443	.$a05	JSR INITSPARAMS
444	.$a08	LDA TMP_REG
445	.$a0a	LDY TMP_REG+1
446	.$a0c	JSR INITSTRARRAY
447	.$a0f	LDA TMP_ZP
448	.$a11	LDY TMP_ZP+1
449	.$a13	JMP ARRAYLOOP
450	.$a16	ARRAYQUIT RTS
453	.$a17	RESTORE  LDA #<DATAS
454	.$a19	LDY #>DATAS
455	.$a1b	STA DATASP
456	.$a1e	STY DATASP+1
457	.$a21	RTS
460	.$a22	TABSPC     BCC DOSPC
461	.$a24	TXA
462	.$a25	SBC $09
463	.$a27	BCC TABSPCQUIT
464	.$a29	TAX
465	.$a2a	DOSPC  INX
466	.$a2b	TABSPCLOOP  DEX
467	.$a2c	BNE TABSPCRIGHT
468	.$a2e	TABSPCQUIT RTS
469	.$a2f	TABSPCRIGHT JSR CRSRRIGHT
470	.$a32	JMP TABSPCLOOP
473	.$a35	REROUTE  LDA CMD_NUM  
474	.$a38	BEQ REROUTECMD
475	.$a3a	TAX
476	.$a3b	STA CHANNEL
477	.$a3e	JMP CHKOUT
478	.$a41	REROUTECMD RTS
481	.$a42	RESETROUTE LDA CMD_NUM  
482	.$a45	BEQ RESETROUTECMD
483	.$a47	JMP CLRCHNEW
484	.$a4a	RESETROUTECMD
485	.$a4a	RTS
488	.$a4b	INTOUTBRK   JMP REALOUTBRK
491	.$a4e	INTOUTBRKFAST
492	.$a4e	JSR REROUTE
493	.$a51	JSR INTOUTFASTZ
494	.$a54	LDA #$0D
495	.$a56	JSR CHROUT
496	.$a59	JMP RESETROUTE
499	.$a5c	INTOUTFASTZ LDX #32    
500	.$a5e	LDA TMP_ZP+1
501	.$a60	BPL INTISPOS
502	.$a62	CLC
503	.$a63	LDA TMP_ZP
504	.$a65	EOR #$FF
505	.$a67	ADC #1
506	.$a69	STA TMP_ZP
507	.$a6b	LDA TMP_ZP+1
508	.$a6d	EOR #$FF
509	.$a6f	ADC #0
510	.$a71	STA TMP_ZP+1
511	.$a73	LDX #45    
512	.$a75	INTISPOS
513	.$a75	TXA
514	.$a76	JSR CHROUT
515	.$a79	JSR CONVPOSINT
516	.$a7c	LDA NUMFLAG
517	.$a7f	BNE ALLINTOUTDONE
518	.$a81	LDA #48
519	.$a83	JSR CHROUT
520	.$a86	ALLINTOUTDONE
521	.$a86	RTS
524	.$a87	NUMBEROUT
525	.$a87	BEQ NUMZERO
526	.$a89	ORA #$30
527	.$a8b	STA NUMFLAG
528	.$a8e	JMP CHROUT
529	.$a91	NUMZERO
530	.$a91	LDX NUMFLAG
531	.$a94	BEQ STILLZERO
532	.$a96	ORA #$30
533	.$a98	JMP CHROUT
534	.$a9b	STILLZERO
535	.$a9b	RTS
538	.$a9c	CONVPOSINT
539	.$a9c	JSR INT2BCD
540	.$a9f	LDX #0
541	.$aa1	STX NUMFLAG
542	.$aa4	AND #$0F
543	.$aa6	JSR NUMBEROUT
544	.$aa9	LDA BCD+1
545	.$aac	LSR
546	.$aad	LSR
547	.$aae	LSR
548	.$aaf	LSR
549	.$ab0	JSR NUMBEROUT
550	.$ab3	LDA BCD+1
551	.$ab6	AND #$0F
552	.$ab8	TAY
553	.$ab9	JSR NUMBEROUT
554	.$abc	LDA BCD
555	.$abf	LSR
556	.$ac0	LSR
557	.$ac1	LSR
558	.$ac2	LSR
559	.$ac3	JSR NUMBEROUT
560	.$ac6	LDA BCD
561	.$ac9	AND #$0F
562	.$acb	JSR NUMBEROUT
563	.$ace	RTS
566	.$acf	INT2BCD
567	.$acf	SED
568	.$ad0	LDA #0
569	.$ad2	STA BCD
570	.$ad5	STA BCD+1
571	.$ad8	STA BCD+2
572	.$adb	ASL TMP_ZP
573	.$add	ROL TMP_ZP+1
574	.$adf	LDA BCD
575	.$ae2	ADC BCD
576	.$ae5	STA BCD
577	.$ae8	ASL TMP_ZP
578	.$aea	ROL TMP_ZP+1
579	.$aec	ADC BCD
580	.$aef	STA BCD
581	.$af2	ASL TMP_ZP
582	.$af4	ROL TMP_ZP+1
583	.$af6	ADC BCD
584	.$af9	STA BCD
585	.$afc	ASL TMP_ZP
586	.$afe	ROL TMP_ZP+1
587	.$b00	ADC BCD
588	.$b03	STA BCD
589	.$b06	ASL TMP_ZP
590	.$b08	ROL TMP_ZP+1
591	.$b0a	ADC BCD
592	.$b0d	STA BCD
593	.$b10	ASL TMP_ZP
594	.$b12	ROL TMP_ZP+1
595	.$b14	ADC BCD
596	.$b17	STA BCD
597	.$b1a	LDX #7
598	.$b1c	BCDBIT1
599	.$b1c	ASL TMP_ZP
600	.$b1e	ROL TMP_ZP+1
601	.$b20	LDA BCD
602	.$b23	ADC BCD
603	.$b26	STA BCD
604	.$b29	LDA BCD+1
605	.$b2c	ADC BCD+1
606	.$b2f	STA BCD+1
607	.$b32	DEX
608	.$b33	BNE BCDBIT1
609	.$b35	LDX #3
610	.$b37	BCDBIT2
611	.$b37	ASL TMP_ZP
612	.$b39	ROL TMP_ZP+1
613	.$b3b	LDA BCD
614	.$b3e	ADC BCD
615	.$b41	STA BCD
616	.$b44	LDA BCD+1
617	.$b47	ADC BCD+1
618	.$b4a	STA BCD+1
619	.$b4d	LDA BCD+2
620	.$b50	ADC BCD+2
621	.$b53	STA BCD+2
622	.$b56	DEX
623	.$b57	BNE BCDBIT2
624	.$b59	CLD
625	.$b5a	RTS
626	.$b5b	BCD
627	.$b5b	.WORD 0 0
628	.$b5f	NUMFLAG
629	.$b5f	.BYTE 0
632	.$b60	REALOUTFAST JSR FACINT
633	.$b63	STA TMP_ZP+1
634	.$b65	STY TMP_ZP
635	.$b67	JMP INTOUTFASTZ
638	.$b6a	CHECKFORFASTOUT
639	.$b6a	JSR REROUTE
640	.$b6d	JSR XREGFAC
641	.$b70	LDA FACEXP
642	.$b72	CMP #$90
643	.$b74	BCS REALOUTINT
644	.$b76	CMP #$81
645	.$b78	BCC REALOUTINT
646	.$b7a	MAYBEREALOUTFAST
647	.$b7a	LDA FACEXP+3
648	.$b7c	BNE REALOUTINT
649	.$b7e	LDA FACEXP+4
650	.$b80	BNE REALOUTINT
651	.$b82	LDA FACEXP
652	.$b84	SEC
653	.$b85	SBC #129
654	.$b87	ASL
655	.$b88	TAX
656	.$b89	LDA FACEXP+1
657	.$b8b	AND MANTMASK,X
658	.$b8e	BNE REALOUTINT
659	.$b90	INX
660	.$b91	LDA FACEXP+2
661	.$b93	AND MANTMASK,X
662	.$b96	BNE REALOUTINT
663	.$b98	JMP REALOUTFAST
664	.$b9b	REALOUTINT LDY #0
665	.$b9d	JSR FACSTR
666	.$ba0	LDY #0
667	.$ba2	LDA LOFBUF,Y
668	.$ba5	STRLOOPRO JSR CHROUT
669	.$ba8	INY
670	.$ba9	LDA LOFBUF,Y
671	.$bac	BNE STRLOOPRO
672	.$bae	RTS
673	.$baf	MANTMASK
674	.$baf	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
677	.$bcd	REALOUT  LDA X_REG
678	.$bcf	BNE RNOTNULL
679	.$bd1	JMP PRINTNULL
680	.$bd4	RNOTNULL JSR CHECKFORFASTOUT
681	.$bd7	JMP RESETROUTE
684	.$bda	REALOUTBRK  LDA X_REG
685	.$bdc	BNE RNOTNULLBRK
686	.$bde	JMP PRINTNULLBRK
687	.$be1	RNOTNULLBRK JSR CHECKFORFASTOUT
688	.$be4	LDA #$0D
689	.$be6	JSR CHROUT
690	.$be9	JMP RESETROUTE
693	.$bec	PRINTNULL JSR REROUTE
694	.$bef	LDA #$20
695	.$bf1	JSR CHROUT
696	.$bf4	LDA #$30
697	.$bf6	JSR CHROUT
698	.$bf9	JMP RESETROUTE
701	.$bfc	PRINTNULLBRK
702	.$bfc	JSR REROUTE
703	.$bff	LDA #$20
704	.$c01	JSR CHROUT
705	.$c04	LDA #$30
706	.$c06	JSR CHROUT
707	.$c09	LDA #$0D
708	.$c0b	JSR CHROUT
709	.$c0e	JMP RESETROUTE
712	.$c11	TABOUT  JSR REROUTE
713	.$c14	LDA CMD_NUM
714	.$c17	BEQ NORMALTABOUT  
715	.$c19	CMP #3
716	.$c1b	BEQ NORMALTABOUT2  
717	.$c1d	JMP TABOUTCHANNEL2
718	.$c20	NORMALTABOUT2
719	.$c20	JSR CLRCHNEW
720	.$c23	NORMALTABOUT
721	.$c23	SEC
722	.$c24	JSR CRSRPOS
723	.$c27	TYA
724	.$c28	SEC
725	.$c29	TABSUB   SBC #$0A
726	.$c2b	BCS TABSUB
727	.$c2d	EOR #$FF
728	.$c2f	ADC #$01
729	.$c31	TAX
730	.$c32	INX
731	.$c33	TABLOOP  DEX
732	.$c34	BNE TABRIGHT
733	.$c36	RTS
734	.$c37	TABRIGHT JSR CRSRRIGHT
735	.$c3a	JMP TABLOOP
738	.$c3d	COPY2_XYA_XREG
739	.$c3d	STA TMP3_ZP
740	.$c3f	STY TMP3_ZP+1
741	.$c41	COPY2_XY_XREG
742	.$c41	LDX #<X_REG  
743	.$c43	LDY #0
744	.$c45	LDA (TMP3_ZP),Y
745	.$c47	STA X_REG
746	.$c49	INY
747	.$c4a	LDA (TMP3_ZP),Y
748	.$c4c	STA X_REG+1
749	.$c4e	INY
750	.$c4f	LDA (TMP3_ZP),Y
751	.$c51	STA X_REG+2
752	.$c53	INY
753	.$c54	LDA (TMP3_ZP),Y
754	.$c56	STA X_REG+3
755	.$c58	INY
756	.$c59	LDA (TMP3_ZP),Y
757	.$c5b	STA X_REG+4
758	.$c5d	RTS
762	.$c5e	FACWORD
763	.$c5e	LDA FACEXP   
764	.$c60	BNE DOFACWORD
765	.$c62	STA FACSGN   
766	.$c64	DOFACWORD:
767	.$c64	JMP XFACWORD
771	.$c67	INITOUTCHANNEL
772	.$c67	LDA CHLOCKFLAG
773	.$c6a	BEQ INITOUT2
774	.$c6c	CMP #$FF
775	.$c6e	BNE SKIPINITCH
776	.$c70	INITOUT2
777	.$c70	LDA #<C_REG
778	.$c72	LDY #>C_REG
779	.$c74	JSR REALFAC
780	.$c77	JSR FACWORD
781	.$c7a	TYA
782	.$c7b	TAX
783	.$c7c	CPX CMD_NUM
784	.$c7f	BNE CMDNEQUAL
785	.$c81	LDY #0
786	.$c83	STY CMD_NUM   
787	.$c86	CMDNEQUAL STA CHANNEL
788	.$c89	STA CHLOCKFLAG
789	.$c8c	JMP CHKOUT
790	.$c8f	SKIPINITCH
791	.$c8f	RTS
794	.$c90	CLRCHNEW
795	.$c90	LDA CHLOCKFLAG
796	.$c93	BNE SKIPCLRCH
797	.$c95	JMP CLRCH
798	.$c98	SKIPCLRCH
799	.$c98	RTS
802	.$c99	TABOUTCHANNEL
803	.$c99	JSR INITOUTCHANNEL
804	.$c9c	LDA CHANNEL
805	.$c9f	CMP #3  
806	.$ca1	BEQ TABOUTSCREEN
807	.$ca3	TABOUTCHANNEL2
808	.$ca3	LDA IOCHANNEL
809	.$ca5	STA STORE1
810	.$ca8	LDA #1
811	.$caa	STA IOCHANNEL  
812	.$cac	LDX #10
813	.$cae	JMP EXITCHANNEL
814	.$cb1	TABOUTSCREEN
815	.$cb1	JSR CLRCHNEW
816	.$cb4	JMP TABOUT
819	.$cb7	EXITCHANNEL CLC
820	.$cb8	JSR TABSPC
821	.$cbb	JSR CLRCHNEW
822	.$cbe	LDA STORE1
823	.$cc1	STA IOCHANNEL
824	.$cc3	RTS
827	.$cc4	ILLEGALQUANTITY
831	.$cc4	JMP ERRIQ
834	.$cc7	FACXREG  LDA FACLO
835	.$cc9	STA X_REG+4
836	.$ccb	LDA FACMO
837	.$ccd	STA X_REG+3
838	.$ccf	LDA FACMOH
839	.$cd1	STA X_REG+2
840	.$cd3	LDA FACSGN
841	.$cd5	ORA #$7F
842	.$cd7	AND FACHO
843	.$cd9	STA X_REG+1
844	.$cdb	LDA FACEXP
845	.$cdd	STA X_REG
846	.$cdf	LDA #0   
847	.$ce1	STA FACOV
848	.$ce3	RTS
851	.$ce4	XREGFAC  LDA X_REG+4
852	.$ce6	STA FACLO
853	.$ce8	LDA X_REG+3
854	.$cea	STA FACMO
855	.$cec	LDA X_REG+2
856	.$cee	STA FACMOH
857	.$cf0	LDA X_REG+1
858	.$cf2	STA FACSGN
859	.$cf4	ORA #$80
860	.$cf6	STA FACHO
861	.$cf8	LDA X_REG
862	.$cfa	STA FACEXP
863	.$cfc	LDA #0
864	.$cfe	STA FACOV
865	.$d00	RTS
979	.$d01	FASTFADDMEM
980	.$d01	JSR MEMARG
981	.$d04	FASTFADDARG
982	.$d04	BNE FADDRET2     
983	.$d06	JMP ARGFAC
984	.$d09	FADDRET2 LDA ARGEXP
985	.$d0b	BNE FADDRET1     
986	.$d0d	RTS
987	.$d0e	FADDRET1 SEC
988	.$d0f	SBC FACEXP
989	.$d11	BEQ FFADD_EXPEQ     
990	.$d13	BCC FFADD_SHFARG1   
994	.$d15	LDY ARGEXP
995	.$d17	STY FACEXP
996	.$d19	LDY ARGSGN
997	.$d1b	STY FACSGN
998	.$d1d	LDX #0
999	.$d1f	STX OLDOV        
1000	.$d21	LDX #FAC         
1002	.$d23	SEC
1003	.$d24	SBC #$08
1004	.$d26	BMI FFADD_SHFFAC2
1006	.$d28	FFADD_SHFFAC1
1007	.$d28	LDY FACLO        
1008	.$d2a	STY FACOV
1009	.$d2c	LDY FACMO        
1010	.$d2e	STY FACMO+1
1011	.$d30	LDY FACMOH       
1012	.$d32	STY FACMOH+1
1013	.$d34	LDY FACHO        
1014	.$d36	STY FACHO+1
1015	.$d38	LDY #0
1016	.$d3a	STY FACHO        
1017	.$d3c	SBC #$08         
1018	.$d3e	BPL FFADD_SHFFAC1   
1019	.$d40	FFADD_SHFFAC2
1020	.$d40	ADC #$08         
1021	.$d42	BEQ FFADD_SHFFAC4   
1022	.$d44	TAY
1023	.$d45	LDA FACOV
1024	.$d47	FFADD_SHFFAC3
1025	.$d47	LSR FACHO        
1026	.$d49	ROR FACMOH       
1027	.$d4b	ROR FACMO        
1028	.$d4d	ROR FACLO        
1029	.$d4f	ROR              
1030	.$d50	DEY
1031	.$d51	BNE FFADD_SHFFAC3
1032	.$d53	JMP FFADD_MANADD2   
1033	.$d56	FFADD_SHFFAC4
1034	.$d56	LDA FACOV        
1035	.$d58	JMP FFADD_MANADD2
1036	.$d5b	FFADD_EXPEQ
1037	.$d5b	LDX FACOV
1038	.$d5d	STX OLDOV
1041	.$d5f	JMP FFADD_MANADD1
1042	.$d62	FFADD_SHFARG2
1043	.$d62	LDA FACOV        
1044	.$d64	JMP FFADD_MANADD1
1045	.$d67	FFADD_SHFARG1
1046	.$d67	LDX FACOV
1047	.$d69	STX OLDOV        
1048	.$d6b	LDX #$00         
1051	.$d6d	ADC #$08
1052	.$d6f	BPL FFADD_SHFARG6   
1053	.$d71	FFADD_SHFARG3
1054	.$d71	LDX ARGLO        
1055	.$d73	LDY ARGMO        
1056	.$d75	STY ARGMO+1
1057	.$d77	LDY ARGMOH       
1058	.$d79	STY ARGMOH+1
1059	.$d7b	LDY ARGHO        
1060	.$d7d	STY ARGHO+1
1061	.$d7f	LDY #0
1062	.$d81	STY ARGHO        
1063	.$d83	FFADD_SHFARG4
1064	.$d83	ADC #$08
1065	.$d85	BMI FFADD_SHFARG3
1066	.$d87	BEQ FFADD_SHFARG3
1067	.$d89	FFADD_SHFARG6
1068	.$d89	SBC #$08
1069	.$d8b	BEQ FFADD_SHFARG2   
1070	.$d8d	TAY
1071	.$d8e	TXA              
1072	.$d8f	FFADD_SHFARG5
1073	.$d8f	LSR ARGHO
1074	.$d91	ROR ARGMOH
1075	.$d93	ROR ARGMO
1076	.$d95	ROR ARGLO
1077	.$d97	ROR           
1078	.$d98	INY
1079	.$d99	BNE FFADD_SHFARG5
1080	.$d9b	FFADD_MANADD1
1081	.$d9b	LDX #ARGEXP      
1082	.$d9d	FFADD_MANADD2
1083	.$d9d	BIT ARISGN
1084	.$d9f	BMI FFADD_MANSUB1   
1085	.$da1	CLC
1086	.$da2	ADC OLDOV
1087	.$da4	STA FACOV
1088	.$da6	LDA FACLO
1089	.$da8	ADC ARGLO
1090	.$daa	STA FACLO
1091	.$dac	LDA FACMO
1092	.$dae	ADC ARGMO
1093	.$db0	STA FACMO
1094	.$db2	LDA FACMOH
1095	.$db4	ADC ARGMOH
1096	.$db6	STA FACMOH
1097	.$db8	LDA FACHO
1098	.$dba	ADC ARGHO
1099	.$dbc	STA FACHO
1100	.$dbe	BCC FFADD_RNDRTS
1101	.$dc0	INC FACEXP
1102	.$dc2	BEQ FFADD_OVERR
1104	.$dc4	ROR FACHO
1105	.$dc6	ROR FACMOH
1106	.$dc8	ROR FACMO
1107	.$dca	ROR FACLO
1108	.$dcc	ROR FACOV
1109	.$dce	FFADD_RNDRTS
1110	.$dce	RTS
1111	.$dcf	FFADD_OVERR
1112	.$dcf	JMP ILLEGALQUANTITY
1113	.$dd2	FFADD_MANSUB1
1114	.$dd2	LDY #FACEXP
1115	.$dd4	CPX #ARGEXP
1116	.$dd6	BEQ FFADD_MANSUB2
1117	.$dd8	LDY #ARGEXP
1118	.$dda	FFADD_MANSUB2
1119	.$dda	SEC              
1120	.$ddb	EOR #$FF
1121	.$ddd	ADC OLDOV
1122	.$ddf	STA FACOV
1123	.$de1	LDA 4,Y
1124	.$de4	SBC 4,X
1125	.$de6	STA FACLO
1126	.$de8	LDA 3,Y
1127	.$deb	SBC 3,X
1128	.$ded	STA FACMO
1129	.$def	LDA 2,Y
1130	.$df2	SBC 2,X
1131	.$df4	STA FACMOH
1132	.$df6	LDA 1,Y
1133	.$df9	SBC 1,X
1134	.$dfb	STA FACHO
1135	.$dfd	BCS FCNORMAL
1136	.$dff	LDA FACSGN
1137	.$e01	EOR #$FF
1138	.$e03	STA FACSGN
1139	.$e05	LDA FACHO
1140	.$e07	EOR #$FF
1141	.$e09	STA FACHO
1142	.$e0b	LDA FACMOH
1143	.$e0d	EOR #$FF
1144	.$e0f	STA FACMOH
1145	.$e11	LDA FACMO
1146	.$e13	EOR #$FF
1147	.$e15	STA FACMO
1148	.$e17	LDA FACLO
1149	.$e19	EOR #$FF
1150	.$e1b	STA FACLO
1151	.$e1d	LDA FACOV
1152	.$e1f	EOR #$FF
1153	.$e21	CLC
1154	.$e22	ADC #1
1155	.$e24	STA FACOV
1156	.$e26	BNE FCNORMAL
1157	.$e28	INC FACLO
1158	.$e2a	BNE FCNORMAL
1159	.$e2c	INC FACMO
1160	.$e2e	BNE FCNORMAL
1161	.$e30	INC FACMOH
1162	.$e32	BNE FCNORMAL
1163	.$e34	INC FACHO
1164	.$e36	FCNORMAL   BIT FACHO
1165	.$e38	BMI FFADD_RET       
1166	.$e3a	LDA #0           
1167	.$e3c	CLC
1168	.$e3d	FFADD_NORM3
1169	.$e3d	LDX FACHO
1170	.$e3f	BNE FFADD_NORM1
1171	.$e41	LDX FACHO+1
1172	.$e43	STX FACHO
1173	.$e45	LDX FACMOH+1
1174	.$e47	STX FACMOH
1175	.$e49	LDX FACMO+1
1176	.$e4b	STX FACMO
1177	.$e4d	LDX FACOV
1178	.$e4f	STX FACLO
1179	.$e51	LDX #0
1180	.$e53	STX FACOV
1181	.$e55	ADC #$08
1182	.$e57	CMP #$20
1183	.$e59	BNE FFADD_NORM3
1184	.$e5b	JMP FFADD_ZEROFAC
1185	.$e5e	FFADD_NORM2
1186	.$e5e	CLC
1187	.$e5f	ADC #1
1188	.$e61	ASL FACOV
1189	.$e63	ROL FACLO
1190	.$e65	ROL FACMO
1191	.$e67	ROL FACMOH
1192	.$e69	ROL FACHO
1193	.$e6b	FFADD_NORM1
1194	.$e6b	BPL FFADD_NORM2     
1195	.$e6d	SEC
1196	.$e6e	SBC FACEXP
1197	.$e70	BCS FFADD_ZEROFAC
1198	.$e72	EOR #$FF
1199	.$e74	CLC
1200	.$e75	ADC #1
1201	.$e77	STA FACEXP
1202	.$e79	FFADD_RET   RTS
1203	.$e7a	FFADD_ZEROFAC
1204	.$e7a	LDX #0
1205	.$e7c	STX FACEXP
1206	.$e7e	STX FACSGN
1207	.$e80	RTS
1210	.$e81	FASTFMULMEM
1211	.$e81	JSR MEMARG
1212	.$e84	FASTFMULARG
1213	.$e84	BEQ FFMUL_MULTRT    
1214	.$e86	LDA ARGEXP
1215	.$e88	BEQ FFMUL_ZEREMV    
1216	.$e8a	CLC
1217	.$e8b	ADC FACEXP
1218	.$e8d	BCC FFMUL_TRYOFF
1219	.$e8f	CLC
1220	.$e90	BPL FFMUL_ADJUST
1221	.$e92	JMP ILLEGALQUANTITY
1222	.$e95	FFMUL_ZEREMV
1223	.$e95	LDY #0
1224	.$e97	STY FACEXP       
1225	.$e99	STY FACSGN
1226	.$e9b	FFMUL_MULTRT
1227	.$e9b	RTS
1228	.$e9c	FFMUL_TRYOFF
1229	.$e9c	BPL FFMUL_ZEREMV    
1230	.$e9e	FFMUL_ADJUST
1231	.$e9e	ADC #$80         
1232	.$ea0	BEQ FFMUL_ZEREMV    
1233	.$ea2	STA FACEXP
1234	.$ea4	LDA ARISGN
1235	.$ea6	STA FACSGN
1236	.$ea8	LDY #0
1237	.$eaa	STY RESHOP
1238	.$eac	STY RESHO
1239	.$eae	STY RESMOH
1240	.$eb0	STY RESMO
1241	.$eb2	STY RESLO
1242	.$eb4	STY RESOV
1243	.$eb6	STY FACHOP
1244	.$eb8	FFMUL_B0
1245	.$eb8	LSR ARGLO        
1246	.$eba	BCC FFMUL_B1
1247	.$ebc	LDA RESOV
1248	.$ebe	CLC
1249	.$ebf	ADC FACMOH       
1250	.$ec1	STA RESOV
1251	.$ec3	LDA RESLO
1252	.$ec5	ADC FACHO        
1253	.$ec7	STA RESLO
1254	.$ec9	LDA RESMO
1255	.$ecb	ADC FACHOP       
1256	.$ecd	STA RESMO
1257	.$ecf	BCC FFMUL_B1
1258	.$ed1	INC RESMOH
1259	.$ed3	BNE FFMUL_B1
1260	.$ed5	INC RESHO
1261	.$ed7	BNE FFMUL_B1
1262	.$ed9	INC RESHOP
1263	.$edb	FFMUL_B1
1264	.$edb	LSR ARGMO        
1265	.$edd	BCC FFMUL_B2
1266	.$edf	LDA RESOV
1267	.$ee1	CLC
1268	.$ee2	ADC FACMO        
1269	.$ee4	STA RESOV
1270	.$ee6	LDA RESLO
1271	.$ee8	ADC FACMOH       
1272	.$eea	STA RESLO
1273	.$eec	LDA RESMO
1274	.$eee	ADC FACHO        
1275	.$ef0	STA RESMO
1276	.$ef2	LDA RESMOH
1277	.$ef4	ADC FACHOP       
1278	.$ef6	STA RESMOH
1279	.$ef8	BCC FFMUL_B2
1280	.$efa	INC RESHO
1281	.$efc	BNE FFMUL_B2
1282	.$efe	INC RESHOP
1283	.$f00	FFMUL_B2
1284	.$f00	LSR ARGMOH       
1285	.$f02	BCC FFMUL_B3
1286	.$f04	LDA RESOV
1287	.$f06	CLC
1288	.$f07	ADC FACLO        
1289	.$f09	STA RESOV
1290	.$f0b	LDA RESLO
1291	.$f0d	ADC FACMO        
1292	.$f0f	STA RESLO
1293	.$f11	LDA RESMO
1294	.$f13	ADC FACMOH       
1295	.$f15	STA RESMO
1296	.$f17	LDA RESMOH
1297	.$f19	ADC FACHO        
1298	.$f1b	STA RESMOH
1299	.$f1d	LDA RESHO
1300	.$f1f	ADC FACHOP       
1301	.$f21	STA RESHO
1302	.$f23	BCC FFMUL_B3
1303	.$f25	INC RESHOP
1304	.$f27	FFMUL_B3
1305	.$f27	LSR ARGHO        
1306	.$f29	BCC FFMUL_ROTA
1307	.$f2b	LDA RESOV
1308	.$f2d	CLC
1309	.$f2e	ADC FACOV        
1310	.$f30	STA RESOV
1311	.$f32	LDA RESLO
1312	.$f34	ADC FACLO        
1313	.$f36	STA RESLO
1314	.$f38	LDA RESMO
1315	.$f3a	ADC FACMO        
1316	.$f3c	STA RESMO
1317	.$f3e	LDA RESMOH
1318	.$f40	ADC FACMOH       
1319	.$f42	STA RESMOH
1320	.$f44	LDA RESHO
1321	.$f46	ADC FACHO        
1322	.$f48	STA RESHO
1323	.$f4a	LDA RESHOP
1324	.$f4c	ADC FACHOP       
1325	.$f4e	STA RESHOP
1326	.$f50	FFMUL_ROTA
1327	.$f50	ASL FACOV
1328	.$f52	ROL FACLO
1329	.$f54	ROL FACMO
1330	.$f56	ROL FACMOH
1331	.$f58	ROL FACHO
1332	.$f5a	ROL FACHOP
1333	.$f5c	BMI FFMUL_FIN
1334	.$f5e	JMP FFMUL_B0
1335	.$f61	FFMUL_FIN
1336	.$f61	LDA RESHOP
1337	.$f63	STA FACHO
1338	.$f65	LDA RESHO
1339	.$f67	STA FACMOH
1340	.$f69	LDA RESMOH
1341	.$f6b	STA FACMO
1342	.$f6d	LDA RESMO
1343	.$f6f	STA FACLO
1344	.$f71	LDA RESLO
1345	.$f73	STA FACOV
1346	.$f75	JMP FCNORMAL      
1347	.$f78	MUL10
1348	.$f78	JSR ARGFAC       
1349	.$f7b	TAX              
1350	.$f7c	BEQ FFMUL_MUL101    
1351	.$f7e	CLC
1352	.$f7f	ADC #2
1353	.$f81	BCS FFMUL_MUL102    
1354	.$f83	STA FACEXP       
1355	.$f85	LDY #0
1356	.$f87	STY ARISGN
1357	.$f89	JSR FASTFADDARG      
1358	.$f8c	INC FACEXP
1359	.$f8e	BEQ FFMUL_MUL102     
1360	.$f90	FFMUL_MUL101
1361	.$f90	RTS
1362	.$f91	FFMUL_MUL102
1363	.$f91	JMP ILLEGALQUANTITY
1364	.$f94	MUL6
1365	.$f94	JSR ARGFAC       
1366	.$f97	TAX              
1367	.$f98	BEQ FFMUL_MUL61     
1368	.$f9a	INC FACEXP
1369	.$f9c	BEQ FFMUL_MUL62     
1370	.$f9e	LDY #0
1371	.$fa0	STY ARISGN
1372	.$fa2	JSR FASTFADDARG      
1373	.$fa5	INC FACEXP
1374	.$fa7	BEQ FFMUL_MUL62     
1375	.$fa9	FFMUL_MUL61
1376	.$fa9	RTS
1377	.$faa	FFMUL_MUL62
1378	.$faa	JMP ILLEGALQUANTITY
1381	.$fad	INITVARS
1382	.$fad	JSR INITSTRVARS
1383	.$fb0	LDA #0
1384	.$fb2	LDY #4
1385	.$fb4	REALINITLOOP0:
1386	.$fb4	STA VAR_KK,Y
1387	.$fb7	DEY
1388	.$fb8	BMI REALLOOPEXIT0
1389	.$fba	JMP REALINITLOOP0
1390	.$fbd	REALLOOPEXIT0:
1391	.$fbd	RTS
1395	.$fbe	CONSTANTS
1398	.$fbe	CONST_0 .REAL 80000
1401	.$fc3	CONST_1R .REAL 10.0
1404	.$fc8	CONST_2 .REAL 0.1
1407	.$fcd	CONST_3R .REAL 8000.0
1413	.$fd2	CONST_5 .REAL 0.05
1416	.$fd7	DATAS
1417	.$fd7	.BYTE $FF
1419	.$fd8	CONSTANTS_END
1422	.$fd8	VARIABLES
1424	.$fd8	VAR_KK .REAL 0.0
1425	.$fdd	STRINGVARS_START
1427	.$fdd	VAR_TI$ .WORD EMPTYSTR
1428	.$fdf	STRINGVARS_END
1429	.$fdf	STRINGARRAYS_START
1430	.$fdf	STRINGARRAYS_END
1431	.$fdf	VARIABLES_END
1433	.$fdf	Y_REG .REAL 0.0
1434	.$fe4	C_REG .REAL 0.0
1435	.$fe9	D_REG .REAL 0.0
1436	.$fee	E_REG .REAL 0.0
1437	.$ff3	F_REG .REAL 0.0
1438	.$ff8	A_REG .WORD 0
1439	.$ffa	B_REG .WORD 0
1440	.$ffc	CMD_NUM .BYTE 0
1441	.$ffd	CHANNEL .BYTE 0
1442	.$ffe	SP_SAVE .BYTE 0
1443	.$fff	TMP2_REG .WORD 0
1444	.$1001	TMP3_REG .WORD 0
1445	.$1003	TMP4_REG .WORD 0
1446	.$1005	AS_TMP .WORD 0
1447	.$1007	BPOINTER_TMP .WORD 0
1448	.$1009	BASICTEXTP .BYTE 0
1449	.$100a	STORE1 .WORD 0
1450	.$100c	STORE2 .WORD 0
1451	.$100e	STORE3 .WORD 0
1452	.$1010	STORE4 .WORD 0
1453	.$1012	GCSTART .WORD 0
1454	.$1014	GCLEN .WORD 0
1455	.$1016	GCWORK .WORD 0
1456	.$1018	INPUTLENGTH .BYTE 0
1457	.$1019	TMP_FREG .REAL 0
1458	.$101e	TMP2_FREG .REAL 0
1459	.$1023	TMP_FLAG .BYTE 0
1460	.$1024	INT_FLAG .BYTE 0
1461	.$1025	REAL_CONST_ONE .REAL 1.0
1462	.$102a	REAL_CONST_ZERO .REAL 0.0
1463	.$102f	REAL_CONST_MINUS_ONE .REAL -1.0
1464	.$1034	CHLOCKFLAG .BYTE 0
1465	.$1035	EMPTYSTR .BYTE 0
1466	.$1036	FPSTACKP .WORD FPSTACK
1467	.$1038	FORSTACKP .WORD FORSTACK
1468	.$103a	DATASP .WORD DATAS
1469	.$103c	LASTVAR .WORD 0
1470	.$103e	LASTVARP .WORD 0
1471	.$1040	HIGHP .WORD STRBUF
1472	.$1042	STRBUFP .WORD STRBUF
1473	.$1044	ENDSTRBUF .WORD 0
1474	.$1046	INPUTQUEUEP .BYTE 0
1475	.$1047	PROGRAMEND
1476	.$1047	INPUTQUEUE .ARRAY $0F
1477	.$1056	FPSTACK .ARRAY 100
1478	.$10ba	FORSTACK .ARRAY 340
1479	.$120e	STRBUF .BYTE 0
