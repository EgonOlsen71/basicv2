PROGRAMSTART:
JSR START
0:
10:
NOP
MOV Y,#2{INTEGER}
PUSH Y
MOV Y,#2{INTEGER}
PUSH Y
MOV Y,#0{INTEGER}
PUSH Y
JSR COMPACTMAX
MOV Y,#0{INTEGER}
CHGCTX #1
JSR CHR
PUSH A
CHGCTX #0
MOV Y,#8{INTEGER}
CHGCTX #1
JSR CHR
POP B
JSR CONCAT
MOV G,A
POP D
POP C
POP X
MOV Y,#4{INTEGER}
JSR OPEN
15:
NOP
20:
NOP
MOV C,#2{INTEGER}
JSR GETSTRCHANNEL
MOV A${STRING},A
NOP
MOV A,A${STRING}
JSR STROUT
30:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV A,A${STRING}
JSR STROUT
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SNEQ
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
NOP
JSR COMPACTMAX
MOV B,A${STRING}
MOV A,S${STRING}
JSR CONCAT
JSR COPYSTR
MOV S${STRING},A
NOP
SKIP0:
40:
NOP
JSR COMPACTMAX
MOV Y,#13{INTEGER}
CHGCTX #1
JSR CHR
MOV B,A
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
JSR LOCKCHANNEL
MOV Y,#2{INTEGER}
PUSH Y
NOP
MOV A,S${STRING}
POP C
JSR STROUTCHANNEL
JSR UNLOCKCHANNEL
NOP
MOV B,#{STRING}
MOV S${STRING},B
NOP
SKIP1:
50:
NOP
JMP 20
NOP
JSR END
RTS
