PROGRAMSTART:
JSR START
0:
1:
NOP
2:
NOP
3:
NOP
4:
NOP
5:
NOP
6:
NOP
10:
NOP
MOVB X,53281
MOVB 53280,X
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
20:
NOP
MOV Y,#0{INTEGER}
PUSH Y
NOP
POP X
MOV Y,#-2.0{REAL}
MOV G,A[]{REAL}
JSR ARRAYSTORE
NOP
MOV Y,#1{INTEGER}
PUSH Y
NOP
POP X
MOV Y,#-80.0{REAL}
MOV G,A[]{REAL}
JSR ARRAYSTORE
NOP
MOV Y,#2{INTEGER}
PUSH Y
NOP
POP X
MOV Y,#2{INTEGER}
MOV G,A[]{REAL}
JSR ARRAYSTORE
NOP
MOV Y,#3{INTEGER}
PUSH Y
NOP
POP X
MOV Y,#80{INTEGER}
MOV G,A[]{REAL}
JSR ARRAYSTORE
30:
NOP
NOP
MOV Y,#1{INTEGER}
RND X,Y
MOV A,#3{INTEGER}
MOV Y,X
SHL X,A
MOV A,#1{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,X
INT X,Y
MOV A,#1{INTEGER}
SHL X,A
PUSH X
MOV Y,#1{INTEGER}
RND X,Y
MOV A,#3{INTEGER}
MOV Y,X
SHL X,A
MOV A,#1{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,X
INT X,Y
MOV A,#6{INTEGER}
MOV Y,X
SHL X,A
MOV A,#4{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,#1105.0{REAL}
ADD X,Y
POP Y
ADD X,Y
MOV A%{INTEGER},X
40:
NOP
MOV Y,#1{INTEGER}
MOV J{REAL},Y
NOP
MOV Y,#23{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(J{REAL})
JSR INITFOR
NOP
MOV A,#{reverse on}{space*39}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
100:
NOP
MOV Y,A%{INTEGER}
MOVB (Y),#4{INTEGER}
110:
NOP
MOV Y,#1{INTEGER}
RND X,Y
MOV A,#2{INTEGER}
SHL X,A
MOV J%{INTEGER},X
NOP
MOV Y,J%{INTEGER}
MOV X%{INTEGER},Y
112:
NOP
MOV Y,SM%{INTEGER}
MOV X,S%{INTEGER}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
NOP
MOV Y,S%{INTEGER}
MOV SM%{INTEGER},Y
NOP
MOV Y,B%{INTEGER}
MOV FI%{INTEGER},Y
NOP
SKIP0:
120:
NOP
MOV X,J%{INTEGER}
MOV G,A[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,A%{INTEGER}
ADD X,Y
MOV B%{INTEGER},X
125:
NOP
MOV Y,B%{INTEGER}
MOVB X,(Y)
MOV Y,#160{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
MOV Y,B%{INTEGER}
PUSH Y
MOV X,J%{INTEGER}
POP Y
MOVB (Y),X
NOP
MOV X,J%{INTEGER}
MOV G,A[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV A,#1{INTEGER}
SHR X,A
MOV Y,A%{INTEGER}
ADD X,Y
MOV K%{INTEGER},X
MOV Y,X
MOVB (Y),#32{INTEGER}
NOP
MOV Y,B%{INTEGER}
MOV A%{INTEGER},Y
NOP
MOV X,S%{INTEGER}
JSR FINX
MOV S%{INTEGER},X
JMP 110
NOP
SKIP1:
130:
NOP
MOV X,J%{INTEGER}
JSR FINX
MOV Y,#3{INTEGER}
AND X,Y
MOV J%{INTEGER},X
NOP
MOV Y,X%{INTEGER}
MOV X,J%{INTEGER}
NEQ X,Y
CMP X,#0{REAL}
JNE NSKIP2
JMP SKIP2
NSKIP2:
JMP 120
NOP
SKIP2:
140:
NOP
MOV Y,A%{INTEGER}
MOVB X,(Y)
MOV J%{INTEGER},X
NOP
MOV Y,A%{INTEGER}
MOVB (Y),#32{INTEGER}
NOP
MOV X,S%{INTEGER}
JSR FDEX
MOV S%{INTEGER},X
NOP
MOV Y,#4{INTEGER}
MOV X,J%{INTEGER}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP3
JMP SKIP3
NSKIP3:
NOP
MOV X,J%{INTEGER}
MOV G,A[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,X
MOV X,A%{INTEGER}
SUB X,Y
MOV A%{INTEGER},X
JMP 110
NOP
SKIP3:
150:
NOP
MOV Y,A%{INTEGER}
MOVB (Y),#1{INTEGER}
NOP
MOV Y,FI%{INTEGER}
MOVB (Y),#2{INTEGER}
160:
NOP
JMP 160
NOP
JSR END
RTS
