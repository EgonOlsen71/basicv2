PROGRAMSTART:
JSR START
0:
10:
NOP
MOVB X,53281
MOVB 53280,X
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
20:
NOP
MOV Y,#0{INTEGER}
PUSH Y
NOP
POP X
MOV Y,#-2.0{REAL}
MOV G,A[]{REAL}
JSR ARRAYSTORE
NOP
MOV Y,#1{INTEGER}
PUSH Y
NOP
POP X
MOV Y,#-80.0{REAL}
MOV G,A[]{REAL}
JSR ARRAYSTORE
NOP
MOV Y,#2{INTEGER}
PUSH Y
NOP
POP X
MOV Y,#2{INTEGER}
MOV G,A[]{REAL}
JSR ARRAYSTORE
NOP
MOV Y,#3{INTEGER}
PUSH Y
NOP
POP X
MOV Y,#80{INTEGER}
MOV G,A[]{REAL}
JSR ARRAYSTORE
30:
NOP
NOP
MOV Y,#1{INTEGER}
RND X,Y
MOV A,#3{INTEGER}
MOV Y,X
SHL X,A
MOV A,#1{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,X
INT X,Y
MOV A,#1{INTEGER}
SHL X,A
PUSH X
MOV Y,#1{INTEGER}
RND X,Y
MOV A,#3{INTEGER}
MOV Y,X
SHL X,A
MOV A,#1{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,X
INT X,Y
MOV A,#6{INTEGER}
MOV Y,X
SHL X,A
MOV A,#4{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,#1105.0{REAL}
ADD X,Y
POP Y
ADD X,Y
MOV A{REAL},X
40:
NOP
MOV Y,#1{INTEGER}
MOV J{REAL},Y
NOP
MOV Y,#23{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(J{REAL})
JSR INITFOR
NOP
MOV A,#{reverse on}{space*39}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
100:
NOP
MOV Y,A{REAL}
MOVB (Y),#4{INTEGER}
110:
NOP
MOV Y,#1{INTEGER}
RND X,Y
MOV A,#2{INTEGER}
SHL X,A
MOV Y,X
INT X,Y
MOV J{REAL},X
NOP
MOV Y,J{REAL}
MOV X{REAL},Y
112:
NOP
MOV Y,SM{REAL}
MOV X,S{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
NOP
MOV Y,S{REAL}
MOV SM{REAL},Y
NOP
MOV Y,B{REAL}
MOV FI{REAL},Y
NOP
SKIP0:
120:
NOP
MOV X,J{REAL}
MOV G,A[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,A{REAL}
ADD X,Y
MOV B{REAL},X
NOP
MOV Y,B{REAL}
MOVB X,(Y)
MOV Y,#160{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
MOV Y,B{REAL}
PUSH Y
MOV X,J{REAL}
POP Y
MOVB (Y),X
MOV X,J{REAL}
MOV G,A[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV A,#1{INTEGER}
SHR X,A
MOV Y,A{REAL}
ADD X,Y
MOV Y,X
MOVB (Y),#32{INTEGER}
NOP
MOV Y,B{REAL}
MOV A{REAL},Y
NOP
MOV Y,#1{INTEGER}
MOV X,S{REAL}
ADD X,Y
MOV S{REAL},X
JMP 110
NOP
SKIP1:
130:
NOP
MOV Y,#1{INTEGER}
MOV X,J{REAL}
ADD X,Y
MOV Y,#3{INTEGER}
AND X,Y
MOV J{REAL},X
NOP
MOV Y,X{REAL}
MOV X,J{REAL}
NEQ X,Y
CMP X,#0{REAL}
JNE NSKIP2
JMP SKIP2
NSKIP2:
JMP 120
NOP
NOP
SKIP2:
140:
NOP
MOV Y,A{REAL}
MOVB X,(Y)
MOV J{REAL},X
NOP
MOV Y,A{REAL}
MOVB (Y),#32{INTEGER}
NOP
MOV Y,#1{INTEGER}
MOV X,S{REAL}
SUB X,Y
MOV S{REAL},X
NOP
MOV Y,#4{INTEGER}
MOV X,J{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP3
JMP SKIP3
NSKIP3:
NOP
MOV X,J{REAL}
MOV G,A[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,X
MOV X,A{REAL}
SUB X,Y
MOV A{REAL},X
JMP 110
NOP
SKIP3:
150:
NOP
MOV Y,A{REAL}
MOVB (Y),#1{INTEGER}
NOP
MOV Y,FI{REAL}
MOVB (Y),#2{INTEGER}
160:
NOP
JMP 160
NOP
JSR END
RTS
