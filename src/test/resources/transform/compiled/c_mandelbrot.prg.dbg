117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
128	.$81f	LDX #4
129	.$821	dcloop235_1:
130	.$821	LDA CONST_0R,X
131	.$824	STA VAR_MX,X
132	.$827	DEX
133	.$828	BPL dcloop235_1
135	.$82a	LDA #<CONST_1
136	.$82c	LDY #>CONST_1
137	.$82e	STA TMP_ZP
138	.$830	STY TMP_ZP+1
140	.$832	JSR WRITETID
142	.$835	LINE_20:
144	.$835	LDY #0
145	.$837	STY 53281
147	.$83a	LDY #7
148	.$83c	STY 646
150	.$83f	LDA #147
151	.$841	JSR SINGLECHROUTMAX
154	.$844	LDA #<CONST_5
155	.$846	LDY #>CONST_5
156	.$848	JSR STROUTBRKWL
160	.$84b	LINE_40:
162	.$84b	LDA #0
163	.$84d	STA VAR_PY
164	.$850	STA VAR_PY+1
165	.$853	STA VAR_PY+2
166	.$856	STA VAR_PY+3
167	.$859	STA VAR_PY+4
169	.$85c	LDA #<CONST_6
170	.$85e	LDY #>CONST_6
171	.$860	JSR REALFACPUSH
173	.$863	LDA #<CONST_7R
174	.$865	LDY #>CONST_7R
175	.$867	JSR REALFACPUSH
177	.$86a	LDA #<VAR_PY
178	.$86c	LDY #>VAR_PY
179	.$86e	STA A_REG
180	.$871	STY A_REG+1
181	.$874	LDA #<FORLOOP0
182	.$876	STA JUMP_TARGET
183	.$878	LDA #>FORLOOP0
184	.$87a	STA JUMP_TARGET+1
185	.$87c	JSR INITFOR
186	.$87f	FORLOOP0:
188	.$87f	LINE_50:
190	.$87f	LDA #<CONST_8
191	.$881	LDY #>CONST_8
192	.$883	JSR REALFAC
193	.$886	LDA #<VAR_PY
194	.$888	LDY #>VAR_PY
195	.$88a	JSR FACDIV
198	.$88d	JSR FACXREG
200	.$890	LDA #<CONST_9
201	.$892	LDY #>CONST_9
202	.$894	JSR REALFAC
204	.$897	LDA #<X_REG
205	.$899	LDY #>X_REG
207	.$89b	JSR FACDIV
209	.$89e	JSR FACXREG
211	.$8a1	JSR ONETOFAC
215	.$8a4	LDA #<X_REG
216	.$8a6	LDY #>X_REG
218	.$8a8	JSR FASTFSUBMEM
222	.$8ab	LDX #<VAR_YY
223	.$8ad	LDY #>VAR_YY
225	.$8af	JSR FACMEM
227	.$8b2	LINE_60:
229	.$8b2	LDA #0
230	.$8b4	STA VAR_PX
231	.$8b7	STA VAR_PX+1
232	.$8ba	STA VAR_PX+2
233	.$8bd	STA VAR_PX+3
234	.$8c0	STA VAR_PX+4
236	.$8c3	LDA #<CONST_10
237	.$8c5	LDY #>CONST_10
238	.$8c7	JSR REALFACPUSH
240	.$8ca	LDA #<CONST_7R
241	.$8cc	LDY #>CONST_7R
242	.$8ce	JSR REALFACPUSH
244	.$8d1	LDA #<VAR_PX
245	.$8d3	LDY #>VAR_PX
246	.$8d5	STA A_REG
247	.$8d8	STY A_REG+1
248	.$8db	LDA #<FORLOOP1
249	.$8dd	STA JUMP_TARGET
250	.$8df	LDA #>FORLOOP1
251	.$8e1	STA JUMP_TARGET+1
252	.$8e3	JSR INITFOR
253	.$8e6	FORLOOP1:
255	.$8e6	LINE_70:
257	.$8e6	LDA #<CONST_11
258	.$8e8	LDY #>CONST_11
259	.$8ea	JSR REALFAC
260	.$8ed	LDA #<VAR_PX
261	.$8ef	LDY #>VAR_PX
262	.$8f1	JSR FACDIV
265	.$8f4	JSR FACXREG
267	.$8f7	LDA #<CONST_12
268	.$8f9	LDY #>CONST_12
269	.$8fb	JSR REALFAC
271	.$8fe	LDA #<X_REG
272	.$900	LDY #>X_REG
274	.$902	JSR FACDIV
276	.$905	JSR FACXREG
278	.$908	LDA #<CONST_13
279	.$90a	LDY #>CONST_13
280	.$90c	JSR REALFAC
282	.$90f	LDA #<X_REG
283	.$911	LDY #>X_REG
285	.$913	JSR FASTFSUBMEM
289	.$916	LDX #<VAR_XX
290	.$918	LDY #>VAR_XX
292	.$91a	JSR FACMEM
293	.$91d	LDA #0
294	.$91f	STA VAR_XQ
295	.$922	STA VAR_XQ+1
296	.$925	STA VAR_XQ+2
297	.$928	STA VAR_XQ+3
298	.$92b	STA VAR_XQ+4
300	.$92e	STA VAR_YQ
301	.$931	STA VAR_YQ+1
302	.$934	STA VAR_YQ+2
303	.$937	STA VAR_YQ+3
304	.$93a	STA VAR_YQ+4
306	.$93d	STA VAR_X
307	.$940	STA VAR_X+1
308	.$943	STA VAR_X+2
309	.$946	STA VAR_X+3
310	.$949	STA VAR_X+4
312	.$94c	STA VAR_Y
313	.$94f	STA VAR_Y+1
314	.$952	STA VAR_Y+2
315	.$955	STA VAR_Y+3
316	.$958	STA VAR_Y+4
318	.$95b	STA VAR_IT
319	.$95e	STA VAR_IT+1
320	.$961	STA VAR_IT+2
321	.$964	STA VAR_IT+3
322	.$967	STA VAR_IT+4
325	.$96a	LINE_80:
327	.$96a	LDA #<VAR_YQ
328	.$96c	LDY #>VAR_YQ
329	.$96e	JSR REALFAC
330	.$971	LDA #<VAR_XQ
331	.$973	LDY #>VAR_XQ
332	.$975	JSR FASTFADDMEM
336	.$978	JSR FACXREG
338	.$97b	LDA #<CONST_14R
339	.$97d	LDY #>CONST_14R
340	.$97f	JSR REALFAC
343	.$982	LDA #<X_REG
344	.$984	LDY #>X_REG
346	.$986	JSR CMPFAC
347	.$989	BEQ GTEQ_GTEQ0
348	.$98b	BCS GTEQ_GTEQ0
349	.$98d	LDA #<REAL_CONST_ZERO
350	.$98f	LDY #>REAL_CONST_ZERO
351	.$991	JMP GTEQ_SKIP0
352	.$994	GTEQ_GTEQ0:
353	.$994	LDA #<REAL_CONST_MINUS_ONE
354	.$996	LDY #>REAL_CONST_MINUS_ONE
355	.$998	GTEQ_SKIP0:
357	.$998	JSR REALFACPUSH
359	.$99b	LDA #<CONST_15
360	.$99d	LDY #>CONST_15
361	.$99f	JSR REALFAC
362	.$9a2	LDA #<VAR_IT
363	.$9a4	LDY #>VAR_IT
364	.$9a6	JSR CMPFAC
366	.$9a9	BEQ GTEQ_GTEQ1
367	.$9ab	BCS GTEQ_GTEQ1
368	.$9ad	LDA #<REAL_CONST_ZERO
369	.$9af	LDY #>REAL_CONST_ZERO
370	.$9b1	JMP GTEQ_SKIP1
371	.$9b4	GTEQ_GTEQ1:
372	.$9b4	LDA #<REAL_CONST_MINUS_ONE
373	.$9b6	LDY #>REAL_CONST_MINUS_ONE
374	.$9b8	GTEQ_SKIP1:
376	.$9b8	JSR REALFAC
377	.$9bb	JSR FACXREG
379	.$9be	JSR POPREAL2X
381	.$9c1	JSR FASTOR
384	.$9c4	JSR FACXREG
386	.$9c7	LDA X_REG
387	.$9c9	COMP_SKP0:
388	.$9c9	BEQ LINE_SKIP1
391	.$9cb	LINE_NSKIP1:
393	.$9cb	JMP LINE_150
395	.$9ce	LINE_SKIP1:
398	.$9ce	LINE_90:
400	.$9ce	LDA #<VAR_Y
401	.$9d0	LDY #>VAR_Y
402	.$9d2	JSR REALFAC
403	.$9d5	LDA #<VAR_X
404	.$9d7	LDY #>VAR_X
405	.$9d9	JSR FASTFMULMEM
408	.$9dc	JSR FACXREG
409	.$9df	LDY #1
410	.$9e1	STY A_REG
412	.$9e4	JSR SHL
414	.$9e7	JSR FACXREG
416	.$9ea	LDA #<VAR_YY
417	.$9ec	LDY #>VAR_YY
418	.$9ee	JSR REALFAC
420	.$9f1	LDA #<X_REG
421	.$9f3	LDY #>X_REG
423	.$9f5	JSR FASTFADDMEM
427	.$9f8	LDX #<VAR_Y
428	.$9fa	LDY #>VAR_Y
430	.$9fc	JSR FACMEM
432	.$9ff	LINE_100:
434	.$9ff	LDA #<VAR_YQ
435	.$a01	LDY #>VAR_YQ
436	.$a03	JSR REALFAC
437	.$a06	LDA #<VAR_XQ
438	.$a08	LDY #>VAR_XQ
439	.$a0a	JSR FASTFSUBMEM
443	.$a0d	JSR FACXREG
445	.$a10	LDA #<VAR_XX
446	.$a12	LDY #>VAR_XX
447	.$a14	JSR REALFAC
449	.$a17	LDA #<X_REG
450	.$a19	LDY #>X_REG
452	.$a1b	JSR FASTFADDMEM
456	.$a1e	LDX #<VAR_X
457	.$a20	LDY #>VAR_X
459	.$a22	JSR FACMEM
461	.$a25	LINE_110:
463	.$a25	LDA #<VAR_X
464	.$a27	LDY #>VAR_X
465	.$a29	JSR COPY2_XYA_XREG
468	.$a2c	JSR XREGFAC
470	.$a2f	LDA #<X_REG
471	.$a31	LDY #>X_REG
472	.$a33	JSR FASTFMULMEM
476	.$a36	LDX #<VAR_XQ
477	.$a38	LDY #>VAR_XQ
479	.$a3a	JSR FACMEM
480	.$a3d	LDA #<VAR_Y
481	.$a3f	LDY #>VAR_Y
482	.$a41	JSR COPY2_XYA_XREG
485	.$a44	JSR XREGFAC
487	.$a47	LDA #<X_REG
488	.$a49	LDY #>X_REG
489	.$a4b	JSR FASTFMULMEM
493	.$a4e	LDX #<VAR_YQ
494	.$a50	LDY #>VAR_YQ
496	.$a52	JSR FACMEM
498	.$a55	LINE_120:
500	.$a55	JSR ONETOFAC
502	.$a58	LDA #<VAR_IT
503	.$a5a	LDY #>VAR_IT
504	.$a5c	JSR FASTFADDMEM
509	.$a5f	LDX #<VAR_IT
510	.$a61	LDY #>VAR_IT
512	.$a63	JSR FACMEM
514	.$a66	LINE_130:
516	.$a66	JMP LINE_80
518	.$a69	LINE_150:
520	.$a69	JSR ONETOFAC
522	.$a6c	LDA #<VAR_PY
523	.$a6e	LDY #>VAR_PY
524	.$a70	JSR FASTFADDMEM
528	.$a73	JSR FACXREG
529	.$a76	LDY #5
530	.$a78	LDA #0
531	.$a7a	STY A_REG
532	.$a7d	STA A_REG+1
533	.$a80	JSR COPY_XREG2YREG
537	.$a83	JSR SHL
538	.$a86	JSR FACXREG
540	.$a89	LDY #3
541	.$a8b	LDA #0
542	.$a8d	STY A_REG
543	.$a90	STA A_REG+1
544	.$a93	JSR YREGFAC
547	.$a96	JSR SHL
549	.$a99	LDA #<X_REG
550	.$a9b	LDY #>X_REG
552	.$a9d	JSR FASTFADDMEM
555	.$aa0	JSR FACXREG
557	.$aa3	LDA #<VAR_PX
558	.$aa5	LDY #>VAR_PX
559	.$aa7	JSR REALFAC
561	.$aaa	LDA #<X_REG
562	.$aac	LDY #>X_REG
564	.$aae	JSR FASTFADDMEM
567	.$ab1	JSR FACXREG
569	.$ab4	LDA #<CONST_14R
570	.$ab6	LDY #>CONST_14R
571	.$ab8	JSR REALFAC
574	.$abb	LDA #<X_REG
575	.$abd	LDY #>X_REG
577	.$abf	JSR FASTFADDMEM
581	.$ac2	LDX #<VAR_AD
582	.$ac4	LDY #>VAR_AD
583	.$ac6	JSR FACMEM
585	.$ac9	LDA #<CONST_18R
586	.$acb	LDY #>CONST_18R
587	.$acd	JSR FASTFADDMEM
594	.$ad0	JSR FACWORD
595	.$ad3	STY MOVBSELF3+1
596	.$ad6	STA MOVBSELF3+2
597	.$ad9	LDA #$A0
598	.$adb	MOVBSELF3:
599	.$adb	STA $FFFF
600	.$ade	LDA #<VAR_AD
601	.$ae0	LDY #>VAR_AD
602	.$ae2	JSR REALFAC
603	.$ae5	LDA #<CONST_20
604	.$ae7	LDY #>CONST_20
605	.$ae9	JSR FASTFADDMEM
610	.$aec	JSR PUSHREAL
611	.$aef	LDA #<VAR_IT
612	.$af1	LDY #>VAR_IT
613	.$af3	JSR REALFAC
614	.$af6	LDA #<CONST_15
615	.$af8	LDY #>CONST_15
616	.$afa	JSR FASTFSUBMEM
620	.$afd	JSR FACXREG
622	.$b00	JSR POPREAL
623	.$b03	JSR FACWORD
625	.$b06	STY MOVBSELF4+1
626	.$b09	STA MOVBSELF4+2
627	.$b0c	JSR XREGFAC
630	.$b0f	JSR FACWORD
631	.$b12	MOVBSELF4:
632	.$b12	STY $FFFF
634	.$b15	LINE_160:
636	.$b15	LDA #0
637	.$b17	STA A_REG
638	.$b1a	STA A_REG+1
639	.$b1d	JSR NEXT
641	.$b20	LDA A_REG
642	.$b23	BNE RBEQ_0
643	.$b25	JMP (JUMP_TARGET)
645	.$b28	RBEQ_0:
646	.$b28	LDA #0
647	.$b2a	STA A_REG
648	.$b2d	STA A_REG+1
649	.$b30	JSR NEXT
651	.$b33	LDA A_REG
652	.$b36	BNE RBEQ_1
653	.$b38	JMP (JUMP_TARGET)
655	.$b3b	RBEQ_1:
657	.$b3b	LINE_170:
659	.$b3b	LDA #<CONST_21
660	.$b3d	LDY #>CONST_21
661	.$b3f	JSR STROUTWL
663	.$b42	JSR READTID
664	.$b45	LDA VAR_TI$
665	.$b48	LDY VAR_TI$+1
666	.$b4b	JSR STROUTBRKWL
669	.$b4e	JSR END
670	.$b51	RTS
673	.$b52	END   LDX SP_SAVE
674	.$b55	TXS
681	.$b56	RTS
684	.$b57	START  LDA ENDSTRBUF+1
685	.$b5a	BNE ENDGIVEN
686	.$b5c	LDA BASICEND
687	.$b5e	STA ENDSTRBUF
688	.$b61	LDA BASICEND+1
689	.$b63	STA ENDSTRBUF+1
690	.$b66	ENDGIVEN LDA #<FPSTACK
691	.$b68	LDY #>FPSTACK
692	.$b6a	STA FPSTACKP
693	.$b6d	STY FPSTACKP+1
694	.$b70	LDA #<FORSTACK
695	.$b72	LDY #>FORSTACK
696	.$b74	STA FORSTACKP
697	.$b77	STY FORSTACKP+1
698	.$b7a	LDA #<STRBUF
699	.$b7c	LDY #>STRBUF
700	.$b7e	STA STRBUFP
701	.$b81	STY STRBUFP+1
702	.$b84	STA HIGHP
703	.$b87	STY HIGHP+1
704	.$b8a	LDA #0
705	.$b8c	STA CHLOCKFLAG
706	.$b8f	STA LASTVAR
707	.$b92	STA LASTVAR+1
708	.$b95	JSR INITVARS
709	.$b98	LDA #0
710	.$b9a	STA CMD_NUM
711	.$b9d	STA CHANNEL
712	.$ba0	TAY
713	.$ba1	TAX
717	.$ba2	STA KEYNDX
723	.$ba4	JSR RESTORE
724	.$ba7	CLC
728	.$ba8	RTS
731	.$ba9	INITNARRAY
732	.$ba9	STA TMP_ZP
733	.$bab	STY TMP_ZP+1
734	.$bad	LDY #0
735	.$baf	TYA
736	.$bb0	NINITLOOP STA (TMP_ZP),Y
737	.$bb2	INC TMP_ZP
738	.$bb4	BNE NLOOPNOV
739	.$bb6	INC TMP_ZP+1
740	.$bb8	NLOOPNOV LDX TMP2_ZP
741	.$bba	BNE NLOOPNOV2
742	.$bbc	DEC TMP2_ZP+1
743	.$bbe	NLOOPNOV2 DEC TMP2_ZP
744	.$bc0	BNE NINITLOOP
745	.$bc2	LDX TMP2_ZP+1
746	.$bc4	BNE NINITLOOP
747	.$bc6	RTS
750	.$bc7	INITSTRARRAY
751	.$bc7	STA TMP_ZP
752	.$bc9	STY TMP_ZP+1
753	.$bcb	SINITLOOP LDY #0
754	.$bcd	LDA #<EMPTYSTR
755	.$bcf	STA (TMP_ZP),Y
756	.$bd1	LDA #>EMPTYSTR
757	.$bd3	INY
758	.$bd4	STA (TMP_ZP),Y
759	.$bd6	CLC
760	.$bd7	LDA TMP_ZP
761	.$bd9	ADC #2
762	.$bdb	STA TMP_ZP
763	.$bdd	BCC SLOOPNOV1
764	.$bdf	INC TMP_ZP+1
765	.$be1	SLOOPNOV1 SEC
766	.$be2	LDA TMP2_ZP
767	.$be4	SBC #2
768	.$be6	STA TMP2_ZP
769	.$be8	BCS SLOOPNOV2
770	.$bea	DEC TMP2_ZP+1
771	.$bec	SLOOPNOV2 LDA TMP2_ZP
772	.$bee	BNE SINITLOOP
773	.$bf0	LDA TMP2_ZP+1
774	.$bf2	BNE SINITLOOP
775	.$bf4	RTS
778	.$bf5	INITSPARAMS STA TMP3_ZP
779	.$bf7	STY TMP3_ZP+1
780	.$bf9	SEC
781	.$bfa	SBC #2
782	.$bfc	STA TMP_ZP
783	.$bfe	TYA
784	.$bff	SBC #0
785	.$c01	STA TMP_ZP+1
786	.$c03	LDY #0
787	.$c05	LDA (TMP_ZP),Y
788	.$c07	STA TMP2_ZP
789	.$c09	INY
790	.$c0a	LDA (TMP_ZP),Y
791	.$c0c	STA TMP2_ZP+1
792	.$c0e	LDA TMP3_ZP
793	.$c10	LDY TMP3_ZP+1
794	.$c12	RTS
797	.$c13	INITSTRVARS LDA #<STRINGVARS_START  
798	.$c15	LDY #>STRINGVARS_START
799	.$c17	CMP #<STRINGVARS_END
800	.$c19	BNE INITIT1
801	.$c1b	CPY #>STRINGVARS_END
802	.$c1d	BNE INITIT1
803	.$c1f	JMP INITSA2     
804	.$c22	INITIT1  STA TMP_ZP
805	.$c24	STY TMP_ZP+1
806	.$c26	LDY #0
807	.$c28	INITSTRLOOP LDA #<EMPTYSTR
808	.$c2a	STA (TMP_ZP),Y
809	.$c2c	INY
810	.$c2d	LDA #>EMPTYSTR
811	.$c2f	STA (TMP_ZP),Y
812	.$c31	DEY
813	.$c32	LDA TMP_ZP
814	.$c34	CLC
815	.$c35	ADC #2
816	.$c37	STA TMP_ZP
817	.$c39	LDA TMP_ZP+1
818	.$c3b	ADC #0
819	.$c3d	STA TMP_ZP+1
820	.$c3f	CMP #>STRINGVARS_END
821	.$c41	BNE INITSTRLOOP
822	.$c43	LDA TMP_ZP
823	.$c45	CMP #<STRINGVARS_END
824	.$c47	BNE INITSTRLOOP
825	.$c49	INITSA2  LDA #<STRINGARRAYS_START 
826	.$c4b	LDY #>STRINGARRAYS_START
827	.$c4d	CMP #<STRINGARRAYS_END
828	.$c4f	BNE ARRAYLOOP
829	.$c51	CPY #>STRINGARRAYS_END
830	.$c53	BNE ARRAYLOOP
831	.$c55	RTS       
832	.$c56	ARRAYLOOP CLC
833	.$c57	ADC #3
834	.$c59	BCC ARRAYSKIP1
835	.$c5b	INY
836	.$c5c	ARRAYSKIP1 CPY #>STRINGARRAYS_END
837	.$c5e	BEQ ARRAYSC
838	.$c60	BCC ARRAYSKIP2
839	.$c62	JMP ARRAYQUIT
840	.$c65	ARRAYSC  CMP #<STRINGARRAYS_END
841	.$c67	BCS ARRAYQUIT
842	.$c69	ARRAYSKIP2 STA TMP_REG
843	.$c6b	STY TMP_REG+1
844	.$c6d	JSR INITSPARAMS
845	.$c70	LDA TMP_REG
846	.$c72	LDY TMP_REG+1
847	.$c74	JSR INITSTRARRAY
848	.$c77	LDA TMP_ZP
849	.$c79	LDY TMP_ZP+1
850	.$c7b	JMP ARRAYLOOP
851	.$c7e	ARRAYQUIT RTS
854	.$c7f	RESTORE  LDA #<DATAS
855	.$c81	LDY #>DATAS
856	.$c83	STA DATASP
857	.$c86	STY DATASP+1
858	.$c89	RTS
861	.$c8a	WRITETID LDY #0
862	.$c8c	LDA (TMP_ZP),Y
863	.$c8e	CMP #$6
864	.$c90	BEQ FORMATOK
865	.$c92	JMP ILLEGALQUANTITY
866	.$c95	FORMATOK INC TMP_ZP
867	.$c97	BNE WRITE2
868	.$c99	INC TMP_ZP+1
869	.$c9b	WRITE2  LDA TMP_ZP
870	.$c9d	STA INDEX1
871	.$c9f	LDA TMP_ZP+1
872	.$ca1	STA INDEX1+1
874	.$ca3	JMP WRITETIS
881	.$ca6	READTID  LDA $FE
882	.$ca8	PHA
884	.$ca9	STA FACOV
885	.$cab	JSR TI2FAC
886	.$cae	LDY #0
887	.$cb0	STY LOWDS+1
888	.$cb2	DEY
889	.$cb3	STY FACOV+1
890	.$cb5	LDY #$06
891	.$cb7	STY LOWDS
892	.$cb9	LDY #$24
893	.$cbb	JSR GETTI
898	.$cbe	LDA #$FE
899	.$cc0	STA TMP_ZP
900	.$cc2	LDA #0
901	.$cc4	STA TMP_ZP+1
902	.$cc6	LDA #$6
903	.$cc8	SEI    
904	.$cc9	STA $FE
905	.$ccb	LDA #<VAR_TI$
906	.$ccd	LDY #>VAR_TI$
907	.$ccf	JSR COPYSTRING
908	.$cd2	PLA
909	.$cd3	STA $FE
910	.$cd5	CLI
911	.$cd6	RTS
914	.$cd7	SAVEPOINTERS
915	.$cd7	LDA TMP_ZP   
916	.$cd9	STA STORE1
917	.$cdc	LDA TMP_ZP+1
918	.$cde	STA STORE1+1
919	.$ce1	LDA TMP2_ZP
920	.$ce3	STA STORE2
921	.$ce6	LDA TMP2_ZP+1
922	.$ce8	STA STORE2+1
923	.$ceb	LDA TMP3_ZP
924	.$ced	STA STORE3
925	.$cf0	LDA TMP3_ZP+1
926	.$cf2	STA STORE3+1
927	.$cf5	RTS
930	.$cf6	RESTOREPOINTERS
931	.$cf6	LDA STORE3+1  
932	.$cf9	STA TMP3_ZP+1
933	.$cfb	LDA STORE3
934	.$cfe	STA TMP3_ZP
935	.$d00	LDA STORE2+1
936	.$d03	STA TMP2_ZP+1
937	.$d05	LDA STORE2
938	.$d08	STA TMP2_ZP
939	.$d0a	LDA STORE1+1
940	.$d0d	STA TMP_ZP+1
941	.$d0f	LDA STORE1
942	.$d12	STA TMP_ZP
943	.$d14	RTS
950	.$d15	COMPACTMAX
951	.$d15	LDA #$FF
952	.$d17	LDY #$0
953	.$d19	JMP COMPACTF
956	.$d1c	COMPACT
957	.$d1c	LDY #0
958	.$d1e	GCBUFNE  LDA (TMP_ZP),Y  
959	.$d20	COMPACTF STA TMP4_REG  
960	.$d23	LDY STRBUFP+1  
961	.$d26	STY TMP4_REG+1  
962	.$d29	INY     
963	.$d2a	BEQ ENDMEM   
964	.$d2c	CPY ENDSTRBUF+1  
965	.$d2f	BCC RGCEXIT   
966	.$d31	ENDMEM  LDA STRBUFP
967	.$d34	CLC
968	.$d35	ADC TMP4_REG
969	.$d38	STA TMP4_REG
970	.$d3b	BCC RGCNOOV1
971	.$d3d	INC TMP4_REG+1
972	.$d40	RGCNOOV1 CLC
973	.$d41	LDA TMP4_REG
974	.$d44	ADC #3
975	.$d46	STA TMP4_REG
976	.$d49	BCC RGCNOOV2
977	.$d4b	INC TMP4_REG+1
978	.$d4e	RGCNOOV2 LDA TMP4_REG+1  
979	.$d51	CMP ENDSTRBUF+1
980	.$d54	BEQ RGCLOW1
981	.$d56	BCS GCEXECOMP  
982	.$d58	JMP RGCEXIT
983	.$d5b	RGCLOW1  LDA TMP4_REG
984	.$d5e	CMP ENDSTRBUF
985	.$d61	BCS GCEXECOMP  
986	.$d63	RGCEXIT  RTS     
987	.$d64	GCEXECOMP LDA STRBUFP
988	.$d67	STA STORE4
989	.$d6a	LDA STRBUFP+1
990	.$d6d	STA STORE4+1
991	.$d70	JSR GCEXE
992	.$d73	JMP CHECKMEMORY
995	.$d76	GCEXE  JSR SAVEPOINTERS
996	.$d79	LDA #0
997	.$d7b	STA LASTVAR
998	.$d7e	STA LASTVAR+1  
999	.$d81	LDA #<STRBUF
1000	.$d83	STA TMP_ZP
1001	.$d85	STA GCSTART
1002	.$d88	LDA #>STRBUF
1003	.$d8a	STA TMP_ZP+1  
1004	.$d8c	STA GCSTART+1
1005	.$d8f	GCLOOP  LDY #0
1006	.$d91	LDA TMP_ZP
1007	.$d93	STA GCWORK
1008	.$d96	LDA TMP_ZP+1
1009	.$d98	STA GCWORK+1  
1010	.$d9b	LDA (TMP_ZP),Y
1011	.$d9d	STA GCLEN   
1012	.$da0	INC TMP_ZP
1013	.$da2	BNE GCLOOPNOOV
1014	.$da4	INC TMP_ZP+1
1015	.$da6	GCLOOPNOOV LDA TMP_ZP
1016	.$da8	CLC
1017	.$da9	ADC GCLEN
1018	.$dac	STA TMP_ZP
1019	.$dae	BCC GCLOOPNOOV2
1020	.$db0	INC TMP_ZP+1  
1021	.$db2	GCLOOPNOOV2 LDY #0
1022	.$db4	LDA (TMP_ZP),Y
1023	.$db6	STA TMP2_ZP
1024	.$db8	INY
1025	.$db9	LDA (TMP_ZP),Y
1026	.$dbb	STA TMP2_ZP+1  
1027	.$dbd	LDA TMP_ZP
1028	.$dbf	CLC
1029	.$dc0	ADC #2
1030	.$dc2	STA TMP_ZP
1031	.$dc4	BCC GCLOOPNOOV3
1032	.$dc6	INC TMP_ZP+1  
1033	.$dc8	GCLOOPNOOV3 LDY #0
1034	.$dca	LDA (TMP2_ZP),Y
1035	.$dcc	CMP GCWORK
1036	.$dcf	BNE GCKLOOP
1037	.$dd1	INY
1038	.$dd2	LDA (TMP2_ZP),Y
1039	.$dd4	CMP GCWORK+1
1040	.$dd7	BEQ MEMFREE
1041	.$dd9	GCKLOOP  LDA TMP_ZP+1  
1042	.$ddb	CMP HIGHP+1
1043	.$dde	BEQ GCHECKLOW
1044	.$de0	BCC GCLOOP
1045	.$de2	JMP GCDONE
1046	.$de5	GCHECKLOW LDA TMP_ZP
1047	.$de7	CMP HIGHP
1048	.$dea	BCS GCDONE
1049	.$dec	JMP GCLOOP
1050	.$def	MEMFREE  LDA GCSTART   
1051	.$df2	CMP GCWORK   
1052	.$df5	BNE COPYDOWN
1053	.$df7	LDA GCSTART+1
1054	.$dfa	CMP GCWORK+1
1055	.$dfd	BNE COPYDOWN
1056	.$dff	LDA TMP_ZP   
1057	.$e01	STA GCSTART
1058	.$e04	LDA TMP_ZP+1
1059	.$e06	STA GCSTART+1
1060	.$e09	JMP GCKLOOP   
1061	.$e0c	COPYDOWN LDA GCSTART   
1062	.$e0f	STA TMP_REG
1063	.$e11	LDA GCSTART+1
1064	.$e14	STA TMP_REG+1  
1065	.$e16	LDA GCWORK
1066	.$e19	STA TMP2_REG
1067	.$e1c	LDA GCWORK+1
1068	.$e1f	STA TMP2_REG+1  
1069	.$e22	LDA TMP_ZP
1070	.$e24	SEC
1071	.$e25	SBC GCWORK
1072	.$e28	STA TMP3_REG
1073	.$e2b	LDA TMP_ZP+1
1074	.$e2d	SBC GCWORK+1
1075	.$e30	STA TMP3_REG+1  
1076	.$e33	LDA GCSTART
1077	.$e36	CLC
1078	.$e37	ADC TMP3_REG
1079	.$e3a	STA GCSTART
1080	.$e3d	LDA GCSTART+1
1081	.$e40	ADC TMP3_REG+1
1082	.$e43	STA GCSTART+1  
1083	.$e46	JSR QUICKCOPY  
1084	.$e49	LDY #0
1085	.$e4b	LDA TMP_REG
1086	.$e4d	STA (TMP2_ZP),Y
1087	.$e4f	INY
1088	.$e50	LDA TMP_REG+1
1089	.$e52	STA (TMP2_ZP),Y  
1090	.$e54	JMP GCKLOOP
1091	.$e57	GCDONE  LDA GCSTART
1092	.$e5a	STA HIGHP
1093	.$e5d	STA STRBUFP
1094	.$e60	LDA GCSTART+1
1095	.$e63	STA HIGHP+1
1096	.$e66	STA STRBUFP+1  
1097	.$e69	GCSKIP  JSR RESTOREPOINTERS
1098	.$e6c	RTS     
1101	.$e6d	CHECKMEMORY
1102	.$e6d	LDA STRBUFP+1  
1103	.$e70	CMP STORE4+1  
1104	.$e73	BCC STILLFITSCM  
1108	.$e75	BEQ CHECKMEMLOWCM
1109	.$e77	JMP OUTOFMEMORY  
1110	.$e7a	CHECKMEMLOWCM
1111	.$e7a	LDA STRBUFP   
1112	.$e7d	CMP STORE4
1113	.$e80	BCC STILLFITSCM
1114	.$e82	JMP OUTOFMEMORY  
1115	.$e85	STILLFITSCM RTS
1118	.$e86	QUICKCOPY LDA TMP_REG  
1119	.$e88	STA TMEM+1
1120	.$e8b	LDA TMP_REG+1
1121	.$e8d	STA TMEM+2
1122	.$e90	LDA TMP2_REG
1123	.$e93	STA SMEM+1
1124	.$e96	LDA TMP2_REG+1
1125	.$e99	STA SMEM+2
1126	.$e9c	LDY #$0
1127	.$e9e	LDX TMP3_REG
1128	.$ea1	BNE QCLOOP
1129	.$ea3	LDA TMP3_REG+1
1130	.$ea6	BEQ QCEXIT  
1131	.$ea8	QCLOOP
1132	.$ea8	SMEM  LDA $0000,Y
1133	.$eab	TMEM  STA $0000,Y
1134	.$eae	INY
1135	.$eaf	BNE YNOOV
1136	.$eb1	INC TMEM+2
1137	.$eb4	INC SMEM+2
1138	.$eb7	YNOOV  DEX
1139	.$eb8	BNE QCLOOP
1140	.$eba	LDA TMP3_REG+1
1141	.$ebd	BEQ QCEXIT
1142	.$ebf	DEC TMP3_REG+1
1143	.$ec2	JMP QCLOOP
1144	.$ec5	QCEXIT  RTS
1147	.$ec6	COPYSTRING STA TMP2_ZP
1148	.$ec8	STY TMP2_ZP+1
1149	.$eca	CPY TMP_ZP+1
1150	.$ecc	BNE CONTCOPY
1151	.$ece	LDA TMP2_ZP
1152	.$ed0	CMP TMP_ZP
1153	.$ed2	BNE CONTCOPY
1154	.$ed4	RTS     
1155	.$ed5	CONTCOPY JSR COMPACT   
1156	.$ed8	LDY #0
1157	.$eda	STY TMP_FLAG
1158	.$edd	LDA (TMP_ZP),Y
1159	.$edf	BNE NOTEMPTYSTR
1160	.$ee1	LDA #<EMPTYSTR  
1161	.$ee3	STA TMP_ZP
1162	.$ee5	LDA #>EMPTYSTR
1163	.$ee7	STA TMP_ZP+1
1164	.$ee9	JMP ISCONST
1165	.$eec	NOTEMPTYSTR TAX     
1166	.$eed	LDA (TMP2_ZP),Y
1167	.$eef	STA TMP3_ZP
1168	.$ef1	INY
1169	.$ef2	LDA (TMP2_ZP),Y
1170	.$ef4	STA TMP3_ZP+1
1171	.$ef6	DEY
1172	.$ef7	LDA TMP_ZP+1  
1173	.$ef9	CMP #>CONSTANTS_END
1174	.$efb	BEQ CHECKLOW1
1175	.$efd	BCS INVAR
1176	.$eff	JMP CHECKNEXT
1177	.$f02	CHECKLOW1 LDA TMP_ZP
1178	.$f04	CMP #<CONSTANTS_END
1179	.$f06	BCS INVAR
1180	.$f08	CHECKNEXT LDA TMP_ZP+1  
1181	.$f0a	CMP #>CONSTANTS
1182	.$f0c	BEQ CHECKLOW3
1183	.$f0e	BCC INVAR
1184	.$f10	JMP ISCONST
1185	.$f13	CHECKLOW3 LDA TMP_ZP
1186	.$f15	CMP #<CONSTANTS
1187	.$f17	BCC INVAR   
1188	.$f19	ISCONST  JSR CHECKLASTVAR 
1189	.$f1c	LDA TMP_ZP
1190	.$f1e	STA (TMP2_ZP),Y  
1191	.$f20	INY
1192	.$f21	LDA TMP_ZP+1
1193	.$f23	STA (TMP2_ZP),Y
1194	.$f25	LDA HIGHP   
1195	.$f28	STA STRBUFP
1196	.$f2b	LDA HIGHP+1
1197	.$f2e	STA STRBUFP+1
1198	.$f31	RTS
1199	.$f32	INVAR  INY
1200	.$f33	LDA (TMP2_ZP),Y  
1201	.$f35	CMP #>CONSTANTS_END
1202	.$f37	BEQ CHECKLOW2
1203	.$f39	BCS INVAR2
1204	.$f3b	JMP PUPDATEPTR
1205	.$f3e	CHECKLOW2 DEY
1206	.$f3f	LDA (TMP2_ZP),Y
1207	.$f41	CMP #<CONSTANTS_END
1208	.$f43	BCS INVAR2
1209	.$f45	JMP PUPDATEPTR
1210	.$f48	INVAR2  LDY #0   
1211	.$f4a	LDA (TMP3_ZP),Y
1212	.$f4c	STA TMP_REG
1213	.$f4e	TXA
1214	.$f4f	CMP TMP_REG  
1215	.$f51	BEQ UPDATEHP2 
1218	.$f53	PUPDATEPTR JSR CHECKLASTVAR
1219	.$f56	LDY #1   
1220	.$f58	STY TMP_FLAG 
1221	.$f5b	JMP UPDATEPTR 
1222	.$f5e	UPDATEHP2 LDA HIGHP  
1223	.$f61	STA STRBUFP
1224	.$f64	LDA HIGHP+1
1225	.$f67	STA STRBUFP+1
1226	.$f6a	JMP STRFITS
1227	.$f6d	COPYONLY LDY #0
1228	.$f6f	STY TMP_FLAG
1229	.$f72	JMP CHECKMEM
1230	.$f75	ALTCOPY  JMP COPYSTRING2
1231	.$f78	UPDATEPTR LDA TMP_ZP+1 
1232	.$f7a	CMP HIGHP+1  
1233	.$f7d	BEQ CHECKXT1
1234	.$f7f	BCS ALTCOPY
1235	.$f81	JMP CHECKMEM
1236	.$f84	CHECKXT1 LDA TMP_ZP
1237	.$f86	CMP HIGHP
1238	.$f89	BCS ALTCOPY
1239	.$f8b	CHECKMEM
1240	.$f8b	MEMOK  LDY #0
1241	.$f8d	LDA STRBUFP  
1242	.$f90	STA (TMP2_ZP),Y 
1243	.$f92	STA TMP3_ZP
1244	.$f94	LDA STRBUFP+1
1245	.$f97	INY
1246	.$f98	STA (TMP2_ZP),Y
1247	.$f9a	STA TMP3_ZP+1
1248	.$f9c	TXA
1249	.$f9d	CLC
1250	.$f9e	ADC STRBUFP
1251	.$fa1	PHP
1252	.$fa2	CLC
1253	.$fa3	ADC #3
1254	.$fa5	STA STRBUFP
1255	.$fa8	BCC NOCS1
1256	.$faa	INC STRBUFP+1
1257	.$fad	NOCS1  PLP
1258	.$fae	BCC STRFITS
1259	.$fb0	INC STRBUFP+1
1260	.$fb3	STRFITS  LDY TMP_FLAG 
1261	.$fb6	BEQ NOHPUPDATE 
1262	.$fb8	LDA HIGHP+1
1263	.$fbb	CMP STRBUFP+1
1264	.$fbe	BCC UPDATEHIGHP
1265	.$fc0	BEQ CHECKNEXTHP
1266	.$fc2	JMP NOHPUPDATE
1267	.$fc5	CHECKNEXTHP LDA HIGHP
1268	.$fc8	CMP STRBUFP
1269	.$fcb	BCC UPDATEHIGHP
1270	.$fcd	JMP NOHPUPDATE
1271	.$fd0	UPDATEHIGHP LDA STRBUFP
1272	.$fd3	STA HIGHP
1273	.$fd6	LDA STRBUFP+1
1274	.$fd9	STA HIGHP+1  
1275	.$fdc	JSR REMEMBERLASTVAR
1276	.$fdf	JSR STOREVARREF
1277	.$fe2	NOHPUPDATE LDY #0
1278	.$fe4	LDA (TMP_ZP),Y 
1279	.$fe6	STA (TMP3_ZP),Y
1280	.$fe8	TAY    
1281	.$fe9	BEQ EXITCOPY 
1282	.$feb	LOOP  LDA (TMP_ZP),Y 
1283	.$fed	STA (TMP3_ZP),Y
1284	.$fef	DEY
1285	.$ff0	BNE LOOP
1286	.$ff2	EXITCOPY RTS
1291	.$ff3	COPYSTRING2 LDY #0
1292	.$ff5	LDA (TMP_ZP),Y
1293	.$ff7	STA TMP_REG
1294	.$ff9	TAX
1295	.$ffa	LDA HIGHP
1296	.$ffd	STA TMP3_ZP
1297	.$fff	STA (TMP2_ZP),Y
1298	.$1001	LDA HIGHP+1
1299	.$1004	STA TMP3_ZP+1
1300	.$1006	INY
1301	.$1007	STA (TMP2_ZP),Y
1302	.$1009	JSR REMEMBERLASTVAR
1305	.$100c	LDA TMP_ZP
1306	.$100e	CMP TMP3_ZP
1307	.$1010	BNE DOLOOP
1308	.$1012	LDA TMP_ZP+1
1309	.$1014	CMP TMP3_ZP+1
1310	.$1016	BEQ SKIPCP2
1311	.$1018	DOLOOP  DEY
1312	.$1019	TXA
1313	.$101a	STA (TMP3_ZP),Y
1314	.$101c	INY
1315	.$101d	ASLOOP  LDA (TMP_ZP),Y
1316	.$101f	STA (TMP3_ZP),Y
1317	.$1021	INY
1318	.$1022	DEX
1319	.$1023	BNE ASLOOP
1320	.$1025	SKIPCP2  LDA HIGHP
1321	.$1028	CLC
1322	.$1029	ADC TMP_REG
1323	.$102b	PHP
1324	.$102c	CLC
1325	.$102d	ADC #3
1326	.$102f	STA HIGHP
1327	.$1032	STA STRBUFP
1328	.$1035	BCC SKIPLOWAS1
1329	.$1037	INC HIGHP+1
1330	.$103a	SKIPLOWAS1 PLP
1331	.$103b	BCC SKIPLOWAS2
1332	.$103d	INC HIGHP+1
1333	.$1040	SKIPLOWAS2 LDA HIGHP+1
1334	.$1043	STA STRBUFP+1
1335	.$1046	JSR STOREVARREF
1336	.$1049	RTS
1340	.$104a	CHECKLASTVAR
1341	.$104a	LDA TMP2_ZP
1342	.$104c	CMP LASTVAR
1343	.$104f	BNE NOTSAMEVAR
1344	.$1051	LDA TMP2_ZP+1
1345	.$1053	CMP LASTVAR+1
1346	.$1056	BNE NOTSAMEVAR
1347	.$1058	LDA LASTVARP   
1348	.$105b	STA HIGHP
1349	.$105e	STA STRBUFP
1350	.$1061	LDA LASTVARP+1
1351	.$1064	STA HIGHP+1
1352	.$1067	STA STRBUFP+1
1353	.$106a	NOTSAMEVAR RTS
1357	.$106b	REMEMBERLASTVAR
1358	.$106b	LDA TMP2_ZP
1359	.$106d	STA LASTVAR
1360	.$1070	LDA TMP2_ZP+1
1361	.$1072	STA LASTVAR+1
1362	.$1075	LDA TMP3_ZP
1363	.$1077	STA LASTVARP
1364	.$107a	LDA TMP3_ZP+1
1365	.$107c	STA LASTVARP+1 
1366	.$107f	RTS
1371	.$1080	STOREVARREF
1372	.$1080	TYA
1373	.$1081	PHA    
1374	.$1082	LDA TMP_ZP
1375	.$1084	PHA
1376	.$1085	LDA TMP_ZP+1
1377	.$1087	PHA
1378	.$1088	LDA HIGHP+1
1379	.$108b	STA TMP_ZP+1
1380	.$108d	LDA HIGHP
1381	.$1090	SEC
1382	.$1091	SBC #2
1383	.$1093	STA TMP_ZP
1384	.$1095	BCS RLVNOOV
1385	.$1097	DEC TMP_ZP+1
1386	.$1099	RLVNOOV  LDA TMP2_ZP
1387	.$109b	LDY #0
1388	.$109d	STA (TMP_ZP),Y
1389	.$109f	LDA TMP2_ZP+1
1390	.$10a1	INY
1391	.$10a2	STA (TMP_ZP),Y 
1392	.$10a4	PLA
1393	.$10a5	STA TMP_ZP+1
1394	.$10a7	PLA
1395	.$10a8	STA TMP_ZP  
1396	.$10aa	PLA
1397	.$10ab	TAY    
1398	.$10ac	RTS
1401	.$10ad	REROUTE  LDA CMD_NUM  
1402	.$10b0	BEQ REROUTECMD
1403	.$10b2	TAX
1404	.$10b3	STA CHANNEL
1405	.$10b6	JMP CHKOUT
1406	.$10b9	REROUTECMD RTS
1409	.$10ba	RESETROUTE LDA CMD_NUM  
1410	.$10bd	BEQ RESETROUTECMD
1411	.$10bf	JMP CLRCHNEW
1412	.$10c2	RESETROUTECMD
1413	.$10c2	RTS
1416	.$10c3	STROUTWL STA A_REG
1417	.$10c6	STY A_REG+1
1418	.$10c9	STROUT  JSR REROUTE
1419	.$10cc	LDA A_REG
1420	.$10cf	STA INDEX1
1421	.$10d1	LDA A_REG+1
1422	.$10d4	STA INDEX1+1
1423	.$10d6	LDY #0
1424	.$10d8	LDA (INDEX1),Y
1425	.$10da	TAX
1426	.$10db	INC INDEX1
1427	.$10dd	BNE PRINTSTR
1428	.$10df	INC INDEX1+1
1429	.$10e1	PRINTSTR JSR PRINTSTRS
1430	.$10e4	LDA HIGHP   
1431	.$10e7	STA STRBUFP
1432	.$10ea	LDA HIGHP+1
1433	.$10ed	STA STRBUFP+1
1434	.$10f0	JSR RESETROUTE
1435	.$10f3	RTS
1438	.$10f4	SINGLECHROUTMAX
1439	.$10f4	JSR SINGLECHROUT
1440	.$10f7	JMP COMPACTMAX
1443	.$10fa	SINGLECHROUT
1444	.$10fa	STA TMP_ZP
1445	.$10fc	JSR REROUTE
1446	.$10ff	LDA TMP_ZP
1447	.$1101	JSR CHROUT
1448	.$1104	JMP RESETROUTE
1451	.$1107	STROUTBRKWL STA A_REG
1452	.$110a	STY A_REG+1
1453	.$110d	STROUTBRK JSR REROUTE
1454	.$1110	LDA A_REG
1455	.$1113	STA INDEX1
1456	.$1115	LDA A_REG+1
1457	.$1118	STA INDEX1+1
1458	.$111a	LDY #0
1459	.$111c	LDA (INDEX1),Y
1460	.$111e	TAX
1461	.$111f	INC INDEX1
1462	.$1121	BNE PRINTSTR2
1463	.$1123	INC INDEX1+1
1464	.$1125	PRINTSTR2 JSR PRINTSTRS
1465	.$1128	LDA HIGHP   
1466	.$112b	STA STRBUFP
1467	.$112e	LDA HIGHP+1
1468	.$1131	STA STRBUFP+1
1469	.$1134	LDA #$0D
1470	.$1136	JSR CHROUT
1471	.$1139	JMP RESETROUTE  
1474	.$113c	ADJUSTSTACK LDA FORSTACKP 
1475	.$113f	STA TMP_ZP
1476	.$1141	LDA FORSTACKP+1
1477	.$1144	STA TMP_ZP+1
1478	.$1146	ADSEARCHFOR LDA TMP_ZP
1479	.$1148	CMP #<FORSTACK
1480	.$114a	BNE ADJUST2
1481	.$114c	LDA TMP_ZP+1
1482	.$114e	CMP #>FORSTACK
1483	.$1150	BNE ADJUST2
1484	.$1152	RTS    
1485	.$1153	ADJUST2  LDA TMP_ZP
1486	.$1155	SEC
1487	.$1156	SBC #2
1488	.$1158	STA TMP_ZP
1489	.$115a	BCS ADNOPV1N1
1490	.$115c	DEC TMP_ZP+1
1491	.$115e	ADNOPV1N1 LDY #0
1492	.$1160	LDA (TMP_ZP),Y
1493	.$1162	BNE ADNOGOSUB
1494	.$1164	RTS    
1495	.$1165	ADNOGOSUB
1496	.$1165	INY
1497	.$1166	LDA TMP_ZP
1498	.$1168	SEC
1499	.$1169	SBC (TMP_ZP),Y
1500	.$116b	STA TMP_ZP
1501	.$116d	BCS ADNOPV1N2
1502	.$116f	DEC TMP_ZP+1
1503	.$1171	ADNOPV1N2 DEY
1504	.$1172	LDA A_REG
1505	.$1175	ADCMPFOR CMP (TMP_ZP),Y
1506	.$1177	BNE ADSEARCHFOR
1507	.$1179	LDA A_REG+1
1508	.$117c	INY
1509	.$117d	CMP (TMP_ZP),Y
1510	.$117f	BEQ ADFOUNDFOR
1511	.$1181	JMP ADSEARCHFOR
1512	.$1184	ADLOW0  LDX A_REG+1
1513	.$1187	BEQ ADFOUNDFOR
1514	.$1189	BNE ADCMPFOR
1515	.$118b	ADFOUNDFOR LDA TMP_ZP  
1516	.$118d	STA FORSTACKP
1517	.$1190	LDA TMP_ZP+1
1518	.$1192	STA FORSTACKP+1
1519	.$1195	RTS
1522	.$1196	INITFOR  JSR ADJUSTSTACK
1523	.$1199	LDA FORSTACKP
1524	.$119c	STA TMP_ZP
1525	.$119e	LDA FORSTACKP+1
1526	.$11a1	STA TMP_ZP+1
1527	.$11a3	LDY #0
1528	.$11a5	LDA A_REG
1529	.$11a8	STA (TMP_ZP),Y
1530	.$11aa	INY
1531	.$11ab	LDA A_REG+1
1532	.$11ae	STA (TMP_ZP),Y
1533	.$11b0	INY
1534	.$11b1	LDA JUMP_TARGET
1535	.$11b3	STA (TMP_ZP),Y
1536	.$11b5	INY
1537	.$11b6	LDA JUMP_TARGET+1
1538	.$11b8	STA (TMP_ZP),Y
1539	.$11ba	INY
1540	.$11bb	STY TMP3_ZP
1541	.$11bd	JSR INCTMPZP
1542	.$11c0	JSR POPREAL
1543	.$11c3	LDX TMP_ZP
1544	.$11c5	LDY TMP_ZP+1
1546	.$11c7	JSR FACMEM
1547	.$11ca	JSR SGNFAC
1548	.$11cd	STA TMP_FLAG
1549	.$11d0	LDY #5
1550	.$11d2	STY TMP3_ZP
1551	.$11d4	JSR INCTMPZP
1552	.$11d7	JSR POPREAL
1553	.$11da	LDX TMP_ZP
1554	.$11dc	LDY TMP_ZP+1
1556	.$11de	JSR FACMEM
1557	.$11e1	LDY #5
1558	.$11e3	STY TMP3_ZP
1559	.$11e5	JSR INCTMPZP
1560	.$11e8	LDY #0
1561	.$11ea	LDA TMP_FLAG
1562	.$11ed	STA (TMP_ZP),Y
1563	.$11ef	INY
1564	.$11f0	LDA #1
1565	.$11f2	STA (TMP_ZP),Y
1566	.$11f4	INY
1567	.$11f5	LDA #15
1568	.$11f7	STA (TMP_ZP),Y
1569	.$11f9	LDY #3
1570	.$11fb	STY TMP3_ZP
1571	.$11fd	JSR INCTMPZP
1572	.$1200	LDA TMP_ZP
1573	.$1202	STA FORSTACKP
1574	.$1205	LDA TMP_ZP+1
1575	.$1207	STA FORSTACKP+1
1576	.$120a	RTS
1579	.$120b	NEXT  LDA FORSTACKP
1580	.$120e	STA TMP_ZP
1581	.$1210	LDA FORSTACKP+1
1582	.$1213	STA TMP_ZP+1
1583	.$1215	SEARCHFOR LDA TMP_ZP+1
1584	.$1217	STA TMP3_REG+1
1585	.$121a	LDA TMP_ZP
1586	.$121c	STA TMP3_REG
1587	.$121f	SEC
1588	.$1220	SBC #2
1589	.$1222	STA TMP_ZP
1590	.$1224	BCS NOPV1N1
1591	.$1226	DEC TMP_ZP+1
1592	.$1228	NOPV1N1  LDY #0
1593	.$122a	LDA (TMP_ZP),Y
1594	.$122c	BNE NOGOSUB
1595	.$122e	JMP NEXTWOFOR
1596	.$1231	NOGOSUB
1597	.$1231	INY
1598	.$1232	LDA TMP_ZP
1599	.$1234	SEC
1600	.$1235	SBC (TMP_ZP),Y
1601	.$1237	STA TMP_ZP
1602	.$1239	BCS NOPV1N2
1603	.$123b	DEC TMP_ZP+1
1604	.$123d	NOPV1N2  DEY
1605	.$123e	LDA A_REG
1606	.$1241	BEQ LOW0
1607	.$1243	CMPFOR  CMP (TMP_ZP),Y
1608	.$1245	BNE SEARCHFOR
1609	.$1247	LDA A_REG+1
1610	.$124a	INY
1611	.$124b	CMP (TMP_ZP),Y
1612	.$124d	BEQ FOUNDFOR
1613	.$124f	JMP SEARCHFOR
1614	.$1252	LOW0  LDX A_REG+1
1615	.$1255	BEQ FOUNDFOR
1616	.$1257	BNE CMPFOR
1617	.$1259	FOUNDFOR LDA TMP_ZP
1618	.$125b	STA TMP2_REG
1619	.$125e	LDA TMP_ZP+1
1620	.$1260	STA TMP2_REG+1
1621	.$1263	VARREAL
1622	.$1263	LDY #0
1623	.$1265	STY A_REG+1 
1624	.$1268	LDA (TMP_ZP),Y
1625	.$126a	TAX
1626	.$126b	INY
1627	.$126c	LDA (TMP_ZP),Y
1628	.$126e	TAY
1629	.$126f	TXA
1630	.$1270	JSR REALFAC
1631	.$1273	CALCNEXT LDA TMP_ZP
1632	.$1275	CLC
1633	.$1276	ADC #4
1634	.$1278	STA TMP_ZP
1635	.$127a	BCC NOPV2IN
1636	.$127c	INC TMP_ZP+1
1637	.$127e	NOPV2IN  STA TMP_REG
1638	.$1280	LDY TMP_ZP+1
1639	.$1282	STY TMP_REG+1
1640	.$1284	JSR FASTFADDMEM
1642	.$1287	LDA TMP2_REG
1643	.$128a	STA TMP_ZP
1644	.$128c	LDA TMP2_REG+1
1645	.$128f	STA TMP_ZP+1
1646	.$1291	STOREREAL
1647	.$1291	LDY #0
1648	.$1293	LDA (TMP_ZP),Y
1649	.$1295	TAX
1650	.$1296	INY
1651	.$1297	LDA (TMP_ZP),Y
1652	.$1299	TAY
1653	.$129a	JSR FACMEM 
1654	.$129d	CMPFORXX LDA #5
1655	.$129f	STA TMP3_ZP
1656	.$12a1	LDA TMP_REG
1657	.$12a3	CLC
1658	.$12a4	ADC #5
1659	.$12a6	STA TMP_REG
1660	.$12a8	BCC NOPV3
1661	.$12aa	INC TMP_REG+1
1662	.$12ac	NOPV3  LDY TMP_REG+1
1663	.$12ae	JSR CMPFAC  
1664	.$12b1	BEQ LOOPING
1665	.$12b3	PHA
1666	.$12b4	LDY #14
1667	.$12b6	LDA (TMP_ZP),Y
1668	.$12b8	BEQ STEPZERO
1669	.$12ba	ROL
1670	.$12bb	BCC STEPPOS
1671	.$12bd	STEPNEG  PLA
1672	.$12be	ROL
1673	.$12bf	BCC LOOPING
1674	.$12c1	BCS EXITLOOP
1675	.$12c3	STEPPOS  PLA
1676	.$12c4	ROL
1677	.$12c5	BCC EXITLOOP
1678	.$12c7	LOOPING  LDA TMP3_REG
1679	.$12ca	STA FORSTACKP
1680	.$12cd	LDA TMP3_REG+1
1681	.$12d0	STA FORSTACKP+1
1682	.$12d3	LDA TMP2_REG
1683	.$12d6	CLC
1684	.$12d7	ADC #2
1685	.$12d9	STA TMP2_REG
1686	.$12dc	BCC NOPV4IN
1687	.$12de	INC TMP2_REG+1
1688	.$12e1	NOPV4IN  LDY #0
1689	.$12e3	STY A_REG
1690	.$12e6	STA TMP_ZP
1691	.$12e8	LDA TMP2_REG+1
1692	.$12eb	STA TMP_ZP+1
1693	.$12ed	LDA (TMP_ZP),Y
1694	.$12ef	STA JUMP_TARGET
1695	.$12f1	INY
1696	.$12f2	LDA (TMP_ZP),Y
1697	.$12f4	STA JUMP_TARGET+1
1698	.$12f6	RTS
1699	.$12f7	STEPZERO PLA
1700	.$12f8	JMP LOOPING
1701	.$12fb	EXITLOOP LDA TMP2_REG
1702	.$12fe	STA FORSTACKP
1703	.$1301	LDA TMP2_REG+1
1704	.$1304	STA FORSTACKP+1
1705	.$1307	LDA #1
1706	.$1309	STA A_REG
1707	.$130c	RTS
1710	.$130d	REALFACPUSH STA TMP_ZP
1711	.$130f	STY TMP_ZP+1
1712	.$1311	LDX FPSTACKP
1713	.$1314	LDY FPSTACKP+1
1714	.$1317	STX TMP2_ZP
1715	.$1319	STY TMP2_ZP+1
1716	.$131b	LDY #0
1717	.$131d	LDA (TMP_ZP),Y
1718	.$131f	STA (TMP2_ZP),Y
1719	.$1321	INY
1720	.$1322	LDA (TMP_ZP),Y
1721	.$1324	STA (TMP2_ZP),Y
1722	.$1326	INY
1723	.$1327	LDA (TMP_ZP),Y
1724	.$1329	STA (TMP2_ZP),Y
1725	.$132b	INY
1726	.$132c	LDA (TMP_ZP),Y
1727	.$132e	STA (TMP2_ZP),Y
1728	.$1330	INY
1729	.$1331	LDA (TMP_ZP),Y
1730	.$1333	STA (TMP2_ZP),Y
1731	.$1335	TXA    
1732	.$1336	CLC
1733	.$1337	ADC #5
1734	.$1339	STA FPSTACKP
1735	.$133c	BCC NOPVRFPXX
1736	.$133e	INC FPSTACKP+1
1737	.$1341	NOPVRFPXX RTS
1740	.$1342	PUSHREAL LDX FPSTACKP
1741	.$1345	LDY FPSTACKP+1
1742	.$1348	JSR FACMEM
1743	.$134b	LDA FPSTACKP
1744	.$134e	CLC
1745	.$134f	ADC #5
1746	.$1351	STA FPSTACKP
1747	.$1354	BCC NOPVPUR
1748	.$1356	INC FPSTACKP+1
1749	.$1359	NOPVPUR  RTS
1752	.$135a	POPREAL2X LDA FPSTACKP
1753	.$135d	SEC
1754	.$135e	SBC #5
1755	.$1360	STA FPSTACKP
1756	.$1363	BCS NOPVPR2X
1757	.$1365	DEC FPSTACKP+1
1758	.$1368	NOPVPR2X LDA FPSTACKP
1759	.$136b	LDY FPSTACKP+1
1760	.$136e	JSR REALFAC
1761	.$1371	JSR XREGARG
1762	.$1374	RTS
1765	.$1375	POPREAL  LDA FPSTACKP
1766	.$1378	SEC
1767	.$1379	SBC #5
1768	.$137b	STA FPSTACKP
1769	.$137e	BCS NOPVPR
1770	.$1380	DEC FPSTACKP+1
1771	.$1383	NOPVPR  LDA FPSTACKP
1772	.$1386	LDY FPSTACKP+1
1773	.$1389	JMP REALFAC
1776	.$138c	SHL   LDA FACEXP
1777	.$138e	BEQ SHLOK
1778	.$1390	CLC
1779	.$1391	ADC A_REG
1780	.$1394	BCC SHLOK
1781	.$1396	LDA #0
1782	.$1398	STA FACSGN
1783	.$139a	STA FACLO
1784	.$139c	STA FACMO
1785	.$139e	STA FACMOH
1786	.$13a0	STA FACHO
1787	.$13a2	LDA #$FF
1788	.$13a4	SHLOK  STA FACEXP
1789	.$13a6	RTS
1792	.$13a7	INCTMPZP LDA TMP_ZP
1793	.$13a9	CLC
1794	.$13aa	ADC TMP3_ZP
1795	.$13ac	STA TMP_ZP
1796	.$13ae	BCC NOPV2
1797	.$13b0	INC TMP_ZP+1
1798	.$13b2	NOPV2  RTS
1801	.$13b3	COPY2_XYA_XREG
1802	.$13b3	STA TMP3_ZP
1803	.$13b5	STY TMP3_ZP+1
1804	.$13b7	COPY2_XY_XREG
1805	.$13b7	LDX #<X_REG  
1806	.$13b9	LDY #0
1807	.$13bb	LDA (TMP3_ZP),Y
1808	.$13bd	STA X_REG
1809	.$13bf	INY
1810	.$13c0	LDA (TMP3_ZP),Y
1811	.$13c2	STA X_REG+1
1812	.$13c4	INY
1813	.$13c5	LDA (TMP3_ZP),Y
1814	.$13c7	STA X_REG+2
1815	.$13c9	INY
1816	.$13ca	LDA (TMP3_ZP),Y
1817	.$13cc	STA X_REG+3
1818	.$13ce	INY
1819	.$13cf	LDA (TMP3_ZP),Y
1820	.$13d1	STA X_REG+4
1821	.$13d3	RTS
1824	.$13d4	COPY_XREG2YREG
1825	.$13d4	LDA X_REG
1826	.$13d6	STA Y_REG
1827	.$13d9	LDA X_REG+1
1828	.$13db	STA Y_REG+1
1829	.$13de	LDA X_REG+2
1830	.$13e0	STA Y_REG+2
1831	.$13e3	LDA X_REG+3
1832	.$13e5	STA Y_REG+3
1833	.$13e8	LDA X_REG+4
1834	.$13ea	STA Y_REG+4
1835	.$13ed	RTS
1839	.$13ee	FACWORD
1840	.$13ee	LDA FACEXP   
1841	.$13f0	BNE DOFACWORD
1842	.$13f2	STA FACSGN   
1843	.$13f4	DOFACWORD:
1844	.$13f4	JMP XFACWORD
1848	.$13f7	ONETOFAC    LDX #129
1849	.$13f9	STX FAC
1850	.$13fb	DEX
1851	.$13fc	STX FAC+1
1852	.$13fe	LDX #0
1853	.$1400	STX FAC+2
1854	.$1402	STX FAC+3
1855	.$1404	STX FAC+4
1856	.$1406	STX FAC+5
1857	.$1408	STX FAC+15
1858	.$140a	RTS
1861	.$140b	FASTOR  LDA FACEXP   
1862	.$140d	BNE CHECKFACOR
1863	.$140f	LDA ARGEXP   
1864	.$1411	BNE CHECKARGOR 
1865	.$1413	LDA #0
1866	.$1415	STA FACSGN   
1867	.$1417	RTS    
1868	.$1418	CHECKFACOR LDA FACEXP   
1869	.$141a	CMP #$81
1870	.$141c	BNE NORMALOR
1871	.$141e	LDA FACHO
1872	.$1420	CMP #$80
1873	.$1422	BNE NORMALOR
1874	.$1424	LDA FACMOH
1875	.$1426	BNE NORMALOR
1876	.$1428	LDA FACMO
1877	.$142a	BNE NORMALOR
1878	.$142c	LDA FACLO
1879	.$142e	BNE NORMALOR
1880	.$1430	LDA FACSGN
1881	.$1432	ROL
1882	.$1433	BCC NORMALOR
1883	.$1435	CHECKARGOR LDA ARGEXP   
1884	.$1437	BNE CHECKARGOR2
1885	.$1439	RTS    
1886	.$143a	CHECKARGOR2 CMP #$81
1887	.$143c	BNE NORMALOR
1888	.$143e	LDA ARGHO
1889	.$1440	CMP #$80
1890	.$1442	BNE NORMALOR
1891	.$1444	LDA ARGMOH
1892	.$1446	BNE NORMALOR
1893	.$1448	LDA ARGMO
1894	.$144a	BNE NORMALOR
1895	.$144c	LDA ARGLO
1896	.$144e	BNE NORMALOR
1897	.$1450	LDA ARGSGN
1898	.$1452	AND #$80
1899	.$1454	CMP #$80
1900	.$1456	BNE NORMALOR
1901	.$1458	JMP ARGFAC  
1902	.$145b	NORMALOR JMP FACOR
1905	.$145e	CLRCHNEW
1906	.$145e	LDA CHLOCKFLAG
1907	.$1461	BNE SKIPCLRCH
1908	.$1463	JMP CLRCH
1909	.$1466	SKIPCLRCH
1910	.$1466	RTS
1913	.$1467	NEXTWOFOR
1917	.$1467	LDX #$0A
1918	.$1469	JMP ERRALL
1921	.$146c	OUTOFMEMORY
1925	.$146c	LDX #$10
1926	.$146e	JMP ERRALL
1929	.$1471	ILLEGALQUANTITY
1933	.$1471	JMP ERRIQ
1936	.$1474	FACXREG  LDA FACLO
1937	.$1476	STA X_REG+4
1938	.$1478	LDA FACMO
1939	.$147a	STA X_REG+3
1940	.$147c	LDA FACMOH
1941	.$147e	STA X_REG+2
1942	.$1480	LDA FACSGN
1943	.$1482	ORA #$7F
1944	.$1484	AND FACHO
1945	.$1486	STA X_REG+1
1946	.$1488	LDA FACEXP
1947	.$148a	STA X_REG
1948	.$148c	LDA #0   
1949	.$148e	STA FACOV
1950	.$1490	RTS
1953	.$1491	XREGFAC  LDA X_REG+4
1954	.$1493	STA FACLO
1955	.$1495	LDA X_REG+3
1956	.$1497	STA FACMO
1957	.$1499	LDA X_REG+2
1958	.$149b	STA FACMOH
1959	.$149d	LDA X_REG+1
1960	.$149f	STA FACSGN
1961	.$14a1	ORA #$80
1962	.$14a3	STA FACHO
1963	.$14a5	LDA X_REG
1964	.$14a7	STA FACEXP
1965	.$14a9	LDA #0
1966	.$14ab	STA FACOV
1967	.$14ad	RTS
1970	.$14ae	XREGARG  LDA X_REG+4
1971	.$14b0	STA ARGLO
1972	.$14b2	LDA X_REG+3
1973	.$14b4	STA ARGMO
1974	.$14b6	LDA X_REG+2
1975	.$14b8	STA ARGMOH
1976	.$14ba	LDA X_REG+1
1977	.$14bc	STA ARGSGN
1978	.$14be	EOR FACSGN
1979	.$14c0	STA ARISGN
1980	.$14c2	LDA ARGSGN
1981	.$14c4	ORA #$80
1982	.$14c6	STA ARGHO
1983	.$14c8	LDA X_REG
1984	.$14ca	STA ARGEXP
1985	.$14cc	LDA FACEXP
1986	.$14ce	RTS
1989	.$14cf	YREGFAC  LDA Y_REG+4
1990	.$14d2	STA FACLO
1991	.$14d4	LDA Y_REG+3
1992	.$14d7	STA FACMO
1993	.$14d9	LDA Y_REG+2
1994	.$14dc	STA FACMOH
1995	.$14de	LDA Y_REG+1
1996	.$14e1	STA FACSGN
1997	.$14e3	ORA #$80
1998	.$14e5	STA FACHO
1999	.$14e7	LDA Y_REG
2000	.$14ea	STA FACEXP
2001	.$14ec	LDA #0
2002	.$14ee	STA FACOV
2003	.$14f0	RTS
2117	.$14f1	FASTFSUBMEM
2118	.$14f1	JSR MEMARG
2119	.$14f4	FASTFSUBARG
2120	.$14f4	LDA FACSGN
2121	.$14f6	EOR #$FF
2122	.$14f8	STA FACSGN
2123	.$14fa	EOR ARGSGN
2124	.$14fc	STA ARISGN
2125	.$14fe	LDA FACEXP
2126	.$1500	JMP FASTFADDARG
2129	.$1503	FASTFADDMEM
2130	.$1503	JSR MEMARG
2131	.$1506	FASTFADDARG
2132	.$1506	BNE FADDRET2     
2133	.$1508	JMP ARGFAC
2134	.$150b	FADDRET2 LDA ARGEXP
2135	.$150d	BNE FADDRET1     
2136	.$150f	RTS
2137	.$1510	FADDRET1 SEC
2138	.$1511	SBC FACEXP
2139	.$1513	BEQ FFADD_EXPEQ     
2140	.$1515	BCC FFADD_SHFARG1   
2144	.$1517	LDY ARGEXP
2145	.$1519	STY FACEXP
2146	.$151b	LDY ARGSGN
2147	.$151d	STY FACSGN
2148	.$151f	LDX #0
2149	.$1521	STX OLDOV        
2150	.$1523	LDX #FAC         
2152	.$1525	SEC
2153	.$1526	SBC #$08
2154	.$1528	BMI FFADD_SHFFAC2
2156	.$152a	FFADD_SHFFAC1
2157	.$152a	LDY FACLO        
2158	.$152c	STY FACOV
2159	.$152e	LDY FACMO        
2160	.$1530	STY FACMO+1
2161	.$1532	LDY FACMOH       
2162	.$1534	STY FACMOH+1
2163	.$1536	LDY FACHO        
2164	.$1538	STY FACHO+1
2165	.$153a	LDY #0
2166	.$153c	STY FACHO        
2167	.$153e	SBC #$08         
2168	.$1540	BPL FFADD_SHFFAC1   
2169	.$1542	FFADD_SHFFAC2
2170	.$1542	ADC #$08         
2171	.$1544	BEQ FFADD_SHFFAC4   
2172	.$1546	TAY
2173	.$1547	LDA FACOV
2174	.$1549	FFADD_SHFFAC3
2175	.$1549	LSR FACHO        
2176	.$154b	ROR FACMOH       
2177	.$154d	ROR FACMO        
2178	.$154f	ROR FACLO        
2179	.$1551	ROR              
2180	.$1552	DEY
2181	.$1553	BNE FFADD_SHFFAC3
2182	.$1555	JMP FFADD_MANADD2   
2183	.$1558	FFADD_SHFFAC4
2184	.$1558	LDA FACOV        
2185	.$155a	JMP FFADD_MANADD2
2186	.$155d	FFADD_EXPEQ
2187	.$155d	LDX FACOV
2188	.$155f	STX OLDOV
2191	.$1561	JMP FFADD_MANADD1
2192	.$1564	FFADD_SHFARG2
2193	.$1564	LDA FACOV        
2194	.$1566	JMP FFADD_MANADD1
2195	.$1569	FFADD_SHFARG1
2196	.$1569	LDX FACOV
2197	.$156b	STX OLDOV        
2198	.$156d	LDX #$00         
2201	.$156f	ADC #$08
2202	.$1571	BPL FFADD_SHFARG6   
2203	.$1573	FFADD_SHFARG3
2204	.$1573	LDX ARGLO        
2205	.$1575	LDY ARGMO        
2206	.$1577	STY ARGMO+1
2207	.$1579	LDY ARGMOH       
2208	.$157b	STY ARGMOH+1
2209	.$157d	LDY ARGHO        
2210	.$157f	STY ARGHO+1
2211	.$1581	LDY #0
2212	.$1583	STY ARGHO        
2213	.$1585	FFADD_SHFARG4
2214	.$1585	ADC #$08
2215	.$1587	BMI FFADD_SHFARG3
2216	.$1589	BEQ FFADD_SHFARG3
2217	.$158b	FFADD_SHFARG6
2218	.$158b	SBC #$08
2219	.$158d	BEQ FFADD_SHFARG2   
2220	.$158f	TAY
2221	.$1590	TXA              
2222	.$1591	FFADD_SHFARG5
2223	.$1591	LSR ARGHO
2224	.$1593	ROR ARGMOH
2225	.$1595	ROR ARGMO
2226	.$1597	ROR ARGLO
2227	.$1599	ROR           
2228	.$159a	INY
2229	.$159b	BNE FFADD_SHFARG5
2230	.$159d	FFADD_MANADD1
2231	.$159d	LDX #ARGEXP      
2232	.$159f	FFADD_MANADD2
2233	.$159f	BIT ARISGN
2234	.$15a1	BMI FFADD_MANSUB1   
2235	.$15a3	CLC
2236	.$15a4	ADC OLDOV
2237	.$15a6	STA FACOV
2238	.$15a8	LDA FACLO
2239	.$15aa	ADC ARGLO
2240	.$15ac	STA FACLO
2241	.$15ae	LDA FACMO
2242	.$15b0	ADC ARGMO
2243	.$15b2	STA FACMO
2244	.$15b4	LDA FACMOH
2245	.$15b6	ADC ARGMOH
2246	.$15b8	STA FACMOH
2247	.$15ba	LDA FACHO
2248	.$15bc	ADC ARGHO
2249	.$15be	STA FACHO
2250	.$15c0	BCC FFADD_RNDRTS
2251	.$15c2	INC FACEXP
2252	.$15c4	BEQ FFADD_OVERR
2254	.$15c6	ROR FACHO
2255	.$15c8	ROR FACMOH
2256	.$15ca	ROR FACMO
2257	.$15cc	ROR FACLO
2258	.$15ce	ROR FACOV
2259	.$15d0	FFADD_RNDRTS
2260	.$15d0	RTS
2261	.$15d1	FFADD_OVERR
2262	.$15d1	JMP ILLEGALQUANTITY
2263	.$15d4	FFADD_MANSUB1
2264	.$15d4	LDY #FACEXP
2265	.$15d6	CPX #ARGEXP
2266	.$15d8	BEQ FFADD_MANSUB2
2267	.$15da	LDY #ARGEXP
2268	.$15dc	FFADD_MANSUB2
2269	.$15dc	SEC              
2270	.$15dd	EOR #$FF
2271	.$15df	ADC OLDOV
2272	.$15e1	STA FACOV
2273	.$15e3	LDA 4,Y
2274	.$15e6	SBC 4,X
2275	.$15e8	STA FACLO
2276	.$15ea	LDA 3,Y
2277	.$15ed	SBC 3,X
2278	.$15ef	STA FACMO
2279	.$15f1	LDA 2,Y
2280	.$15f4	SBC 2,X
2281	.$15f6	STA FACMOH
2282	.$15f8	LDA 1,Y
2283	.$15fb	SBC 1,X
2284	.$15fd	STA FACHO
2285	.$15ff	BCS FCNORMAL
2286	.$1601	LDA FACSGN
2287	.$1603	EOR #$FF
2288	.$1605	STA FACSGN
2289	.$1607	LDA FACHO
2290	.$1609	EOR #$FF
2291	.$160b	STA FACHO
2292	.$160d	LDA FACMOH
2293	.$160f	EOR #$FF
2294	.$1611	STA FACMOH
2295	.$1613	LDA FACMO
2296	.$1615	EOR #$FF
2297	.$1617	STA FACMO
2298	.$1619	LDA FACLO
2299	.$161b	EOR #$FF
2300	.$161d	STA FACLO
2301	.$161f	LDA FACOV
2302	.$1621	EOR #$FF
2303	.$1623	CLC
2304	.$1624	ADC #1
2305	.$1626	STA FACOV
2306	.$1628	BNE FCNORMAL
2307	.$162a	INC FACLO
2308	.$162c	BNE FCNORMAL
2309	.$162e	INC FACMO
2310	.$1630	BNE FCNORMAL
2311	.$1632	INC FACMOH
2312	.$1634	BNE FCNORMAL
2313	.$1636	INC FACHO
2314	.$1638	FCNORMAL   BIT FACHO
2315	.$163a	BMI FFADD_RET       
2316	.$163c	LDA #0           
2317	.$163e	CLC
2318	.$163f	FFADD_NORM3
2319	.$163f	LDX FACHO
2320	.$1641	BNE FFADD_NORM1
2321	.$1643	LDX FACHO+1
2322	.$1645	STX FACHO
2323	.$1647	LDX FACMOH+1
2324	.$1649	STX FACMOH
2325	.$164b	LDX FACMO+1
2326	.$164d	STX FACMO
2327	.$164f	LDX FACOV
2328	.$1651	STX FACLO
2329	.$1653	LDX #0
2330	.$1655	STX FACOV
2331	.$1657	ADC #$08
2332	.$1659	CMP #$20
2333	.$165b	BNE FFADD_NORM3
2334	.$165d	JMP FFADD_ZEROFAC
2335	.$1660	FFADD_NORM2
2336	.$1660	CLC
2337	.$1661	ADC #1
2338	.$1663	ASL FACOV
2339	.$1665	ROL FACLO
2340	.$1667	ROL FACMO
2341	.$1669	ROL FACMOH
2342	.$166b	ROL FACHO
2343	.$166d	FFADD_NORM1
2344	.$166d	BPL FFADD_NORM2     
2345	.$166f	SEC
2346	.$1670	SBC FACEXP
2347	.$1672	BCS FFADD_ZEROFAC
2348	.$1674	EOR #$FF
2349	.$1676	CLC
2350	.$1677	ADC #1
2351	.$1679	STA FACEXP
2352	.$167b	FFADD_RET   RTS
2353	.$167c	FFADD_ZEROFAC
2354	.$167c	LDX #0
2355	.$167e	STX FACEXP
2356	.$1680	STX FACSGN
2357	.$1682	RTS
2360	.$1683	FASTFMULMEM
2361	.$1683	JSR MEMARG
2362	.$1686	FASTFMULARG
2363	.$1686	BEQ FFMUL_MULTRT    
2364	.$1688	LDA ARGEXP
2365	.$168a	BEQ FFMUL_ZEREMV    
2366	.$168c	CLC
2367	.$168d	ADC FACEXP
2368	.$168f	BCC FFMUL_TRYOFF
2369	.$1691	CLC
2370	.$1692	BPL FFMUL_ADJUST
2371	.$1694	JMP ILLEGALQUANTITY
2372	.$1697	FFMUL_ZEREMV
2373	.$1697	LDY #0
2374	.$1699	STY FACEXP       
2375	.$169b	STY FACSGN
2376	.$169d	FFMUL_MULTRT
2377	.$169d	RTS
2378	.$169e	FFMUL_TRYOFF
2379	.$169e	BPL FFMUL_ZEREMV    
2380	.$16a0	FFMUL_ADJUST
2381	.$16a0	ADC #$80         
2382	.$16a2	BEQ FFMUL_ZEREMV    
2383	.$16a4	STA FACEXP
2384	.$16a6	LDA ARISGN
2385	.$16a8	STA FACSGN
2386	.$16aa	LDY #0
2387	.$16ac	STY RESHOP
2388	.$16ae	STY RESHO
2389	.$16b0	STY RESMOH
2390	.$16b2	STY RESMO
2391	.$16b4	STY RESLO
2392	.$16b6	STY RESOV
2393	.$16b8	STY FACHOP
2394	.$16ba	FFMUL_B0
2395	.$16ba	LSR ARGLO        
2396	.$16bc	BCC FFMUL_B1
2397	.$16be	LDA RESOV
2398	.$16c0	CLC
2399	.$16c1	ADC FACMOH       
2400	.$16c3	STA RESOV
2401	.$16c5	LDA RESLO
2402	.$16c7	ADC FACHO        
2403	.$16c9	STA RESLO
2404	.$16cb	LDA RESMO
2405	.$16cd	ADC FACHOP       
2406	.$16cf	STA RESMO
2407	.$16d1	BCC FFMUL_B1
2408	.$16d3	INC RESMOH
2409	.$16d5	BNE FFMUL_B1
2410	.$16d7	INC RESHO
2411	.$16d9	BNE FFMUL_B1
2412	.$16db	INC RESHOP
2413	.$16dd	FFMUL_B1
2414	.$16dd	LSR ARGMO        
2415	.$16df	BCC FFMUL_B2
2416	.$16e1	LDA RESOV
2417	.$16e3	CLC
2418	.$16e4	ADC FACMO        
2419	.$16e6	STA RESOV
2420	.$16e8	LDA RESLO
2421	.$16ea	ADC FACMOH       
2422	.$16ec	STA RESLO
2423	.$16ee	LDA RESMO
2424	.$16f0	ADC FACHO        
2425	.$16f2	STA RESMO
2426	.$16f4	LDA RESMOH
2427	.$16f6	ADC FACHOP       
2428	.$16f8	STA RESMOH
2429	.$16fa	BCC FFMUL_B2
2430	.$16fc	INC RESHO
2431	.$16fe	BNE FFMUL_B2
2432	.$1700	INC RESHOP
2433	.$1702	FFMUL_B2
2434	.$1702	LSR ARGMOH       
2435	.$1704	BCC FFMUL_B3
2436	.$1706	LDA RESOV
2437	.$1708	CLC
2438	.$1709	ADC FACLO        
2439	.$170b	STA RESOV
2440	.$170d	LDA RESLO
2441	.$170f	ADC FACMO        
2442	.$1711	STA RESLO
2443	.$1713	LDA RESMO
2444	.$1715	ADC FACMOH       
2445	.$1717	STA RESMO
2446	.$1719	LDA RESMOH
2447	.$171b	ADC FACHO        
2448	.$171d	STA RESMOH
2449	.$171f	LDA RESHO
2450	.$1721	ADC FACHOP       
2451	.$1723	STA RESHO
2452	.$1725	BCC FFMUL_B3
2453	.$1727	INC RESHOP
2454	.$1729	FFMUL_B3
2455	.$1729	LSR ARGHO        
2456	.$172b	BCC FFMUL_ROTA
2457	.$172d	LDA RESOV
2458	.$172f	CLC
2459	.$1730	ADC FACOV        
2460	.$1732	STA RESOV
2461	.$1734	LDA RESLO
2462	.$1736	ADC FACLO        
2463	.$1738	STA RESLO
2464	.$173a	LDA RESMO
2465	.$173c	ADC FACMO        
2466	.$173e	STA RESMO
2467	.$1740	LDA RESMOH
2468	.$1742	ADC FACMOH       
2469	.$1744	STA RESMOH
2470	.$1746	LDA RESHO
2471	.$1748	ADC FACHO        
2472	.$174a	STA RESHO
2473	.$174c	LDA RESHOP
2474	.$174e	ADC FACHOP       
2475	.$1750	STA RESHOP
2476	.$1752	FFMUL_ROTA
2477	.$1752	ASL FACOV
2478	.$1754	ROL FACLO
2479	.$1756	ROL FACMO
2480	.$1758	ROL FACMOH
2481	.$175a	ROL FACHO
2482	.$175c	ROL FACHOP
2483	.$175e	BMI FFMUL_FIN
2484	.$1760	JMP FFMUL_B0
2485	.$1763	FFMUL_FIN
2486	.$1763	LDA RESHOP
2487	.$1765	STA FACHO
2488	.$1767	LDA RESHO
2489	.$1769	STA FACMOH
2490	.$176b	LDA RESMOH
2491	.$176d	STA FACMO
2492	.$176f	LDA RESMO
2493	.$1771	STA FACLO
2494	.$1773	LDA RESLO
2495	.$1775	STA FACOV
2496	.$1777	JMP FCNORMAL      
2497	.$177a	MUL10
2498	.$177a	JSR ARGFAC       
2499	.$177d	TAX              
2500	.$177e	BEQ FFMUL_MUL101    
2501	.$1780	CLC
2502	.$1781	ADC #2
2503	.$1783	BCS FFMUL_MUL102    
2504	.$1785	STA FACEXP       
2505	.$1787	LDY #0
2506	.$1789	STY ARISGN
2507	.$178b	JSR FASTFADDARG      
2508	.$178e	INC FACEXP
2509	.$1790	BEQ FFMUL_MUL102     
2510	.$1792	FFMUL_MUL101
2511	.$1792	RTS
2512	.$1793	FFMUL_MUL102
2513	.$1793	JMP ILLEGALQUANTITY
2514	.$1796	MUL6
2515	.$1796	JSR ARGFAC       
2516	.$1799	TAX              
2517	.$179a	BEQ FFMUL_MUL61     
2518	.$179c	INC FACEXP
2519	.$179e	BEQ FFMUL_MUL62     
2520	.$17a0	LDY #0
2521	.$17a2	STY ARISGN
2522	.$17a4	JSR FASTFADDARG      
2523	.$17a7	INC FACEXP
2524	.$17a9	BEQ FFMUL_MUL62     
2525	.$17ab	FFMUL_MUL61
2526	.$17ab	RTS
2527	.$17ac	FFMUL_MUL62
2528	.$17ac	JMP ILLEGALQUANTITY
2531	.$17af	INITVARS
2532	.$17af	JSR INITSTRVARS
2533	.$17b2	LDA #0
2534	.$17b4	LDY #4
2535	.$17b6	REALINITLOOP0:
2536	.$17b6	STA VAR_MX,Y
2537	.$17b9	STA VAR_PY,Y
2538	.$17bc	STA VAR_YY,Y
2539	.$17bf	STA VAR_PX,Y
2540	.$17c2	STA VAR_XX,Y
2541	.$17c5	STA VAR_XQ,Y
2542	.$17c8	STA VAR_YQ,Y
2543	.$17cb	STA VAR_X,Y
2544	.$17ce	STA VAR_Y,Y
2545	.$17d1	STA VAR_IT,Y
2546	.$17d4	STA VAR_AD,Y
2547	.$17d7	DEY
2548	.$17d8	BMI REALLOOPEXIT0
2549	.$17da	JMP REALINITLOOP0
2550	.$17dd	REALLOOPEXIT0:
2551	.$17dd	RTS
2555	.$17de	CONSTANTS
2558	.$17de	CONST_0R .REAL 16.0
2560	.$17e3	CONST_1 .BYTE 6
2561	.$17e4	.STRG "000000"
2572	.$17ea	CONST_5 .BYTE 33
2573	.$17eb	.STRG "calculating mandelbrot fractal..."
2576	.$180c	CONST_6 .REAL 19.0
2579	.$1811	CONST_7R .REAL 1.0
2582	.$1816	CONST_8 .REAL 0.4
2585	.$181b	CONST_9 .REAL 20.0
2588	.$1820	CONST_10 .REAL 29.0
2591	.$1825	CONST_11 .REAL 0.3
2594	.$182a	CONST_12 .REAL 30.0
2597	.$182f	CONST_13 .REAL 2.2
2600	.$1834	CONST_14R .REAL 4.0
2603	.$1839	CONST_15 .REAL 16.0
2612	.$183e	CONST_18R .REAL 1024.0
2618	.$1843	CONST_20 .REAL 55296
2620	.$1848	CONST_21 .BYTE 21
2621	.$1849	.STRG "{down*20}finished in "
2624	.$1869	DATAS
2625	.$1869	.BYTE $FF
2627	.$186a	CONSTANTS_END
2630	.$186a	VARIABLES
2632	.$186a	VAR_MX .REAL 0.0
2634	.$186f	VAR_PY .REAL 0.0
2636	.$1874	VAR_YY .REAL 0.0
2638	.$1879	VAR_PX .REAL 0.0
2640	.$187e	VAR_XX .REAL 0.0
2642	.$1883	VAR_XQ .REAL 0.0
2644	.$1888	VAR_YQ .REAL 0.0
2646	.$188d	VAR_X .REAL 0.0
2648	.$1892	VAR_Y .REAL 0.0
2650	.$1897	VAR_IT .REAL 0.0
2652	.$189c	VAR_AD .REAL 0.0
2653	.$18a1	STRINGVARS_START
2655	.$18a1	VAR_TI$ .WORD EMPTYSTR
2656	.$18a3	STRINGVARS_END
2657	.$18a3	STRINGARRAYS_START
2658	.$18a3	STRINGARRAYS_END
2659	.$18a3	VARIABLES_END
2661	.$18a3	Y_REG .REAL 0.0
2662	.$18a8	C_REG .REAL 0.0
2663	.$18ad	D_REG .REAL 0.0
2664	.$18b2	E_REG .REAL 0.0
2665	.$18b7	F_REG .REAL 0.0
2666	.$18bc	A_REG .WORD 0
2667	.$18be	B_REG .WORD 0
2668	.$18c0	CMD_NUM .BYTE 0
2669	.$18c1	CHANNEL .BYTE 0
2670	.$18c2	SP_SAVE .BYTE 0
2671	.$18c3	TMP2_REG .WORD 0
2672	.$18c5	TMP3_REG .WORD 0
2673	.$18c7	TMP4_REG .WORD 0
2674	.$18c9	AS_TMP .WORD 0
2675	.$18cb	BPOINTER_TMP .WORD 0
2676	.$18cd	BASICTEXTP .BYTE 0
2677	.$18ce	STORE1 .WORD 0
2678	.$18d0	STORE2 .WORD 0
2679	.$18d2	STORE3 .WORD 0
2680	.$18d4	STORE4 .WORD 0
2681	.$18d6	GCSTART .WORD 0
2682	.$18d8	GCLEN .WORD 0
2683	.$18da	GCWORK .WORD 0
2684	.$18dc	INPUTLENGTH .BYTE 0
2685	.$18dd	TMP_FREG .REAL 0
2686	.$18e2	TMP2_FREG .REAL 0
2687	.$18e7	TMP_FLAG .BYTE 0
2688	.$18e8	INT_FLAG .BYTE 0
2689	.$18e9	REAL_CONST_ONE .REAL 1.0
2690	.$18ee	REAL_CONST_ZERO .REAL 0.0
2691	.$18f3	REAL_CONST_MINUS_ONE .REAL -1.0
2692	.$18f8	CHLOCKFLAG .BYTE 0
2693	.$18f9	EMPTYSTR .BYTE 0
2694	.$18fa	FPSTACKP .WORD FPSTACK
2695	.$18fc	FORSTACKP .WORD FORSTACK
2696	.$18fe	DATASP .WORD DATAS
2697	.$1900	LASTVAR .WORD 0
2698	.$1902	LASTVARP .WORD 0
2699	.$1904	HIGHP .WORD STRBUF
2700	.$1906	STRBUFP .WORD STRBUF
2701	.$1908	ENDSTRBUF .WORD 0
2702	.$190a	INPUTQUEUEP .BYTE 0
2703	.$190b	PROGRAMEND
2704	.$190b	INPUTQUEUE .ARRAY $0F
2705	.$191a	FPSTACK .ARRAY 100
2706	.$197e	FORSTACK .ARRAY 340
2707	.$1ad2	STRBUF .BYTE 0
