117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
128	.$81f	LDY 53281
129	.$822	STY 53280
131	.$825	LDA #<CONST_0
132	.$827	LDY #>CONST_0
133	.$829	JSR STROUTBRKWL
137	.$82c	LINE_20:
139	.$82c	LDA #<CONST_1R
140	.$82e	LDY #>CONST_1R
141	.$830	JSR COPY2_XYA_XREG
145	.$833	LDA #<CONST_2
146	.$835	LDY #>CONST_2
147	.$837	JSR COPY2_XYA_YREG
151	.$83a	LDA #<VAR_A[]
152	.$83c	LDY #>VAR_A[]
153	.$83e	STA G_REG
154	.$840	STY G_REG+1
155	.$842	JSR ARRAYSTORE_REAL
156	.$845	LDA #<CONST_3R
157	.$847	LDY #>CONST_3R
158	.$849	JSR COPY2_XYA_XREG
162	.$84c	LDA #<CONST_4
163	.$84e	LDY #>CONST_4
164	.$850	JSR COPY2_XYA_YREG
168	.$853	LDA #<VAR_A[]
169	.$855	LDY #>VAR_A[]
170	.$857	STA G_REG
171	.$859	STY G_REG+1
172	.$85b	JSR ARRAYSTORE_REAL
173	.$85e	LDA #<CONST_5R
174	.$860	LDY #>CONST_5R
175	.$862	JSR COPY2_XYA_XREG
179	.$865	LDA #<CONST_5R
180	.$867	LDY #>CONST_5R
181	.$869	JSR COPY2_XYA_YREG
185	.$86c	LDA #<VAR_A[]
186	.$86e	LDY #>VAR_A[]
187	.$870	STA G_REG
188	.$872	STY G_REG+1
189	.$874	JSR ARRAYSTORE_REAL
190	.$877	LDA #<CONST_6R
191	.$879	LDY #>CONST_6R
192	.$87b	JSR COPY2_XYA_XREG
196	.$87e	LDA #<CONST_7R
197	.$880	LDY #>CONST_7R
198	.$882	JSR COPY2_XYA_YREG
202	.$885	LDA #<VAR_A[]
203	.$887	LDY #>VAR_A[]
204	.$889	STA G_REG
205	.$88b	STY G_REG+1
206	.$88d	JSR ARRAYSTORE_REAL
208	.$890	LINE_30:
210	.$890	JSR ONETOFAC
215	.$893	JSR FACRND
216	.$896	JSR FACXREG
217	.$899	LDY #3
218	.$89b	LDA #0
219	.$89d	STY A_REG
220	.$8a0	STA A_REG+1
221	.$8a3	JSR COPY_XREG2YREG
225	.$8a6	JSR SHL
226	.$8a9	JSR FACXREG
228	.$8ac	LDY #1
229	.$8ae	LDA #0
230	.$8b0	STY A_REG
231	.$8b3	STA A_REG+1
232	.$8b6	JSR YREGFAC
235	.$8b9	JSR SHL
237	.$8bc	LDA #<X_REG
238	.$8be	LDY #>X_REG
240	.$8c0	JSR FASTFADDMEM
246	.$8c3	JSR BASINT
247	.$8c6	JSR FACXREG
248	.$8c9	LDY #1
249	.$8cb	STY A_REG
251	.$8ce	JSR SHL
254	.$8d1	JSR PUSHREAL
255	.$8d4	JSR ONETOFAC
260	.$8d7	JSR FACRND
261	.$8da	JSR FACXREG
262	.$8dd	LDY #3
263	.$8df	LDA #0
264	.$8e1	STY A_REG
265	.$8e4	STA A_REG+1
266	.$8e7	JSR COPY_XREG2YREG
270	.$8ea	JSR SHL
271	.$8ed	JSR FACXREG
273	.$8f0	LDY #1
274	.$8f2	LDA #0
275	.$8f4	STY A_REG
276	.$8f7	STA A_REG+1
277	.$8fa	JSR YREGFAC
280	.$8fd	JSR SHL
282	.$900	LDA #<X_REG
283	.$902	LDY #>X_REG
285	.$904	JSR FASTFADDMEM
291	.$907	JSR BASINT
292	.$90a	JSR FACXREG
293	.$90d	LDY #6
294	.$90f	LDA #0
295	.$911	STY A_REG
296	.$914	STA A_REG+1
297	.$917	JSR COPY_XREG2YREG
301	.$91a	JSR SHL
302	.$91d	JSR FACXREG
304	.$920	LDY #4
305	.$922	LDA #0
306	.$924	STY A_REG
307	.$927	STA A_REG+1
308	.$92a	JSR YREGFAC
311	.$92d	JSR SHL
313	.$930	LDA #<X_REG
314	.$932	LDY #>X_REG
316	.$934	JSR FASTFADDMEM
319	.$937	JSR FACXREG
321	.$93a	LDA #<CONST_10
322	.$93c	LDY #>CONST_10
323	.$93e	JSR REALFAC
325	.$941	LDA #<X_REG
326	.$943	LDY #>X_REG
328	.$945	JSR FASTFADDMEM
331	.$948	JSR FACXREG
333	.$94b	JSR POPREAL2X
335	.$94e	JSR FASTFADDARG
339	.$951	LDX #<VAR_A
340	.$953	LDY #>VAR_A
342	.$955	JSR FACMEM
344	.$958	LINE_40:
346	.$958	LDX #4
347	.$95a	dcloop567_1:
348	.$95a	LDA CONST_3R,X
349	.$95d	STA VAR_J,X
350	.$960	DEX
351	.$961	BPL dcloop567_1
353	.$963	LDA #<CONST_11R
354	.$965	LDY #>CONST_11R
355	.$967	JSR REALFACPUSH
357	.$96a	LDA #<CONST_3R
358	.$96c	LDY #>CONST_3R
359	.$96e	JSR REALFACPUSH
361	.$971	LDA #<VAR_J
362	.$973	LDY #>VAR_J
363	.$975	STA A_REG
364	.$978	STY A_REG+1
365	.$97b	LDA #<FORLOOP0
366	.$97d	STA JUMP_TARGET
367	.$97f	LDA #>FORLOOP0
368	.$981	STA JUMP_TARGET+1
369	.$983	JSR INITFOR
370	.$986	FORLOOP0:
371	.$986	LDA #<CONST_12
372	.$988	LDY #>CONST_12
373	.$98a	JSR STROUTBRKWL
376	.$98d	LDA #0
377	.$98f	STA A_REG
378	.$992	STA A_REG+1
379	.$995	JSR NEXT
381	.$998	LDA A_REG
382	.$99b	BNE RBEQ_0
383	.$99d	JMP (JUMP_TARGET)
385	.$9a0	RBEQ_0:
387	.$9a0	LINE_100:
389	.$9a0	LDA #<VAR_A
390	.$9a2	LDY #>VAR_A
391	.$9a4	JSR REALFAC
394	.$9a7	JSR FACWORD
395	.$9aa	STY MOVBSELF3+1
396	.$9ad	STA MOVBSELF3+2
397	.$9b0	LDA #$4
398	.$9b2	MOVBSELF3:
399	.$9b2	STA $FFFF
401	.$9b5	LINE_110:
403	.$9b5	JSR ONETOFAC
408	.$9b8	JSR FACRND
409	.$9bb	JSR FACXREG
410	.$9be	LDY #2
411	.$9c0	STY A_REG
413	.$9c3	JSR SHL
418	.$9c6	JSR BASINT
420	.$9c9	LDX #<VAR_J
421	.$9cb	LDY #>VAR_J
423	.$9cd	JSR FACMEM
424	.$9d0	LDX #4
425	.$9d2	dcloop733_1:
426	.$9d2	LDA VAR_J,X
427	.$9d5	STA VAR_X,X
428	.$9d8	DEX
429	.$9d9	BPL dcloop733_1
432	.$9db	LINE_112:
434	.$9db	LDA #<VAR_SM
435	.$9dd	LDY #>VAR_SM
436	.$9df	JSR REALFAC
437	.$9e2	LDA #<VAR_S
438	.$9e4	LDY #>VAR_S
439	.$9e6	JSR CMPFAC
441	.$9e9	ROL
442	.$9ea	BCS GT_GT0
443	.$9ec	LDA #0
444	.$9ee	JMP GT_SKIP0
445	.$9f1	GT_GT0:
446	.$9f1	LDA #$1
447	.$9f3	GT_SKIP0:
448	.$9f3	COMP_SKP1:
449	.$9f3	BEQ LINE_SKIP4
452	.$9f5	LINE_NSKIP4:
453	.$9f5	LDX #4
454	.$9f7	dcloop1065_1:
455	.$9f7	LDA VAR_S,X
456	.$9fa	STA VAR_SM,X
457	.$9fd	LDA VAR_B,X
458	.$a00	STA VAR_FI,X
459	.$a03	DEX
460	.$a04	BPL dcloop1065_1
464	.$a06	LINE_SKIP4:
467	.$a06	LINE_120:
469	.$a06	LDA #<VAR_J
470	.$a08	LDY #>VAR_J
471	.$a0a	JSR COPY2_XYA_XREG
475	.$a0d	LDA #<VAR_A[]
476	.$a0f	LDY #>VAR_A[]
477	.$a11	JSR ARRAYACCESS_REAL_S
479	.$a14	LDA #<VAR_A
480	.$a16	LDY #>VAR_A
481	.$a18	JSR REALFAC
483	.$a1b	LDA #<X_REG
484	.$a1d	LDY #>X_REG
486	.$a1f	JSR FASTFADDMEM
490	.$a22	LDX #<VAR_B
491	.$a24	LDY #>VAR_B
492	.$a26	JSR FACMEM
496	.$a29	JSR FACWORD
497	.$a2c	STY MOVBSELF4+1
498	.$a2f	STA MOVBSELF4+2
499	.$a32	MOVBSELF4:
500	.$a32	LDA $FFFF
501	.$a35	CMP #160
502	.$a37	BCC PEEKLT0
503	.$a39	BEQ PEEKEQ0
504	.$a3b	LDA #$FF
505	.$a3d	JMP PEEKDONE0
506	.$a40	PEEKLT0:
507	.$a40	LDA #$01
508	.$a42	JMP PEEKDONE0
509	.$a45	PEEKEQ0:
510	.$a45	LDA #0
511	.$a47	PEEKDONE0:
515	.$a47	BEQ EQ_EQ1
516	.$a49	LDA #0
517	.$a4b	JMP EQ_SKIP1
518	.$a4e	EQ_EQ1:
519	.$a4e	LDA #$1
520	.$a50	EQ_SKIP1:
521	.$a50	COMP_SKP2:
522	.$a50	BNE LINE_NSKIP5
524	.$a52	JMP LINE_SKIP5
526	.$a55	LINE_NSKIP5:
528	.$a55	LDA #<VAR_J
529	.$a57	LDY #>VAR_J
530	.$a59	JSR COPY2_XYA_XREG
531	.$a5c	LDA #<VAR_B
532	.$a5e	LDY #>VAR_B
533	.$a60	JSR REALFAC
534	.$a63	JSR FACWORD
537	.$a66	STY MOVBSELF5+1
538	.$a69	STA MOVBSELF5+2
539	.$a6c	JSR XREGFAC
542	.$a6f	JSR FACWORD
543	.$a72	MOVBSELF5:
544	.$a72	STY $FFFF
545	.$a75	LDA #<VAR_J
546	.$a77	LDY #>VAR_J
547	.$a79	JSR COPY2_XYA_XREG
551	.$a7c	LDA #<VAR_A[]
552	.$a7e	LDY #>VAR_A[]
553	.$a80	JSR ARRAYACCESS_REAL_S
555	.$a83	LDY #1
556	.$a85	STY A_REG
557	.$a88	JSR XREGFAC
558	.$a8b	JSR SHR
560	.$a8e	JSR FACXREG
562	.$a91	LDA #<VAR_A
563	.$a93	LDY #>VAR_A
564	.$a95	JSR REALFAC
566	.$a98	LDA #<X_REG
567	.$a9a	LDY #>X_REG
569	.$a9c	JSR FASTFADDMEM
575	.$a9f	JSR FACWORD
576	.$aa2	STY MOVBSELF6+1
577	.$aa5	STA MOVBSELF6+2
578	.$aa8	LDA #$20
579	.$aaa	MOVBSELF6:
580	.$aaa	STA $FFFF
581	.$aad	LDX #4
582	.$aaf	dcloop1231_1:
583	.$aaf	LDA VAR_B,X
584	.$ab2	STA VAR_A,X
585	.$ab5	DEX
586	.$ab6	BPL dcloop1231_1
588	.$ab8	JSR ONETOFAC
590	.$abb	LDA #<VAR_S
591	.$abd	LDY #>VAR_S
592	.$abf	JSR FASTFADDMEM
597	.$ac2	LDX #<VAR_S
598	.$ac4	LDY #>VAR_S
600	.$ac6	JSR FACMEM
601	.$ac9	JMP LINE_110
603	.$acc	LINE_SKIP5:
606	.$acc	LINE_130:
608	.$acc	JSR ONETOFAC
610	.$acf	LDA #<VAR_J
611	.$ad1	LDY #>VAR_J
612	.$ad3	JSR FASTFADDMEM
616	.$ad6	JSR FACXREG
618	.$ad9	LDA #<CONST_6R
619	.$adb	LDY #>CONST_6R
620	.$add	JSR MEMARG
621	.$ae0	JSR FASTAND
625	.$ae3	LDX #<VAR_J
626	.$ae5	LDY #>VAR_J
628	.$ae7	JSR FACMEM
629	.$aea	LDX #4
630	.$aec	dcneloop2161_1:
631	.$aec	LDA VAR_X,X
632	.$aef	CMP VAR_J,X
633	.$af2	BNE LINE_NSKIP6
634	.$af4	DEX
635	.$af5	BPL dcneloop2161_1
636	.$af7	JMP LINE_SKIP6
638	.$afa	LINE_NSKIP6:
641	.$afa	JMP LINE_120
643	.$afd	LINE_SKIP6:
646	.$afd	LINE_140:
648	.$afd	LDA #<VAR_A
649	.$aff	LDY #>VAR_A
650	.$b01	JSR REALFAC
653	.$b04	JSR FACWORD
654	.$b07	STY MOVBSELF7+1
655	.$b0a	STA MOVBSELF7+2
656	.$b0d	MOVBSELF7:
657	.$b0d	LDY $FFFF
658	.$b10	LDA #0
660	.$b12	JSR INTFAC
662	.$b15	LDX #<VAR_J
663	.$b17	LDY #>VAR_J
665	.$b19	JSR FACMEM
666	.$b1c	LDA #<VAR_A
667	.$b1e	LDY #>VAR_A
668	.$b20	JSR REALFAC
671	.$b23	JSR FACWORD
672	.$b26	STY MOVBSELF8+1
673	.$b29	STA MOVBSELF8+2
674	.$b2c	LDA #$20
675	.$b2e	MOVBSELF8:
676	.$b2e	STA $FFFF
677	.$b31	JSR ONETOFAC
679	.$b34	LDA #<VAR_S
680	.$b36	LDY #>VAR_S
681	.$b38	JSR FASTFSUBMEM
686	.$b3b	LDX #<VAR_S
687	.$b3d	LDY #>VAR_S
689	.$b3f	JSR FACMEM
690	.$b42	LDA #<CONST_9R
691	.$b44	LDY #>CONST_9R
692	.$b46	JSR REALFAC
693	.$b49	LDA #<VAR_J
694	.$b4b	LDY #>VAR_J
695	.$b4d	JSR CMPFAC
697	.$b50	BEQ LT_LT_EQ3
698	.$b52	ROL
699	.$b53	BCC LT_LT3
700	.$b55	LT_LT_EQ3:
701	.$b55	LDA #0
702	.$b57	JMP LT_SKIP3
703	.$b5a	LT_LT3:
704	.$b5a	LDA #$1
705	.$b5c	LT_SKIP3:
706	.$b5c	COMP_SKP4:
707	.$b5c	BNE LINE_NSKIP7
709	.$b5e	JMP LINE_SKIP7
711	.$b61	LINE_NSKIP7:
713	.$b61	LDA #<VAR_J
714	.$b63	LDY #>VAR_J
715	.$b65	JSR COPY2_XYA_XREG
719	.$b68	LDA #<VAR_A[]
720	.$b6a	LDY #>VAR_A[]
721	.$b6c	JSR ARRAYACCESS_REAL_S
723	.$b6f	JSR XREGFAC
724	.$b72	LDA #<VAR_A
725	.$b74	LDY #>VAR_A
726	.$b76	JSR COPY2_XYA_XREG
729	.$b79	LDA #<X_REG
730	.$b7b	LDY #>X_REG
732	.$b7d	JSR FASTFSUBMEM
736	.$b80	LDX #<VAR_A
737	.$b82	LDY #>VAR_A
739	.$b84	JSR FACMEM
740	.$b87	JMP LINE_110
742	.$b8a	LINE_SKIP7:
745	.$b8a	LINE_150:
747	.$b8a	LDA #<VAR_A
748	.$b8c	LDY #>VAR_A
749	.$b8e	JSR REALFAC
752	.$b91	JSR FACWORD
753	.$b94	STY MOVBSELF9+1
754	.$b97	STA MOVBSELF9+2
755	.$b9a	LDA #$1
756	.$b9c	MOVBSELF9:
757	.$b9c	STA $FFFF
758	.$b9f	LDA #<VAR_FI
759	.$ba1	LDY #>VAR_FI
760	.$ba3	JSR REALFAC
763	.$ba6	JSR FACWORD
764	.$ba9	STY MOVBSELF10+1
765	.$bac	STA MOVBSELF10+2
766	.$baf	LDA #$2
767	.$bb1	MOVBSELF10:
768	.$bb1	STA $FFFF
770	.$bb4	LINE_160:
772	.$bb4	JMP LINE_160
773	.$bb7	JSR END
774	.$bba	RTS
777	.$bbb	END   LDX SP_SAVE
778	.$bbe	TXS
785	.$bbf	RTS
788	.$bc0	START  LDA ENDSTRBUF+1
789	.$bc3	BNE ENDGIVEN
790	.$bc5	LDA BASICEND
791	.$bc7	STA ENDSTRBUF
792	.$bca	LDA BASICEND+1
793	.$bcc	STA ENDSTRBUF+1
794	.$bcf	ENDGIVEN LDA #<FPSTACK
795	.$bd1	LDY #>FPSTACK
796	.$bd3	STA FPSTACKP
797	.$bd6	STY FPSTACKP+1
798	.$bd9	LDA #<FORSTACK
799	.$bdb	LDY #>FORSTACK
800	.$bdd	STA FORSTACKP
801	.$be0	STY FORSTACKP+1
802	.$be3	LDA #<STRBUF
803	.$be5	LDY #>STRBUF
804	.$be7	STA STRBUFP
805	.$bea	STY STRBUFP+1
806	.$bed	STA HIGHP
807	.$bf0	STY HIGHP+1
808	.$bf3	LDA #0
809	.$bf5	STA CHLOCKFLAG
810	.$bf8	STA LASTVAR
811	.$bfb	STA LASTVAR+1
812	.$bfe	JSR INITVARS
813	.$c01	LDA #0
814	.$c03	STA CMD_NUM
815	.$c06	STA CHANNEL
816	.$c09	TAY
817	.$c0a	TAX
821	.$c0b	STA KEYNDX
827	.$c0d	JSR RESTORE
828	.$c10	CLC
832	.$c11	RTS
835	.$c12	INITNARRAY
836	.$c12	STA TMP_ZP
837	.$c14	STY TMP_ZP+1
838	.$c16	LDY #0
839	.$c18	TYA
840	.$c19	NINITLOOP STA (TMP_ZP),Y
841	.$c1b	INC TMP_ZP
842	.$c1d	BNE NLOOPNOV
843	.$c1f	INC TMP_ZP+1
844	.$c21	NLOOPNOV LDX TMP2_ZP
845	.$c23	BNE NLOOPNOV2
846	.$c25	DEC TMP2_ZP+1
847	.$c27	NLOOPNOV2 DEC TMP2_ZP
848	.$c29	BNE NINITLOOP
849	.$c2b	LDX TMP2_ZP+1
850	.$c2d	BNE NINITLOOP
851	.$c2f	RTS
854	.$c30	INITSTRARRAY
855	.$c30	STA TMP_ZP
856	.$c32	STY TMP_ZP+1
857	.$c34	SINITLOOP LDY #0
858	.$c36	LDA #<EMPTYSTR
859	.$c38	STA (TMP_ZP),Y
860	.$c3a	LDA #>EMPTYSTR
861	.$c3c	INY
862	.$c3d	STA (TMP_ZP),Y
863	.$c3f	CLC
864	.$c40	LDA TMP_ZP
865	.$c42	ADC #2
866	.$c44	STA TMP_ZP
867	.$c46	BCC SLOOPNOV1
868	.$c48	INC TMP_ZP+1
869	.$c4a	SLOOPNOV1 SEC
870	.$c4b	LDA TMP2_ZP
871	.$c4d	SBC #2
872	.$c4f	STA TMP2_ZP
873	.$c51	BCS SLOOPNOV2
874	.$c53	DEC TMP2_ZP+1
875	.$c55	SLOOPNOV2 LDA TMP2_ZP
876	.$c57	BNE SINITLOOP
877	.$c59	LDA TMP2_ZP+1
878	.$c5b	BNE SINITLOOP
879	.$c5d	RTS
882	.$c5e	INITSPARAMS STA TMP3_ZP
883	.$c60	STY TMP3_ZP+1
884	.$c62	SEC
885	.$c63	SBC #2
886	.$c65	STA TMP_ZP
887	.$c67	TYA
888	.$c68	SBC #0
889	.$c6a	STA TMP_ZP+1
890	.$c6c	LDY #0
891	.$c6e	LDA (TMP_ZP),Y
892	.$c70	STA TMP2_ZP
893	.$c72	INY
894	.$c73	LDA (TMP_ZP),Y
895	.$c75	STA TMP2_ZP+1
896	.$c77	LDA TMP3_ZP
897	.$c79	LDY TMP3_ZP+1
898	.$c7b	RTS
901	.$c7c	INITSTRVARS LDA #<STRINGVARS_START  
902	.$c7e	LDY #>STRINGVARS_START
903	.$c80	CMP #<STRINGVARS_END
904	.$c82	BNE INITIT1
905	.$c84	CPY #>STRINGVARS_END
906	.$c86	BNE INITIT1
907	.$c88	JMP INITSA2     
908	.$c8b	INITIT1  STA TMP_ZP
909	.$c8d	STY TMP_ZP+1
910	.$c8f	LDY #0
911	.$c91	INITSTRLOOP LDA #<EMPTYSTR
912	.$c93	STA (TMP_ZP),Y
913	.$c95	INY
914	.$c96	LDA #>EMPTYSTR
915	.$c98	STA (TMP_ZP),Y
916	.$c9a	DEY
917	.$c9b	LDA TMP_ZP
918	.$c9d	CLC
919	.$c9e	ADC #2
920	.$ca0	STA TMP_ZP
921	.$ca2	LDA TMP_ZP+1
922	.$ca4	ADC #0
923	.$ca6	STA TMP_ZP+1
924	.$ca8	CMP #>STRINGVARS_END
925	.$caa	BNE INITSTRLOOP
926	.$cac	LDA TMP_ZP
927	.$cae	CMP #<STRINGVARS_END
928	.$cb0	BNE INITSTRLOOP
929	.$cb2	INITSA2  LDA #<STRINGARRAYS_START 
930	.$cb4	LDY #>STRINGARRAYS_START
931	.$cb6	CMP #<STRINGARRAYS_END
932	.$cb8	BNE ARRAYLOOP
933	.$cba	CPY #>STRINGARRAYS_END
934	.$cbc	BNE ARRAYLOOP
935	.$cbe	RTS       
936	.$cbf	ARRAYLOOP CLC
937	.$cc0	ADC #3
938	.$cc2	BCC ARRAYSKIP1
939	.$cc4	INY
940	.$cc5	ARRAYSKIP1 CPY #>STRINGARRAYS_END
941	.$cc7	BEQ ARRAYSC
942	.$cc9	BCC ARRAYSKIP2
943	.$ccb	JMP ARRAYQUIT
944	.$cce	ARRAYSC  CMP #<STRINGARRAYS_END
945	.$cd0	BCS ARRAYQUIT
946	.$cd2	ARRAYSKIP2 STA TMP_REG
947	.$cd4	STY TMP_REG+1
948	.$cd6	JSR INITSPARAMS
949	.$cd9	LDA TMP_REG
950	.$cdb	LDY TMP_REG+1
951	.$cdd	JSR INITSTRARRAY
952	.$ce0	LDA TMP_ZP
953	.$ce2	LDY TMP_ZP+1
954	.$ce4	JMP ARRAYLOOP
955	.$ce7	ARRAYQUIT RTS
958	.$ce8	RESTORE  LDA #<DATAS
959	.$cea	LDY #>DATAS
960	.$cec	STA DATASP
961	.$cef	STY DATASP+1
962	.$cf2	RTS
965	.$cf3	REROUTE  LDA CMD_NUM  
966	.$cf6	BEQ REROUTECMD
967	.$cf8	TAX
968	.$cf9	STA CHANNEL
969	.$cfc	JMP CHKOUT
970	.$cff	REROUTECMD RTS
973	.$d00	RESETROUTE LDA CMD_NUM  
974	.$d03	BEQ RESETROUTECMD
975	.$d05	JMP CLRCHNEW
976	.$d08	RESETROUTECMD
977	.$d08	RTS
980	.$d09	STROUTBRKWL STA A_REG
981	.$d0c	STY A_REG+1
982	.$d0f	STROUTBRK JSR REROUTE
983	.$d12	LDA A_REG
984	.$d15	STA INDEX1
985	.$d17	LDA A_REG+1
986	.$d1a	STA INDEX1+1
987	.$d1c	LDY #0
988	.$d1e	LDA (INDEX1),Y
989	.$d20	TAX
990	.$d21	INC INDEX1
991	.$d23	BNE PRINTSTR2
992	.$d25	INC INDEX1+1
993	.$d27	PRINTSTR2 JSR PRINTSTRS
994	.$d2a	LDA HIGHP   
995	.$d2d	STA STRBUFP
996	.$d30	LDA HIGHP+1
997	.$d33	STA STRBUFP+1
998	.$d36	LDA #$0D
999	.$d38	JSR CHROUT
1000	.$d3b	JMP RESETROUTE  
1003	.$d3e	ARRAYACCESS_REAL_S
1004	.$d3e	STA G_REG
1005	.$d40	STY G_REG+1
1006	.$d42	ARRAYACCESS_REAL
1007	.$d42	JSR XREGFAC
1008	.$d45	JSR FACINT
1009	.$d48	ARRAYACCESS_REAL_INT
1010	.$d48	LDX G_REG
1011	.$d4a	STX TMP_ZP
1012	.$d4c	LDX G_REG+1
1013	.$d4e	STX TMP_ZP+1
1014	.$d50	STY TMP3_ZP
1015	.$d52	STA TMP3_ZP+1
1016	.$d54	TAX
1017	.$d55	TYA
1018	.$d56	ASL
1019	.$d57	TAY
1020	.$d58	TXA
1021	.$d59	ROL
1022	.$d5a	TAX
1023	.$d5b	TYA
1024	.$d5c	ASL
1025	.$d5d	STA TMP2_ZP
1026	.$d5f	TXA
1027	.$d60	ROL
1028	.$d61	STA TMP2_ZP+1
1029	.$d63	LDA TMP_ZP
1030	.$d65	CLC
1031	.$d66	ADC TMP3_ZP
1032	.$d68	STA TMP_ZP
1033	.$d6a	LDA TMP_ZP+1
1034	.$d6c	ADC TMP3_ZP+1
1035	.$d6e	STA TMP_ZP+1
1036	.$d70	LDA TMP_ZP
1037	.$d72	CLC
1038	.$d73	ADC TMP2_ZP
1039	.$d75	STA TMP3_ZP
1040	.$d77	LDA TMP_ZP+1
1041	.$d79	ADC TMP2_ZP+1
1042	.$d7b	STA TMP3_ZP+1
1043	.$d7d	JMP COPY2_XY_XREG
1046	.$d80	ARRAYSTORE_REAL
1047	.$d80	JSR XREGFAC
1048	.$d83	JSR FACINT
1049	.$d86	ARRAYSTORE_REAL_INT
1050	.$d86	LDX G_REG
1051	.$d88	STX TMP_ZP
1052	.$d8a	LDX G_REG+1
1053	.$d8c	STX TMP_ZP+1
1054	.$d8e	STY TMP3_ZP
1055	.$d90	STA TMP3_ZP+1
1056	.$d92	TAX
1057	.$d93	TYA
1058	.$d94	ASL
1059	.$d95	TAY
1060	.$d96	TXA
1061	.$d97	ROL
1062	.$d98	TAX
1063	.$d99	TYA
1064	.$d9a	ASL
1065	.$d9b	STA TMP2_ZP
1066	.$d9d	TXA
1067	.$d9e	ROL
1068	.$d9f	STA TMP2_ZP+1
1069	.$da1	LDA TMP_ZP
1070	.$da3	CLC
1071	.$da4	ADC TMP3_ZP
1072	.$da6	STA TMP_ZP
1073	.$da8	LDA TMP_ZP+1
1074	.$daa	ADC TMP3_ZP+1
1075	.$dac	STA TMP_ZP+1
1076	.$dae	LDA TMP_ZP
1077	.$db0	CLC
1078	.$db1	ADC TMP2_ZP
1079	.$db3	STA TMP_ZP
1080	.$db5	LDA TMP_ZP+1
1081	.$db7	ADC TMP2_ZP+1
1082	.$db9	STA TMP_ZP+1
1083	.$dbb	JMP COPY2_YREG_XYA 
1086	.$dbe	ADJUSTSTACK LDA FORSTACKP 
1087	.$dc1	STA TMP_ZP
1088	.$dc3	LDA FORSTACKP+1
1089	.$dc6	STA TMP_ZP+1
1090	.$dc8	ADSEARCHFOR LDA TMP_ZP
1091	.$dca	CMP #<FORSTACK
1092	.$dcc	BNE ADJUST2
1093	.$dce	LDA TMP_ZP+1
1094	.$dd0	CMP #>FORSTACK
1095	.$dd2	BNE ADJUST2
1096	.$dd4	RTS    
1097	.$dd5	ADJUST2  LDA TMP_ZP
1098	.$dd7	SEC
1099	.$dd8	SBC #2
1100	.$dda	STA TMP_ZP
1101	.$ddc	BCS ADNOPV1N1
1102	.$dde	DEC TMP_ZP+1
1103	.$de0	ADNOPV1N1 LDY #0
1104	.$de2	LDA (TMP_ZP),Y
1105	.$de4	BNE ADNOGOSUB
1106	.$de6	RTS    
1107	.$de7	ADNOGOSUB
1108	.$de7	INY
1109	.$de8	LDA TMP_ZP
1110	.$dea	SEC
1111	.$deb	SBC (TMP_ZP),Y
1112	.$ded	STA TMP_ZP
1113	.$def	BCS ADNOPV1N2
1114	.$df1	DEC TMP_ZP+1
1115	.$df3	ADNOPV1N2 DEY
1116	.$df4	LDA A_REG
1117	.$df7	ADCMPFOR CMP (TMP_ZP),Y
1118	.$df9	BNE ADSEARCHFOR
1119	.$dfb	LDA A_REG+1
1120	.$dfe	INY
1121	.$dff	CMP (TMP_ZP),Y
1122	.$e01	BEQ ADFOUNDFOR
1123	.$e03	JMP ADSEARCHFOR
1124	.$e06	ADLOW0  LDX A_REG+1
1125	.$e09	BEQ ADFOUNDFOR
1126	.$e0b	BNE ADCMPFOR
1127	.$e0d	ADFOUNDFOR LDA TMP_ZP  
1128	.$e0f	STA FORSTACKP
1129	.$e12	LDA TMP_ZP+1
1130	.$e14	STA FORSTACKP+1
1131	.$e17	RTS
1134	.$e18	INITFOR  JSR ADJUSTSTACK
1135	.$e1b	LDA FORSTACKP
1136	.$e1e	STA TMP_ZP
1137	.$e20	LDA FORSTACKP+1
1138	.$e23	STA TMP_ZP+1
1139	.$e25	LDY #0
1140	.$e27	LDA A_REG
1141	.$e2a	STA (TMP_ZP),Y
1142	.$e2c	INY
1143	.$e2d	LDA A_REG+1
1144	.$e30	STA (TMP_ZP),Y
1145	.$e32	INY
1146	.$e33	LDA JUMP_TARGET
1147	.$e35	STA (TMP_ZP),Y
1148	.$e37	INY
1149	.$e38	LDA JUMP_TARGET+1
1150	.$e3a	STA (TMP_ZP),Y
1151	.$e3c	INY
1152	.$e3d	STY TMP3_ZP
1153	.$e3f	JSR INCTMPZP
1154	.$e42	JSR POPREAL
1155	.$e45	LDX TMP_ZP
1156	.$e47	LDY TMP_ZP+1
1158	.$e49	JSR FACMEM
1159	.$e4c	JSR SGNFAC
1160	.$e4f	STA TMP_FLAG
1161	.$e52	LDY #5
1162	.$e54	STY TMP3_ZP
1163	.$e56	JSR INCTMPZP
1164	.$e59	JSR POPREAL
1165	.$e5c	LDX TMP_ZP
1166	.$e5e	LDY TMP_ZP+1
1168	.$e60	JSR FACMEM
1169	.$e63	LDY #5
1170	.$e65	STY TMP3_ZP
1171	.$e67	JSR INCTMPZP
1172	.$e6a	LDY #0
1173	.$e6c	LDA TMP_FLAG
1174	.$e6f	STA (TMP_ZP),Y
1175	.$e71	INY
1176	.$e72	LDA #1
1177	.$e74	STA (TMP_ZP),Y
1178	.$e76	INY
1179	.$e77	LDA #15
1180	.$e79	STA (TMP_ZP),Y
1181	.$e7b	LDY #3
1182	.$e7d	STY TMP3_ZP
1183	.$e7f	JSR INCTMPZP
1184	.$e82	LDA TMP_ZP
1185	.$e84	STA FORSTACKP
1186	.$e87	LDA TMP_ZP+1
1187	.$e89	STA FORSTACKP+1
1188	.$e8c	RTS
1191	.$e8d	NEXT  LDA FORSTACKP
1192	.$e90	STA TMP_ZP
1193	.$e92	LDA FORSTACKP+1
1194	.$e95	STA TMP_ZP+1
1195	.$e97	SEARCHFOR LDA TMP_ZP+1
1196	.$e99	STA TMP3_REG+1
1197	.$e9c	LDA TMP_ZP
1198	.$e9e	STA TMP3_REG
1199	.$ea1	SEC
1200	.$ea2	SBC #2
1201	.$ea4	STA TMP_ZP
1202	.$ea6	BCS NOPV1N1
1203	.$ea8	DEC TMP_ZP+1
1204	.$eaa	NOPV1N1  LDY #0
1205	.$eac	LDA (TMP_ZP),Y
1206	.$eae	BNE NOGOSUB
1207	.$eb0	JMP NEXTWOFOR
1208	.$eb3	NOGOSUB
1209	.$eb3	INY
1210	.$eb4	LDA TMP_ZP
1211	.$eb6	SEC
1212	.$eb7	SBC (TMP_ZP),Y
1213	.$eb9	STA TMP_ZP
1214	.$ebb	BCS NOPV1N2
1215	.$ebd	DEC TMP_ZP+1
1216	.$ebf	NOPV1N2  DEY
1217	.$ec0	LDA A_REG
1218	.$ec3	BEQ LOW0
1219	.$ec5	CMPFOR  CMP (TMP_ZP),Y
1220	.$ec7	BNE SEARCHFOR
1221	.$ec9	LDA A_REG+1
1222	.$ecc	INY
1223	.$ecd	CMP (TMP_ZP),Y
1224	.$ecf	BEQ FOUNDFOR
1225	.$ed1	JMP SEARCHFOR
1226	.$ed4	LOW0  LDX A_REG+1
1227	.$ed7	BEQ FOUNDFOR
1228	.$ed9	BNE CMPFOR
1229	.$edb	FOUNDFOR LDA TMP_ZP
1230	.$edd	STA TMP2_REG
1231	.$ee0	LDA TMP_ZP+1
1232	.$ee2	STA TMP2_REG+1
1233	.$ee5	VARREAL
1234	.$ee5	LDY #0
1235	.$ee7	STY A_REG+1 
1236	.$eea	LDA (TMP_ZP),Y
1237	.$eec	TAX
1238	.$eed	INY
1239	.$eee	LDA (TMP_ZP),Y
1240	.$ef0	TAY
1241	.$ef1	TXA
1242	.$ef2	JSR REALFAC
1243	.$ef5	CALCNEXT LDA TMP_ZP
1244	.$ef7	CLC
1245	.$ef8	ADC #4
1246	.$efa	STA TMP_ZP
1247	.$efc	BCC NOPV2IN
1248	.$efe	INC TMP_ZP+1
1249	.$f00	NOPV2IN  STA TMP_REG
1250	.$f02	LDY TMP_ZP+1
1251	.$f04	STY TMP_REG+1
1252	.$f06	JSR FASTFADDMEM
1254	.$f09	LDA TMP2_REG
1255	.$f0c	STA TMP_ZP
1256	.$f0e	LDA TMP2_REG+1
1257	.$f11	STA TMP_ZP+1
1258	.$f13	STOREREAL
1259	.$f13	LDY #0
1260	.$f15	LDA (TMP_ZP),Y
1261	.$f17	TAX
1262	.$f18	INY
1263	.$f19	LDA (TMP_ZP),Y
1264	.$f1b	TAY
1265	.$f1c	JSR FACMEM 
1266	.$f1f	CMPFORXX LDA #5
1267	.$f21	STA TMP3_ZP
1268	.$f23	LDA TMP_REG
1269	.$f25	CLC
1270	.$f26	ADC #5
1271	.$f28	STA TMP_REG
1272	.$f2a	BCC NOPV3
1273	.$f2c	INC TMP_REG+1
1274	.$f2e	NOPV3  LDY TMP_REG+1
1275	.$f30	JSR CMPFAC  
1276	.$f33	BEQ LOOPING
1277	.$f35	PHA
1278	.$f36	LDY #14
1279	.$f38	LDA (TMP_ZP),Y
1280	.$f3a	BEQ STEPZERO
1281	.$f3c	ROL
1282	.$f3d	BCC STEPPOS
1283	.$f3f	STEPNEG  PLA
1284	.$f40	ROL
1285	.$f41	BCC LOOPING
1286	.$f43	BCS EXITLOOP
1287	.$f45	STEPPOS  PLA
1288	.$f46	ROL
1289	.$f47	BCC EXITLOOP
1290	.$f49	LOOPING  LDA TMP3_REG
1291	.$f4c	STA FORSTACKP
1292	.$f4f	LDA TMP3_REG+1
1293	.$f52	STA FORSTACKP+1
1294	.$f55	LDA TMP2_REG
1295	.$f58	CLC
1296	.$f59	ADC #2
1297	.$f5b	STA TMP2_REG
1298	.$f5e	BCC NOPV4IN
1299	.$f60	INC TMP2_REG+1
1300	.$f63	NOPV4IN  LDY #0
1301	.$f65	STY A_REG
1302	.$f68	STA TMP_ZP
1303	.$f6a	LDA TMP2_REG+1
1304	.$f6d	STA TMP_ZP+1
1305	.$f6f	LDA (TMP_ZP),Y
1306	.$f71	STA JUMP_TARGET
1307	.$f73	INY
1308	.$f74	LDA (TMP_ZP),Y
1309	.$f76	STA JUMP_TARGET+1
1310	.$f78	RTS
1311	.$f79	STEPZERO PLA
1312	.$f7a	JMP LOOPING
1313	.$f7d	EXITLOOP LDA TMP2_REG
1314	.$f80	STA FORSTACKP
1315	.$f83	LDA TMP2_REG+1
1316	.$f86	STA FORSTACKP+1
1317	.$f89	LDA #1
1318	.$f8b	STA A_REG
1319	.$f8e	RTS
1322	.$f8f	REALFACPUSH STA TMP_ZP
1323	.$f91	STY TMP_ZP+1
1324	.$f93	LDX FPSTACKP
1325	.$f96	LDY FPSTACKP+1
1326	.$f99	STX TMP2_ZP
1327	.$f9b	STY TMP2_ZP+1
1328	.$f9d	LDY #0
1329	.$f9f	LDA (TMP_ZP),Y
1330	.$fa1	STA (TMP2_ZP),Y
1331	.$fa3	INY
1332	.$fa4	LDA (TMP_ZP),Y
1333	.$fa6	STA (TMP2_ZP),Y
1334	.$fa8	INY
1335	.$fa9	LDA (TMP_ZP),Y
1336	.$fab	STA (TMP2_ZP),Y
1337	.$fad	INY
1338	.$fae	LDA (TMP_ZP),Y
1339	.$fb0	STA (TMP2_ZP),Y
1340	.$fb2	INY
1341	.$fb3	LDA (TMP_ZP),Y
1342	.$fb5	STA (TMP2_ZP),Y
1343	.$fb7	TXA    
1344	.$fb8	CLC
1345	.$fb9	ADC #5
1346	.$fbb	STA FPSTACKP
1347	.$fbe	BCC NOPVRFPXX
1348	.$fc0	INC FPSTACKP+1
1349	.$fc3	NOPVRFPXX RTS
1352	.$fc4	PUSHREAL LDX FPSTACKP
1353	.$fc7	LDY FPSTACKP+1
1354	.$fca	JSR FACMEM
1355	.$fcd	LDA FPSTACKP
1356	.$fd0	CLC
1357	.$fd1	ADC #5
1358	.$fd3	STA FPSTACKP
1359	.$fd6	BCC NOPVPUR
1360	.$fd8	INC FPSTACKP+1
1361	.$fdb	NOPVPUR  RTS
1364	.$fdc	POPREAL2X LDA FPSTACKP
1365	.$fdf	SEC
1366	.$fe0	SBC #5
1367	.$fe2	STA FPSTACKP
1368	.$fe5	BCS NOPVPR2X
1369	.$fe7	DEC FPSTACKP+1
1370	.$fea	NOPVPR2X LDA FPSTACKP
1371	.$fed	LDY FPSTACKP+1
1372	.$ff0	JSR REALFAC
1373	.$ff3	JSR XREGARG
1374	.$ff6	RTS
1377	.$ff7	POPREAL  LDA FPSTACKP
1378	.$ffa	SEC
1379	.$ffb	SBC #5
1380	.$ffd	STA FPSTACKP
1381	.$1000	BCS NOPVPR
1382	.$1002	DEC FPSTACKP+1
1383	.$1005	NOPVPR  LDA FPSTACKP
1384	.$1008	LDY FPSTACKP+1
1385	.$100b	JMP REALFAC
1388	.$100e	SHR   LDA FACEXP
1389	.$1010	BEQ SHROK
1390	.$1012	SEC
1391	.$1013	SBC A_REG
1392	.$1016	BCS SHROK
1393	.$1018	LDA #0
1394	.$101a	STA FACSGN
1395	.$101c	STA FACLO
1396	.$101e	STA FACMO
1397	.$1020	STA FACMOH
1398	.$1022	STA FACHO
1399	.$1024	SHROK  STA FACEXP
1400	.$1026	RTS
1403	.$1027	SHL   LDA FACEXP
1404	.$1029	BEQ SHLOK
1405	.$102b	CLC
1406	.$102c	ADC A_REG
1407	.$102f	BCC SHLOK
1408	.$1031	LDA #0
1409	.$1033	STA FACSGN
1410	.$1035	STA FACLO
1411	.$1037	STA FACMO
1412	.$1039	STA FACMOH
1413	.$103b	STA FACHO
1414	.$103d	LDA #$FF
1415	.$103f	SHLOK  STA FACEXP
1416	.$1041	RTS
1419	.$1042	INCTMPZP LDA TMP_ZP
1420	.$1044	CLC
1421	.$1045	ADC TMP3_ZP
1422	.$1047	STA TMP_ZP
1423	.$1049	BCC NOPV2
1424	.$104b	INC TMP_ZP+1
1425	.$104d	NOPV2  RTS
1428	.$104e	COPY2_YREG_XYA
1429	.$104e	LDY #0
1430	.$1050	LDA Y_REG
1431	.$1053	STA (TMP_ZP),Y
1432	.$1055	INY
1433	.$1056	LDA Y_REG+1
1434	.$1059	STA (TMP_ZP),Y
1435	.$105b	INY
1436	.$105c	LDA Y_REG+2
1437	.$105f	STA (TMP_ZP),Y
1438	.$1061	INY
1439	.$1062	LDA Y_REG+3
1440	.$1065	STA (TMP_ZP),Y
1441	.$1067	INY
1442	.$1068	LDA Y_REG+4
1443	.$106b	STA (TMP_ZP),Y
1444	.$106d	RTS
1447	.$106e	COPY2_XYA_XREG
1448	.$106e	STA TMP3_ZP
1449	.$1070	STY TMP3_ZP+1
1450	.$1072	COPY2_XY_XREG
1451	.$1072	LDX #<X_REG  
1452	.$1074	LDY #0
1453	.$1076	LDA (TMP3_ZP),Y
1454	.$1078	STA X_REG
1455	.$107a	INY
1456	.$107b	LDA (TMP3_ZP),Y
1457	.$107d	STA X_REG+1
1458	.$107f	INY
1459	.$1080	LDA (TMP3_ZP),Y
1460	.$1082	STA X_REG+2
1461	.$1084	INY
1462	.$1085	LDA (TMP3_ZP),Y
1463	.$1087	STA X_REG+3
1464	.$1089	INY
1465	.$108a	LDA (TMP3_ZP),Y
1466	.$108c	STA X_REG+4
1467	.$108e	RTS
1470	.$108f	COPY2_XYA_YREG
1471	.$108f	STA TMP3_ZP
1472	.$1091	STY TMP3_ZP+1
1473	.$1093	COPY2_XY_YREG
1474	.$1093	LDX #<Y_REG  
1475	.$1095	LDY #0
1476	.$1097	LDA (TMP3_ZP),Y
1477	.$1099	STA Y_REG
1478	.$109c	INY
1479	.$109d	LDA (TMP3_ZP),Y
1480	.$109f	STA Y_REG+1
1481	.$10a2	INY
1482	.$10a3	LDA (TMP3_ZP),Y
1483	.$10a5	STA Y_REG+2
1484	.$10a8	INY
1485	.$10a9	LDA (TMP3_ZP),Y
1486	.$10ab	STA Y_REG+3
1487	.$10ae	INY
1488	.$10af	LDA (TMP3_ZP),Y
1489	.$10b1	STA Y_REG+4
1490	.$10b4	RTS
1493	.$10b5	COPY_XREG2YREG
1494	.$10b5	LDA X_REG
1495	.$10b7	STA Y_REG
1496	.$10ba	LDA X_REG+1
1497	.$10bc	STA Y_REG+1
1498	.$10bf	LDA X_REG+2
1499	.$10c1	STA Y_REG+2
1500	.$10c4	LDA X_REG+3
1501	.$10c6	STA Y_REG+3
1502	.$10c9	LDA X_REG+4
1503	.$10cb	STA Y_REG+4
1504	.$10ce	RTS
1508	.$10cf	FACWORD
1509	.$10cf	LDA FACEXP   
1510	.$10d1	BNE DOFACWORD
1511	.$10d3	STA FACSGN   
1512	.$10d5	DOFACWORD:
1513	.$10d5	JMP XFACWORD
1517	.$10d8	ONETOFAC    LDX #129
1518	.$10da	STX FAC
1519	.$10dc	DEX
1520	.$10dd	STX FAC+1
1521	.$10df	LDX #0
1522	.$10e1	STX FAC+2
1523	.$10e3	STX FAC+3
1524	.$10e5	STX FAC+4
1525	.$10e7	STX FAC+5
1526	.$10e9	STX FAC+15
1527	.$10eb	RTS
1530	.$10ec	FASTAND  LDA ARGEXP   
1531	.$10ee	BNE CHECKFAC
1532	.$10f0	STA FACSGN   
1533	.$10f2	STA FACLO
1534	.$10f4	STA FACMO
1535	.$10f6	STA FACMOH
1536	.$10f8	STA FACHO
1537	.$10fa	STA FACEXP
1538	.$10fc	RTS
1539	.$10fd	CHECKFAC LDA FACEXP   
1540	.$10ff	BNE FACNOTNULL
1541	.$1101	STA FACSGN   
1542	.$1103	RTS    
1543	.$1104	FACNOTNULL CMP #$81
1544	.$1106	BNE NORMALAND
1545	.$1108	LDA FACHO
1546	.$110a	CMP #$80
1547	.$110c	BNE NORMALAND
1548	.$110e	LDA FACMOH
1549	.$1110	BNE NORMALAND
1550	.$1112	LDA FACMO
1551	.$1114	BNE NORMALAND
1552	.$1116	LDA FACLO
1553	.$1118	BNE NORMALAND
1554	.$111a	LDA FACSGN
1555	.$111c	ROL
1556	.$111d	BCC NORMALAND
1557	.$111f	LDA ARGEXP   
1558	.$1121	CMP #$81
1559	.$1123	BNE NORMALAND
1560	.$1125	LDA ARGHO
1561	.$1127	CMP #$80
1562	.$1129	BNE NORMALAND
1563	.$112b	LDA ARGMOH
1564	.$112d	BNE NORMALAND
1565	.$112f	LDA ARGMO
1566	.$1131	BNE NORMALAND
1567	.$1133	LDA ARGLO
1568	.$1135	BNE NORMALAND
1569	.$1137	LDA ARGSGN
1570	.$1139	ROL
1571	.$113a	BCC NORMALAND
1572	.$113c	RTS    
1573	.$113d	NORMALAND JMP ARGAND
1576	.$1140	CLRCHNEW
1577	.$1140	LDA CHLOCKFLAG
1578	.$1143	BNE SKIPCLRCH
1579	.$1145	JMP CLRCH
1580	.$1148	SKIPCLRCH
1581	.$1148	RTS
1584	.$1149	NEXTWOFOR
1588	.$1149	LDX #$0A
1589	.$114b	JMP ERRALL
1592	.$114e	ILLEGALQUANTITY
1596	.$114e	JMP ERRIQ
1599	.$1151	FACXREG  LDA FACLO
1600	.$1153	STA X_REG+4
1601	.$1155	LDA FACMO
1602	.$1157	STA X_REG+3
1603	.$1159	LDA FACMOH
1604	.$115b	STA X_REG+2
1605	.$115d	LDA FACSGN
1606	.$115f	ORA #$7F
1607	.$1161	AND FACHO
1608	.$1163	STA X_REG+1
1609	.$1165	LDA FACEXP
1610	.$1167	STA X_REG
1611	.$1169	LDA #0   
1612	.$116b	STA FACOV
1613	.$116d	RTS
1616	.$116e	XREGFAC  LDA X_REG+4
1617	.$1170	STA FACLO
1618	.$1172	LDA X_REG+3
1619	.$1174	STA FACMO
1620	.$1176	LDA X_REG+2
1621	.$1178	STA FACMOH
1622	.$117a	LDA X_REG+1
1623	.$117c	STA FACSGN
1624	.$117e	ORA #$80
1625	.$1180	STA FACHO
1626	.$1182	LDA X_REG
1627	.$1184	STA FACEXP
1628	.$1186	LDA #0
1629	.$1188	STA FACOV
1630	.$118a	RTS
1633	.$118b	XREGARG  LDA X_REG+4
1634	.$118d	STA ARGLO
1635	.$118f	LDA X_REG+3
1636	.$1191	STA ARGMO
1637	.$1193	LDA X_REG+2
1638	.$1195	STA ARGMOH
1639	.$1197	LDA X_REG+1
1640	.$1199	STA ARGSGN
1641	.$119b	EOR FACSGN
1642	.$119d	STA ARISGN
1643	.$119f	LDA ARGSGN
1644	.$11a1	ORA #$80
1645	.$11a3	STA ARGHO
1646	.$11a5	LDA X_REG
1647	.$11a7	STA ARGEXP
1648	.$11a9	LDA FACEXP
1649	.$11ab	RTS
1652	.$11ac	YREGFAC  LDA Y_REG+4
1653	.$11af	STA FACLO
1654	.$11b1	LDA Y_REG+3
1655	.$11b4	STA FACMO
1656	.$11b6	LDA Y_REG+2
1657	.$11b9	STA FACMOH
1658	.$11bb	LDA Y_REG+1
1659	.$11be	STA FACSGN
1660	.$11c0	ORA #$80
1661	.$11c2	STA FACHO
1662	.$11c4	LDA Y_REG
1663	.$11c7	STA FACEXP
1664	.$11c9	LDA #0
1665	.$11cb	STA FACOV
1666	.$11cd	RTS
1780	.$11ce	FASTFSUBMEM
1781	.$11ce	JSR MEMARG
1782	.$11d1	FASTFSUBARG
1783	.$11d1	LDA FACSGN
1784	.$11d3	EOR #$FF
1785	.$11d5	STA FACSGN
1786	.$11d7	EOR ARGSGN
1787	.$11d9	STA ARISGN
1788	.$11db	LDA FACEXP
1789	.$11dd	JMP FASTFADDARG
1792	.$11e0	FASTFADDMEM
1793	.$11e0	JSR MEMARG
1794	.$11e3	FASTFADDARG
1795	.$11e3	BNE FADDRET2     
1796	.$11e5	JMP ARGFAC
1797	.$11e8	FADDRET2 LDA ARGEXP
1798	.$11ea	BNE FADDRET1     
1799	.$11ec	RTS
1800	.$11ed	FADDRET1 SEC
1801	.$11ee	SBC FACEXP
1802	.$11f0	BEQ FFADD_EXPEQ     
1803	.$11f2	BCC FFADD_SHFARG1   
1807	.$11f4	LDY ARGEXP
1808	.$11f6	STY FACEXP
1809	.$11f8	LDY ARGSGN
1810	.$11fa	STY FACSGN
1811	.$11fc	LDX #0
1812	.$11fe	STX OLDOV        
1813	.$1200	LDX #FAC         
1815	.$1202	SEC
1816	.$1203	SBC #$08
1817	.$1205	BMI FFADD_SHFFAC2
1819	.$1207	FFADD_SHFFAC1
1820	.$1207	LDY FACLO        
1821	.$1209	STY FACOV
1822	.$120b	LDY FACMO        
1823	.$120d	STY FACMO+1
1824	.$120f	LDY FACMOH       
1825	.$1211	STY FACMOH+1
1826	.$1213	LDY FACHO        
1827	.$1215	STY FACHO+1
1828	.$1217	LDY #0
1829	.$1219	STY FACHO        
1830	.$121b	SBC #$08         
1831	.$121d	BPL FFADD_SHFFAC1   
1832	.$121f	FFADD_SHFFAC2
1833	.$121f	ADC #$08         
1834	.$1221	BEQ FFADD_SHFFAC4   
1835	.$1223	TAY
1836	.$1224	LDA FACOV
1837	.$1226	FFADD_SHFFAC3
1838	.$1226	LSR FACHO        
1839	.$1228	ROR FACMOH       
1840	.$122a	ROR FACMO        
1841	.$122c	ROR FACLO        
1842	.$122e	ROR              
1843	.$122f	DEY
1844	.$1230	BNE FFADD_SHFFAC3
1845	.$1232	JMP FFADD_MANADD2   
1846	.$1235	FFADD_SHFFAC4
1847	.$1235	LDA FACOV        
1848	.$1237	JMP FFADD_MANADD2
1849	.$123a	FFADD_EXPEQ
1850	.$123a	LDX FACOV
1851	.$123c	STX OLDOV
1854	.$123e	JMP FFADD_MANADD1
1855	.$1241	FFADD_SHFARG2
1856	.$1241	LDA FACOV        
1857	.$1243	JMP FFADD_MANADD1
1858	.$1246	FFADD_SHFARG1
1859	.$1246	LDX FACOV
1860	.$1248	STX OLDOV        
1861	.$124a	LDX #$00         
1864	.$124c	ADC #$08
1865	.$124e	BPL FFADD_SHFARG6   
1866	.$1250	FFADD_SHFARG3
1867	.$1250	LDX ARGLO        
1868	.$1252	LDY ARGMO        
1869	.$1254	STY ARGMO+1
1870	.$1256	LDY ARGMOH       
1871	.$1258	STY ARGMOH+1
1872	.$125a	LDY ARGHO        
1873	.$125c	STY ARGHO+1
1874	.$125e	LDY #0
1875	.$1260	STY ARGHO        
1876	.$1262	FFADD_SHFARG4
1877	.$1262	ADC #$08
1878	.$1264	BMI FFADD_SHFARG3
1879	.$1266	BEQ FFADD_SHFARG3
1880	.$1268	FFADD_SHFARG6
1881	.$1268	SBC #$08
1882	.$126a	BEQ FFADD_SHFARG2   
1883	.$126c	TAY
1884	.$126d	TXA              
1885	.$126e	FFADD_SHFARG5
1886	.$126e	LSR ARGHO
1887	.$1270	ROR ARGMOH
1888	.$1272	ROR ARGMO
1889	.$1274	ROR ARGLO
1890	.$1276	ROR           
1891	.$1277	INY
1892	.$1278	BNE FFADD_SHFARG5
1893	.$127a	FFADD_MANADD1
1894	.$127a	LDX #ARGEXP      
1895	.$127c	FFADD_MANADD2
1896	.$127c	BIT ARISGN
1897	.$127e	BMI FFADD_MANSUB1   
1898	.$1280	CLC
1899	.$1281	ADC OLDOV
1900	.$1283	STA FACOV
1901	.$1285	LDA FACLO
1902	.$1287	ADC ARGLO
1903	.$1289	STA FACLO
1904	.$128b	LDA FACMO
1905	.$128d	ADC ARGMO
1906	.$128f	STA FACMO
1907	.$1291	LDA FACMOH
1908	.$1293	ADC ARGMOH
1909	.$1295	STA FACMOH
1910	.$1297	LDA FACHO
1911	.$1299	ADC ARGHO
1912	.$129b	STA FACHO
1913	.$129d	BCC FFADD_RNDRTS
1914	.$129f	INC FACEXP
1915	.$12a1	BEQ FFADD_OVERR
1917	.$12a3	ROR FACHO
1918	.$12a5	ROR FACMOH
1919	.$12a7	ROR FACMO
1920	.$12a9	ROR FACLO
1921	.$12ab	ROR FACOV
1922	.$12ad	FFADD_RNDRTS
1923	.$12ad	RTS
1924	.$12ae	FFADD_OVERR
1925	.$12ae	JMP ILLEGALQUANTITY
1926	.$12b1	FFADD_MANSUB1
1927	.$12b1	LDY #FACEXP
1928	.$12b3	CPX #ARGEXP
1929	.$12b5	BEQ FFADD_MANSUB2
1930	.$12b7	LDY #ARGEXP
1931	.$12b9	FFADD_MANSUB2
1932	.$12b9	SEC              
1933	.$12ba	EOR #$FF
1934	.$12bc	ADC OLDOV
1935	.$12be	STA FACOV
1936	.$12c0	LDA 4,Y
1937	.$12c3	SBC 4,X
1938	.$12c5	STA FACLO
1939	.$12c7	LDA 3,Y
1940	.$12ca	SBC 3,X
1941	.$12cc	STA FACMO
1942	.$12ce	LDA 2,Y
1943	.$12d1	SBC 2,X
1944	.$12d3	STA FACMOH
1945	.$12d5	LDA 1,Y
1946	.$12d8	SBC 1,X
1947	.$12da	STA FACHO
1948	.$12dc	BCS FCNORMAL
1949	.$12de	LDA FACSGN
1950	.$12e0	EOR #$FF
1951	.$12e2	STA FACSGN
1952	.$12e4	LDA FACHO
1953	.$12e6	EOR #$FF
1954	.$12e8	STA FACHO
1955	.$12ea	LDA FACMOH
1956	.$12ec	EOR #$FF
1957	.$12ee	STA FACMOH
1958	.$12f0	LDA FACMO
1959	.$12f2	EOR #$FF
1960	.$12f4	STA FACMO
1961	.$12f6	LDA FACLO
1962	.$12f8	EOR #$FF
1963	.$12fa	STA FACLO
1964	.$12fc	LDA FACOV
1965	.$12fe	EOR #$FF
1966	.$1300	CLC
1967	.$1301	ADC #1
1968	.$1303	STA FACOV
1969	.$1305	BNE FCNORMAL
1970	.$1307	INC FACLO
1971	.$1309	BNE FCNORMAL
1972	.$130b	INC FACMO
1973	.$130d	BNE FCNORMAL
1974	.$130f	INC FACMOH
1975	.$1311	BNE FCNORMAL
1976	.$1313	INC FACHO
1977	.$1315	FCNORMAL   BIT FACHO
1978	.$1317	BMI FFADD_RET       
1979	.$1319	LDA #0           
1980	.$131b	CLC
1981	.$131c	FFADD_NORM3
1982	.$131c	LDX FACHO
1983	.$131e	BNE FFADD_NORM1
1984	.$1320	LDX FACHO+1
1985	.$1322	STX FACHO
1986	.$1324	LDX FACMOH+1
1987	.$1326	STX FACMOH
1988	.$1328	LDX FACMO+1
1989	.$132a	STX FACMO
1990	.$132c	LDX FACOV
1991	.$132e	STX FACLO
1992	.$1330	LDX #0
1993	.$1332	STX FACOV
1994	.$1334	ADC #$08
1995	.$1336	CMP #$20
1996	.$1338	BNE FFADD_NORM3
1997	.$133a	JMP FFADD_ZEROFAC
1998	.$133d	FFADD_NORM2
1999	.$133d	CLC
2000	.$133e	ADC #1
2001	.$1340	ASL FACOV
2002	.$1342	ROL FACLO
2003	.$1344	ROL FACMO
2004	.$1346	ROL FACMOH
2005	.$1348	ROL FACHO
2006	.$134a	FFADD_NORM1
2007	.$134a	BPL FFADD_NORM2     
2008	.$134c	SEC
2009	.$134d	SBC FACEXP
2010	.$134f	BCS FFADD_ZEROFAC
2011	.$1351	EOR #$FF
2012	.$1353	CLC
2013	.$1354	ADC #1
2014	.$1356	STA FACEXP
2015	.$1358	FFADD_RET   RTS
2016	.$1359	FFADD_ZEROFAC
2017	.$1359	LDX #0
2018	.$135b	STX FACEXP
2019	.$135d	STX FACSGN
2020	.$135f	RTS
2023	.$1360	INITVARS
2024	.$1360	JSR INITSTRVARS
2025	.$1363	LDA #0
2026	.$1365	LDY #4
2027	.$1367	REALINITLOOP0:
2028	.$1367	STA VAR_A,Y
2029	.$136a	STA VAR_J,Y
2030	.$136d	STA VAR_X,Y
2031	.$1370	STA VAR_SM,Y
2032	.$1373	STA VAR_S,Y
2033	.$1376	STA VAR_B,Y
2034	.$1379	STA VAR_FI,Y
2035	.$137c	DEY
2036	.$137d	BMI REALLOOPEXIT0
2037	.$137f	JMP REALINITLOOP0
2038	.$1382	REALLOOPEXIT0:
2039	.$1382	LDA #<VAR_A[]
2040	.$1384	LDY #>VAR_A[]
2041	.$1386	JSR INITSPARAMS
2042	.$1389	JSR INITNARRAY
2043	.$138c	LDA #0
2044	.$138e	RTS
2048	.$138f	CONSTANTS
2050	.$138f	CONST_0 .BYTE 7
2051	.$1390	.STRG "{clear}"
2054	.$1391	CONST_1R .REAL 0.0
2057	.$1396	CONST_2 .REAL -2.0
2060	.$139b	CONST_3R .REAL 1.0
2063	.$13a0	CONST_4 .REAL -80.0
2066	.$13a5	CONST_5R .REAL 2.0
2069	.$13aa	CONST_6R .REAL 3.0
2072	.$13af	CONST_7R .REAL 80.0
2078	.$13b4	CONST_9R .REAL 4.0
2081	.$13b9	CONST_10 .REAL 1105.0
2084	.$13be	CONST_11R .REAL 23.0
2086	.$13c3	CONST_12 .BYTE 22
2087	.$13c4	.STRG "{reverse on}{space*39}"
2096	.$13ec	DATAS
2097	.$13ec	.BYTE $FF
2099	.$13ed	CONSTANTS_END
2102	.$13ed	VARIABLES
2104	.$13ed	.BYTE 1
2105	.$13ee	.WORD 55
2106	.$13f0	VAR_A[] .ARRAY 55
2108	.$1427	VAR_A .REAL 0.0
2110	.$142c	VAR_J .REAL 0.0
2112	.$1431	VAR_X .REAL 0.0
2114	.$1436	VAR_SM .REAL 0.0
2116	.$143b	VAR_S .REAL 0.0
2118	.$1440	VAR_B .REAL 0.0
2120	.$1445	VAR_FI .REAL 0.0
2121	.$144a	STRINGVARS_START
2123	.$144a	VAR_TI$ .WORD EMPTYSTR
2124	.$144c	STRINGVARS_END
2125	.$144c	STRINGARRAYS_START
2126	.$144c	STRINGARRAYS_END
2127	.$144c	VARIABLES_END
2129	.$144c	Y_REG .REAL 0.0
2130	.$1451	C_REG .REAL 0.0
2131	.$1456	D_REG .REAL 0.0
2132	.$145b	E_REG .REAL 0.0
2133	.$1460	F_REG .REAL 0.0
2134	.$1465	A_REG .WORD 0
2135	.$1467	B_REG .WORD 0
2136	.$1469	CMD_NUM .BYTE 0
2137	.$146a	CHANNEL .BYTE 0
2138	.$146b	SP_SAVE .BYTE 0
2139	.$146c	TMP2_REG .WORD 0
2140	.$146e	TMP3_REG .WORD 0
2141	.$1470	TMP4_REG .WORD 0
2142	.$1472	AS_TMP .WORD 0
2143	.$1474	BPOINTER_TMP .WORD 0
2144	.$1476	BASICTEXTP .BYTE 0
2145	.$1477	STORE1 .WORD 0
2146	.$1479	STORE2 .WORD 0
2147	.$147b	STORE3 .WORD 0
2148	.$147d	STORE4 .WORD 0
2149	.$147f	GCSTART .WORD 0
2150	.$1481	GCLEN .WORD 0
2151	.$1483	GCWORK .WORD 0
2152	.$1485	INPUTLENGTH .BYTE 0
2153	.$1486	TMP_FREG .REAL 0
2154	.$148b	TMP2_FREG .REAL 0
2155	.$1490	TMP_FLAG .BYTE 0
2156	.$1491	INT_FLAG .BYTE 0
2157	.$1492	REAL_CONST_ONE .REAL 1.0
2158	.$1497	REAL_CONST_ZERO .REAL 0.0
2159	.$149c	REAL_CONST_MINUS_ONE .REAL -1.0
2160	.$14a1	CHLOCKFLAG .BYTE 0
2161	.$14a2	EMPTYSTR .BYTE 0
2162	.$14a3	FPSTACKP .WORD FPSTACK
2163	.$14a5	FORSTACKP .WORD FORSTACK
2164	.$14a7	DATASP .WORD DATAS
2165	.$14a9	LASTVAR .WORD 0
2166	.$14ab	LASTVARP .WORD 0
2167	.$14ad	HIGHP .WORD STRBUF
2168	.$14af	STRBUFP .WORD STRBUF
2169	.$14b1	ENDSTRBUF .WORD 0
2170	.$14b3	INPUTQUEUEP .BYTE 0
2171	.$14b4	PROGRAMEND
2172	.$14b4	INPUTQUEUE .ARRAY $0F
2173	.$14c3	FPSTACK .ARRAY 100
2174	.$1527	FORSTACK .ARRAY 340
2175	.$167b	STRBUF .BYTE 0
