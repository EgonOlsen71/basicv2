117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
128	.$81f	LDA #<CONST_0
129	.$821	LDY #>CONST_0
130	.$823	JSR STROUTBRKWL
134	.$826	LINE_20:
136	.$826	LDA #<CONST_1
137	.$828	LDY #>CONST_1
138	.$82a	JSR STROUTBRKWL
142	.$82d	LINE_40:
144	.$82d	LDA #<CONST_2
145	.$82f	LDY #>CONST_2
146	.$831	STA B_REG
147	.$834	STY B_REG+1
148	.$837	LDA #<CONST_2
149	.$839	LDY #>CONST_2
150	.$83b	STA A_REG
151	.$83e	STY A_REG+1
153	.$841	JSR SEQ
154	.$844	JSR INTOUTBRK
157	.$847	LINE_50:
159	.$847	LDA #<CONST_2
160	.$849	LDY #>CONST_2
161	.$84b	STA B_REG
162	.$84e	STY B_REG+1
163	.$851	LDA #<CONST_2
164	.$853	LDY #>CONST_2
165	.$855	STA A_REG
166	.$858	STY A_REG+1
168	.$85b	JSR SEQ
169	.$85e	JSR INTOUTBRK
172	.$861	LINE_55:
174	.$861	LDA #<CONST_2
175	.$863	LDY #>CONST_2
176	.$865	STA B_REG
177	.$868	STY B_REG+1
178	.$86b	LDA #<CONST_3
179	.$86d	LDY #>CONST_3
180	.$86f	STA A_REG
181	.$872	STY A_REG+1
183	.$875	JSR SEQ
184	.$878	JSR INTOUTBRK
187	.$87b	LINE_70:
190	.$87b	LINE_80:
192	.$87b	LDA #<CONST_4
193	.$87d	LDY #>CONST_4
194	.$87f	JSR COPY2_XYA_XREG
198	.$882	JSR REALOUTBRK
201	.$885	LINE_90:
203	.$885	LDA #<CONST_4
204	.$887	LDY #>CONST_4
206	.$889	JSR REALFAC
207	.$88c	JSR FACXREG
209	.$88f	JSR REALOUTBRK
212	.$892	LINE_100:
214	.$892	JSR COMPACTMAX
215	.$895	LDA #<CONST_5R
216	.$897	LDY #>CONST_5R
217	.$899	JSR REALFACPUSH
219	.$89c	LDA #<CONST_6R
220	.$89e	LDY #>CONST_6R
221	.$8a0	JSR REALFACPUSH
223	.$8a3	LDA #<CONST_7R
224	.$8a5	LDY #>CONST_7R
225	.$8a7	JSR COPY2_XYA_CREG
229	.$8aa	LDA #<CONST_8
230	.$8ac	LDY #>CONST_8
231	.$8ae	STA B_REG
232	.$8b1	STY B_REG+1
233	.$8b4	LDY #2
234	.$8b6	JSR MIDCONST
243	.$8b9	LDY A_REG
244	.$8bc	LDA A_REG+1
245	.$8bf	STY B_REG
246	.$8c2	STA B_REG+1
247	.$8c5	LDA #<CONST_0
248	.$8c7	LDY #>CONST_0
249	.$8c9	STA A_REG
250	.$8cc	STY A_REG+1
251	.$8cf	JSR CONCAT
252	.$8d2	LDY A_REG
253	.$8d5	LDA A_REG+1
254	.$8d8	STY B_REG
255	.$8db	STA B_REG+1
256	.$8de	JSR POPREAL
257	.$8e1	LDX #<D_REG
258	.$8e3	LDY #>D_REG
260	.$8e5	JSR FACMEM
261	.$8e8	JSR POPREAL
262	.$8eb	LDX #<C_REG
263	.$8ed	LDY #>C_REG
265	.$8ef	JSR FACMEM
266	.$8f2	JSR MID
267	.$8f5	LDY A_REG
268	.$8f8	LDA A_REG+1
269	.$8fb	STY B_REG
270	.$8fe	STA B_REG+1
271	.$901	LDA #<CONST_9
272	.$903	LDY #>CONST_9
273	.$905	STA A_REG
274	.$908	STY A_REG+1
275	.$90b	JSR CONCAT
276	.$90e	LDA #<CONST_10
277	.$910	LDY #>CONST_10
278	.$912	STA B_REG
279	.$915	STY B_REG+1
280	.$918	JSR CONCAT
281	.$91b	JSR STROUTBRK
284	.$91e	LINE_110:
286	.$91e	JSR COMPACTMAX
287	.$921	LDA #<CONST_5R
288	.$923	LDY #>CONST_5R
289	.$925	JSR REALFACPUSH
291	.$928	LDA #<CONST_6R
292	.$92a	LDY #>CONST_6R
293	.$92c	JSR REALFACPUSH
295	.$92f	LDA #<CONST_7R
296	.$931	LDY #>CONST_7R
297	.$933	JSR COPY2_XYA_CREG
301	.$936	LDA #<CONST_8
302	.$938	LDY #>CONST_8
303	.$93a	STA B_REG
304	.$93d	STY B_REG+1
305	.$940	LDY #2
306	.$942	JSR MIDCONST
315	.$945	LDA A_REG
316	.$948	LDY A_REG+1
317	.$94b	STA TMP_ZP
318	.$94d	STY TMP_ZP+1
319	.$94f	JSR PUSHINT
320	.$952	LDA #<CONST_11
321	.$954	LDY #>CONST_11
322	.$956	STA B_REG
323	.$959	STY B_REG+1
325	.$95c	JSR VAL
326	.$95f	JSR COPY_XREG2YREG
331	.$962	JSR STR
332	.$965	JSR POPINT2B
334	.$968	JSR CONCAT
335	.$96b	LDY A_REG
336	.$96e	LDA A_REG+1
337	.$971	STY B_REG
338	.$974	STA B_REG+1
339	.$977	JSR POPREAL
340	.$97a	LDX #<D_REG
341	.$97c	LDY #>D_REG
343	.$97e	JSR FACMEM
344	.$981	JSR POPREAL
345	.$984	LDX #<C_REG
346	.$986	LDY #>C_REG
348	.$988	JSR FACMEM
349	.$98b	JSR MID
350	.$98e	LDY A_REG
351	.$991	LDA A_REG+1
352	.$994	STY B_REG
353	.$997	STA B_REG+1
354	.$99a	LDA #<CONST_9
355	.$99c	LDY #>CONST_9
356	.$99e	STA A_REG
357	.$9a1	STY A_REG+1
358	.$9a4	JSR CONCAT
359	.$9a7	LDA #<CONST_10
360	.$9a9	LDY #>CONST_10
361	.$9ab	STA B_REG
362	.$9ae	STY B_REG+1
363	.$9b1	JSR CONCAT
364	.$9b4	JSR STROUTBRK
367	.$9b7	LINE_115:
369	.$9b7	JSR COMPACTMAX
370	.$9ba	LDA #<CONST_12
371	.$9bc	LDY #>CONST_12
372	.$9be	STA B_REG
373	.$9c1	STY B_REG+1
374	.$9c4	LDY #3
375	.$9c6	JSR LEFTCONST
382	.$9c9	LDY A_REG
383	.$9cc	LDA A_REG+1
384	.$9cf	STY B_REG
385	.$9d2	STA B_REG+1
386	.$9d5	LDA #<CONST_13
387	.$9d7	LDY #>CONST_13
388	.$9d9	STA A_REG
389	.$9dc	STY A_REG+1
390	.$9df	JSR CONCAT
391	.$9e2	LDY A_REG
392	.$9e5	LDA A_REG+1
393	.$9e8	STY B_REG
394	.$9eb	STA B_REG+1
396	.$9ee	JSR VAL
397	.$9f1	JSR COPY_XREG2YREG
402	.$9f4	JSR STR
403	.$9f7	LDY A_REG
404	.$9fa	LDA A_REG+1
405	.$9fd	STY B_REG
406	.$a00	STA B_REG+1
407	.$a03	LDA #<CONST_14
408	.$a05	LDY #>CONST_14
409	.$a07	STA A_REG
410	.$a0a	STY A_REG+1
411	.$a0d	JSR CONCAT
412	.$a10	JSR STROUTBRK
415	.$a13	LINE_116:
417	.$a13	JSR COMPACTMAX
418	.$a16	LDA #<CONST_7R
419	.$a18	LDY #>CONST_7R
420	.$a1a	JSR COPY2_XYA_CREG
424	.$a1d	LDA #<CONST_15
425	.$a1f	LDY #>CONST_15
426	.$a21	STA B_REG
427	.$a24	STY B_REG+1
428	.$a27	LDY #3
429	.$a29	JSR MIDCONST
438	.$a2c	JSR STROUTBRK
441	.$a2f	LINE_117:
443	.$a2f	JSR COMPACTMAX
444	.$a32	LDA #<CONST_5R
445	.$a34	LDY #>CONST_5R
446	.$a36	JSR COPY2_XYA_CREG
450	.$a39	LDA #<CONST_16
451	.$a3b	LDY #>CONST_16
452	.$a3d	STA B_REG
453	.$a40	STY B_REG+1
454	.$a43	LDY #3
455	.$a45	JSR MIDCONST
464	.$a48	JSR STROUTBRK
467	.$a4b	LINE_120:
469	.$a4b	JSR COMPACTMAX
470	.$a4e	LDA #<CONST_5R
471	.$a50	LDY #>CONST_5R
472	.$a52	JSR REALFACPUSH
474	.$a55	LDA #<CONST_6R
475	.$a57	LDY #>CONST_6R
476	.$a59	JSR REALFACPUSH
478	.$a5c	LDA #<CONST_7R
479	.$a5e	LDY #>CONST_7R
480	.$a60	JSR COPY2_XYA_CREG
484	.$a63	LDA #<CONST_15
485	.$a65	LDY #>CONST_15
486	.$a67	STA B_REG
487	.$a6a	STY B_REG+1
488	.$a6d	LDY #3
489	.$a6f	JSR MIDCONST
498	.$a72	LDA A_REG
499	.$a75	LDY A_REG+1
500	.$a78	STA TMP_ZP
501	.$a7a	STY TMP_ZP+1
502	.$a7c	JSR PUSHINT
504	.$a7f	LDA #<CONST_12
505	.$a81	LDY #>CONST_12
506	.$a83	STA B_REG
507	.$a86	STY B_REG+1
508	.$a89	LDY #3
509	.$a8b	JSR LEFTCONST
516	.$a8e	LDY A_REG
517	.$a91	LDA A_REG+1
518	.$a94	STY B_REG
519	.$a97	STA B_REG+1
520	.$a9a	LDA #<CONST_13
521	.$a9c	LDY #>CONST_13
522	.$a9e	STA A_REG
523	.$aa1	STY A_REG+1
524	.$aa4	JSR CONCAT
525	.$aa7	LDY A_REG
526	.$aaa	LDA A_REG+1
527	.$aad	STY B_REG
528	.$ab0	STA B_REG+1
530	.$ab3	JSR VAL
531	.$ab6	JSR COPY_XREG2YREG
536	.$ab9	JSR STR
537	.$abc	JSR POPINT2B
539	.$abf	JSR CONCAT
540	.$ac2	LDY A_REG
541	.$ac5	LDA A_REG+1
542	.$ac8	STY B_REG
543	.$acb	STA B_REG+1
544	.$ace	JSR POPREAL
545	.$ad1	LDX #<D_REG
546	.$ad3	LDY #>D_REG
548	.$ad5	JSR FACMEM
549	.$ad8	JSR POPREAL
550	.$adb	LDX #<C_REG
551	.$add	LDY #>C_REG
553	.$adf	JSR FACMEM
554	.$ae2	JSR MID
555	.$ae5	LDY A_REG
556	.$ae8	LDA A_REG+1
557	.$aeb	STY B_REG
558	.$aee	STA B_REG+1
559	.$af1	LDA #<CONST_9
560	.$af3	LDY #>CONST_9
561	.$af5	STA A_REG
562	.$af8	STY A_REG+1
563	.$afb	JSR CONCAT
564	.$afe	LDA #<CONST_17
565	.$b00	LDY #>CONST_17
566	.$b02	STA B_REG
567	.$b05	STY B_REG+1
568	.$b08	JSR CONCAT
569	.$b0b	LDA #<CONST_18
570	.$b0d	LDY #>CONST_18
571	.$b0f	STA B_REG
572	.$b12	STY B_REG+1
573	.$b15	JSR CONCAT
574	.$b18	JSR STROUTBRK
577	.$b1b	LINE_130:
579	.$b1b	JSR COMPACTMAX
580	.$b1e	LDA #<CONST_20
581	.$b20	LDY #>CONST_20
582	.$b22	STA B_REG
583	.$b25	STY B_REG+1
584	.$b28	LDY #5
585	.$b2a	JSR LEFTCONST
592	.$b2d	JSR STROUT
593	.$b30	JSR TABOUT
594	.$b33	LDA #<CONST_21
595	.$b35	LDY #>CONST_21
596	.$b37	JSR STROUTWL
598	.$b3a	JSR TABOUT
599	.$b3d	LDY #$03
600	.$b3f	STY TMP_ZP
601	.$b41	LDA #$00
602	.$b43	STA TMP_ZP+1
603	.$b45	JSR INTOUTBRKFAST
608	.$b48	LINE_140:
610	.$b48	JSR COMPACTMAX
611	.$b4b	LDA #<CONST_6R
612	.$b4d	LDY #>CONST_6R
613	.$b4f	JSR REALFACPUSH
616	.$b52	LDA VAR_I$
617	.$b55	LDY VAR_I$+1
618	.$b58	STA B_REG
619	.$b5b	STY B_REG+1
620	.$b5e	LDA VAR_I$
621	.$b61	LDY VAR_I$+1
622	.$b64	STA A_REG
623	.$b67	STY A_REG+1
624	.$b6a	JSR CONCAT
625	.$b6d	LDY A_REG
626	.$b70	LDA A_REG+1
627	.$b73	STY B_REG
628	.$b76	STA B_REG+1
629	.$b79	JSR POPREAL
630	.$b7c	LDX #<C_REG
631	.$b7e	LDY #>C_REG
633	.$b80	JSR FACMEM
634	.$b83	JSR LEFT
635	.$b86	LDY A_REG
636	.$b89	LDA A_REG+1
637	.$b8c	STY B_REG
638	.$b8f	STA B_REG+1
639	.$b92	LDA #<CONST_13
640	.$b94	LDY #>CONST_13
641	.$b96	STA A_REG
642	.$b99	STY A_REG+1
643	.$b9c	JSR CONCAT
644	.$b9f	LDY A_REG
645	.$ba2	LDA A_REG+1
646	.$ba5	STY B_REG
647	.$ba8	STA B_REG+1
649	.$bab	JSR VAL
650	.$bae	JSR COPY_XREG2YREG
655	.$bb1	JSR STR
656	.$bb4	LDY A_REG
657	.$bb7	LDA A_REG+1
658	.$bba	STY B_REG
659	.$bbd	STA B_REG+1
660	.$bc0	LDA #<CONST_22
661	.$bc2	LDY #>CONST_22
662	.$bc4	STA A_REG
663	.$bc7	STY A_REG+1
664	.$bca	JSR CONCAT
665	.$bcd	LDA #<CONST_22
666	.$bcf	LDY #>CONST_22
667	.$bd1	STA B_REG
668	.$bd4	STY B_REG+1
669	.$bd7	JSR CONCAT
670	.$bda	JSR STROUTBRK
672	.$bdd	JSR END
673	.$be0	RTS
676	.$be1	END   LDX SP_SAVE
677	.$be4	TXS
684	.$be5	RTS
687	.$be6	START  LDA ENDSTRBUF+1
688	.$be9	BNE ENDGIVEN
689	.$beb	LDA BASICEND
690	.$bed	STA ENDSTRBUF
691	.$bf0	LDA BASICEND+1
692	.$bf2	STA ENDSTRBUF+1
693	.$bf5	ENDGIVEN LDA #<FPSTACK
694	.$bf7	LDY #>FPSTACK
695	.$bf9	STA FPSTACKP
696	.$bfc	STY FPSTACKP+1
697	.$bff	LDA #<FORSTACK
698	.$c01	LDY #>FORSTACK
699	.$c03	STA FORSTACKP
700	.$c06	STY FORSTACKP+1
701	.$c09	LDA #<STRBUF
702	.$c0b	LDY #>STRBUF
703	.$c0d	STA STRBUFP
704	.$c10	STY STRBUFP+1
705	.$c13	STA HIGHP
706	.$c16	STY HIGHP+1
707	.$c19	LDA #0
708	.$c1b	STA CHLOCKFLAG
709	.$c1e	STA LASTVAR
710	.$c21	STA LASTVAR+1
711	.$c24	JSR INITVARS
712	.$c27	LDA #0
713	.$c29	STA CMD_NUM
714	.$c2c	STA CHANNEL
715	.$c2f	TAY
716	.$c30	TAX
720	.$c31	STA KEYNDX
726	.$c33	JSR RESTORE
727	.$c36	CLC
731	.$c37	RTS
734	.$c38	INITNARRAY
735	.$c38	STA TMP_ZP
736	.$c3a	STY TMP_ZP+1
737	.$c3c	LDY #0
738	.$c3e	TYA
739	.$c3f	NINITLOOP STA (TMP_ZP),Y
740	.$c41	INC TMP_ZP
741	.$c43	BNE NLOOPNOV
742	.$c45	INC TMP_ZP+1
743	.$c47	NLOOPNOV LDX TMP2_ZP
744	.$c49	BNE NLOOPNOV2
745	.$c4b	DEC TMP2_ZP+1
746	.$c4d	NLOOPNOV2 DEC TMP2_ZP
747	.$c4f	BNE NINITLOOP
748	.$c51	LDX TMP2_ZP+1
749	.$c53	BNE NINITLOOP
750	.$c55	RTS
753	.$c56	INITSTRARRAY
754	.$c56	STA TMP_ZP
755	.$c58	STY TMP_ZP+1
756	.$c5a	SINITLOOP LDY #0
757	.$c5c	LDA #<EMPTYSTR
758	.$c5e	STA (TMP_ZP),Y
759	.$c60	LDA #>EMPTYSTR
760	.$c62	INY
761	.$c63	STA (TMP_ZP),Y
762	.$c65	CLC
763	.$c66	LDA TMP_ZP
764	.$c68	ADC #2
765	.$c6a	STA TMP_ZP
766	.$c6c	BCC SLOOPNOV1
767	.$c6e	INC TMP_ZP+1
768	.$c70	SLOOPNOV1 SEC
769	.$c71	LDA TMP2_ZP
770	.$c73	SBC #2
771	.$c75	STA TMP2_ZP
772	.$c77	BCS SLOOPNOV2
773	.$c79	DEC TMP2_ZP+1
774	.$c7b	SLOOPNOV2 LDA TMP2_ZP
775	.$c7d	BNE SINITLOOP
776	.$c7f	LDA TMP2_ZP+1
777	.$c81	BNE SINITLOOP
778	.$c83	RTS
781	.$c84	INITSPARAMS STA TMP3_ZP
782	.$c86	STY TMP3_ZP+1
783	.$c88	SEC
784	.$c89	SBC #2
785	.$c8b	STA TMP_ZP
786	.$c8d	TYA
787	.$c8e	SBC #0
788	.$c90	STA TMP_ZP+1
789	.$c92	LDY #0
790	.$c94	LDA (TMP_ZP),Y
791	.$c96	STA TMP2_ZP
792	.$c98	INY
793	.$c99	LDA (TMP_ZP),Y
794	.$c9b	STA TMP2_ZP+1
795	.$c9d	LDA TMP3_ZP
796	.$c9f	LDY TMP3_ZP+1
797	.$ca1	RTS
800	.$ca2	INITSTRVARS LDA #<STRINGVARS_START  
801	.$ca4	LDY #>STRINGVARS_START
802	.$ca6	CMP #<STRINGVARS_END
803	.$ca8	BNE INITIT1
804	.$caa	CPY #>STRINGVARS_END
805	.$cac	BNE INITIT1
806	.$cae	JMP INITSA2     
807	.$cb1	INITIT1  STA TMP_ZP
808	.$cb3	STY TMP_ZP+1
809	.$cb5	LDY #0
810	.$cb7	INITSTRLOOP LDA #<EMPTYSTR
811	.$cb9	STA (TMP_ZP),Y
812	.$cbb	INY
813	.$cbc	LDA #>EMPTYSTR
814	.$cbe	STA (TMP_ZP),Y
815	.$cc0	DEY
816	.$cc1	LDA TMP_ZP
817	.$cc3	CLC
818	.$cc4	ADC #2
819	.$cc6	STA TMP_ZP
820	.$cc8	LDA TMP_ZP+1
821	.$cca	ADC #0
822	.$ccc	STA TMP_ZP+1
823	.$cce	CMP #>STRINGVARS_END
824	.$cd0	BNE INITSTRLOOP
825	.$cd2	LDA TMP_ZP
826	.$cd4	CMP #<STRINGVARS_END
827	.$cd6	BNE INITSTRLOOP
828	.$cd8	INITSA2  LDA #<STRINGARRAYS_START 
829	.$cda	LDY #>STRINGARRAYS_START
830	.$cdc	CMP #<STRINGARRAYS_END
831	.$cde	BNE ARRAYLOOP
832	.$ce0	CPY #>STRINGARRAYS_END
833	.$ce2	BNE ARRAYLOOP
834	.$ce4	RTS       
835	.$ce5	ARRAYLOOP CLC
836	.$ce6	ADC #3
837	.$ce8	BCC ARRAYSKIP1
838	.$cea	INY
839	.$ceb	ARRAYSKIP1 CPY #>STRINGARRAYS_END
840	.$ced	BEQ ARRAYSC
841	.$cef	BCC ARRAYSKIP2
842	.$cf1	JMP ARRAYQUIT
843	.$cf4	ARRAYSC  CMP #<STRINGARRAYS_END
844	.$cf6	BCS ARRAYQUIT
845	.$cf8	ARRAYSKIP2 STA TMP_REG
846	.$cfa	STY TMP_REG+1
847	.$cfc	JSR INITSPARAMS
848	.$cff	LDA TMP_REG
849	.$d01	LDY TMP_REG+1
850	.$d03	JSR INITSTRARRAY
851	.$d06	LDA TMP_ZP
852	.$d08	LDY TMP_ZP+1
853	.$d0a	JMP ARRAYLOOP
854	.$d0d	ARRAYQUIT RTS
857	.$d0e	RESTORE  LDA #<DATAS
858	.$d10	LDY #>DATAS
859	.$d12	STA DATASP
860	.$d15	STY DATASP+1
861	.$d18	RTS
864	.$d19	MID   LDA #<D_REG
865	.$d1b	LDY #>D_REG
866	.$d1d	JSR REALFAC
867	.$d20	JSR SGNFAC
868	.$d23	ROL
869	.$d24	BCC MIDLENGTH  
870	.$d26	MIDNEGC  JSR STRFUNCINT  
871	.$d29	LDA TMP_REG   
872	.$d2b	STA TMP_REG+1
873	.$d2d	BNE MIDOK2
874	.$d2f	JMP ILLEGALQUANTITY 
875	.$d32	MIDOK2  DEC TMP_REG+1  
876	.$d34	LDA (TMP_ZP),Y
877	.$d36	SEC
878	.$d37	SBC TMP_REG+1
879	.$d39	STA TMP_REG   
880	.$d3b	BCS MIDNOV2
881	.$d3d	STY TMP_REG   
882	.$d3f	JMP MIDNOV2
883	.$d42	MIDLENGTH JSR FACWORD
884	.$d45	MIDCONST STY TMP2_REG  
885	.$d48	JSR STRFUNCINT
886	.$d4b	LDA TMP_REG   
887	.$d4d	BNE MIDOK
888	.$d4f	JMP ILLEGALQUANTITY 
889	.$d52	MIDOK  LDX TMP2_REG
890	.$d55	STX TMP_REG   
891	.$d57	STA TMP_REG+1
892	.$d59	DEC TMP_REG+1  
893	.$d5b	MIDNOV
894	.$d5b	MIDNOV2  LDA TMP_REG+1  
895	.$d5d	CLC
896	.$d5e	ADC TMP_REG   
897	.$d60	BCS MIDCLAMP
898	.$d62	CMP (TMP_ZP),Y
899	.$d64	BCS MIDCLAMP
900	.$d66	MIDCOPY  JMP STRFUNC
901	.$d69	MIDCLAMP LDA (TMP_ZP),Y  
902	.$d6b	SEC
903	.$d6c	SBC TMP_REG+1
904	.$d6e	STA TMP_REG
905	.$d70	BCS MIDCOPY
906	.$d72	STY TMP_REG
907	.$d74	JMP MIDCOPY
910	.$d77	LEFTCONSTA CMP #0
911	.$d79	BEQ LEFTCONST
912	.$d7b	LDY #$FF
913	.$d7d	LEFTCONST JSR STRFUNCINTINT
914	.$d80	JMP LEFT2
917	.$d83	LEFT  JSR STRFUNCINT
918	.$d86	LEFT2  STY TMP_REG+1  
919	.$d88	LDA (TMP_ZP),Y
920	.$d8a	CMP TMP_REG   
921	.$d8c	BCS LEFTBELOW
922	.$d8e	STA TMP_REG   
923	.$d90	LEFTBELOW JMP STRFUNC
926	.$d93	STRFUNCINT  LDA B_REG   
927	.$d96	STA TMP_ZP
928	.$d98	LDA B_REG+1
929	.$d9b	STA TMP_ZP+1
930	.$d9d	LDA #<C_REG
931	.$d9f	LDY #>C_REG
932	.$da1	JSR REALFAC
933	.$da4	JSR FACWORD
934	.$da7	STY TMP_REG   
935	.$da9	LDY #0
936	.$dab	RTS
939	.$dac	STRFUNCINTINT
940	.$dac	LDA B_REG   
941	.$daf	STA TMP_ZP
942	.$db1	LDA B_REG+1
943	.$db4	STA TMP_ZP+1
944	.$db6	STY TMP_REG   
945	.$db8	LDY #0
946	.$dba	RTS
953	.$dbb	STRFUNC  LDA TMP_REG+1
954	.$dbd	BEQ STARTATZERO
955	.$dbf	LDA TMP_ZP
956	.$dc1	CLC
957	.$dc2	ADC TMP_REG+1
958	.$dc4	STA TMP_ZP
959	.$dc6	BCC STARTATZERO
960	.$dc8	INC TMP_ZP+1
961	.$dca	STARTATZERO LDY #0
962	.$dcc	LDA (TMP_ZP),Y
963	.$dce	PHA     
964	.$dcf	LDA TMP_REG
965	.$dd1	BNE STRFUNCNZ
966	.$dd3	LDA #<EMPTYSTR
967	.$dd5	STA A_REG
968	.$dd8	LDA #>EMPTYSTR
969	.$dda	STA A_REG+1
970	.$ddd	PLA     
973	.$dde	JMP EXITSTRFUNC
974	.$de1	STRFUNCNZ STA (TMP_ZP),Y
975	.$de3	LDA #<A_REG
976	.$de5	LDY #>A_REG
977	.$de7	STA TMP2_ZP
978	.$de9	STY TMP2_ZP+1
979	.$deb	LDX TMP_REG   
980	.$ded	JSR COPYONLY
981	.$df0	PLA
982	.$df1	LDY #0
983	.$df3	STA (TMP_ZP),Y  
984	.$df5	EXITSTRFUNC RTS
987	.$df6	CONCAT  LDA A_REG
988	.$df9	STA TMP_ZP
989	.$dfb	LDA A_REG+1
990	.$dfe	STA TMP_ZP+1
991	.$e00	LDA STRBUFP  
992	.$e03	STA A_REG
993	.$e06	STA TMP3_ZP
994	.$e08	LDA STRBUFP+1
995	.$e0b	STA A_REG+1
996	.$e0e	STA TMP3_ZP+1
997	.$e10	LDY #0
998	.$e12	LDA (TMP_ZP),Y
999	.$e14	TAX
1000	.$e15	LDA B_REG
1001	.$e18	STA TMP2_ZP
1002	.$e1a	LDA B_REG+1
1003	.$e1d	STA TMP2_ZP+1
1004	.$e1f	TXA
1005	.$e20	CLC
1006	.$e21	ADC (TMP2_ZP),Y
1007	.$e23	BCC CCSTRFITS
1008	.$e25	JMP STRINGTOOLONG
1009	.$e28	CCSTRFITS STA (TMP3_ZP),Y
1010	.$e2a	INC TMP3_ZP
1011	.$e2c	BNE CCNOOV2
1012	.$e2e	INC TMP3_ZP+1
1013	.$e30	CCNOOV2  CLC
1014	.$e31	ADC STRBUFP
1015	.$e34	PHP
1016	.$e35	CLC
1017	.$e36	ADC #3
1018	.$e38	STA STRBUFP
1019	.$e3b	BCC CCNOCS1
1020	.$e3d	INC STRBUFP+1
1021	.$e40	CCNOCS1  PLP
1022	.$e41	BCC CCSTRFITS2
1023	.$e43	INC STRBUFP+1
1024	.$e46	CCSTRFITS2 JSR COPY2CONCAT  
1025	.$e49	LDA B_REG   
1026	.$e4c	STA TMP_ZP
1027	.$e4e	LDA B_REG+1
1028	.$e51	STA TMP_ZP+1
1029	.$e53	JMP COPY2CONCAT  
1032	.$e56	COPY2CONCAT LDY #0
1033	.$e58	LDA (TMP_ZP),Y
1034	.$e5a	BEQ NOC2C   
1035	.$e5c	STA TMP2_ZP
1036	.$e5e	INC TMP_ZP
1037	.$e60	BNE COPY2LOOP
1038	.$e62	INC TMP_ZP+1
1039	.$e64	COPY2LOOP LDA (TMP_ZP),Y
1040	.$e66	STA (TMP3_ZP),Y
1041	.$e68	INY
1042	.$e69	CPY TMP2_ZP
1043	.$e6b	BNE COPY2LOOP
1044	.$e6d	TYA
1045	.$e6e	CLC
1046	.$e6f	ADC TMP3_ZP   
1047	.$e71	STA TMP3_ZP
1048	.$e73	BCC NOC2C
1049	.$e75	INC TMP3_ZP+1
1050	.$e77	NOC2C  RTS
1053	.$e78	STR   JSR YREGFAC
1054	.$e7b	STRINT  LDY #1
1055	.$e7d	JSR FACSTR
1056	.$e80	LDY #0
1057	.$e82	STY TMP_ZP+1
1058	.$e84	LDA #LOFBUF
1059	.$e86	STA TMP_ZP
1060	.$e88	DEY
1061	.$e89	STRLOOP  INY
1062	.$e8a	LDA LOFBUFH,Y
1063	.$e8d	BNE STRLOOP
1064	.$e8f	STY LOFBUF
1065	.$e91	TYA
1066	.$e92	TAX   
1067	.$e93	LDA #<A_REG
1068	.$e95	LDY #>A_REG
1069	.$e97	STA TMP2_ZP
1070	.$e99	STY TMP2_ZP+1
1071	.$e9b	JMP COPYONLY
1074	.$e9e	VAL   LDA B_REG
1075	.$ea1	STA INDEX1
1076	.$ea3	LDA B_REG+1
1077	.$ea6	STA INDEX1+1
1078	.$ea8	LDY #0
1079	.$eaa	STY VALTYPE
1080	.$eac	LDA (INDEX1),Y
1081	.$eae	BNE DOACVAL
1082	.$eb0	JMP ZEROSET
1083	.$eb3	DOACVAL  TAY
1084	.$eb4	INC INDEX1
1085	.$eb6	BNE VALSTR
1086	.$eb8	INC INDEX1+1
1087	.$eba	VALSTR  JSR VALS
1088	.$ebd	JMP FACXREG 
1091	.$ec0	TABSPC     BCC DOSPC
1092	.$ec2	TXA
1093	.$ec3	SBC $09
1094	.$ec5	BCC TABSPCQUIT
1095	.$ec7	TAX
1096	.$ec8	DOSPC  INX
1097	.$ec9	TABSPCLOOP  DEX
1098	.$eca	BNE TABSPCRIGHT
1099	.$ecc	TABSPCQUIT RTS
1100	.$ecd	TABSPCRIGHT JSR CRSRRIGHT
1101	.$ed0	JMP TABSPCLOOP
1104	.$ed3	SAVEPOINTERS
1105	.$ed3	LDA TMP_ZP   
1106	.$ed5	STA STORE1
1107	.$ed8	LDA TMP_ZP+1
1108	.$eda	STA STORE1+1
1109	.$edd	LDA TMP2_ZP
1110	.$edf	STA STORE2
1111	.$ee2	LDA TMP2_ZP+1
1112	.$ee4	STA STORE2+1
1113	.$ee7	LDA TMP3_ZP
1114	.$ee9	STA STORE3
1115	.$eec	LDA TMP3_ZP+1
1116	.$eee	STA STORE3+1
1117	.$ef1	RTS
1120	.$ef2	RESTOREPOINTERS
1121	.$ef2	LDA STORE3+1  
1122	.$ef5	STA TMP3_ZP+1
1123	.$ef7	LDA STORE3
1124	.$efa	STA TMP3_ZP
1125	.$efc	LDA STORE2+1
1126	.$eff	STA TMP2_ZP+1
1127	.$f01	LDA STORE2
1128	.$f04	STA TMP2_ZP
1129	.$f06	LDA STORE1+1
1130	.$f09	STA TMP_ZP+1
1131	.$f0b	LDA STORE1
1132	.$f0e	STA TMP_ZP
1133	.$f10	RTS
1140	.$f11	COMPACTMAX
1141	.$f11	LDA #$FF
1142	.$f13	LDY #$0
1143	.$f15	JMP COMPACTF
1146	.$f18	COMPACT
1147	.$f18	LDY #0
1148	.$f1a	GCBUFNE  LDA (TMP_ZP),Y  
1149	.$f1c	COMPACTF STA TMP4_REG  
1150	.$f1f	LDY STRBUFP+1  
1151	.$f22	STY TMP4_REG+1  
1152	.$f25	INY     
1153	.$f26	BEQ ENDMEM   
1154	.$f28	CPY ENDSTRBUF+1  
1155	.$f2b	BCC RGCEXIT   
1156	.$f2d	ENDMEM  LDA STRBUFP
1157	.$f30	CLC
1158	.$f31	ADC TMP4_REG
1159	.$f34	STA TMP4_REG
1160	.$f37	BCC RGCNOOV1
1161	.$f39	INC TMP4_REG+1
1162	.$f3c	RGCNOOV1 CLC
1163	.$f3d	LDA TMP4_REG
1164	.$f40	ADC #3
1165	.$f42	STA TMP4_REG
1166	.$f45	BCC RGCNOOV2
1167	.$f47	INC TMP4_REG+1
1168	.$f4a	RGCNOOV2 LDA TMP4_REG+1  
1169	.$f4d	CMP ENDSTRBUF+1
1170	.$f50	BEQ RGCLOW1
1171	.$f52	BCS GCEXECOMP  
1172	.$f54	JMP RGCEXIT
1173	.$f57	RGCLOW1  LDA TMP4_REG
1174	.$f5a	CMP ENDSTRBUF
1175	.$f5d	BCS GCEXECOMP  
1176	.$f5f	RGCEXIT  RTS     
1177	.$f60	GCEXECOMP LDA STRBUFP
1178	.$f63	STA STORE4
1179	.$f66	LDA STRBUFP+1
1180	.$f69	STA STORE4+1
1181	.$f6c	JSR GCEXE
1182	.$f6f	JMP CHECKMEMORY
1185	.$f72	GCEXE  JSR SAVEPOINTERS
1186	.$f75	LDA #0
1187	.$f77	STA LASTVAR
1188	.$f7a	STA LASTVAR+1  
1189	.$f7d	LDA #<STRBUF
1190	.$f7f	STA TMP_ZP
1191	.$f81	STA GCSTART
1192	.$f84	LDA #>STRBUF
1193	.$f86	STA TMP_ZP+1  
1194	.$f88	STA GCSTART+1
1195	.$f8b	GCLOOP  LDY #0
1196	.$f8d	LDA TMP_ZP
1197	.$f8f	STA GCWORK
1198	.$f92	LDA TMP_ZP+1
1199	.$f94	STA GCWORK+1  
1200	.$f97	LDA (TMP_ZP),Y
1201	.$f99	STA GCLEN   
1202	.$f9c	INC TMP_ZP
1203	.$f9e	BNE GCLOOPNOOV
1204	.$fa0	INC TMP_ZP+1
1205	.$fa2	GCLOOPNOOV LDA TMP_ZP
1206	.$fa4	CLC
1207	.$fa5	ADC GCLEN
1208	.$fa8	STA TMP_ZP
1209	.$faa	BCC GCLOOPNOOV2
1210	.$fac	INC TMP_ZP+1  
1211	.$fae	GCLOOPNOOV2 LDY #0
1212	.$fb0	LDA (TMP_ZP),Y
1213	.$fb2	STA TMP2_ZP
1214	.$fb4	INY
1215	.$fb5	LDA (TMP_ZP),Y
1216	.$fb7	STA TMP2_ZP+1  
1217	.$fb9	LDA TMP_ZP
1218	.$fbb	CLC
1219	.$fbc	ADC #2
1220	.$fbe	STA TMP_ZP
1221	.$fc0	BCC GCLOOPNOOV3
1222	.$fc2	INC TMP_ZP+1  
1223	.$fc4	GCLOOPNOOV3 LDY #0
1224	.$fc6	LDA (TMP2_ZP),Y
1225	.$fc8	CMP GCWORK
1226	.$fcb	BNE GCKLOOP
1227	.$fcd	INY
1228	.$fce	LDA (TMP2_ZP),Y
1229	.$fd0	CMP GCWORK+1
1230	.$fd3	BEQ MEMFREE
1231	.$fd5	GCKLOOP  LDA TMP_ZP+1  
1232	.$fd7	CMP HIGHP+1
1233	.$fda	BEQ GCHECKLOW
1234	.$fdc	BCC GCLOOP
1235	.$fde	JMP GCDONE
1236	.$fe1	GCHECKLOW LDA TMP_ZP
1237	.$fe3	CMP HIGHP
1238	.$fe6	BCS GCDONE
1239	.$fe8	JMP GCLOOP
1240	.$feb	MEMFREE  LDA GCSTART   
1241	.$fee	CMP GCWORK   
1242	.$ff1	BNE COPYDOWN
1243	.$ff3	LDA GCSTART+1
1244	.$ff6	CMP GCWORK+1
1245	.$ff9	BNE COPYDOWN
1246	.$ffb	LDA TMP_ZP   
1247	.$ffd	STA GCSTART
1248	.$1000	LDA TMP_ZP+1
1249	.$1002	STA GCSTART+1
1250	.$1005	JMP GCKLOOP   
1251	.$1008	COPYDOWN LDA GCSTART   
1252	.$100b	STA TMP_REG
1253	.$100d	LDA GCSTART+1
1254	.$1010	STA TMP_REG+1  
1255	.$1012	LDA GCWORK
1256	.$1015	STA TMP2_REG
1257	.$1018	LDA GCWORK+1
1258	.$101b	STA TMP2_REG+1  
1259	.$101e	LDA TMP_ZP
1260	.$1020	SEC
1261	.$1021	SBC GCWORK
1262	.$1024	STA TMP3_REG
1263	.$1027	LDA TMP_ZP+1
1264	.$1029	SBC GCWORK+1
1265	.$102c	STA TMP3_REG+1  
1266	.$102f	LDA GCSTART
1267	.$1032	CLC
1268	.$1033	ADC TMP3_REG
1269	.$1036	STA GCSTART
1270	.$1039	LDA GCSTART+1
1271	.$103c	ADC TMP3_REG+1
1272	.$103f	STA GCSTART+1  
1273	.$1042	JSR QUICKCOPY  
1274	.$1045	LDY #0
1275	.$1047	LDA TMP_REG
1276	.$1049	STA (TMP2_ZP),Y
1277	.$104b	INY
1278	.$104c	LDA TMP_REG+1
1279	.$104e	STA (TMP2_ZP),Y  
1280	.$1050	JMP GCKLOOP
1281	.$1053	GCDONE  LDA GCSTART
1282	.$1056	STA HIGHP
1283	.$1059	STA STRBUFP
1284	.$105c	LDA GCSTART+1
1285	.$105f	STA HIGHP+1
1286	.$1062	STA STRBUFP+1  
1287	.$1065	GCSKIP  JSR RESTOREPOINTERS
1288	.$1068	RTS     
1291	.$1069	CHECKMEMORY
1292	.$1069	LDA STRBUFP+1  
1293	.$106c	CMP STORE4+1  
1294	.$106f	BCC STILLFITSCM  
1298	.$1071	BEQ CHECKMEMLOWCM
1299	.$1073	JMP OUTOFMEMORY  
1300	.$1076	CHECKMEMLOWCM
1301	.$1076	LDA STRBUFP   
1302	.$1079	CMP STORE4
1303	.$107c	BCC STILLFITSCM
1304	.$107e	JMP OUTOFMEMORY  
1305	.$1081	STILLFITSCM RTS
1308	.$1082	QUICKCOPY LDA TMP_REG  
1309	.$1084	STA TMEM+1
1310	.$1087	LDA TMP_REG+1
1311	.$1089	STA TMEM+2
1312	.$108c	LDA TMP2_REG
1313	.$108f	STA SMEM+1
1314	.$1092	LDA TMP2_REG+1
1315	.$1095	STA SMEM+2
1316	.$1098	LDY #$0
1317	.$109a	LDX TMP3_REG
1318	.$109d	BNE QCLOOP
1319	.$109f	LDA TMP3_REG+1
1320	.$10a2	BEQ QCEXIT  
1321	.$10a4	QCLOOP
1322	.$10a4	SMEM  LDA $0000,Y
1323	.$10a7	TMEM  STA $0000,Y
1324	.$10aa	INY
1325	.$10ab	BNE YNOOV
1326	.$10ad	INC TMEM+2
1327	.$10b0	INC SMEM+2
1328	.$10b3	YNOOV  DEX
1329	.$10b4	BNE QCLOOP
1330	.$10b6	LDA TMP3_REG+1
1331	.$10b9	BEQ QCEXIT
1332	.$10bb	DEC TMP3_REG+1
1333	.$10be	JMP QCLOOP
1334	.$10c1	QCEXIT  RTS
1337	.$10c2	COPYSTRING STA TMP2_ZP
1338	.$10c4	STY TMP2_ZP+1
1339	.$10c6	CPY TMP_ZP+1
1340	.$10c8	BNE CONTCOPY
1341	.$10ca	LDA TMP2_ZP
1342	.$10cc	CMP TMP_ZP
1343	.$10ce	BNE CONTCOPY
1344	.$10d0	RTS     
1345	.$10d1	CONTCOPY JSR COMPACT   
1346	.$10d4	LDY #0
1347	.$10d6	STY TMP_FLAG
1348	.$10d9	LDA (TMP_ZP),Y
1349	.$10db	BNE NOTEMPTYSTR
1350	.$10dd	LDA #<EMPTYSTR  
1351	.$10df	STA TMP_ZP
1352	.$10e1	LDA #>EMPTYSTR
1353	.$10e3	STA TMP_ZP+1
1354	.$10e5	JMP ISCONST
1355	.$10e8	NOTEMPTYSTR TAX     
1356	.$10e9	LDA (TMP2_ZP),Y
1357	.$10eb	STA TMP3_ZP
1358	.$10ed	INY
1359	.$10ee	LDA (TMP2_ZP),Y
1360	.$10f0	STA TMP3_ZP+1
1361	.$10f2	DEY
1362	.$10f3	LDA TMP_ZP+1  
1363	.$10f5	CMP #>CONSTANTS_END
1364	.$10f7	BEQ CHECKLOW1
1365	.$10f9	BCS INVAR
1366	.$10fb	JMP CHECKNEXT
1367	.$10fe	CHECKLOW1 LDA TMP_ZP
1368	.$1100	CMP #<CONSTANTS_END
1369	.$1102	BCS INVAR
1370	.$1104	CHECKNEXT LDA TMP_ZP+1  
1371	.$1106	CMP #>CONSTANTS
1372	.$1108	BEQ CHECKLOW3
1373	.$110a	BCC INVAR
1374	.$110c	JMP ISCONST
1375	.$110f	CHECKLOW3 LDA TMP_ZP
1376	.$1111	CMP #<CONSTANTS
1377	.$1113	BCC INVAR   
1378	.$1115	ISCONST  JSR CHECKLASTVAR 
1379	.$1118	LDA TMP_ZP
1380	.$111a	STA (TMP2_ZP),Y  
1381	.$111c	INY
1382	.$111d	LDA TMP_ZP+1
1383	.$111f	STA (TMP2_ZP),Y
1384	.$1121	LDA HIGHP   
1385	.$1124	STA STRBUFP
1386	.$1127	LDA HIGHP+1
1387	.$112a	STA STRBUFP+1
1388	.$112d	RTS
1389	.$112e	INVAR  INY
1390	.$112f	LDA (TMP2_ZP),Y  
1391	.$1131	CMP #>CONSTANTS_END
1392	.$1133	BEQ CHECKLOW2
1393	.$1135	BCS INVAR2
1394	.$1137	JMP PUPDATEPTR
1395	.$113a	CHECKLOW2 DEY
1396	.$113b	LDA (TMP2_ZP),Y
1397	.$113d	CMP #<CONSTANTS_END
1398	.$113f	BCS INVAR2
1399	.$1141	JMP PUPDATEPTR
1400	.$1144	INVAR2  LDY #0   
1401	.$1146	LDA (TMP3_ZP),Y
1402	.$1148	STA TMP_REG
1403	.$114a	TXA
1404	.$114b	CMP TMP_REG  
1405	.$114d	BEQ UPDATEHP2 
1408	.$114f	PUPDATEPTR JSR CHECKLASTVAR
1409	.$1152	LDY #1   
1410	.$1154	STY TMP_FLAG 
1411	.$1157	JMP UPDATEPTR 
1412	.$115a	UPDATEHP2 LDA HIGHP  
1413	.$115d	STA STRBUFP
1414	.$1160	LDA HIGHP+1
1415	.$1163	STA STRBUFP+1
1416	.$1166	JMP STRFITS
1417	.$1169	COPYONLY LDY #0
1418	.$116b	STY TMP_FLAG
1419	.$116e	JMP CHECKMEM
1420	.$1171	ALTCOPY  JMP COPYSTRING2
1421	.$1174	UPDATEPTR LDA TMP_ZP+1 
1422	.$1176	CMP HIGHP+1  
1423	.$1179	BEQ CHECKXT1
1424	.$117b	BCS ALTCOPY
1425	.$117d	JMP CHECKMEM
1426	.$1180	CHECKXT1 LDA TMP_ZP
1427	.$1182	CMP HIGHP
1428	.$1185	BCS ALTCOPY
1429	.$1187	CHECKMEM
1430	.$1187	MEMOK  LDY #0
1431	.$1189	LDA STRBUFP  
1432	.$118c	STA (TMP2_ZP),Y 
1433	.$118e	STA TMP3_ZP
1434	.$1190	LDA STRBUFP+1
1435	.$1193	INY
1436	.$1194	STA (TMP2_ZP),Y
1437	.$1196	STA TMP3_ZP+1
1438	.$1198	TXA
1439	.$1199	CLC
1440	.$119a	ADC STRBUFP
1441	.$119d	PHP
1442	.$119e	CLC
1443	.$119f	ADC #3
1444	.$11a1	STA STRBUFP
1445	.$11a4	BCC NOCS1
1446	.$11a6	INC STRBUFP+1
1447	.$11a9	NOCS1  PLP
1448	.$11aa	BCC STRFITS
1449	.$11ac	INC STRBUFP+1
1450	.$11af	STRFITS  LDY TMP_FLAG 
1451	.$11b2	BEQ NOHPUPDATE 
1452	.$11b4	LDA HIGHP+1
1453	.$11b7	CMP STRBUFP+1
1454	.$11ba	BCC UPDATEHIGHP
1455	.$11bc	BEQ CHECKNEXTHP
1456	.$11be	JMP NOHPUPDATE
1457	.$11c1	CHECKNEXTHP LDA HIGHP
1458	.$11c4	CMP STRBUFP
1459	.$11c7	BCC UPDATEHIGHP
1460	.$11c9	JMP NOHPUPDATE
1461	.$11cc	UPDATEHIGHP LDA STRBUFP
1462	.$11cf	STA HIGHP
1463	.$11d2	LDA STRBUFP+1
1464	.$11d5	STA HIGHP+1  
1465	.$11d8	JSR REMEMBERLASTVAR
1466	.$11db	JSR STOREVARREF
1467	.$11de	NOHPUPDATE LDY #0
1468	.$11e0	LDA (TMP_ZP),Y 
1469	.$11e2	STA (TMP3_ZP),Y
1470	.$11e4	TAY    
1471	.$11e5	BEQ EXITCOPY 
1472	.$11e7	LOOP  LDA (TMP_ZP),Y 
1473	.$11e9	STA (TMP3_ZP),Y
1474	.$11eb	DEY
1475	.$11ec	BNE LOOP
1476	.$11ee	EXITCOPY RTS
1481	.$11ef	COPYSTRING2 LDY #0
1482	.$11f1	LDA (TMP_ZP),Y
1483	.$11f3	STA TMP_REG
1484	.$11f5	TAX
1485	.$11f6	LDA HIGHP
1486	.$11f9	STA TMP3_ZP
1487	.$11fb	STA (TMP2_ZP),Y
1488	.$11fd	LDA HIGHP+1
1489	.$1200	STA TMP3_ZP+1
1490	.$1202	INY
1491	.$1203	STA (TMP2_ZP),Y
1492	.$1205	JSR REMEMBERLASTVAR
1495	.$1208	LDA TMP_ZP
1496	.$120a	CMP TMP3_ZP
1497	.$120c	BNE DOLOOP
1498	.$120e	LDA TMP_ZP+1
1499	.$1210	CMP TMP3_ZP+1
1500	.$1212	BEQ SKIPCP2
1501	.$1214	DOLOOP  DEY
1502	.$1215	TXA
1503	.$1216	STA (TMP3_ZP),Y
1504	.$1218	INY
1505	.$1219	ASLOOP  LDA (TMP_ZP),Y
1506	.$121b	STA (TMP3_ZP),Y
1507	.$121d	INY
1508	.$121e	DEX
1509	.$121f	BNE ASLOOP
1510	.$1221	SKIPCP2  LDA HIGHP
1511	.$1224	CLC
1512	.$1225	ADC TMP_REG
1513	.$1227	PHP
1514	.$1228	CLC
1515	.$1229	ADC #3
1516	.$122b	STA HIGHP
1517	.$122e	STA STRBUFP
1518	.$1231	BCC SKIPLOWAS1
1519	.$1233	INC HIGHP+1
1520	.$1236	SKIPLOWAS1 PLP
1521	.$1237	BCC SKIPLOWAS2
1522	.$1239	INC HIGHP+1
1523	.$123c	SKIPLOWAS2 LDA HIGHP+1
1524	.$123f	STA STRBUFP+1
1525	.$1242	JSR STOREVARREF
1526	.$1245	RTS
1530	.$1246	CHECKLASTVAR
1531	.$1246	LDA TMP2_ZP
1532	.$1248	CMP LASTVAR
1533	.$124b	BNE NOTSAMEVAR
1534	.$124d	LDA TMP2_ZP+1
1535	.$124f	CMP LASTVAR+1
1536	.$1252	BNE NOTSAMEVAR
1537	.$1254	LDA LASTVARP   
1538	.$1257	STA HIGHP
1539	.$125a	STA STRBUFP
1540	.$125d	LDA LASTVARP+1
1541	.$1260	STA HIGHP+1
1542	.$1263	STA STRBUFP+1
1543	.$1266	NOTSAMEVAR RTS
1547	.$1267	REMEMBERLASTVAR
1548	.$1267	LDA TMP2_ZP
1549	.$1269	STA LASTVAR
1550	.$126c	LDA TMP2_ZP+1
1551	.$126e	STA LASTVAR+1
1552	.$1271	LDA TMP3_ZP
1553	.$1273	STA LASTVARP
1554	.$1276	LDA TMP3_ZP+1
1555	.$1278	STA LASTVARP+1 
1556	.$127b	RTS
1561	.$127c	STOREVARREF
1562	.$127c	TYA
1563	.$127d	PHA    
1564	.$127e	LDA TMP_ZP
1565	.$1280	PHA
1566	.$1281	LDA TMP_ZP+1
1567	.$1283	PHA
1568	.$1284	LDA HIGHP+1
1569	.$1287	STA TMP_ZP+1
1570	.$1289	LDA HIGHP
1571	.$128c	SEC
1572	.$128d	SBC #2
1573	.$128f	STA TMP_ZP
1574	.$1291	BCS RLVNOOV
1575	.$1293	DEC TMP_ZP+1
1576	.$1295	RLVNOOV  LDA TMP2_ZP
1577	.$1297	LDY #0
1578	.$1299	STA (TMP_ZP),Y
1579	.$129b	LDA TMP2_ZP+1
1580	.$129d	INY
1581	.$129e	STA (TMP_ZP),Y 
1582	.$12a0	PLA
1583	.$12a1	STA TMP_ZP+1
1584	.$12a3	PLA
1585	.$12a4	STA TMP_ZP  
1586	.$12a6	PLA
1587	.$12a7	TAY    
1588	.$12a8	RTS
1591	.$12a9	REROUTE  LDA CMD_NUM  
1592	.$12ac	BEQ REROUTECMD
1593	.$12ae	TAX
1594	.$12af	STA CHANNEL
1595	.$12b2	JMP CHKOUT
1596	.$12b5	REROUTECMD RTS
1599	.$12b6	RESETROUTE LDA CMD_NUM  
1600	.$12b9	BEQ RESETROUTECMD
1601	.$12bb	JMP CLRCHNEW
1602	.$12be	RESETROUTECMD
1603	.$12be	RTS
1606	.$12bf	INTOUTBRK   JMP REALOUTBRK
1609	.$12c2	INTOUTBRKFAST
1610	.$12c2	JSR REROUTE
1611	.$12c5	JSR INTOUTFASTZ
1612	.$12c8	LDA #$0D
1613	.$12ca	JSR CHROUT
1614	.$12cd	JMP RESETROUTE
1617	.$12d0	INTOUTFASTZ LDX #32    
1618	.$12d2	LDA TMP_ZP+1
1619	.$12d4	BPL INTISPOS
1620	.$12d6	CLC
1621	.$12d7	LDA TMP_ZP
1622	.$12d9	EOR #$FF
1623	.$12db	ADC #1
1624	.$12dd	STA TMP_ZP
1625	.$12df	LDA TMP_ZP+1
1626	.$12e1	EOR #$FF
1627	.$12e3	ADC #0
1628	.$12e5	STA TMP_ZP+1
1629	.$12e7	LDX #45    
1630	.$12e9	INTISPOS
1631	.$12e9	TXA
1632	.$12ea	JSR CHROUT
1633	.$12ed	JSR CONVPOSINT
1634	.$12f0	LDA NUMFLAG
1635	.$12f3	BNE ALLINTOUTDONE
1636	.$12f5	LDA #48
1637	.$12f7	JSR CHROUT
1638	.$12fa	ALLINTOUTDONE
1639	.$12fa	RTS
1642	.$12fb	NUMBEROUT
1643	.$12fb	BEQ NUMZERO
1644	.$12fd	ORA #$30
1645	.$12ff	STA NUMFLAG
1646	.$1302	JMP CHROUT
1647	.$1305	NUMZERO
1648	.$1305	LDX NUMFLAG
1649	.$1308	BEQ STILLZERO
1650	.$130a	ORA #$30
1651	.$130c	JMP CHROUT
1652	.$130f	STILLZERO
1653	.$130f	RTS
1656	.$1310	CONVPOSINT
1657	.$1310	JSR INT2BCD
1658	.$1313	LDX #0
1659	.$1315	STX NUMFLAG
1660	.$1318	AND #$0F
1661	.$131a	JSR NUMBEROUT
1662	.$131d	LDA BCD+1
1663	.$1320	LSR
1664	.$1321	LSR
1665	.$1322	LSR
1666	.$1323	LSR
1667	.$1324	JSR NUMBEROUT
1668	.$1327	LDA BCD+1
1669	.$132a	AND #$0F
1670	.$132c	TAY
1671	.$132d	JSR NUMBEROUT
1672	.$1330	LDA BCD
1673	.$1333	LSR
1674	.$1334	LSR
1675	.$1335	LSR
1676	.$1336	LSR
1677	.$1337	JSR NUMBEROUT
1678	.$133a	LDA BCD
1679	.$133d	AND #$0F
1680	.$133f	JSR NUMBEROUT
1681	.$1342	RTS
1684	.$1343	INT2BCD
1685	.$1343	SED
1686	.$1344	LDA #0
1687	.$1346	STA BCD
1688	.$1349	STA BCD+1
1689	.$134c	STA BCD+2
1690	.$134f	ASL TMP_ZP
1691	.$1351	ROL TMP_ZP+1
1692	.$1353	LDA BCD
1693	.$1356	ADC BCD
1694	.$1359	STA BCD
1695	.$135c	ASL TMP_ZP
1696	.$135e	ROL TMP_ZP+1
1697	.$1360	ADC BCD
1698	.$1363	STA BCD
1699	.$1366	ASL TMP_ZP
1700	.$1368	ROL TMP_ZP+1
1701	.$136a	ADC BCD
1702	.$136d	STA BCD
1703	.$1370	ASL TMP_ZP
1704	.$1372	ROL TMP_ZP+1
1705	.$1374	ADC BCD
1706	.$1377	STA BCD
1707	.$137a	ASL TMP_ZP
1708	.$137c	ROL TMP_ZP+1
1709	.$137e	ADC BCD
1710	.$1381	STA BCD
1711	.$1384	ASL TMP_ZP
1712	.$1386	ROL TMP_ZP+1
1713	.$1388	ADC BCD
1714	.$138b	STA BCD
1715	.$138e	LDX #7
1716	.$1390	BCDBIT1
1717	.$1390	ASL TMP_ZP
1718	.$1392	ROL TMP_ZP+1
1719	.$1394	LDA BCD
1720	.$1397	ADC BCD
1721	.$139a	STA BCD
1722	.$139d	LDA BCD+1
1723	.$13a0	ADC BCD+1
1724	.$13a3	STA BCD+1
1725	.$13a6	DEX
1726	.$13a7	BNE BCDBIT1
1727	.$13a9	LDX #3
1728	.$13ab	BCDBIT2
1729	.$13ab	ASL TMP_ZP
1730	.$13ad	ROL TMP_ZP+1
1731	.$13af	LDA BCD
1732	.$13b2	ADC BCD
1733	.$13b5	STA BCD
1734	.$13b8	LDA BCD+1
1735	.$13bb	ADC BCD+1
1736	.$13be	STA BCD+1
1737	.$13c1	LDA BCD+2
1738	.$13c4	ADC BCD+2
1739	.$13c7	STA BCD+2
1740	.$13ca	DEX
1741	.$13cb	BNE BCDBIT2
1742	.$13cd	CLD
1743	.$13ce	RTS
1744	.$13cf	BCD
1745	.$13cf	.WORD 0 0
1746	.$13d3	NUMFLAG
1747	.$13d3	.BYTE 0
1750	.$13d4	REALOUTFAST JSR FACINT
1751	.$13d7	STA TMP_ZP+1
1752	.$13d9	STY TMP_ZP
1753	.$13db	JMP INTOUTFASTZ
1756	.$13de	CHECKFORFASTOUT
1757	.$13de	JSR REROUTE
1758	.$13e1	JSR XREGFAC
1759	.$13e4	LDA FACEXP
1760	.$13e6	CMP #$90
1761	.$13e8	BCS REALOUTINT
1762	.$13ea	CMP #$81
1763	.$13ec	BCC REALOUTINT
1764	.$13ee	MAYBEREALOUTFAST
1765	.$13ee	LDA FACEXP+3
1766	.$13f0	BNE REALOUTINT
1767	.$13f2	LDA FACEXP+4
1768	.$13f4	BNE REALOUTINT
1769	.$13f6	LDA FACEXP
1770	.$13f8	SEC
1771	.$13f9	SBC #129
1772	.$13fb	ASL
1773	.$13fc	TAX
1774	.$13fd	LDA FACEXP+1
1775	.$13ff	AND MANTMASK,X
1776	.$1402	BNE REALOUTINT
1777	.$1404	INX
1778	.$1405	LDA FACEXP+2
1779	.$1407	AND MANTMASK,X
1780	.$140a	BNE REALOUTINT
1781	.$140c	JMP REALOUTFAST
1782	.$140f	REALOUTINT LDY #0
1783	.$1411	JSR FACSTR
1784	.$1414	LDY #0
1785	.$1416	LDA LOFBUF,Y
1786	.$1419	STRLOOPRO JSR CHROUT
1787	.$141c	INY
1788	.$141d	LDA LOFBUF,Y
1789	.$1420	BNE STRLOOPRO
1790	.$1422	RTS
1791	.$1423	MANTMASK
1792	.$1423	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
1795	.$1441	REALOUTBRK  LDA X_REG
1796	.$1443	BNE RNOTNULLBRK
1797	.$1445	JMP PRINTNULLBRK
1798	.$1448	RNOTNULLBRK JSR CHECKFORFASTOUT
1799	.$144b	LDA #$0D
1800	.$144d	JSR CHROUT
1801	.$1450	JMP RESETROUTE
1804	.$1453	PRINTNULLBRK
1805	.$1453	JSR REROUTE
1806	.$1456	LDA #$20
1807	.$1458	JSR CHROUT
1808	.$145b	LDA #$30
1809	.$145d	JSR CHROUT
1810	.$1460	LDA #$0D
1811	.$1462	JSR CHROUT
1812	.$1465	JMP RESETROUTE
1815	.$1468	STROUTWL STA A_REG
1816	.$146b	STY A_REG+1
1817	.$146e	STROUT  JSR REROUTE
1818	.$1471	LDA A_REG
1819	.$1474	STA INDEX1
1820	.$1476	LDA A_REG+1
1821	.$1479	STA INDEX1+1
1822	.$147b	LDY #0
1823	.$147d	LDA (INDEX1),Y
1824	.$147f	TAX
1825	.$1480	INC INDEX1
1826	.$1482	BNE PRINTSTR
1827	.$1484	INC INDEX1+1
1828	.$1486	PRINTSTR JSR PRINTSTRS
1829	.$1489	LDA HIGHP   
1830	.$148c	STA STRBUFP
1831	.$148f	LDA HIGHP+1
1832	.$1492	STA STRBUFP+1
1833	.$1495	JSR RESETROUTE
1834	.$1498	RTS
1837	.$1499	STROUTBRKWL STA A_REG
1838	.$149c	STY A_REG+1
1839	.$149f	STROUTBRK JSR REROUTE
1840	.$14a2	LDA A_REG
1841	.$14a5	STA INDEX1
1842	.$14a7	LDA A_REG+1
1843	.$14aa	STA INDEX1+1
1844	.$14ac	LDY #0
1845	.$14ae	LDA (INDEX1),Y
1846	.$14b0	TAX
1847	.$14b1	INC INDEX1
1848	.$14b3	BNE PRINTSTR2
1849	.$14b5	INC INDEX1+1
1850	.$14b7	PRINTSTR2 JSR PRINTSTRS
1851	.$14ba	LDA HIGHP   
1852	.$14bd	STA STRBUFP
1853	.$14c0	LDA HIGHP+1
1854	.$14c3	STA STRBUFP+1
1855	.$14c6	LDA #$0D
1856	.$14c8	JSR CHROUT
1857	.$14cb	JMP RESETROUTE  
1860	.$14ce	TABOUT  JSR REROUTE
1861	.$14d1	LDA CMD_NUM
1862	.$14d4	BEQ NORMALTABOUT  
1863	.$14d6	CMP #3
1864	.$14d8	BEQ NORMALTABOUT2  
1865	.$14da	JMP TABOUTCHANNEL2
1866	.$14dd	NORMALTABOUT2
1867	.$14dd	JSR CLRCHNEW
1868	.$14e0	NORMALTABOUT
1869	.$14e0	SEC
1870	.$14e1	JSR CRSRPOS
1871	.$14e4	TYA
1872	.$14e5	SEC
1873	.$14e6	TABSUB   SBC #$0A
1874	.$14e8	BCS TABSUB
1875	.$14ea	EOR #$FF
1876	.$14ec	ADC #$01
1877	.$14ee	TAX
1878	.$14ef	INX
1879	.$14f0	TABLOOP  DEX
1880	.$14f1	BNE TABRIGHT
1881	.$14f3	RTS
1882	.$14f4	TABRIGHT JSR CRSRRIGHT
1883	.$14f7	JMP TABLOOP
1886	.$14fa	ZEROSET  LDA #0
1887	.$14fc	STA X_REG
1888	.$14fe	STA X_REG+1
1889	.$1500	STA X_REG+2
1890	.$1502	STA X_REG+3
1891	.$1504	STA X_REG+4
1892	.$1506	RTS
1895	.$1507	SEQ   JSR CMPSTR
1896	.$150a	LDA TMP3_ZP
1897	.$150c	BNE NOTSEQ
1898	.$150e	LDA #<REAL_CONST_MINUS_ONE
1899	.$1510	STA TMP3_ZP
1900	.$1512	LDA #>REAL_CONST_MINUS_ONE
1901	.$1514	STA TMP3_ZP+1
1902	.$1516	JMP COPY2_XY_XREG
1903	.$1519	NOTSEQ  JMP ZEROSET
1906	.$151c	CMPSTR  LDY #0   
1907	.$151e	LDX #1
1908	.$1520	LDA A_REG
1909	.$1523	STA TMP_ZP
1910	.$1525	LDA A_REG+1
1911	.$1528	STA TMP_ZP+1
1912	.$152a	LDA B_REG
1913	.$152d	STA TMP2_ZP
1914	.$152f	LDA B_REG+1
1915	.$1532	STA TMP2_ZP+1
1916	.$1534	CMP TMP_ZP+1
1917	.$1536	BNE CMPSTRSK1
1918	.$1538	LDA TMP2_ZP
1919	.$153a	CMP TMP_ZP
1920	.$153c	BNE CMPSTRSK1
1921	.$153e	LDX #0
1922	.$1540	JMP STRCMPRES
1923	.$1543	CMPSTRSK1 LDA (TMP_ZP),Y
1924	.$1545	CMP (TMP2_ZP),Y
1925	.$1547	BNE STRCMPRES
1926	.$1549	TAX
1927	.$154a	BNE NOTZCTR
1928	.$154c	LDX #0
1929	.$154e	JMP STRCMPRES
1930	.$1551	NOTZCTR  INC TMP_ZP
1931	.$1553	BNE SCSKP1
1932	.$1555	INC TMP_ZP+1
1933	.$1557	SCSKP1  INC TMP2_ZP
1934	.$1559	BNE CMPSTRLOOP
1935	.$155b	INC TMP2_ZP+1
1936	.$155d	CMPSTRLOOP LDA (TMP_ZP),Y
1937	.$155f	CMP (TMP2_ZP),Y
1938	.$1561	BNE STRCMPRES
1939	.$1563	INY
1940	.$1564	DEX
1941	.$1565	BNE CMPSTRLOOP
1942	.$1567	STRCMPRES STX TMP3_ZP
1943	.$1569	RTS
1946	.$156a	PUSHINT  LDX FPSTACKP
1947	.$156d	STX TMP2_ZP
1948	.$156f	LDX FPSTACKP+1
1949	.$1572	STX TMP2_ZP+1
1950	.$1574	LDA TMP_ZP
1951	.$1576	LDY #0
1952	.$1578	STA (TMP2_ZP),Y
1953	.$157a	LDA TMP_ZP+1
1954	.$157c	INY
1955	.$157d	STA (TMP2_ZP),Y
1956	.$157f	LDA TMP2_ZP
1957	.$1581	CLC
1958	.$1582	ADC #2
1959	.$1584	STA FPSTACKP
1960	.$1587	LDA TMP2_ZP+1
1961	.$1589	ADC #0
1962	.$158b	STA FPSTACKP+1
1963	.$158e	RTS
1966	.$158f	POPINT2B LDA FPSTACKP
1967	.$1592	SEC
1968	.$1593	SBC #2
1969	.$1595	STA FPSTACKP
1970	.$1598	LDA FPSTACKP+1
1971	.$159b	SBC #0
1972	.$159d	STA FPSTACKP+1
1973	.$15a0	LDX FPSTACKP
1974	.$15a3	STX TMP2_ZP
1975	.$15a5	LDX FPSTACKP+1
1976	.$15a8	STX TMP2_ZP+1
1977	.$15aa	LDY #0
1978	.$15ac	LDA (TMP2_ZP),Y
1979	.$15ae	STA B_REG
1980	.$15b1	INY
1981	.$15b2	LDA (TMP2_ZP),Y
1982	.$15b4	STA B_REG+1
1983	.$15b7	RTS
1986	.$15b8	REALFACPUSH STA TMP_ZP
1987	.$15ba	STY TMP_ZP+1
1988	.$15bc	LDX FPSTACKP
1989	.$15bf	LDY FPSTACKP+1
1990	.$15c2	STX TMP2_ZP
1991	.$15c4	STY TMP2_ZP+1
1992	.$15c6	LDY #0
1993	.$15c8	LDA (TMP_ZP),Y
1994	.$15ca	STA (TMP2_ZP),Y
1995	.$15cc	INY
1996	.$15cd	LDA (TMP_ZP),Y
1997	.$15cf	STA (TMP2_ZP),Y
1998	.$15d1	INY
1999	.$15d2	LDA (TMP_ZP),Y
2000	.$15d4	STA (TMP2_ZP),Y
2001	.$15d6	INY
2002	.$15d7	LDA (TMP_ZP),Y
2003	.$15d9	STA (TMP2_ZP),Y
2004	.$15db	INY
2005	.$15dc	LDA (TMP_ZP),Y
2006	.$15de	STA (TMP2_ZP),Y
2007	.$15e0	TXA    
2008	.$15e1	CLC
2009	.$15e2	ADC #5
2010	.$15e4	STA FPSTACKP
2011	.$15e7	BCC NOPVRFPXX
2012	.$15e9	INC FPSTACKP+1
2013	.$15ec	NOPVRFPXX RTS
2016	.$15ed	POPREAL  LDA FPSTACKP
2017	.$15f0	SEC
2018	.$15f1	SBC #5
2019	.$15f3	STA FPSTACKP
2020	.$15f6	BCS NOPVPR
2021	.$15f8	DEC FPSTACKP+1
2022	.$15fb	NOPVPR  LDA FPSTACKP
2023	.$15fe	LDY FPSTACKP+1
2024	.$1601	JMP REALFAC
2027	.$1604	COPY2_XYA_XREG
2028	.$1604	STA TMP3_ZP
2029	.$1606	STY TMP3_ZP+1
2030	.$1608	COPY2_XY_XREG
2031	.$1608	LDX #<X_REG  
2032	.$160a	LDY #0
2033	.$160c	LDA (TMP3_ZP),Y
2034	.$160e	STA X_REG
2035	.$1610	INY
2036	.$1611	LDA (TMP3_ZP),Y
2037	.$1613	STA X_REG+1
2038	.$1615	INY
2039	.$1616	LDA (TMP3_ZP),Y
2040	.$1618	STA X_REG+2
2041	.$161a	INY
2042	.$161b	LDA (TMP3_ZP),Y
2043	.$161d	STA X_REG+3
2044	.$161f	INY
2045	.$1620	LDA (TMP3_ZP),Y
2046	.$1622	STA X_REG+4
2047	.$1624	RTS
2050	.$1625	COPY2_XYA_CREG
2051	.$1625	STA TMP3_ZP
2052	.$1627	STY TMP3_ZP+1
2053	.$1629	COPY2_XY_CREG
2054	.$1629	LDX #<C_REG  
2055	.$162b	LDY #0
2056	.$162d	LDA (TMP3_ZP),Y
2057	.$162f	STA C_REG
2058	.$1632	INY
2059	.$1633	LDA (TMP3_ZP),Y
2060	.$1635	STA C_REG+1
2061	.$1638	INY
2062	.$1639	LDA (TMP3_ZP),Y
2063	.$163b	STA C_REG+2
2064	.$163e	INY
2065	.$163f	LDA (TMP3_ZP),Y
2066	.$1641	STA C_REG+3
2067	.$1644	INY
2068	.$1645	LDA (TMP3_ZP),Y
2069	.$1647	STA C_REG+4
2070	.$164a	RTS
2073	.$164b	COPY_XREG2YREG
2074	.$164b	LDA X_REG
2075	.$164d	STA Y_REG
2076	.$1650	LDA X_REG+1
2077	.$1652	STA Y_REG+1
2078	.$1655	LDA X_REG+2
2079	.$1657	STA Y_REG+2
2080	.$165a	LDA X_REG+3
2081	.$165c	STA Y_REG+3
2082	.$165f	LDA X_REG+4
2083	.$1661	STA Y_REG+4
2084	.$1664	RTS
2088	.$1665	FACWORD
2089	.$1665	LDA FACEXP   
2090	.$1667	BNE DOFACWORD
2091	.$1669	STA FACSGN   
2092	.$166b	DOFACWORD:
2093	.$166b	JMP XFACWORD
2097	.$166e	INITOUTCHANNEL
2098	.$166e	LDA CHLOCKFLAG
2099	.$1671	BEQ INITOUT2
2100	.$1673	CMP #$FF
2101	.$1675	BNE SKIPINITCH
2102	.$1677	INITOUT2
2103	.$1677	LDA #<C_REG
2104	.$1679	LDY #>C_REG
2105	.$167b	JSR REALFAC
2106	.$167e	JSR FACWORD
2107	.$1681	TYA
2108	.$1682	TAX
2109	.$1683	CPX CMD_NUM
2110	.$1686	BNE CMDNEQUAL
2111	.$1688	LDY #0
2112	.$168a	STY CMD_NUM   
2113	.$168d	CMDNEQUAL STA CHANNEL
2114	.$1690	STA CHLOCKFLAG
2115	.$1693	JMP CHKOUT
2116	.$1696	SKIPINITCH
2117	.$1696	RTS
2120	.$1697	CLRCHNEW
2121	.$1697	LDA CHLOCKFLAG
2122	.$169a	BNE SKIPCLRCH
2123	.$169c	JMP CLRCH
2124	.$169f	SKIPCLRCH
2125	.$169f	RTS
2128	.$16a0	TABOUTCHANNEL
2129	.$16a0	JSR INITOUTCHANNEL
2130	.$16a3	LDA CHANNEL
2131	.$16a6	CMP #3  
2132	.$16a8	BEQ TABOUTSCREEN
2133	.$16aa	TABOUTCHANNEL2
2134	.$16aa	LDA IOCHANNEL
2135	.$16ac	STA STORE1
2136	.$16af	LDA #1
2137	.$16b1	STA IOCHANNEL  
2138	.$16b3	LDX #10
2139	.$16b5	JMP EXITCHANNEL
2140	.$16b8	TABOUTSCREEN
2141	.$16b8	JSR CLRCHNEW
2142	.$16bb	JMP TABOUT
2145	.$16be	EXITCHANNEL CLC
2146	.$16bf	JSR TABSPC
2147	.$16c2	JSR CLRCHNEW
2148	.$16c5	LDA STORE1
2149	.$16c8	STA IOCHANNEL
2150	.$16ca	RTS
2153	.$16cb	OUTOFMEMORY
2157	.$16cb	LDX #$10
2158	.$16cd	JMP ERRALL
2161	.$16d0	STRINGTOOLONG
2165	.$16d0	LDX #$17
2166	.$16d2	JMP ERRALL
2169	.$16d5	ILLEGALQUANTITY
2173	.$16d5	JMP ERRIQ
2176	.$16d8	FACXREG  LDA FACLO
2177	.$16da	STA X_REG+4
2178	.$16dc	LDA FACMO
2179	.$16de	STA X_REG+3
2180	.$16e0	LDA FACMOH
2181	.$16e2	STA X_REG+2
2182	.$16e4	LDA FACSGN
2183	.$16e6	ORA #$7F
2184	.$16e8	AND FACHO
2185	.$16ea	STA X_REG+1
2186	.$16ec	LDA FACEXP
2187	.$16ee	STA X_REG
2188	.$16f0	LDA #0   
2189	.$16f2	STA FACOV
2190	.$16f4	RTS
2193	.$16f5	XREGFAC  LDA X_REG+4
2194	.$16f7	STA FACLO
2195	.$16f9	LDA X_REG+3
2196	.$16fb	STA FACMO
2197	.$16fd	LDA X_REG+2
2198	.$16ff	STA FACMOH
2199	.$1701	LDA X_REG+1
2200	.$1703	STA FACSGN
2201	.$1705	ORA #$80
2202	.$1707	STA FACHO
2203	.$1709	LDA X_REG
2204	.$170b	STA FACEXP
2205	.$170d	LDA #0
2206	.$170f	STA FACOV
2207	.$1711	RTS
2210	.$1712	YREGFAC  LDA Y_REG+4
2211	.$1715	STA FACLO
2212	.$1717	LDA Y_REG+3
2213	.$171a	STA FACMO
2214	.$171c	LDA Y_REG+2
2215	.$171f	STA FACMOH
2216	.$1721	LDA Y_REG+1
2217	.$1724	STA FACSGN
2218	.$1726	ORA #$80
2219	.$1728	STA FACHO
2220	.$172a	LDA Y_REG
2221	.$172d	STA FACEXP
2222	.$172f	LDA #0
2223	.$1731	STA FACOV
2224	.$1733	RTS
2338	.$1734	INITVARS
2339	.$1734	JSR INITSTRVARS
2340	.$1737	LDA #0
2341	.$1739	RTS
2345	.$173a	CONSTANTS
2347	.$173a	CONST_0 .BYTE 5
2348	.$173b	.STRG "hello"
2350	.$1740	CONST_1 .BYTE 6
2351	.$1741	.STRG "hello!"
2353	.$1747	CONST_2 .BYTE 2
2354	.$1748	.STRG "aa"
2356	.$174a	CONST_3 .BYTE 2
2357	.$174b	.STRG "ab"
2360	.$174d	CONST_4 .REAL -0.0
2363	.$1752	CONST_5R .REAL 2.0
2366	.$1757	CONST_6R .REAL 3.0
2369	.$175c	CONST_7R .REAL 1.0
2371	.$1761	CONST_8 .BYTE 4
2372	.$1762	.STRG "yeah"
2374	.$1766	CONST_9 .BYTE 1
2375	.$1767	.STRG "z"
2377	.$1768	CONST_10 .BYTE 2
2378	.$1769	.STRG "pp"
2380	.$176b	CONST_11 .BYTE 5
2381	.$176c	.STRG "13522"
2383	.$1771	CONST_12 .BYTE 10
2384	.$1772	.STRG "8818288182"
2386	.$177c	CONST_13 .BYTE 2
2387	.$177d	.STRG "13"
2389	.$177f	CONST_14 .BYTE 1
2390	.$1780	.STRG "o"
2392	.$1781	CONST_15 .BYTE 5
2393	.$1782	.STRG "yeaho"
2395	.$1787	CONST_16 .BYTE 5
2396	.$1788	.STRG "13yea"
2398	.$178d	CONST_17 .BYTE 2
2399	.$178e	.STRG "p2"
2401	.$1790	CONST_18 .BYTE 2
2402	.$1791	.STRG "87"
2407	.$1793	CONST_20 .BYTE 7
2408	.$1794	.STRG " 13ysss"
2410	.$179b	CONST_21 .BYTE 3
2411	.$179c	.STRG " 13"
2413	.$179f	CONST_22 .BYTE 1
2414	.$17a0	.STRG "!"
2417	.$17a1	DATAS
2418	.$17a1	.BYTE $FF
2420	.$17a2	CONSTANTS_END
2423	.$17a2	VARIABLES
2424	.$17a2	STRINGVARS_START
2426	.$17a2	VAR_I$ .WORD EMPTYSTR
2428	.$17a4	VAR_TI$ .WORD EMPTYSTR
2429	.$17a6	STRINGVARS_END
2430	.$17a6	STRINGARRAYS_START
2431	.$17a6	STRINGARRAYS_END
2432	.$17a6	VARIABLES_END
2434	.$17a6	Y_REG .REAL 0.0
2435	.$17ab	C_REG .REAL 0.0
2436	.$17b0	D_REG .REAL 0.0
2437	.$17b5	E_REG .REAL 0.0
2438	.$17ba	F_REG .REAL 0.0
2439	.$17bf	A_REG .WORD 0
2440	.$17c1	B_REG .WORD 0
2441	.$17c3	CMD_NUM .BYTE 0
2442	.$17c4	CHANNEL .BYTE 0
2443	.$17c5	SP_SAVE .BYTE 0
2444	.$17c6	TMP2_REG .WORD 0
2445	.$17c8	TMP3_REG .WORD 0
2446	.$17ca	TMP4_REG .WORD 0
2447	.$17cc	AS_TMP .WORD 0
2448	.$17ce	BPOINTER_TMP .WORD 0
2449	.$17d0	BASICTEXTP .BYTE 0
2450	.$17d1	STORE1 .WORD 0
2451	.$17d3	STORE2 .WORD 0
2452	.$17d5	STORE3 .WORD 0
2453	.$17d7	STORE4 .WORD 0
2454	.$17d9	GCSTART .WORD 0
2455	.$17db	GCLEN .WORD 0
2456	.$17dd	GCWORK .WORD 0
2457	.$17df	INPUTLENGTH .BYTE 0
2458	.$17e0	TMP_FREG .REAL 0
2459	.$17e5	TMP2_FREG .REAL 0
2460	.$17ea	TMP_FLAG .BYTE 0
2461	.$17eb	INT_FLAG .BYTE 0
2462	.$17ec	REAL_CONST_ONE .REAL 1.0
2463	.$17f1	REAL_CONST_ZERO .REAL 0.0
2464	.$17f6	REAL_CONST_MINUS_ONE .REAL -1.0
2465	.$17fb	CHLOCKFLAG .BYTE 0
2466	.$17fc	EMPTYSTR .BYTE 0
2467	.$17fd	FPSTACKP .WORD FPSTACK
2468	.$17ff	FORSTACKP .WORD FORSTACK
2469	.$1801	DATASP .WORD DATAS
2470	.$1803	LASTVAR .WORD 0
2471	.$1805	LASTVARP .WORD 0
2472	.$1807	HIGHP .WORD STRBUF
2473	.$1809	STRBUFP .WORD STRBUF
2474	.$180b	ENDSTRBUF .WORD 0
2475	.$180d	INPUTQUEUEP .BYTE 0
2476	.$180e	PROGRAMEND
2477	.$180e	INPUTQUEUE .ARRAY $0F
2478	.$181d	FPSTACK .ARRAY 100
2479	.$1881	FORSTACK .ARRAY 340
2480	.$19d5	STRBUF .BYTE 0
