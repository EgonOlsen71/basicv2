117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_1:
129	.$81f	LINE_10:
131	.$81f	INPUT1:
132	.$81f	JSR CLEARQUEUE
133	.$822	JSR COMPACTMAX
134	.$825	LDA #<CONST_0
135	.$827	LDY #>CONST_0
136	.$829	JSR STROUTWL
138	.$82c	JSR QMARKOUT1
139	.$82f	JSR INPUTNUMBER
140	.$832	LDA X_REG
141	.$834	COMP_SKP0:
142	.$834	BEQ INPUT1_0
144	.$836	LDA #<CONST_2
145	.$838	LDY #>CONST_2
146	.$83a	JSR STROUTBRKWL
149	.$83d	JMP INPUT1
150	.$840	INPUT1_0:
151	.$840	JSR INPUTLENGTHCHECK
152	.$843	BEQ EMPTYINPUTSKIP2
153	.$845	JSR YREGFAC
156	.$848	JSR FACINT
157	.$84b	STY VAR_O%
158	.$84e	STA VAR_O%+1
159	.$851	EMPTYINPUTSKIP2:
160	.$851	JSR QUEUESIZE
161	.$854	LDA X_REG
162	.$856	COMP_SKP1:
163	.$856	BEQ INPUTCHECK1
165	.$858	JSR EXTRAIGNORED
166	.$85b	INPUTCHECK1:
168	.$85b	LINE_20:
170	.$85b	LDA #$07
171	.$85d	LDY #$00
172	.$85f	STA TMP_ZP
173	.$861	STY TMP_ZP+1
174	.$863	LDY VAR_O%
175	.$866	LDA VAR_O%+1
176	.$869	JSR ICMP
188	.$86c	ROL
189	.$86d	BCS GT_GT0
190	.$86f	LDA #<REAL_CONST_ZERO
191	.$871	LDY #>REAL_CONST_ZERO
192	.$873	JMP GT_SKIP0
193	.$876	GT_GT0:
194	.$876	LDA #<REAL_CONST_MINUS_ONE
195	.$878	LDY #>REAL_CONST_MINUS_ONE
196	.$87a	GT_SKIP0:
198	.$87a	JSR REALFACPUSH
200	.$87d	LDA #$01
201	.$87f	LDY #$00
202	.$881	STA TMP_ZP
203	.$883	STY TMP_ZP+1
204	.$885	LDY VAR_O%
205	.$888	LDA VAR_O%+1
206	.$88b	JSR ICMP
218	.$88e	BEQ LT_LT_EQ1
219	.$890	ROL
220	.$891	BCC LT_LT1
221	.$893	LT_LT_EQ1:
222	.$893	LDA #<REAL_CONST_ZERO
223	.$895	LDY #>REAL_CONST_ZERO
224	.$897	JMP LT_SKIP1
225	.$89a	LT_LT1:
226	.$89a	LDA #<REAL_CONST_MINUS_ONE
227	.$89c	LDY #>REAL_CONST_MINUS_ONE
228	.$89e	LT_SKIP1:
230	.$89e	JSR REALFAC
231	.$8a1	JSR FACXREG
233	.$8a4	JSR POPREAL2X
235	.$8a7	JSR FASTOR
238	.$8aa	JSR FACXREG
240	.$8ad	LDA X_REG
241	.$8af	COMP_SKP2:
242	.$8af	BEQ LINE_SKIP6
245	.$8b1	LINE_NSKIP6:
247	.$8b1	JMP LINE_10
249	.$8b4	LINE_SKIP6:
252	.$8b4	LINE_30:
254	.$8b4	LDY VAR_O%
255	.$8b7	LDA VAR_O%+1
256	.$8ba	JSR INTFAC
257	.$8bd	LDA #<CONST_3R
258	.$8bf	LDY #>CONST_3R
259	.$8c1	JSR COPY2_XYA_XREG
262	.$8c4	LDA #<X_REG
263	.$8c6	LDY #>X_REG
265	.$8c8	JSR FASTFSUBMEM
269	.$8cb	LDA #<CONST_5R
270	.$8cd	LDY #>CONST_5R
271	.$8cf	JSR COPY2_XYA_XREG
274	.$8d2	JSR XREGARG
277	.$8d5	JSR FACPOW
280	.$8d8	JSR FACINT
281	.$8db	STY VAR_M%
282	.$8de	STA VAR_M%+1
284	.$8e1	LINE_90:
287	.$8e1	LINE_100:
290	.$8e1	LINE_101:
293	.$8e1	LINE_102:
296	.$8e1	LINE_120:
298	.$8e1	JSR GOSUB
299	.$8e4	JSR LINE_10000
300	.$8e7	JSR GOSUB
301	.$8ea	JSR LINE_200
302	.$8ed	LDY CONST_1
303	.$8f0	STY 198
305	.$8f2	LDA #<CONST_6R
306	.$8f4	LDY #>CONST_6R
307	.$8f6	JSR COPY2_XYA_YREG
311	.$8f9	LDA #<CONST_4R
312	.$8fb	LDY #>CONST_4R
313	.$8fd	JSR COPY2_XYA_XREG
317	.$900	WAIT1:
318	.$900	JSR YREGFAC
320	.$903	JSR FACWORD
321	.$906	STY MOVSELF0+1
322	.$909	STA MOVSELF0+2
323	.$90c	MOVSELF0:
324	.$90c	LDA $FFFF
325	.$90f	TAY
326	.$910	LDA #0
328	.$912	JSR INTFAC
329	.$915	LDX #<D_REG
330	.$917	LDY #>D_REG
332	.$919	JSR FACMEM
333	.$91c	JSR XREGFAC
335	.$91f	LDA #<D_REG
336	.$921	LDY #>D_REG
338	.$923	JSR MEMARG
340	.$926	JSR FASTAND
342	.$929	LDX #<D_REG
343	.$92b	LDY #>D_REG
345	.$92d	JSR FACMEM
346	.$930	LDA D_REG
347	.$933	COMP_SKP3:
348	.$933	BEQ WAIT1
350	.$935	JSR GOSUB
351	.$938	JSR LINE_14000
352	.$93b	JMP LINE_10
354	.$93e	LINE_130:
357	.$93e	LINE_160:
360	.$93e	LINE_165:
363	.$93e	LINE_170:
366	.$93e	LINE_200:
368	.$93e	LDA #$00
369	.$940	LDY #$00
370	.$942	STA TMP_ZP
371	.$944	STY TMP_ZP+1
372	.$946	LDY VAR_O%
373	.$949	LDA VAR_O%+1
374	.$94c	JSR ICMP
386	.$94f	BEQ EQ_EQ2
387	.$951	LDA #0
388	.$953	JMP EQ_SKIP2
389	.$956	EQ_EQ2:
390	.$956	LDA #$1
391	.$958	EQ_SKIP2:
392	.$958	COMP_SKP4:
393	.$958	BNE LINE_NSKIP7
395	.$95a	JMP LINE_SKIP7
397	.$95d	LINE_NSKIP7:
399	.$95d	LDY VAR_O%
400	.$960	LDA VAR_O%+1
401	.$963	STY TMP3_ZP
402	.$965	STA TMP3_ZP+1
403	.$967	LDY VAR_B%
404	.$96a	LDA VAR_B%+1
405	.$96d	JSR INTADDVAROPT
406	.$970	JSR INTCONV
422	.$973	STY VAR_O%
423	.$976	STA VAR_O%+1
424	.$979	JMP RETURN
426	.$97c	LINE_SKIP7:
429	.$97c	LINE_205:
431	.$97c	LDA #<VAR_W%[]
432	.$97e	LDY #>VAR_W%[]
433	.$980	STA G_REG
434	.$982	STY G_REG+1
435	.$984	LDY VAR_O%
436	.$987	LDA VAR_O%+1
437	.$98a	JSR ARRAYACCESS_INTEGER_INT
439	.$98d	JSR COPY_XREG2YREG
443	.$990	LDY VAR_W%
444	.$993	LDA VAR_W%+1
446	.$996	JSR INTFAC
447	.$999	JSR FACXREG
449	.$99c	JSR YREGFAC
451	.$99f	LDA #<X_REG
452	.$9a1	LDY #>X_REG
454	.$9a3	JSR FASTFSUBMEM
459	.$9a6	JSR FACINT
460	.$9a9	STY VAR_W%
461	.$9ac	STA VAR_W%+1
462	.$9af	LDY VAR_O%
463	.$9b2	LDA VAR_O%+1
464	.$9b5	STY TMP3_ZP
465	.$9b7	STA TMP3_ZP+1
466	.$9b9	LDY VAR_B%
467	.$9bc	LDA VAR_B%+1
468	.$9bf	JSR INTSUBVAROPT
469	.$9c2	JSR INTCONV
485	.$9c5	STY VAR_O%
486	.$9c8	STA VAR_O%+1
489	.$9cb	JSR INTFAC
491	.$9ce	JSR PUSHREAL
492	.$9d1	LDY VAR_O%
493	.$9d4	LDA VAR_O%+1
494	.$9d7	STY TMP3_ZP
495	.$9d9	STA TMP3_ZP+1
496	.$9db	LDY VAR_B%
497	.$9de	LDA VAR_B%+1
498	.$9e1	JSR INTADDVAR
512	.$9e4	JSR FACXREG
513	.$9e7	LDA #<VAR_W%[]
514	.$9e9	LDY #>VAR_W%[]
515	.$9eb	JSR ARRAYACCESS_INTEGER_SNX
518	.$9ee	JSR XREGFAC
522	.$9f1	JSR NEG
524	.$9f4	JSR FACYREG
526	.$9f7	JSR POPREALXREG
528	.$9fa	LDA #<VAR_W%[]
529	.$9fc	LDY #>VAR_W%[]
530	.$9fe	STA G_REG
531	.$a00	STY G_REG+1
532	.$a02	JSR ARRAYSTORE_INTEGER_NX
534	.$a05	JSR GOSUB
535	.$a08	JSR LINE_200
537	.$a0b	LINE_220:
539	.$a0b	JSR GOSUB
540	.$a0e	JSR LINE_11400
541	.$a11	LDA #<VAR_W%[]
542	.$a13	LDY #>VAR_W%[]
543	.$a15	STA G_REG
544	.$a17	STY G_REG+1
545	.$a19	LDY VAR_O%
546	.$a1c	LDA VAR_O%+1
547	.$a1f	JSR ARRAYACCESS_INTEGER_INT
549	.$a22	LDY VAR_W%
550	.$a25	LDA VAR_W%+1
552	.$a28	JSR INTFAC
554	.$a2b	LDA #<X_REG
555	.$a2d	LDY #>X_REG
557	.$a2f	JSR FASTFADDMEM
562	.$a32	JSR FACINT
563	.$a35	STY VAR_W%
564	.$a38	STA VAR_W%+1
565	.$a3b	LDY VAR_O%
566	.$a3e	LDA VAR_O%+1
567	.$a41	STY TMP3_ZP
568	.$a43	STA TMP3_ZP+1
569	.$a45	LDY VAR_B%
570	.$a48	LDA VAR_B%+1
571	.$a4b	JSR INTSUBVAROPT
572	.$a4e	JSR INTCONV
588	.$a51	STY VAR_O%
589	.$a54	STA VAR_O%+1
592	.$a57	JSR INTFAC
594	.$a5a	JSR PUSHREAL
595	.$a5d	LDY VAR_O%
596	.$a60	LDA VAR_O%+1
597	.$a63	STY TMP3_ZP
598	.$a65	STA TMP3_ZP+1
599	.$a67	LDY VAR_B%
600	.$a6a	LDA VAR_B%+1
601	.$a6d	JSR INTADDVAR
615	.$a70	JSR FACXREG
616	.$a73	LDA #<VAR_W%[]
617	.$a75	LDY #>VAR_W%[]
618	.$a77	JSR ARRAYACCESS_INTEGER_SNX
621	.$a7a	JSR COPY_XREG2YREG
625	.$a7d	JSR POPREALXREG
627	.$a80	LDA #<VAR_W%[]
628	.$a82	LDY #>VAR_W%[]
629	.$a84	STA G_REG
630	.$a86	STY G_REG+1
631	.$a88	JSR ARRAYSTORE_INTEGER_NX
633	.$a8b	JSR GOSUB
634	.$a8e	JSR LINE_200
636	.$a91	LINE_260:
638	.$a91	JSR GOSUB
639	.$a94	JSR LINE_11400
640	.$a97	LDY VAR_O%
641	.$a9a	LDA VAR_O%+1
642	.$a9d	STY TMP3_ZP
643	.$a9f	STA TMP3_ZP+1
644	.$aa1	LDY VAR_B%
645	.$aa4	LDA VAR_B%+1
646	.$aa7	JSR INTSUBVAROPT
647	.$aaa	JSR INTCONV
663	.$aad	STY VAR_O%
664	.$ab0	STA VAR_O%+1
667	.$ab3	JSR INTFAC
669	.$ab6	JSR PUSHREAL
670	.$ab9	LDY VAR_O%
671	.$abc	LDA VAR_O%+1
672	.$abf	STY TMP3_ZP
673	.$ac1	STA TMP3_ZP+1
674	.$ac3	LDY VAR_B%
675	.$ac6	LDA VAR_B%+1
676	.$ac9	JSR INTADDVAR
690	.$acc	JSR FACXREG
691	.$acf	LDA #<VAR_W%[]
692	.$ad1	LDY #>VAR_W%[]
693	.$ad3	JSR ARRAYACCESS_INTEGER_SNX
696	.$ad6	JSR COPY_XREG2YREG
700	.$ad9	JSR POPREALXREG
702	.$adc	LDA #<VAR_W%[]
703	.$ade	LDY #>VAR_W%[]
704	.$ae0	STA G_REG
705	.$ae2	STY G_REG+1
706	.$ae4	JSR ARRAYSTORE_INTEGER_NX
708	.$ae7	JSR GOSUB
709	.$aea	JSR LINE_200
711	.$aed	LINE_280:
713	.$aed	LDA #<VAR_W%[]
714	.$aef	LDY #>VAR_W%[]
715	.$af1	STA G_REG
716	.$af3	STY G_REG+1
717	.$af5	LDY VAR_O%
718	.$af8	LDA VAR_O%+1
719	.$afb	JSR ARRAYACCESS_INTEGER_INT
721	.$afe	LDY VAR_W%
722	.$b01	LDA VAR_W%+1
724	.$b04	JSR INTFAC
726	.$b07	LDA #<X_REG
727	.$b09	LDY #>X_REG
729	.$b0b	JSR FASTFADDMEM
734	.$b0e	JSR FACINT
735	.$b11	STY VAR_W%
736	.$b14	STA VAR_W%+1
737	.$b17	JSR GOSUB
738	.$b1a	JSR LINE_11400
739	.$b1d	LDY VAR_O%
740	.$b20	LDA VAR_O%+1
741	.$b23	STY TMP3_ZP
742	.$b25	STA TMP3_ZP+1
743	.$b27	LDY VAR_B%
744	.$b2a	LDA VAR_B%+1
745	.$b2d	JSR INTSUBVAROPT
746	.$b30	JSR INTCONV
762	.$b33	STY VAR_O%
763	.$b36	STA VAR_O%+1
766	.$b39	JSR INTFAC
768	.$b3c	JSR PUSHREAL
769	.$b3f	LDY VAR_O%
770	.$b42	LDA VAR_O%+1
771	.$b45	STY TMP3_ZP
772	.$b47	STA TMP3_ZP+1
773	.$b49	LDY VAR_B%
774	.$b4c	LDA VAR_B%+1
775	.$b4f	JSR INTADDVAR
789	.$b52	JSR FACXREG
790	.$b55	LDA #<VAR_W%[]
791	.$b57	LDY #>VAR_W%[]
792	.$b59	JSR ARRAYACCESS_INTEGER_SNX
795	.$b5c	JSR XREGFAC
799	.$b5f	JSR NEG
801	.$b62	JSR FACYREG
803	.$b65	JSR POPREALXREG
805	.$b68	LDA #<VAR_W%[]
806	.$b6a	LDY #>VAR_W%[]
807	.$b6c	STA G_REG
808	.$b6e	STY G_REG+1
809	.$b70	JSR ARRAYSTORE_INTEGER_NX
811	.$b73	JSR GOSUB
812	.$b76	JSR LINE_200
814	.$b79	LINE_290:
816	.$b79	LDA #<VAR_W%[]
817	.$b7b	LDY #>VAR_W%[]
818	.$b7d	STA G_REG
819	.$b7f	STY G_REG+1
820	.$b81	LDY VAR_O%
821	.$b84	LDA VAR_O%+1
822	.$b87	JSR ARRAYACCESS_INTEGER_INT
824	.$b8a	JSR COPY_XREG2YREG
828	.$b8d	LDY VAR_W%
829	.$b90	LDA VAR_W%+1
831	.$b93	JSR INTFAC
832	.$b96	JSR FACXREG
834	.$b99	JSR YREGFAC
836	.$b9c	LDA #<X_REG
837	.$b9e	LDY #>X_REG
839	.$ba0	JSR FASTFSUBMEM
844	.$ba3	JSR FACINT
845	.$ba6	STY VAR_W%
846	.$ba9	STA VAR_W%+1
847	.$bac	LDY VAR_O%
848	.$baf	LDA VAR_O%+1
849	.$bb2	STY TMP3_ZP
850	.$bb4	STA TMP3_ZP+1
851	.$bb6	LDY VAR_B%
852	.$bb9	LDA VAR_B%+1
853	.$bbc	JSR INTADDVAROPT
854	.$bbf	JSR INTCONV
870	.$bc2	STY VAR_O%
871	.$bc5	STA VAR_O%+1
872	.$bc8	JMP RETURN
874	.$bcb	LINE_900:
877	.$bcb	LINE_910:
880	.$bcb	LINE_10000:
883	.$bcb	LINE_10001:
886	.$bcb	LINE_10002:
889	.$bcb	LINE_10005:
891	.$bcb	LDY #198
892	.$bcd	STY 56576
894	.$bd0	LDY #63
895	.$bd2	STY 56578
898	.$bd5	LINE_10020:
900	.$bd5	LDY #120
901	.$bd7	STY 53272
903	.$bda	LDY #92
904	.$bdc	STY 648
907	.$bdf	LINE_10030:
909	.$bdf	LDY #187
910	.$be1	STY 53265
912	.$be4	LDY #0
913	.$be6	LDA #96
915	.$be8	STY VAR_I%
916	.$beb	STA VAR_I%+1
918	.$bee	LINE_10040:
920	.$bee	LDX #4
921	.$bf0	dcloop1729_1:
922	.$bf0	LDA CONST_11R,X
923	.$bf3	STA VAR_I,X
924	.$bf6	DEX
925	.$bf7	BPL dcloop1729_1
927	.$bf9	LDA #<CONST_12R
928	.$bfb	LDY #>CONST_12R
929	.$bfd	JSR REALFACPUSH
931	.$c00	LDA #<CONST_4R
932	.$c02	LDY #>CONST_4R
933	.$c04	JSR REALFACPUSH
935	.$c07	LDA #<VAR_I
936	.$c09	LDY #>VAR_I
937	.$c0b	STA A_REG
938	.$c0e	STY A_REG+1
939	.$c11	LDA #<CONST_1R
940	.$c13	LDY #>CONST_1R
941	.$c15	JSR COPY2_XYA_XREG
945	.$c18	JSR FASTFOR
946	.$c1b	LDY CONST_1
947	.$c1e	LDA CONST_1+1
948	.$c21	CPY A_REG
949	.$c24	BNE COMP_SKP5
950	.$c26	CMP A_REG+1
951	.$c29	BNE COMP_SKP5
952	.$c2b	COMP_SKP5:
953	.$c2b	BNE RBEQ_0
954	.$c2d	JMP (JUMP_TARGET)
955	.$c30	RBEQ_0:
957	.$c30	LINE_10045:
959	.$c30	LDX #4
960	.$c32	dcloop1895_1:
961	.$c32	LDA CONST_13R,X
962	.$c35	STA VAR_I,X
963	.$c38	DEX
964	.$c39	BPL dcloop1895_1
966	.$c3b	LDA #<CONST_14R
967	.$c3d	LDY #>CONST_14R
968	.$c3f	JSR REALFACPUSH
970	.$c42	LDA #<CONST_4R
971	.$c44	LDY #>CONST_4R
972	.$c46	JSR REALFACPUSH
974	.$c49	LDA #<VAR_I
975	.$c4b	LDY #>VAR_I
976	.$c4d	STA A_REG
977	.$c50	STY A_REG+1
978	.$c53	LDA #<CONST_15R
979	.$c55	LDY #>CONST_15R
980	.$c57	JSR COPY2_XYA_XREG
984	.$c5a	JSR FASTFOR
985	.$c5d	LDY CONST_1
986	.$c60	LDA CONST_1+1
987	.$c63	CPY A_REG
988	.$c66	BNE COMP_SKP6
989	.$c68	CMP A_REG+1
990	.$c6b	BNE COMP_SKP6
991	.$c6d	COMP_SKP6:
992	.$c6d	BNE RBEQ_1
993	.$c6f	JMP (JUMP_TARGET)
994	.$c72	RBEQ_1:
996	.$c72	LINE_10055:
998	.$c72	LDY #1
999	.$c74	LDA #0
1001	.$c76	STY VAR_W%
1002	.$c79	STA VAR_W%+1
1003	.$c7c	LDY #1
1004	.$c7e	LDA #0
1006	.$c80	STY VAR_B%
1007	.$c83	STA VAR_B%+1
1008	.$c86	LDY #170
1009	.$c88	LDA #0
1011	.$c8a	STY VAR_Y%
1012	.$c8d	STA VAR_Y%+1
1013	.$c90	LDY #60
1014	.$c92	LDA #0
1016	.$c94	STY VAR_X%
1017	.$c97	STA VAR_X%+1
1019	.$c9a	LINE_10057:
1021	.$c9a	LDY #1
1022	.$c9c	LDA #0
1023	.$c9e	STY AS_TMP
1024	.$ca1	STA AS_TMP+1
1025	.$ca4	LDA #<VAR_W%[]
1026	.$ca6	LDY #>VAR_W%[]
1027	.$ca8	STA G_REG
1028	.$caa	STY G_REG+1
1029	.$cac	LDY VAR_O%
1030	.$caf	LDA VAR_O%+1
1031	.$cb2	JSR ARRAYSTORE_INT_INTEGER_AC
1035	.$cb5	LINE_10062:
1037	.$cb5	LDY #1
1038	.$cb7	LDA #0
1039	.$cb9	STY AS_TMP
1040	.$cbc	STA AS_TMP+1
1041	.$cbf	LDA #<VAR_B%[]
1042	.$cc1	LDY #>VAR_B%[]
1043	.$cc3	STA G_REG
1044	.$cc5	STY G_REG+1
1045	.$cc7	LDY #7
1046	.$cc9	LDA #0
1047	.$ccb	JSR ARRAYSTORE_INT_INTEGER_AC
1053	.$cce	LDY #2
1054	.$cd0	LDA #0
1055	.$cd2	STY AS_TMP
1056	.$cd5	STA AS_TMP+1
1057	.$cd8	LDA #<VAR_B%[]
1058	.$cda	LDY #>VAR_B%[]
1059	.$cdc	STA G_REG
1060	.$cde	STY G_REG+1
1061	.$ce0	LDY #6
1062	.$ce2	LDA #0
1063	.$ce4	JSR ARRAYSTORE_INT_INTEGER_AC
1069	.$ce7	LDY #4
1070	.$ce9	LDA #0
1071	.$ceb	STY AS_TMP
1072	.$cee	STA AS_TMP+1
1073	.$cf1	LDA #<VAR_B%[]
1074	.$cf3	LDY #>VAR_B%[]
1075	.$cf5	STA G_REG
1076	.$cf7	STY G_REG+1
1077	.$cf9	LDY #5
1078	.$cfb	LDA #0
1079	.$cfd	JSR ARRAYSTORE_INT_INTEGER_AC
1085	.$d00	LDY #8
1086	.$d02	LDA #0
1087	.$d04	STY AS_TMP
1088	.$d07	STA AS_TMP+1
1089	.$d0a	LDA #<VAR_B%[]
1090	.$d0c	LDY #>VAR_B%[]
1091	.$d0e	STA G_REG
1092	.$d10	STY G_REG+1
1093	.$d12	LDY #4
1094	.$d14	LDA #0
1095	.$d16	JSR ARRAYSTORE_INT_INTEGER_AC
1101	.$d19	LDY #16
1102	.$d1b	LDA #0
1103	.$d1d	STY AS_TMP
1104	.$d20	STA AS_TMP+1
1105	.$d23	LDA #<VAR_B%[]
1106	.$d25	LDY #>VAR_B%[]
1107	.$d27	STA G_REG
1108	.$d29	STY G_REG+1
1109	.$d2b	LDY #3
1110	.$d2d	LDA #0
1111	.$d2f	JSR ARRAYSTORE_INT_INTEGER_AC
1117	.$d32	LDY #32
1118	.$d34	LDA #0
1119	.$d36	STY AS_TMP
1120	.$d39	STA AS_TMP+1
1121	.$d3c	LDA #<VAR_B%[]
1122	.$d3e	LDY #>VAR_B%[]
1123	.$d40	STA G_REG
1124	.$d42	STY G_REG+1
1125	.$d44	LDY #2
1126	.$d46	LDA #0
1127	.$d48	JSR ARRAYSTORE_INT_INTEGER_AC
1133	.$d4b	LDY #64
1134	.$d4d	LDA #0
1135	.$d4f	STY AS_TMP
1136	.$d52	STA AS_TMP+1
1137	.$d55	LDA #<VAR_B%[]
1138	.$d57	LDY #>VAR_B%[]
1139	.$d59	STA G_REG
1140	.$d5b	STY G_REG+1
1141	.$d5d	LDY #1
1142	.$d5f	LDA #0
1143	.$d61	JSR ARRAYSTORE_INT_INTEGER_AC
1149	.$d64	LDY #128
1150	.$d66	LDA #0
1151	.$d68	STY AS_TMP
1152	.$d6b	STA AS_TMP+1
1153	.$d6e	LDA #<VAR_B%[]
1154	.$d70	LDY #>VAR_B%[]
1155	.$d72	STA G_REG
1156	.$d74	STY G_REG+1
1157	.$d76	LDY #0
1158	.$d78	LDA #0
1159	.$d7a	JSR ARRAYSTORE_INT_INTEGER_AC
1166	.$d7d	LINE_10070:
1168	.$d7d	JMP RETURN
1170	.$d80	LINE_10075:
1173	.$d80	LINE_10077:
1176	.$d80	LINE_10078:
1179	.$d80	LINE_10080:
1182	.$d80	LINE_11000:
1184	.$d80	LDA VAR_Y%+1
1185	.$d83	AND #$00
1186	.$d85	TAX
1187	.$d86	LDY VAR_Y%
1188	.$d89	TYA
1189	.$d8a	AND #$07
1190	.$d8c	TAY
1191	.$d8d	TXA
1192	.$d8e	JSR INTFAC
1193	.$d91	JSR PUSHREAL
1205	.$d94	LDA VAR_Y%+1
1206	.$d97	AND #$00
1207	.$d99	TAX
1208	.$d9a	LDY VAR_Y%
1209	.$d9d	TYA
1210	.$d9e	AND #$f8
1211	.$da0	TAY
1212	.$da1	TXA
1213	.$da2	JSR INTFAC
1215	.$da5	JSR FACXREG
1225	.$da8	LDY #5
1226	.$daa	LDA #0
1227	.$dac	STY A_REG
1228	.$daf	STA A_REG+1
1229	.$db2	JSR COPY_XREG2YREG
1233	.$db5	JSR SHL
1234	.$db8	JSR FACXREG
1236	.$dbb	LDY #3
1237	.$dbd	LDA #0
1238	.$dbf	STY A_REG
1239	.$dc2	STA A_REG+1
1240	.$dc5	JSR YREGFAC
1243	.$dc8	JSR SHL
1245	.$dcb	LDA #<X_REG
1246	.$dcd	LDY #>X_REG
1248	.$dcf	JSR FASTFADDMEM
1252	.$dd2	JSR PUSHREAL
1253	.$dd5	LDA VAR_X%+1
1254	.$dd8	AND #$01
1255	.$dda	TAX
1256	.$ddb	LDY VAR_X%
1257	.$dde	TYA
1258	.$ddf	AND #$f8
1259	.$de1	TAY
1260	.$de2	TXA
1261	.$de3	JSR INTFAC
1263	.$de6	JSR FACXREG
1274	.$de9	JSR POPREAL2X
1276	.$dec	JSR FASTFADDARG
1279	.$def	JSR FACXREG
1281	.$df2	JSR POPREAL2X
1283	.$df5	JSR FASTFADDARG
1286	.$df8	JSR FACXREG
1288	.$dfb	LDA #<CONST_11R
1289	.$dfd	LDY #>CONST_11R
1290	.$dff	JSR REALFAC
1293	.$e02	LDA #<X_REG
1294	.$e04	LDY #>X_REG
1296	.$e06	JSR FASTFADDMEM
1301	.$e09	JSR FACINT
1302	.$e0c	STY VAR_J%
1303	.$e0f	STA VAR_J%+1
1305	.$e12	LINE_11020:
1307	.$e12	LDY VAR_J%
1308	.$e15	LDA VAR_J%+1
1310	.$e18	JSR INTFAC
1312	.$e1b	JSR PUSHREAL
1313	.$e1e	LDA VAR_X%+1
1314	.$e21	AND #$00
1315	.$e23	TAX
1316	.$e24	LDY VAR_X%
1317	.$e27	TYA
1318	.$e28	AND #$07
1319	.$e2a	TAY
1320	.$e2b	TXA
1321	.$e2c	PHA
1322	.$e2d	TYA
1323	.$e2e	PHA
1324	.$e2f	LDA #<VAR_B%[]
1325	.$e31	LDY #>VAR_B%[]
1326	.$e33	STA G_REG
1327	.$e35	STY G_REG+1
1328	.$e37	PLA
1329	.$e38	TAY
1330	.$e39	PLA
1331	.$e3a	JSR ARRAYACCESS_INTEGER_INT
1335	.$e3d	JSR REALFACPUSHXREG
1338	.$e40	LDY VAR_J%
1339	.$e43	LDA VAR_J%+1
1340	.$e46	STY MOVBSELF7+1
1342	.$e49	STA MOVBSELF7+2
1343	.$e4c	MOVBSELF7:
1344	.$e4c	LDY $FFFF
1345	.$e4f	LDA #0
1347	.$e51	JSR INTFAC
1348	.$e54	JSR FACXREG
1350	.$e57	JSR POPREAL2X
1352	.$e5a	JSR FASTOR
1355	.$e5d	JSR FACXREG
1357	.$e60	JSR POPREAL
1358	.$e63	JSR FACWORD
1360	.$e66	STY MOVBSELF8+1
1361	.$e69	STA MOVBSELF8+2
1362	.$e6c	JSR XREGFAC
1365	.$e6f	JSR FACWORD
1366	.$e72	MOVBSELF8:
1367	.$e72	STY $FFFF
1368	.$e75	JMP RETURN
1370	.$e78	LINE_11400:
1373	.$e78	LINE_11401:
1376	.$e78	LINE_11402:
1379	.$e78	LINE_11403:
1382	.$e78	LINE_11410:
1384	.$e78	LDY VAR_M%
1385	.$e7b	LDA VAR_M%+1
1387	.$e7e	STY VAR_I%
1388	.$e81	STA VAR_I%+1
1390	.$e84	LINE_11420:
1392	.$e84	LDA VAR_W%+1
1393	.$e87	AND #$00
1394	.$e89	TAX
1395	.$e8a	LDY VAR_W%
1396	.$e8d	TYA
1397	.$e8e	AND #$03
1398	.$e90	TAY
1399	.$e91	TXA
1400	.$e92	STY TMP_ZP
1412	.$e94	ON1SUB0:
1413	.$e94	LDX #1
1414	.$e96	CPX TMP_ZP
1415	.$e98	COMP_SKP7:
1416	.$e98	BNE AFTER1SUB0
1417	.$e9a	JMP LINE_11520
1418	.$e9d	AFTER1SUB0:
1419	.$e9d	ON1SUB1:
1420	.$e9d	INX
1421	.$e9e	CPX TMP_ZP
1422	.$ea0	COMP_SKP8:
1423	.$ea0	BNE AFTER1SUB1
1424	.$ea2	JMP LINE_11540
1425	.$ea5	AFTER1SUB1:
1426	.$ea5	ON1SUB2:
1427	.$ea5	INX
1428	.$ea6	CPX TMP_ZP
1429	.$ea8	COMP_SKP9:
1430	.$ea8	BNE AFTER1SUB2
1431	.$eaa	JMP LINE_11560
1432	.$ead	AFTER1SUB2:
1450	.$ead	GSKIPON1:
1452	.$ead	LINE_11440:
1455	.$ead	LINE_11500:
1457	.$ead	LDY VAR_X%
1458	.$eb0	LDA VAR_X%+1
1459	.$eb3	JSR SUPERFIINX
1461	.$eb6	STY VAR_X%
1462	.$eb9	STA VAR_X%+1
1463	.$ebc	JSR GOSUB
1464	.$ebf	JSR LINE_11000
1466	.$ec2	LINE_11505:
1468	.$ec2	LDY VAR_I%
1469	.$ec5	LDA VAR_I%+1
1470	.$ec8	JSR SUPERFIDEX
1472	.$ecb	STY VAR_I%
1473	.$ece	STA VAR_I%+1
1476	.$ed1	STY Y_REG
1477	.$ed4	ORA Y_REG
1478	.$ed7	COMP_SKP10:
1479	.$ed7	BEQ LINE_SKIP8
1483	.$ed9	LINE_NSKIP8:
1485	.$ed9	JMP LINE_11500
1487	.$edc	LINE_SKIP8:
1490	.$edc	LINE_11510:
1492	.$edc	JMP RETURN
1494	.$edf	LINE_11520:
1496	.$edf	LDY VAR_Y%
1497	.$ee2	LDA VAR_Y%+1
1498	.$ee5	JSR SUPERFIDEX
1500	.$ee8	STY VAR_Y%
1501	.$eeb	STA VAR_Y%+1
1502	.$eee	JSR GOSUB
1503	.$ef1	JSR LINE_11000
1505	.$ef4	LINE_11525:
1507	.$ef4	LDY VAR_I%
1508	.$ef7	LDA VAR_I%+1
1509	.$efa	JSR SUPERFIDEX
1511	.$efd	STY VAR_I%
1512	.$f00	STA VAR_I%+1
1515	.$f03	STY Y_REG
1516	.$f06	ORA Y_REG
1517	.$f09	COMP_SKP11:
1518	.$f09	BEQ LINE_SKIP9
1522	.$f0b	LINE_NSKIP9:
1524	.$f0b	JMP LINE_11520
1526	.$f0e	LINE_SKIP9:
1529	.$f0e	LINE_11530:
1531	.$f0e	JMP RETURN
1533	.$f11	LINE_11540:
1535	.$f11	LDY VAR_X%
1536	.$f14	LDA VAR_X%+1
1537	.$f17	JSR SUPERFIDEX
1539	.$f1a	STY VAR_X%
1540	.$f1d	STA VAR_X%+1
1541	.$f20	JSR GOSUB
1542	.$f23	JSR LINE_11000
1544	.$f26	LINE_11545:
1546	.$f26	LDY VAR_I%
1547	.$f29	LDA VAR_I%+1
1548	.$f2c	JSR SUPERFIDEX
1550	.$f2f	STY VAR_I%
1551	.$f32	STA VAR_I%+1
1554	.$f35	STY Y_REG
1555	.$f38	ORA Y_REG
1556	.$f3b	COMP_SKP12:
1557	.$f3b	BEQ LINE_SKIP10
1561	.$f3d	LINE_NSKIP10:
1563	.$f3d	JMP LINE_11540
1565	.$f40	LINE_SKIP10:
1568	.$f40	LINE_11550:
1570	.$f40	JMP RETURN
1572	.$f43	LINE_11560:
1574	.$f43	LDY VAR_Y%
1575	.$f46	LDA VAR_Y%+1
1576	.$f49	JSR SUPERFIINX
1578	.$f4c	STY VAR_Y%
1579	.$f4f	STA VAR_Y%+1
1580	.$f52	JSR GOSUB
1581	.$f55	JSR LINE_11000
1583	.$f58	LINE_11565:
1585	.$f58	LDY VAR_I%
1586	.$f5b	LDA VAR_I%+1
1587	.$f5e	JSR SUPERFIDEX
1589	.$f61	STY VAR_I%
1590	.$f64	STA VAR_I%+1
1593	.$f67	STY Y_REG
1594	.$f6a	ORA Y_REG
1595	.$f6d	COMP_SKP13:
1596	.$f6d	BEQ LINE_SKIP11
1600	.$f6f	LINE_NSKIP11:
1602	.$f6f	JMP LINE_11560
1604	.$f72	LINE_SKIP11:
1607	.$f72	LINE_11570:
1609	.$f72	JMP RETURN
1611	.$f75	LINE_13140:
1614	.$f75	LINE_13150:
1617	.$f75	LINE_14000:
1619	.$f75	LDY #27
1620	.$f77	STY 53265
1622	.$f7a	LDY #21
1623	.$f7c	STY 53272
1626	.$f7f	LINE_14005:
1628	.$f7f	LDY #4
1629	.$f81	STY 648
1632	.$f84	LINE_14010:
1634	.$f84	LDY #63
1635	.$f86	STY 56578
1637	.$f89	LDY #151
1638	.$f8b	STY 56576
1641	.$f8e	LINE_14020:
1643	.$f8e	JMP RETURN
1644	.$f91	JSR END
1645	.$f94	RTS
1648	.$f95	END   LDX SP_SAVE
1649	.$f98	TXS
1656	.$f99	RTS
1659	.$f9a	START  LDA ENDSTRBUF+1
1660	.$f9d	BNE ENDGIVEN
1661	.$f9f	LDA BASICEND
1662	.$fa1	STA ENDSTRBUF
1663	.$fa4	LDA BASICEND+1
1664	.$fa6	STA ENDSTRBUF+1
1665	.$fa9	ENDGIVEN LDA #<FPSTACK
1666	.$fab	LDY #>FPSTACK
1667	.$fad	STA FPSTACKP
1668	.$fb0	STY FPSTACKP+1
1669	.$fb3	LDA #<FORSTACK
1670	.$fb5	LDY #>FORSTACK
1671	.$fb7	STA FORSTACKP
1672	.$fba	STY FORSTACKP+1
1673	.$fbd	LDA #<STRBUF
1674	.$fbf	LDY #>STRBUF
1675	.$fc1	STA STRBUFP
1676	.$fc4	STY STRBUFP+1
1677	.$fc7	STA HIGHP
1678	.$fca	STY HIGHP+1
1679	.$fcd	LDA #0
1680	.$fcf	STA CHLOCKFLAG
1681	.$fd2	STA LASTVAR
1682	.$fd5	STA LASTVAR+1
1683	.$fd8	JSR INITVARS
1684	.$fdb	LDA #0
1685	.$fdd	STA CMD_NUM
1686	.$fe0	STA CHANNEL
1687	.$fe3	TAY
1688	.$fe4	TAX
1692	.$fe5	STA KEYNDX
1698	.$fe7	JSR RESTORE
1699	.$fea	CLC
1703	.$feb	RTS
1706	.$fec	INITNARRAY
1707	.$fec	STA TMP_ZP
1708	.$fee	STY TMP_ZP+1
1709	.$ff0	LDY #0
1710	.$ff2	TYA
1711	.$ff3	NINITLOOP STA (TMP_ZP),Y
1712	.$ff5	INC TMP_ZP
1713	.$ff7	BNE NLOOPNOV
1714	.$ff9	INC TMP_ZP+1
1715	.$ffb	NLOOPNOV LDX TMP2_ZP
1716	.$ffd	BNE NLOOPNOV2
1717	.$fff	DEC TMP2_ZP+1
1718	.$1001	NLOOPNOV2 DEC TMP2_ZP
1719	.$1003	BNE NINITLOOP
1720	.$1005	LDX TMP2_ZP+1
1721	.$1007	BNE NINITLOOP
1722	.$1009	RTS
1725	.$100a	INITSTRARRAY
1726	.$100a	STA TMP_ZP
1727	.$100c	STY TMP_ZP+1
1728	.$100e	SINITLOOP LDY #0
1729	.$1010	LDA #<EMPTYSTR
1730	.$1012	STA (TMP_ZP),Y
1731	.$1014	LDA #>EMPTYSTR
1732	.$1016	INY
1733	.$1017	STA (TMP_ZP),Y
1734	.$1019	CLC
1735	.$101a	LDA TMP_ZP
1736	.$101c	ADC #2
1737	.$101e	STA TMP_ZP
1738	.$1020	BCC SLOOPNOV1
1739	.$1022	INC TMP_ZP+1
1740	.$1024	SLOOPNOV1 SEC
1741	.$1025	LDA TMP2_ZP
1742	.$1027	SBC #2
1743	.$1029	STA TMP2_ZP
1744	.$102b	BCS SLOOPNOV2
1745	.$102d	DEC TMP2_ZP+1
1746	.$102f	SLOOPNOV2 LDA TMP2_ZP
1747	.$1031	BNE SINITLOOP
1748	.$1033	LDA TMP2_ZP+1
1749	.$1035	BNE SINITLOOP
1750	.$1037	RTS
1753	.$1038	INITSPARAMS STA TMP3_ZP
1754	.$103a	STY TMP3_ZP+1
1755	.$103c	SEC
1756	.$103d	SBC #2
1757	.$103f	STA TMP_ZP
1758	.$1041	TYA
1759	.$1042	SBC #0
1760	.$1044	STA TMP_ZP+1
1761	.$1046	LDY #0
1762	.$1048	LDA (TMP_ZP),Y
1763	.$104a	STA TMP2_ZP
1764	.$104c	INY
1765	.$104d	LDA (TMP_ZP),Y
1766	.$104f	STA TMP2_ZP+1
1767	.$1051	LDA TMP3_ZP
1768	.$1053	LDY TMP3_ZP+1
1769	.$1055	RTS
1772	.$1056	INITSTRVARS LDA #<STRINGVARS_START  
1773	.$1058	LDY #>STRINGVARS_START
1774	.$105a	CMP #<STRINGVARS_END
1775	.$105c	BNE INITIT1
1776	.$105e	CPY #>STRINGVARS_END
1777	.$1060	BNE INITIT1
1778	.$1062	JMP INITSA2     
1779	.$1065	INITIT1  STA TMP_ZP
1780	.$1067	STY TMP_ZP+1
1781	.$1069	LDY #0
1782	.$106b	INITSTRLOOP LDA #<EMPTYSTR
1783	.$106d	STA (TMP_ZP),Y
1784	.$106f	INY
1785	.$1070	LDA #>EMPTYSTR
1786	.$1072	STA (TMP_ZP),Y
1787	.$1074	DEY
1788	.$1075	LDA TMP_ZP
1789	.$1077	CLC
1790	.$1078	ADC #2
1791	.$107a	STA TMP_ZP
1792	.$107c	LDA TMP_ZP+1
1793	.$107e	ADC #0
1794	.$1080	STA TMP_ZP+1
1795	.$1082	CMP #>STRINGVARS_END
1796	.$1084	BNE INITSTRLOOP
1797	.$1086	LDA TMP_ZP
1798	.$1088	CMP #<STRINGVARS_END
1799	.$108a	BNE INITSTRLOOP
1800	.$108c	INITSA2  LDA #<STRINGARRAYS_START 
1801	.$108e	LDY #>STRINGARRAYS_START
1802	.$1090	CMP #<STRINGARRAYS_END
1803	.$1092	BNE ARRAYLOOP
1804	.$1094	CPY #>STRINGARRAYS_END
1805	.$1096	BNE ARRAYLOOP
1806	.$1098	RTS       
1807	.$1099	ARRAYLOOP CLC
1808	.$109a	ADC #3
1809	.$109c	BCC ARRAYSKIP1
1810	.$109e	INY
1811	.$109f	ARRAYSKIP1 CPY #>STRINGARRAYS_END
1812	.$10a1	BEQ ARRAYSC
1813	.$10a3	BCC ARRAYSKIP2
1814	.$10a5	JMP ARRAYQUIT
1815	.$10a8	ARRAYSC  CMP #<STRINGARRAYS_END
1816	.$10aa	BCS ARRAYQUIT
1817	.$10ac	ARRAYSKIP2 STA TMP_REG
1818	.$10ae	STY TMP_REG+1
1819	.$10b0	JSR INITSPARAMS
1820	.$10b3	LDA TMP_REG
1821	.$10b5	LDY TMP_REG+1
1822	.$10b7	JSR INITSTRARRAY
1823	.$10ba	LDA TMP_ZP
1824	.$10bc	LDY TMP_ZP+1
1825	.$10be	JMP ARRAYLOOP
1826	.$10c1	ARRAYQUIT RTS
1829	.$10c2	RESTORE  LDA #<DATAS
1830	.$10c4	LDY #>DATAS
1831	.$10c6	STA DATASP
1832	.$10c9	STY DATASP+1
1833	.$10cc	RTS
1838	.$10cd	FASTFOR  JSR POPREAL
1839	.$10d0	JSR SGNFAC
1840	.$10d3	STA TMP_REG  
1841	.$10d5	BCC FFPOSSTEP
1842	.$10d7	LDA #<REAL_CONST_MINUS_ONE 
1843	.$10d9	LDY #>REAL_CONST_MINUS_ONE
1844	.$10db	JSR MEMARG 
1845	.$10de	JSR FACMUL 
1846	.$10e1	FFPOSSTEP JSR FACWORD 
1847	.$10e4	STY TMP2_ZP
1848	.$10e6	STA TMP2_ZP+1 
1849	.$10e8	LDA A_REG
1850	.$10eb	LDY A_REG+1
1851	.$10ee	JSR REALFAC
1852	.$10f1	JSR FACWORD
1853	.$10f4	STY TMP_ZP
1854	.$10f6	STA TMP_ZP+1 
1855	.$10f8	JSR POPREAL
1856	.$10fb	JSR FACWORD
1857	.$10fe	STY TMP2_ZP+2
1858	.$1100	STA TMP2_ZP+3 
1859	.$1102	JSR XREGFAC
1860	.$1105	JSR FACINT
1861	.$1108	STY TMP3_ZP  
1862	.$110a	LDA TMP2_ZP+1
1863	.$110c	BNE STEPNOTONE
1864	.$110e	LDA TMP2_ZP
1865	.$1110	CMP #$1
1866	.$1112	BNE STEPNOTONE
1867	.$1114	JMP STEPONE
1868	.$1117	STEPNOTONE LDA TMP_REG
1869	.$1119	BEQ FFSTEPZERO
1870	.$111b	ROL
1871	.$111c	FFSTEPZERO BCC FFSTEPPOS
1872	.$111e	FFSTEPNEG LDY #0
1873	.$1120	LDA TMP3_ZP
1874	.$1122	TAX
1875	.$1123	FFNEGLOOP TXA
1876	.$1124	STA (TMP_ZP),Y
1877	.$1126	LDA TMP_ZP
1878	.$1128	SEC
1879	.$1129	SBC TMP2_ZP
1880	.$112b	STA TMP_ZP
1881	.$112d	LDA TMP_ZP+1
1882	.$112f	BCS FFNEGSKIP
1883	.$1131	SBC TMP2_ZP+1
1884	.$1133	STA TMP_ZP+1
1885	.$1135	FFNEGSKIP CMP TMP2_ZP+3
1886	.$1137	BEQ FFNEGCHECK2
1887	.$1139	BCS FFNEGLOOP
1888	.$113b	JMP FFDONE
1889	.$113e	FFNEGCHECK2 LDA TMP_ZP
1890	.$1140	CMP TMP2_ZP+2
1891	.$1142	BCS FFNEGLOOP
1892	.$1144	JMP FFDONE
1893	.$1147	FFSTEPPOS LDY #0
1894	.$1149	LDA TMP3_ZP
1895	.$114b	TAX
1896	.$114c	FFPOSLOOP TXA
1897	.$114d	STA (TMP_ZP),Y
1898	.$114f	LDA TMP_ZP
1899	.$1151	CLC
1900	.$1152	ADC TMP2_ZP
1901	.$1154	STA TMP_ZP
1902	.$1156	LDA TMP_ZP+1
1903	.$1158	BCC FFPOSSKIP
1904	.$115a	ADC TMP2_ZP+1
1905	.$115c	STA TMP_ZP+1
1906	.$115e	FFPOSSKIP CMP TMP2_ZP+3
1907	.$1160	BCC FFPOSLOOP
1908	.$1162	BEQ FFPOSCHECK2
1909	.$1164	JMP FFDONE
1910	.$1167	FFPOSCHECK2 LDA TMP_ZP
1911	.$1169	CMP TMP2_ZP+2
1912	.$116b	BCC FFPOSLOOP
1913	.$116d	BEQ FFPOSLOOP
1914	.$116f	FFDONE  LDY TMP_ZP
1915	.$1171	LDA TMP_ZP+1
1916	.$1173	JSR INTFAC
1917	.$1176	LDX A_REG
1918	.$1179	LDY A_REG+1
1919	.$117c	LDA #1
1920	.$117e	STA A_REG
1921	.$1181	JMP FACMEM  
1923	.$1184	STEPONE LDA TMP_REG
1924	.$1186	BEQ OFFSTEPZERO
1925	.$1188	ROL
1926	.$1189	OFFSTEPZERO BCC OFFSTEPPOS
1927	.$118b	OFFSTEPNEG LDY #0
1928	.$118d	LDA TMP3_ZP
1929	.$118f	TAX
1930	.$1190	OFFNEGLOOP TXA
1931	.$1191	STA (TMP_ZP),Y
1932	.$1193	LDA TMP_ZP
1933	.$1195	BNE ONOOVERFLOW
1934	.$1197	DEC TMP_ZP+1
1935	.$1199	ONOOVERFLOW DEC TMP_ZP
1936	.$119b	LDA TMP_ZP+1
1937	.$119d	OFFNEGSKIP CMP TMP2_ZP+3
1938	.$119f	BEQ OFFNEGCHECK2
1939	.$11a1	BCS OFFNEGLOOP
1940	.$11a3	JMP FFDONE
1941	.$11a6	OFFNEGCHECK2
1942	.$11a6	LDA TMP_ZP
1943	.$11a8	CMP TMP2_ZP+2
1944	.$11aa	BCS OFFNEGLOOP
1945	.$11ac	JMP FFDONE
1946	.$11af	OFFSTEPPOS LDY #0
1947	.$11b1	LDA TMP3_ZP
1948	.$11b3	TAX
1949	.$11b4	OFFPOSLOOP TXA
1950	.$11b5	STA (TMP_ZP),Y
1951	.$11b7	INC TMP_ZP
1952	.$11b9	BNE ONOOVERFLOW2
1953	.$11bb	INC TMP_ZP+1
1954	.$11bd	ONOOVERFLOW2
1955	.$11bd	LDA TMP_ZP+1
1956	.$11bf	OFFPOSSKIP CMP TMP2_ZP+3
1957	.$11c1	BCC OFFPOSLOOP
1958	.$11c3	BEQ OFFPOSCHECK2
1959	.$11c5	JMP FFDONE
1960	.$11c8	OFFPOSCHECK2
1961	.$11c8	LDA TMP_ZP
1962	.$11ca	CMP TMP2_ZP+2
1963	.$11cc	BCC OFFPOSLOOP
1964	.$11ce	BEQ OFFPOSLOOP
1965	.$11d0	JMP FFDONE
1968	.$11d3	SAVEPOINTERS
1969	.$11d3	LDA TMP_ZP   
1970	.$11d5	STA STORE1
1971	.$11d8	LDA TMP_ZP+1
1972	.$11da	STA STORE1+1
1973	.$11dd	LDA TMP2_ZP
1974	.$11df	STA STORE2
1975	.$11e2	LDA TMP2_ZP+1
1976	.$11e4	STA STORE2+1
1977	.$11e7	LDA TMP3_ZP
1978	.$11e9	STA STORE3
1979	.$11ec	LDA TMP3_ZP+1
1980	.$11ee	STA STORE3+1
1981	.$11f1	RTS
1984	.$11f2	RESTOREPOINTERS
1985	.$11f2	LDA STORE3+1  
1986	.$11f5	STA TMP3_ZP+1
1987	.$11f7	LDA STORE3
1988	.$11fa	STA TMP3_ZP
1989	.$11fc	LDA STORE2+1
1990	.$11ff	STA TMP2_ZP+1
1991	.$1201	LDA STORE2
1992	.$1204	STA TMP2_ZP
1993	.$1206	LDA STORE1+1
1994	.$1209	STA TMP_ZP+1
1995	.$120b	LDA STORE1
1996	.$120e	STA TMP_ZP
1997	.$1210	RTS
2004	.$1211	COMPACTMAX
2005	.$1211	LDA #$FF
2006	.$1213	LDY #$0
2007	.$1215	JMP COMPACTF
2010	.$1218	COMPACT
2011	.$1218	LDY #0
2012	.$121a	GCBUFNE  LDA (TMP_ZP),Y  
2013	.$121c	COMPACTF STA TMP4_REG  
2014	.$121f	LDY STRBUFP+1  
2015	.$1222	STY TMP4_REG+1  
2016	.$1225	INY     
2017	.$1226	BEQ ENDMEM   
2018	.$1228	CPY ENDSTRBUF+1  
2019	.$122b	BCC RGCEXIT   
2020	.$122d	ENDMEM  LDA STRBUFP
2021	.$1230	CLC
2022	.$1231	ADC TMP4_REG
2023	.$1234	STA TMP4_REG
2024	.$1237	BCC RGCNOOV1
2025	.$1239	INC TMP4_REG+1
2026	.$123c	RGCNOOV1 CLC
2027	.$123d	LDA TMP4_REG
2028	.$1240	ADC #3
2029	.$1242	STA TMP4_REG
2030	.$1245	BCC RGCNOOV2
2031	.$1247	INC TMP4_REG+1
2032	.$124a	RGCNOOV2 LDA TMP4_REG+1  
2033	.$124d	CMP ENDSTRBUF+1
2034	.$1250	BEQ RGCLOW1
2035	.$1252	BCS GCEXECOMP  
2036	.$1254	JMP RGCEXIT
2037	.$1257	RGCLOW1  LDA TMP4_REG
2038	.$125a	CMP ENDSTRBUF
2039	.$125d	BCS GCEXECOMP  
2040	.$125f	RGCEXIT  RTS     
2041	.$1260	GCEXECOMP LDA STRBUFP
2042	.$1263	STA STORE4
2043	.$1266	LDA STRBUFP+1
2044	.$1269	STA STORE4+1
2045	.$126c	JSR GCEXE
2046	.$126f	JMP CHECKMEMORY
2049	.$1272	GCEXE  JSR SAVEPOINTERS
2050	.$1275	LDA #0
2051	.$1277	STA LASTVAR
2052	.$127a	STA LASTVAR+1  
2053	.$127d	LDA #<STRBUF
2054	.$127f	STA TMP_ZP
2055	.$1281	STA GCSTART
2056	.$1284	LDA #>STRBUF
2057	.$1286	STA TMP_ZP+1  
2058	.$1288	STA GCSTART+1
2059	.$128b	GCLOOP  LDY #0
2060	.$128d	LDA TMP_ZP
2061	.$128f	STA GCWORK
2062	.$1292	LDA TMP_ZP+1
2063	.$1294	STA GCWORK+1  
2064	.$1297	LDA (TMP_ZP),Y
2065	.$1299	STA GCLEN   
2066	.$129c	INC TMP_ZP
2067	.$129e	BNE GCLOOPNOOV
2068	.$12a0	INC TMP_ZP+1
2069	.$12a2	GCLOOPNOOV LDA TMP_ZP
2070	.$12a4	CLC
2071	.$12a5	ADC GCLEN
2072	.$12a8	STA TMP_ZP
2073	.$12aa	BCC GCLOOPNOOV2
2074	.$12ac	INC TMP_ZP+1  
2075	.$12ae	GCLOOPNOOV2 LDY #0
2076	.$12b0	LDA (TMP_ZP),Y
2077	.$12b2	STA TMP2_ZP
2078	.$12b4	INY
2079	.$12b5	LDA (TMP_ZP),Y
2080	.$12b7	STA TMP2_ZP+1  
2081	.$12b9	LDA TMP_ZP
2082	.$12bb	CLC
2083	.$12bc	ADC #2
2084	.$12be	STA TMP_ZP
2085	.$12c0	BCC GCLOOPNOOV3
2086	.$12c2	INC TMP_ZP+1  
2087	.$12c4	GCLOOPNOOV3 LDY #0
2088	.$12c6	LDA (TMP2_ZP),Y
2089	.$12c8	CMP GCWORK
2090	.$12cb	BNE GCKLOOP
2091	.$12cd	INY
2092	.$12ce	LDA (TMP2_ZP),Y
2093	.$12d0	CMP GCWORK+1
2094	.$12d3	BEQ MEMFREE
2095	.$12d5	GCKLOOP  LDA TMP_ZP+1  
2096	.$12d7	CMP HIGHP+1
2097	.$12da	BEQ GCHECKLOW
2098	.$12dc	BCC GCLOOP
2099	.$12de	JMP GCDONE
2100	.$12e1	GCHECKLOW LDA TMP_ZP
2101	.$12e3	CMP HIGHP
2102	.$12e6	BCS GCDONE
2103	.$12e8	JMP GCLOOP
2104	.$12eb	MEMFREE  LDA GCSTART   
2105	.$12ee	CMP GCWORK   
2106	.$12f1	BNE COPYDOWN
2107	.$12f3	LDA GCSTART+1
2108	.$12f6	CMP GCWORK+1
2109	.$12f9	BNE COPYDOWN
2110	.$12fb	LDA TMP_ZP   
2111	.$12fd	STA GCSTART
2112	.$1300	LDA TMP_ZP+1
2113	.$1302	STA GCSTART+1
2114	.$1305	JMP GCKLOOP   
2115	.$1308	COPYDOWN LDA GCSTART   
2116	.$130b	STA TMP_REG
2117	.$130d	LDA GCSTART+1
2118	.$1310	STA TMP_REG+1  
2119	.$1312	LDA GCWORK
2120	.$1315	STA TMP2_REG
2121	.$1318	LDA GCWORK+1
2122	.$131b	STA TMP2_REG+1  
2123	.$131e	LDA TMP_ZP
2124	.$1320	SEC
2125	.$1321	SBC GCWORK
2126	.$1324	STA TMP3_REG
2127	.$1327	LDA TMP_ZP+1
2128	.$1329	SBC GCWORK+1
2129	.$132c	STA TMP3_REG+1  
2130	.$132f	LDA GCSTART
2131	.$1332	CLC
2132	.$1333	ADC TMP3_REG
2133	.$1336	STA GCSTART
2134	.$1339	LDA GCSTART+1
2135	.$133c	ADC TMP3_REG+1
2136	.$133f	STA GCSTART+1  
2137	.$1342	JSR QUICKCOPY  
2138	.$1345	LDY #0
2139	.$1347	LDA TMP_REG
2140	.$1349	STA (TMP2_ZP),Y
2141	.$134b	INY
2142	.$134c	LDA TMP_REG+1
2143	.$134e	STA (TMP2_ZP),Y  
2144	.$1350	JMP GCKLOOP
2145	.$1353	GCDONE  LDA GCSTART
2146	.$1356	STA HIGHP
2147	.$1359	STA STRBUFP
2148	.$135c	LDA GCSTART+1
2149	.$135f	STA HIGHP+1
2150	.$1362	STA STRBUFP+1  
2151	.$1365	GCSKIP  JSR RESTOREPOINTERS
2152	.$1368	RTS     
2155	.$1369	CHECKMEMORY
2156	.$1369	LDA STRBUFP+1  
2157	.$136c	CMP STORE4+1  
2158	.$136f	BCC STILLFITSCM  
2162	.$1371	BEQ CHECKMEMLOWCM
2163	.$1373	JMP OUTOFMEMORY  
2164	.$1376	CHECKMEMLOWCM
2165	.$1376	LDA STRBUFP   
2166	.$1379	CMP STORE4
2167	.$137c	BCC STILLFITSCM
2168	.$137e	JMP OUTOFMEMORY  
2169	.$1381	STILLFITSCM RTS
2172	.$1382	QUICKCOPY LDA TMP_REG  
2173	.$1384	STA TMEM+1
2174	.$1387	LDA TMP_REG+1
2175	.$1389	STA TMEM+2
2176	.$138c	LDA TMP2_REG
2177	.$138f	STA SMEM+1
2178	.$1392	LDA TMP2_REG+1
2179	.$1395	STA SMEM+2
2180	.$1398	LDY #$0
2181	.$139a	LDX TMP3_REG
2182	.$139d	BNE QCLOOP
2183	.$139f	LDA TMP3_REG+1
2184	.$13a2	BEQ QCEXIT  
2185	.$13a4	QCLOOP
2186	.$13a4	SMEM  LDA $0000,Y
2187	.$13a7	TMEM  STA $0000,Y
2188	.$13aa	INY
2189	.$13ab	BNE YNOOV
2190	.$13ad	INC TMEM+2
2191	.$13b0	INC SMEM+2
2192	.$13b3	YNOOV  DEX
2193	.$13b4	BNE QCLOOP
2194	.$13b6	LDA TMP3_REG+1
2195	.$13b9	BEQ QCEXIT
2196	.$13bb	DEC TMP3_REG+1
2197	.$13be	JMP QCLOOP
2198	.$13c1	QCEXIT  RTS
2201	.$13c2	COPYSTRING STA TMP2_ZP
2202	.$13c4	STY TMP2_ZP+1
2203	.$13c6	CPY TMP_ZP+1
2204	.$13c8	BNE CONTCOPY
2205	.$13ca	LDA TMP2_ZP
2206	.$13cc	CMP TMP_ZP
2207	.$13ce	BNE CONTCOPY
2208	.$13d0	RTS     
2209	.$13d1	CONTCOPY JSR COMPACT   
2210	.$13d4	LDY #0
2211	.$13d6	STY TMP_FLAG
2212	.$13d9	LDA (TMP_ZP),Y
2213	.$13db	BNE NOTEMPTYSTR
2214	.$13dd	LDA #<EMPTYSTR  
2215	.$13df	STA TMP_ZP
2216	.$13e1	LDA #>EMPTYSTR
2217	.$13e3	STA TMP_ZP+1
2218	.$13e5	JMP ISCONST
2219	.$13e8	NOTEMPTYSTR TAX     
2220	.$13e9	LDA (TMP2_ZP),Y
2221	.$13eb	STA TMP3_ZP
2222	.$13ed	INY
2223	.$13ee	LDA (TMP2_ZP),Y
2224	.$13f0	STA TMP3_ZP+1
2225	.$13f2	DEY
2226	.$13f3	LDA TMP_ZP+1  
2227	.$13f5	CMP #>CONSTANTS_END
2228	.$13f7	BEQ CHECKLOW1
2229	.$13f9	BCS INVAR
2230	.$13fb	JMP CHECKNEXT
2231	.$13fe	CHECKLOW1 LDA TMP_ZP
2232	.$1400	CMP #<CONSTANTS_END
2233	.$1402	BCS INVAR
2234	.$1404	CHECKNEXT LDA TMP_ZP+1  
2235	.$1406	CMP #>CONSTANTS
2236	.$1408	BEQ CHECKLOW3
2237	.$140a	BCC INVAR
2238	.$140c	JMP ISCONST
2239	.$140f	CHECKLOW3 LDA TMP_ZP
2240	.$1411	CMP #<CONSTANTS
2241	.$1413	BCC INVAR   
2242	.$1415	ISCONST  JSR CHECKLASTVAR 
2243	.$1418	LDA TMP_ZP
2244	.$141a	STA (TMP2_ZP),Y  
2245	.$141c	INY
2246	.$141d	LDA TMP_ZP+1
2247	.$141f	STA (TMP2_ZP),Y
2248	.$1421	LDA HIGHP   
2249	.$1424	STA STRBUFP
2250	.$1427	LDA HIGHP+1
2251	.$142a	STA STRBUFP+1
2252	.$142d	RTS
2253	.$142e	INVAR  INY
2254	.$142f	LDA (TMP2_ZP),Y  
2255	.$1431	CMP #>CONSTANTS_END
2256	.$1433	BEQ CHECKLOW2
2257	.$1435	BCS INVAR2
2258	.$1437	JMP PUPDATEPTR
2259	.$143a	CHECKLOW2 DEY
2260	.$143b	LDA (TMP2_ZP),Y
2261	.$143d	CMP #<CONSTANTS_END
2262	.$143f	BCS INVAR2
2263	.$1441	JMP PUPDATEPTR
2264	.$1444	INVAR2  LDY #0   
2265	.$1446	LDA (TMP3_ZP),Y
2266	.$1448	STA TMP_REG
2267	.$144a	TXA
2268	.$144b	CMP TMP_REG  
2269	.$144d	BEQ UPDATEHP2 
2272	.$144f	PUPDATEPTR JSR CHECKLASTVAR
2273	.$1452	LDY #1   
2274	.$1454	STY TMP_FLAG 
2275	.$1457	JMP UPDATEPTR 
2276	.$145a	UPDATEHP2 LDA HIGHP  
2277	.$145d	STA STRBUFP
2278	.$1460	LDA HIGHP+1
2279	.$1463	STA STRBUFP+1
2280	.$1466	JMP STRFITS
2281	.$1469	COPYONLY LDY #0
2282	.$146b	STY TMP_FLAG
2283	.$146e	JMP CHECKMEM
2284	.$1471	ALTCOPY  JMP COPYSTRING2
2285	.$1474	UPDATEPTR LDA TMP_ZP+1 
2286	.$1476	CMP HIGHP+1  
2287	.$1479	BEQ CHECKXT1
2288	.$147b	BCS ALTCOPY
2289	.$147d	JMP CHECKMEM
2290	.$1480	CHECKXT1 LDA TMP_ZP
2291	.$1482	CMP HIGHP
2292	.$1485	BCS ALTCOPY
2293	.$1487	CHECKMEM
2294	.$1487	MEMOK  LDY #0
2295	.$1489	LDA STRBUFP  
2296	.$148c	STA (TMP2_ZP),Y 
2297	.$148e	STA TMP3_ZP
2298	.$1490	LDA STRBUFP+1
2299	.$1493	INY
2300	.$1494	STA (TMP2_ZP),Y
2301	.$1496	STA TMP3_ZP+1
2302	.$1498	TXA
2303	.$1499	CLC
2304	.$149a	ADC STRBUFP
2305	.$149d	PHP
2306	.$149e	CLC
2307	.$149f	ADC #3
2308	.$14a1	STA STRBUFP
2309	.$14a4	BCC NOCS1
2310	.$14a6	INC STRBUFP+1
2311	.$14a9	NOCS1  PLP
2312	.$14aa	BCC STRFITS
2313	.$14ac	INC STRBUFP+1
2314	.$14af	STRFITS  LDY TMP_FLAG 
2315	.$14b2	BEQ NOHPUPDATE 
2316	.$14b4	LDA HIGHP+1
2317	.$14b7	CMP STRBUFP+1
2318	.$14ba	BCC UPDATEHIGHP
2319	.$14bc	BEQ CHECKNEXTHP
2320	.$14be	JMP NOHPUPDATE
2321	.$14c1	CHECKNEXTHP LDA HIGHP
2322	.$14c4	CMP STRBUFP
2323	.$14c7	BCC UPDATEHIGHP
2324	.$14c9	JMP NOHPUPDATE
2325	.$14cc	UPDATEHIGHP LDA STRBUFP
2326	.$14cf	STA HIGHP
2327	.$14d2	LDA STRBUFP+1
2328	.$14d5	STA HIGHP+1  
2329	.$14d8	JSR REMEMBERLASTVAR
2330	.$14db	JSR STOREVARREF
2331	.$14de	NOHPUPDATE LDY #0
2332	.$14e0	LDA (TMP_ZP),Y 
2333	.$14e2	STA (TMP3_ZP),Y
2334	.$14e4	TAY    
2335	.$14e5	BEQ EXITCOPY 
2336	.$14e7	LOOP  LDA (TMP_ZP),Y 
2337	.$14e9	STA (TMP3_ZP),Y
2338	.$14eb	DEY
2339	.$14ec	BNE LOOP
2340	.$14ee	EXITCOPY RTS
2345	.$14ef	COPYSTRING2 LDY #0
2346	.$14f1	LDA (TMP_ZP),Y
2347	.$14f3	STA TMP_REG
2348	.$14f5	TAX
2349	.$14f6	LDA HIGHP
2350	.$14f9	STA TMP3_ZP
2351	.$14fb	STA (TMP2_ZP),Y
2352	.$14fd	LDA HIGHP+1
2353	.$1500	STA TMP3_ZP+1
2354	.$1502	INY
2355	.$1503	STA (TMP2_ZP),Y
2356	.$1505	JSR REMEMBERLASTVAR
2359	.$1508	LDA TMP_ZP
2360	.$150a	CMP TMP3_ZP
2361	.$150c	BNE DOLOOP
2362	.$150e	LDA TMP_ZP+1
2363	.$1510	CMP TMP3_ZP+1
2364	.$1512	BEQ SKIPCP2
2365	.$1514	DOLOOP  DEY
2366	.$1515	TXA
2367	.$1516	STA (TMP3_ZP),Y
2368	.$1518	INY
2369	.$1519	ASLOOP  LDA (TMP_ZP),Y
2370	.$151b	STA (TMP3_ZP),Y
2371	.$151d	INY
2372	.$151e	DEX
2373	.$151f	BNE ASLOOP
2374	.$1521	SKIPCP2  LDA HIGHP
2375	.$1524	CLC
2376	.$1525	ADC TMP_REG
2377	.$1527	PHP
2378	.$1528	CLC
2379	.$1529	ADC #3
2380	.$152b	STA HIGHP
2381	.$152e	STA STRBUFP
2382	.$1531	BCC SKIPLOWAS1
2383	.$1533	INC HIGHP+1
2384	.$1536	SKIPLOWAS1 PLP
2385	.$1537	BCC SKIPLOWAS2
2386	.$1539	INC HIGHP+1
2387	.$153c	SKIPLOWAS2 LDA HIGHP+1
2388	.$153f	STA STRBUFP+1
2389	.$1542	JSR STOREVARREF
2390	.$1545	RTS
2394	.$1546	CHECKLASTVAR
2395	.$1546	LDA TMP2_ZP
2396	.$1548	CMP LASTVAR
2397	.$154b	BNE NOTSAMEVAR
2398	.$154d	LDA TMP2_ZP+1
2399	.$154f	CMP LASTVAR+1
2400	.$1552	BNE NOTSAMEVAR
2401	.$1554	LDA LASTVARP   
2402	.$1557	STA HIGHP
2403	.$155a	STA STRBUFP
2404	.$155d	LDA LASTVARP+1
2405	.$1560	STA HIGHP+1
2406	.$1563	STA STRBUFP+1
2407	.$1566	NOTSAMEVAR RTS
2411	.$1567	REMEMBERLASTVAR
2412	.$1567	LDA TMP2_ZP
2413	.$1569	STA LASTVAR
2414	.$156c	LDA TMP2_ZP+1
2415	.$156e	STA LASTVAR+1
2416	.$1571	LDA TMP3_ZP
2417	.$1573	STA LASTVARP
2418	.$1576	LDA TMP3_ZP+1
2419	.$1578	STA LASTVARP+1 
2420	.$157b	RTS
2425	.$157c	STOREVARREF
2426	.$157c	TYA
2427	.$157d	PHA    
2428	.$157e	LDA TMP_ZP
2429	.$1580	PHA
2430	.$1581	LDA TMP_ZP+1
2431	.$1583	PHA
2432	.$1584	LDA HIGHP+1
2433	.$1587	STA TMP_ZP+1
2434	.$1589	LDA HIGHP
2435	.$158c	SEC
2436	.$158d	SBC #2
2437	.$158f	STA TMP_ZP
2438	.$1591	BCS RLVNOOV
2439	.$1593	DEC TMP_ZP+1
2440	.$1595	RLVNOOV  LDA TMP2_ZP
2441	.$1597	LDY #0
2442	.$1599	STA (TMP_ZP),Y
2443	.$159b	LDA TMP2_ZP+1
2444	.$159d	INY
2445	.$159e	STA (TMP_ZP),Y 
2446	.$15a0	PLA
2447	.$15a1	STA TMP_ZP+1
2448	.$15a3	PLA
2449	.$15a4	STA TMP_ZP  
2450	.$15a6	PLA
2451	.$15a7	TAY    
2452	.$15a8	RTS
2455	.$15a9	REROUTE  LDA CMD_NUM  
2456	.$15ac	BEQ REROUTECMD
2457	.$15ae	TAX
2458	.$15af	STA CHANNEL
2459	.$15b2	JMP CHKOUT
2460	.$15b5	REROUTECMD RTS
2463	.$15b6	RESETROUTE LDA CMD_NUM  
2464	.$15b9	BEQ RESETROUTECMD
2465	.$15bb	JMP CLRCHNEW
2466	.$15be	RESETROUTECMD
2467	.$15be	RTS
2470	.$15bf	STROUTWL STA A_REG
2471	.$15c2	STY A_REG+1
2472	.$15c5	STROUT  JSR REROUTE
2473	.$15c8	LDA A_REG
2474	.$15cb	STA INDEX1
2475	.$15cd	LDA A_REG+1
2476	.$15d0	STA INDEX1+1
2477	.$15d2	LDY #0
2478	.$15d4	LDA (INDEX1),Y
2479	.$15d6	TAX
2480	.$15d7	INC INDEX1
2481	.$15d9	BNE PRINTSTR
2482	.$15db	INC INDEX1+1
2483	.$15dd	PRINTSTR JSR PRINTSTRS
2484	.$15e0	LDA HIGHP   
2485	.$15e3	STA STRBUFP
2486	.$15e6	LDA HIGHP+1
2487	.$15e9	STA STRBUFP+1
2488	.$15ec	JSR RESETROUTE
2489	.$15ef	RTS
2492	.$15f0	STROUTBRKWL STA A_REG
2493	.$15f3	STY A_REG+1
2494	.$15f6	STROUTBRK JSR REROUTE
2495	.$15f9	LDA A_REG
2496	.$15fc	STA INDEX1
2497	.$15fe	LDA A_REG+1
2498	.$1601	STA INDEX1+1
2499	.$1603	LDY #0
2500	.$1605	LDA (INDEX1),Y
2501	.$1607	TAX
2502	.$1608	INC INDEX1
2503	.$160a	BNE PRINTSTR2
2504	.$160c	INC INDEX1+1
2505	.$160e	PRINTSTR2 JSR PRINTSTRS
2506	.$1611	LDA HIGHP   
2507	.$1614	STA STRBUFP
2508	.$1617	LDA HIGHP+1
2509	.$161a	STA STRBUFP+1
2510	.$161d	LDA #$0D
2511	.$161f	JSR CHROUT
2512	.$1622	JMP RESETROUTE  
2515	.$1625	ARRAYACCESS_INTEGER_SNX
2516	.$1625	STA G_REG
2517	.$1627	STY G_REG+1
2518	.$1629	JMP ARRAYACCESS_INTEGER_NX
2521	.$162c	ARRAYACCESS_INTEGER_S
2522	.$162c	STA G_REG
2523	.$162e	STY G_REG+1
2524	.$1630	ARRAYACCESS_INTEGER
2525	.$1630	JSR XREGFAC
2526	.$1633	ARRAYACCESS_INTEGER_NX
2527	.$1633	JSR FACINT
2528	.$1636	ARRAYACCESS_INTEGER_INT
2529	.$1636	LDX G_REG
2530	.$1638	STX TMP_ZP
2531	.$163a	LDX G_REG+1
2532	.$163c	STX TMP_ZP+1
2533	.$163e	TAX
2534	.$163f	TYA
2535	.$1640	ASL
2536	.$1641	STA TMP2_ZP
2537	.$1643	TXA
2538	.$1644	ROL
2539	.$1645	STA TMP2_ZP+1
2540	.$1647	LDA TMP_ZP
2541	.$1649	CLC
2542	.$164a	ADC TMP2_ZP
2543	.$164c	STA TMP_ZP
2544	.$164e	LDA TMP_ZP+1
2545	.$1650	ADC TMP2_ZP+1
2546	.$1652	STA TMP_ZP+1
2547	.$1654	AIIDI  LDY #1
2548	.$1656	LDA (TMP_ZP),Y
2549	.$1658	TAX
2550	.$1659	DEY
2551	.$165a	LDA (TMP_ZP),Y
2552	.$165c	TAY
2553	.$165d	TXA
2554	.$165e	STY TMP2_ZP  
2555	.$1660	STA TMP2_ZP+1
2556	.$1662	JSR INTFAC
2557	.$1665	JMP FACXREG 
2560	.$1668	ARRAYSTORE_INT_INTEGER
2561	.$1668	JSR XREGFAC
2562	.$166b	JSR FACINT
2563	.$166e	ARRAYSTORE_INT_INTEGER_AC
2564	.$166e	LDX G_REG
2565	.$1670	STX TMP_ZP
2566	.$1672	LDX G_REG+1
2567	.$1674	STX TMP_ZP+1
2568	.$1676	TAX
2569	.$1677	TYA
2570	.$1678	ASL
2571	.$1679	STA TMP2_ZP
2572	.$167b	TXA
2573	.$167c	ROL
2574	.$167d	STA TMP2_ZP+1
2575	.$167f	LDA TMP_ZP
2576	.$1681	CLC
2577	.$1682	ADC TMP2_ZP
2578	.$1684	STA TMP_ZP
2579	.$1686	LDA TMP_ZP+1
2580	.$1688	ADC TMP2_ZP+1
2581	.$168a	STA TMP_ZP+1
2582	.$168c	LDY #1
2583	.$168e	LDA AS_TMP+1
2584	.$1691	STA (TMP_ZP),Y
2585	.$1693	DEY
2586	.$1694	LDA AS_TMP
2587	.$1697	STA (TMP_ZP),Y
2588	.$1699	RTS
2591	.$169a	ARRAYSTORE_INTEGER
2592	.$169a	JSR XREGFAC
2593	.$169d	ARRAYSTORE_INTEGER_NX
2594	.$169d	JSR FACINT
2595	.$16a0	ARRAYSTORE_INTEGER_INT
2596	.$16a0	LDX G_REG
2597	.$16a2	STX TMP_ZP
2598	.$16a4	LDX G_REG+1
2599	.$16a6	STX TMP_ZP+1
2600	.$16a8	TAX
2601	.$16a9	TYA
2602	.$16aa	ASL
2603	.$16ab	STA TMP2_ZP
2604	.$16ad	TXA
2605	.$16ae	ROL
2606	.$16af	STA TMP2_ZP+1
2607	.$16b1	LDA TMP_ZP
2608	.$16b3	CLC
2609	.$16b4	ADC TMP2_ZP
2610	.$16b6	STA TMP_ZP
2611	.$16b8	LDA TMP_ZP+1
2612	.$16ba	ADC TMP2_ZP+1
2613	.$16bc	STA TMP_ZP+1
2614	.$16be	JSR YREGFAC
2615	.$16c1	JSR FACINT
2616	.$16c4	STY TMP3_ZP
2617	.$16c6	LDY #1
2618	.$16c8	STA (TMP_ZP),Y
2619	.$16ca	DEY
2620	.$16cb	LDA TMP3_ZP
2621	.$16cd	STA (TMP_ZP),Y
2622	.$16cf	RTS
2625	.$16d0	RETURN  LDA FORSTACKP
2626	.$16d3	STA TMP_ZP
2627	.$16d5	LDA FORSTACKP+1
2628	.$16d8	STA TMP_ZP+1
2629	.$16da	SEARCHGOSUB LDA TMP_ZP
2630	.$16dc	SEC
2631	.$16dd	SBC #2
2632	.$16df	STA TMP_ZP
2633	.$16e1	BCS NOPV1SG
2634	.$16e3	DEC TMP_ZP+1
2635	.$16e5	NOPV1SG  LDY #0
2636	.$16e7	LDA (TMP_ZP),Y
2637	.$16e9	BEQ FOUNDGOSUB
2638	.$16eb	INY
2639	.$16ec	LDA (TMP_ZP),Y
2640	.$16ee	STA TMP3_ZP
2641	.$16f0	LDA TMP_ZP
2642	.$16f2	SEC
2643	.$16f3	SBC (TMP_ZP),Y
2644	.$16f5	STA TMP_ZP
2645	.$16f7	BCS NOPV1GS
2646	.$16f9	DEC TMP_ZP+1
2647	.$16fb	NOPV1GS  JMP SEARCHGOSUB
2648	.$16fe	FOUNDGOSUB
2649	.$16fe	LDA TMP_ZP
2650	.$1700	STA FORSTACKP
2651	.$1703	LDA TMP_ZP+1
2652	.$1705	STA FORSTACKP+1
2653	.$1708	RTS
2656	.$1709	GOSUB  LDA FORSTACKP
2657	.$170c	STA TMP_ZP
2658	.$170e	LDA FORSTACKP+1
2659	.$1711	STA TMP_ZP+1
2660	.$1713	LDY #0
2661	.$1715	TYA
2662	.$1716	STA (TMP_ZP),Y
2663	.$1718	INY
2664	.$1719	STA (TMP_ZP),Y
2665	.$171b	INY
2666	.$171c	TYA
2667	.$171d	CLC
2668	.$171e	ADC TMP_ZP
2669	.$1720	STA FORSTACKP
2670	.$1723	BCC GOSUBNOOV
2671	.$1725	INC FORSTACKP+1
2672	.$1728	GOSUBNOOV RTS
2675	.$1729	QUEUESIZE LDY INPUTQUEUEP
2676	.$172c	LDA #0
2677	.$172e	JSR INTFAC
2678	.$1731	JMP FACXREG
2681	.$1734	CLEARQUEUE LDA #$0
2682	.$1736	STA INPUTQUEUEP
2683	.$1739	RTS
2686	.$173a	INTSUBVAROPT
2687	.$173a	LDX #0   
2688	.$173c	BEQ INTSUBSUB
2689	.$173e	INTSUBVAR LDX #1
2690	.$1740	INTSUBSUB STX INT_FLAG
2691	.$1743	LDX #128  
2692	.$1745	STX TMP_REG
2693	.$1747	BIT TMP_REG
2694	.$1749	BEQ INTSUBVARC2
2695	.$174b	JMP FLOATINTSUB
2696	.$174e	INTSUBVARC2
2697	.$174e	LDX #64
2698	.$1750	STX TMP_REG
2699	.$1752	BIT TMP_REG
2700	.$1754	BEQ INTSUBVARC3
2701	.$1756	JMP FLOATINTSUB
2702	.$1759	INTSUBVARC3
2703	.$1759	PHA
2704	.$175a	LDA TMP3_ZP+1
2705	.$175c	LDX #128  
2706	.$175e	STX TMP_REG
2707	.$1760	BIT TMP_REG
2708	.$1762	BEQ INTINTSUBVAR2
2709	.$1764	PLA
2710	.$1765	JMP FLOATINTSUB
2711	.$1768	INTINTSUBVAR2
2712	.$1768	LDX #1
2713	.$176a	STX TMP_FLAG
2714	.$176d	TYA
2715	.$176e	STA TMP_REG
2716	.$1770	PLA
2717	.$1771	STA TMP_REG+1
2718	.$1773	LDA TMP3_ZP
2719	.$1775	SEC
2720	.$1776	SBC TMP_REG
2721	.$1778	TAY
2722	.$1779	LDA TMP3_ZP+1
2723	.$177b	SBC TMP_REG+1
2724	.$177d	STY TMP2_ZP
2725	.$177f	STA TMP2_ZP+1
2726	.$1781	LDX INT_FLAG
2727	.$1784	BNE INTSUBVAREND
2728	.$1786	RTS
2729	.$1787	INTSUBVAREND
2730	.$1787	JMP INTFAC
2733	.$178a	INTADDVAROPT
2734	.$178a	LDX #0   
2735	.$178c	BEQ INTADDADD
2736	.$178e	INTADDVAR LDX #1
2737	.$1790	INTADDADD STX INT_FLAG
2738	.$1793	LDX #128  
2739	.$1795	STX TMP_REG  
2740	.$1797	BIT TMP_REG  
2741	.$1799	BNE INTADDVARC2 
2742	.$179b	LDX #64
2743	.$179d	STX TMP_REG
2744	.$179f	BIT TMP_REG
2745	.$17a1	BEQ INTADDVARC2
2746	.$17a3	JMP FLOATINTADD
2747	.$17a6	INTADDVARC2
2748	.$17a6	PHA
2749	.$17a7	LDA TMP3_ZP+1
2750	.$17a9	LDX #128  
2751	.$17ab	STX TMP_REG  
2752	.$17ad	BIT TMP_REG  
2753	.$17af	BEQ INTADDVARC3
2754	.$17b1	PLA
2755	.$17b2	JMP FLOATINTADD
2756	.$17b5	INTADDVARC3
2757	.$17b5	LDX #64
2758	.$17b7	STX TMP_REG
2759	.$17b9	BIT TMP_REG
2760	.$17bb	BEQ INTINTADDVAR2
2761	.$17bd	PLA
2762	.$17be	JMP FLOATINTADD
2763	.$17c1	INTINTADDVAR2
2764	.$17c1	LDX #1
2765	.$17c3	STX TMP_FLAG
2766	.$17c6	TYA
2767	.$17c7	CLC
2768	.$17c8	ADC TMP3_ZP
2769	.$17ca	TAY
2770	.$17cb	PLA
2771	.$17cc	ADC TMP3_ZP+1
2772	.$17ce	STY TMP2_ZP
2773	.$17d0	STA TMP2_ZP+1
2774	.$17d2	LDX INT_FLAG
2775	.$17d5	BNE INTADDVAREND
2776	.$17d7	RTS
2777	.$17d8	INTADDVAREND
2778	.$17d8	JMP INTFAC
2782	.$17db	FLOATINTSUB JSR INTFAC
2783	.$17de	JSR FACXREG
2784	.$17e1	LDA #0
2785	.$17e3	STA TMP_FLAG 
2786	.$17e6	LDY TMP3_ZP
2787	.$17e8	LDA TMP3_ZP+1
2788	.$17ea	JSR INTFAC
2789	.$17ed	JSR FACARG
2790	.$17f0	JSR XREGFAC
2791	.$17f3	JMP FASTFSUBARG
2794	.$17f6	FLOATINTADD JSR INTFAC
2795	.$17f9	JSR FACXREG
2796	.$17fc	LDA #0
2797	.$17fe	STA TMP_FLAG 
2798	.$1801	LDY TMP3_ZP
2799	.$1803	LDA TMP3_ZP+1
2800	.$1805	JSR INTFAC
2801	.$1808	JSR XREGARG
2802	.$180b	JMP FASTFADDARG
2805	.$180e	INTCONV  LDA TMP_FLAG 
2806	.$1811	BEQ INTFROMFAC
2807	.$1813	LDY TMP2_ZP
2808	.$1815	LDA TMP2_ZP+1
2809	.$1817	RTS
2810	.$1818	INTFROMFAC JMP FACINT
2813	.$181b	CLEANINPUT LDY #0    
2814	.$181d	LDX #0
2815	.$181f	STY STORE1   
2816	.$1822	STY STORE2   
2817	.$1825	DEY
2818	.$1826	CILOOP  INY
2819	.$1827	LDA $0200,Y
2820	.$182a	BNE CINOEND
2821	.$182c	JMP CIEND   
2822	.$182f	CINOEND  STA STORE3   
2823	.$1832	LDA STORE1
2824	.$1835	BEQ CINOQUOTE  
2825	.$1837	LDA STORE3
2826	.$183a	CMP #$22   
2827	.$183c	BNE CISTILLQUOTE 
2828	.$183e	LDA #0    
2829	.$1840	STA STORE1
2830	.$1843	JMP CILOOP
2831	.$1846	CISTILLQUOTE
2832	.$1846	STA $0200,X
2833	.$1849	INX
2834	.$184a	JMP CILOOP
2835	.$184d	CINOQUOTE LDA STORE3
2836	.$1850	CMP #$22
2837	.$1852	BNE CISOMECHAR  
2838	.$1854	CIFIRSTCHAR LDA #1    
2839	.$1856	STA STORE1   
2840	.$1859	STA STORE2   
2841	.$185c	JMP CILOOP
2842	.$185f	CISOMECHAR  CMP #$3A   
2843	.$1861	BNE CINOCOLON
2844	.$1863	JMP CIEND
2845	.$1866	CINOCOLON CMP #$2C   
2846	.$1868	BNE CINOCOMMA
2847	.$186a	LDA #$22   
2848	.$186c	STA $0200,X
2849	.$186f	INX
2850	.$1870	LDA #0
2851	.$1872	STA STORE2   
2852	.$1875	JMP CILOOP
2853	.$1878	CINOCOMMA CMP #$20   
2854	.$187a	BNE CINOSPACE
2855	.$187c	LDA STORE2   
2856	.$187f	BEQ CINEXT   
2857	.$1881	LDA STORE3
2858	.$1884	CINOSPACE STA $0200,X
2859	.$1887	STA STORE2   
2860	.$188a	INX
2861	.$188b	CINEXT  JMP CILOOP
2862	.$188e	CIEND  LDA #0
2863	.$1890	STA $0200,X   
2864	.$1893	RTS     
2867	.$1894	QMARKOUT1 LDA #1
2868	.$1896	STA TMP_ZP
2869	.$1898	JMP QMARKOUT
2872	.$189b	QMARKOUT LDA IOCHANNEL    
2873	.$189d	BNE NOQMARK
2874	.$189f	JSR REROUTE
2875	.$18a2	LDA #63
2876	.$18a4	LDY TMP_ZP
2877	.$18a6	CPY #2    
2878	.$18a8	BNE ONEQMARK
2879	.$18aa	JSR CHROUT
2880	.$18ad	ONEQMARK JSR CHROUT
2881	.$18b0	LDA #32
2882	.$18b2	JSR CHROUT
2883	.$18b5	JMP RESETROUTE
2884	.$18b8	NOQMARK  RTS
2887	.$18b9	INPUTSTR LDA #$0
2888	.$18bb	INPUTSTR2 STA TMP_REG+1
2889	.$18bd	LDA #$0
2890	.$18bf	STX INPUTLENGTH
2891	.$18c2	STA TMP_REG
2892	.$18c4	STA TMP_FLAG
2893	.$18c7	LDX INPUTQUEUEP
2894	.$18ca	BEQ INPUTNORM
2895	.$18cc	LDA #LOFBUF
2896	.$18ce	LDX #$1
2897	.$18d0	CLC
2898	.$18d1	ADC INPUTQUEUE
2899	.$18d4	STA TMP_ZP
2900	.$18d6	BCC INNONO
2901	.$18d8	LDX #$2
2902	.$18da	INNONO  STX TMP_ZP+1
2903	.$18dc	DEC INPUTQUEUEP  
2904	.$18df	LDY INPUTQUEUE  
2905	.$18e2	STY TMP_REG   
2906	.$18e4	DEY
2907	.$18e5	LDX #$0
2908	.$18e7	SHRINKQ  LDA INPUTQUEUEP
2909	.$18ea	BEQ QUEUEEMPTY
2910	.$18ec	INX
2911	.$18ed	LDA INPUTQUEUE,X 
2912	.$18f0	DEX
2913	.$18f1	STA INPUTQUEUE,X
2914	.$18f4	INX
2915	.$18f5	CPX INPUTQUEUEP
2916	.$18f8	BNE SHRINKQ
2917	.$18fa	QUEUEEMPTY JMP ISTRLOOP
2918	.$18fd	INPUTNORM AND #$FF
2919	.$18ff	JSR INPUT
2920	.$1902	JSR CLEANINPUT
2921	.$1905	LDA #LOFBUF
2922	.$1907	STA TMP_ZP
2923	.$1909	LDA #$1
2924	.$190b	STA TMP_ZP+1
2925	.$190d	LDY #0
2926	.$190f	DEY
2927	.$1910	ISTRLOOP INY
2928	.$1911	LDA INPUTBUF,Y
2929	.$1914	TAX
2930	.$1915	CMP #$22   
2931	.$1917	BNE ICHECK
2932	.$1919	STA TMP_FLAG
2933	.$191c	LDA #$0
2934	.$191e	STA INPUTBUF,Y   
2935	.$1921	LDX INPUTQUEUEP  
2936	.$1924	BNE INQUEUENE  
2937	.$1926	STA INPUTQUEUE  
2938	.$1929	INX
2939	.$192a	INQUEUENE INY
2940	.$192b	TYA
2941	.$192c	STA INPUTQUEUE,X 
2942	.$192f	INX
2943	.$1930	STX INPUTQUEUEP  
2944	.$1933	JMP ISTRLOOP  
2945	.$1936	ICHECK  TXA     
2946	.$1937	BNE ISTRLOOP  
2947	.$1939	LDA TMP_FLAG
2948	.$193c	BEQ ISIMPLECOPY
2949	.$193e	JMP INPUTSTR
2950	.$1941	ISIMPLECOPY TYA
2951	.$1942	SEC
2952	.$1943	SBC TMP_REG
2953	.$1945	LDY #0
2954	.$1947	STA (TMP_ZP),Y
2955	.$1949	TAX    
2956	.$194a	STX INPUTLENGTH
2957	.$194d	LDA TMP_REG+1 
2958	.$194f	BEQ INISSTR
2959	.$1951	RTS
2960	.$1952	INISSTR  LDA #<A_REG
2961	.$1954	LDY #>A_REG
2962	.$1956	STA TMP2_ZP
2963	.$1958	STY TMP2_ZP+1
2964	.$195a	JSR COPYONLY
2965	.$195d	RTS
2968	.$195e	INPUTNUMBER LDA #$1
2969	.$1960	JSR INPUTSTR2
2970	.$1963	LDA TMP_ZP
2971	.$1965	STA INDEX1
2972	.$1967	LDA TMP_ZP+1
2973	.$1969	STA INDEX1+1
2974	.$196b	LDY #0
2975	.$196d	STY VALTYPE
2976	.$196f	LDA (INDEX1),Y
2977	.$1971	STA TMP_REG  
2978	.$1973	TAY
2979	.$1974	INC INDEX1
2980	.$1976	BNE VALSTR2
2981	.$1978	INC INDEX1+1
2982	.$197a	VALSTR2  LDY #$0   
2983	.$197c	DEY
2984	.$197d	LDX #$0   
2985	.$197f	NUMCHKLOOP INY
2986	.$1980	CPY TMP_REG
2987	.$1982	BEQ NUMOK
2988	.$1984	LDA (INDEX1),Y
2989	.$1986	CMP #$20
2990	.$1988	BEQ NUMCHKLOOP 
2991	.$198a	CMP #43   
2992	.$198c	BNE NOPLUS
2993	.$198e	TXA
2994	.$198f	BIT VAL6  
2995	.$1992	BNE CHECKERR
2996	.$1994	ORA #2
2997	.$1996	TAX
2998	.$1997	JMP NUMCHKLOOP
2999	.$199a	NOPLUS  CMP #45   
3000	.$199c	BNE NOMINUS
3001	.$199e	TXA
3002	.$199f	BIT VAL6  
3003	.$19a2	BNE CHECKERR
3004	.$19a4	ORA #4
3005	.$19a6	TAX
3006	.$19a7	JMP NUMCHKLOOP
3007	.$19aa	NOMINUS  CMP #69   
3008	.$19ac	BNE NOEEE
3009	.$19ae	TXA
3010	.$19af	BIT VAL8  
3011	.$19b2	BNE CHECKERR
3012	.$19b4	ORA #8
3013	.$19b6	AND #249  
3014	.$19b8	TAX
3015	.$19b9	JMP NUMCHKLOOP
3016	.$19bc	NOEEE  CMP #46   
3017	.$19be	BNE NOPOINT
3018	.$19c0	TXA
3019	.$19c1	BIT VAL24  
3020	.$19c4	BNE CHECKERR
3021	.$19c6	ORA #16
3022	.$19c8	TAX
3023	.$19c9	JMP NUMCHKLOOP
3024	.$19cc	NOPOINT  CMP #48
3025	.$19ce	BCC CHECKERR 
3026	.$19d0	CMP #58
3027	.$19d2	BCS CHECKERR 
3028	.$19d4	TXA
3029	.$19d5	ORA #1
3030	.$19d7	TAX
3031	.$19d8	JMP NUMCHKLOOP
3032	.$19db	VAL1  .BYTE 1
3033	.$19dc	VAL6  .BYTE 6
3034	.$19dd	VAL8  .BYTE 8
3035	.$19de	VAL24  .BYTE 24
3036	.$19df	CHECKERR LDA #<REAL_CONST_MINUS_ONE
3037	.$19e1	STA TMP3_ZP
3038	.$19e3	LDA #>REAL_CONST_MINUS_ONE
3039	.$19e5	STA TMP3_ZP+1
3040	.$19e7	JMP COPY2_XY_XREG
3041	.$19ea	RTS    
3043	.$19eb	NUMOK  LDA TMP_REG
3044	.$19ed	JSR VALS
3045	.$19f0	LDA #$0   
3046	.$19f2	STA X_REG
3047	.$19f4	JMP FACYREG  
3050	.$19f7	REALFACPUSH STA TMP_ZP
3051	.$19f9	STY TMP_ZP+1
3052	.$19fb	LDX FPSTACKP
3053	.$19fe	LDY FPSTACKP+1
3054	.$1a01	STX TMP2_ZP
3055	.$1a03	STY TMP2_ZP+1
3056	.$1a05	LDY #0
3057	.$1a07	LDA (TMP_ZP),Y
3058	.$1a09	STA (TMP2_ZP),Y
3059	.$1a0b	INY
3060	.$1a0c	LDA (TMP_ZP),Y
3061	.$1a0e	STA (TMP2_ZP),Y
3062	.$1a10	INY
3063	.$1a11	LDA (TMP_ZP),Y
3064	.$1a13	STA (TMP2_ZP),Y
3065	.$1a15	INY
3066	.$1a16	LDA (TMP_ZP),Y
3067	.$1a18	STA (TMP2_ZP),Y
3068	.$1a1a	INY
3069	.$1a1b	LDA (TMP_ZP),Y
3070	.$1a1d	STA (TMP2_ZP),Y
3071	.$1a1f	TXA    
3072	.$1a20	CLC
3073	.$1a21	ADC #5
3074	.$1a23	STA FPSTACKP
3075	.$1a26	BCC NOPVRFPXX
3076	.$1a28	INC FPSTACKP+1
3077	.$1a2b	NOPVRFPXX RTS
3080	.$1a2c	REALFACPUSHXREG
3081	.$1a2c	LDX FPSTACKP
3082	.$1a2f	LDY FPSTACKP+1
3083	.$1a32	STX TMP2_ZP
3084	.$1a34	STY TMP2_ZP+1
3085	.$1a36	LDY #0
3086	.$1a38	LDA X_REG
3087	.$1a3a	STA (TMP2_ZP),Y
3088	.$1a3c	INY
3089	.$1a3d	LDA X_REG+1
3090	.$1a3f	STA (TMP2_ZP),Y
3091	.$1a41	INY
3092	.$1a42	LDA X_REG+2
3093	.$1a44	STA (TMP2_ZP),Y
3094	.$1a46	INY
3095	.$1a47	LDA X_REG+3
3096	.$1a49	STA (TMP2_ZP),Y
3097	.$1a4b	INY
3098	.$1a4c	LDA X_REG+4
3099	.$1a4e	STA (TMP2_ZP),Y
3100	.$1a50	TXA    
3101	.$1a51	CLC
3102	.$1a52	ADC #5
3103	.$1a54	STA FPSTACKP
3104	.$1a57	BCC NOPVRFPXXXREG
3105	.$1a59	INC FPSTACKP+1
3106	.$1a5c	NOPVRFPXXXREG
3107	.$1a5c	RTS
3110	.$1a5d	PUSHREAL LDX FPSTACKP
3111	.$1a60	LDY FPSTACKP+1
3112	.$1a63	JSR FACMEM
3113	.$1a66	LDA FPSTACKP
3114	.$1a69	CLC
3115	.$1a6a	ADC #5
3116	.$1a6c	STA FPSTACKP
3117	.$1a6f	BCC NOPVPUR
3118	.$1a71	INC FPSTACKP+1
3119	.$1a74	NOPVPUR  RTS
3122	.$1a75	POPREAL2X LDA FPSTACKP
3123	.$1a78	SEC
3124	.$1a79	SBC #5
3125	.$1a7b	STA FPSTACKP
3126	.$1a7e	BCS NOPVPR2X
3127	.$1a80	DEC FPSTACKP+1
3128	.$1a83	NOPVPR2X LDA FPSTACKP
3129	.$1a86	LDY FPSTACKP+1
3130	.$1a89	JSR REALFAC
3131	.$1a8c	JSR XREGARG
3132	.$1a8f	RTS
3135	.$1a90	POPREAL  LDA FPSTACKP
3136	.$1a93	SEC
3137	.$1a94	SBC #5
3138	.$1a96	STA FPSTACKP
3139	.$1a99	BCS NOPVPR
3140	.$1a9b	DEC FPSTACKP+1
3141	.$1a9e	NOPVPR  LDA FPSTACKP
3142	.$1aa1	LDY FPSTACKP+1
3143	.$1aa4	JMP REALFAC
3146	.$1aa7	POPREALXREG LDA FPSTACKP
3147	.$1aaa	SEC
3148	.$1aab	SBC #5
3149	.$1aad	STA FPSTACKP
3150	.$1ab0	BCS NOPVPRXR
3151	.$1ab2	DEC FPSTACKP+1
3152	.$1ab5	NOPVPRXR LDA FPSTACKP
3153	.$1ab8	LDY FPSTACKP+1
3154	.$1abb	STA TMP_ZP
3155	.$1abd	STY TMP_ZP+1
3156	.$1abf	LDY #$4
3157	.$1ac1	LDA (TMP_ZP),Y
3158	.$1ac3	STA X_REG+4
3159	.$1ac5	STA FACLO
3160	.$1ac7	DEY
3161	.$1ac8	LDA (TMP_ZP),Y
3162	.$1aca	STA X_REG+3
3163	.$1acc	STA FACMO
3164	.$1ace	DEY
3165	.$1acf	LDA (TMP_ZP),Y
3166	.$1ad1	STA X_REG+2
3167	.$1ad3	STA FACMOH
3168	.$1ad5	DEY
3169	.$1ad6	LDA (TMP_ZP),Y
3170	.$1ad8	STA X_REG+1
3171	.$1ada	STA FACSGN
3172	.$1adc	ORA #$80
3173	.$1ade	STA FACHO
3174	.$1ae0	DEY
3175	.$1ae1	LDA (TMP_ZP),Y
3176	.$1ae3	STA X_REG
3177	.$1ae5	STA FACEXP
3178	.$1ae7	STY FACOV
3179	.$1ae9	RTS
3182	.$1aea	SHL   LDA FACEXP
3183	.$1aec	BEQ SHLOK
3184	.$1aee	CLC
3185	.$1aef	ADC A_REG
3186	.$1af2	BCC SHLOK
3187	.$1af4	LDA #0
3188	.$1af6	STA FACSGN
3189	.$1af8	STA FACLO
3190	.$1afa	STA FACMO
3191	.$1afc	STA FACMOH
3192	.$1afe	STA FACHO
3193	.$1b00	LDA #$FF
3194	.$1b02	SHLOK  STA FACEXP
3195	.$1b04	RTS
3198	.$1b05	NEG   LDA FACSGN
3199	.$1b07	EOR #$FF
3200	.$1b09	STA FACSGN
3201	.$1b0b	RTS
3204	.$1b0c	ICMP  STY TMP3_ZP
3205	.$1b0e	STA TMP3_ZP+1
3206	.$1b10	LDA TMP_ZP+1
3207	.$1b12	CMP TMP3_ZP+1
3208	.$1b14	BNE ICMPNE2
3209	.$1b16	LDA TMP_ZP
3210	.$1b18	CMP TMP3_ZP
3211	.$1b1a	ICMPNE  BEQ ICMPEQ
3212	.$1b1c	BCS ICMPHIGHER
3213	.$1b1e	JMP ICMPLOWER
3214	.$1b21	ICMPNE2  BPL ICMPHIGHER
3215	.$1b23	JMP ICMPLOWER
3216	.$1b26	ICMPEQ  LDA #0
3217	.$1b28	RTS
3218	.$1b29	ICMPLOWER LDA #$FF
3219	.$1b2b	SEC
3220	.$1b2c	RTS
3221	.$1b2d	ICMPHIGHER LDA #$01
3222	.$1b2f	CLC
3223	.$1b30	RTS
3226	.$1b31	COPY2_XYA_XREG
3227	.$1b31	STA TMP3_ZP
3228	.$1b33	STY TMP3_ZP+1
3229	.$1b35	COPY2_XY_XREG
3230	.$1b35	LDX #<X_REG  
3231	.$1b37	LDY #0
3232	.$1b39	LDA (TMP3_ZP),Y
3233	.$1b3b	STA X_REG
3234	.$1b3d	INY
3235	.$1b3e	LDA (TMP3_ZP),Y
3236	.$1b40	STA X_REG+1
3237	.$1b42	INY
3238	.$1b43	LDA (TMP3_ZP),Y
3239	.$1b45	STA X_REG+2
3240	.$1b47	INY
3241	.$1b48	LDA (TMP3_ZP),Y
3242	.$1b4a	STA X_REG+3
3243	.$1b4c	INY
3244	.$1b4d	LDA (TMP3_ZP),Y
3245	.$1b4f	STA X_REG+4
3246	.$1b51	RTS
3249	.$1b52	COPY2_XYA_YREG
3250	.$1b52	STA TMP3_ZP
3251	.$1b54	STY TMP3_ZP+1
3252	.$1b56	COPY2_XY_YREG
3253	.$1b56	LDX #<Y_REG  
3254	.$1b58	LDY #0
3255	.$1b5a	LDA (TMP3_ZP),Y
3256	.$1b5c	STA Y_REG
3257	.$1b5f	INY
3258	.$1b60	LDA (TMP3_ZP),Y
3259	.$1b62	STA Y_REG+1
3260	.$1b65	INY
3261	.$1b66	LDA (TMP3_ZP),Y
3262	.$1b68	STA Y_REG+2
3263	.$1b6b	INY
3264	.$1b6c	LDA (TMP3_ZP),Y
3265	.$1b6e	STA Y_REG+3
3266	.$1b71	INY
3267	.$1b72	LDA (TMP3_ZP),Y
3268	.$1b74	STA Y_REG+4
3269	.$1b77	RTS
3272	.$1b78	COPY_XREG2YREG
3273	.$1b78	LDA X_REG
3274	.$1b7a	STA Y_REG
3275	.$1b7d	LDA X_REG+1
3276	.$1b7f	STA Y_REG+1
3277	.$1b82	LDA X_REG+2
3278	.$1b84	STA Y_REG+2
3279	.$1b87	LDA X_REG+3
3280	.$1b89	STA Y_REG+3
3281	.$1b8c	LDA X_REG+4
3282	.$1b8e	STA Y_REG+4
3283	.$1b91	RTS
3287	.$1b92	FACWORD
3288	.$1b92	LDA FACEXP   
3289	.$1b94	BNE DOFACWORD
3290	.$1b96	STA FACSGN   
3291	.$1b98	DOFACWORD:
3292	.$1b98	JMP XFACWORD
3296	.$1b9b	FASTAND  LDA ARGEXP   
3297	.$1b9d	BNE CHECKFAC
3298	.$1b9f	STA FACSGN   
3299	.$1ba1	STA FACLO
3300	.$1ba3	STA FACMO
3301	.$1ba5	STA FACMOH
3302	.$1ba7	STA FACHO
3303	.$1ba9	STA FACEXP
3304	.$1bab	RTS
3305	.$1bac	CHECKFAC LDA FACEXP   
3306	.$1bae	BNE FACNOTNULL
3307	.$1bb0	STA FACSGN   
3308	.$1bb2	RTS    
3309	.$1bb3	FACNOTNULL CMP #$81
3310	.$1bb5	BNE NORMALAND
3311	.$1bb7	LDA FACHO
3312	.$1bb9	CMP #$80
3313	.$1bbb	BNE NORMALAND
3314	.$1bbd	LDA FACMOH
3315	.$1bbf	BNE NORMALAND
3316	.$1bc1	LDA FACMO
3317	.$1bc3	BNE NORMALAND
3318	.$1bc5	LDA FACLO
3319	.$1bc7	BNE NORMALAND
3320	.$1bc9	LDA FACSGN
3321	.$1bcb	ROL
3322	.$1bcc	BCC NORMALAND
3323	.$1bce	LDA ARGEXP   
3324	.$1bd0	CMP #$81
3325	.$1bd2	BNE NORMALAND
3326	.$1bd4	LDA ARGHO
3327	.$1bd6	CMP #$80
3328	.$1bd8	BNE NORMALAND
3329	.$1bda	LDA ARGMOH
3330	.$1bdc	BNE NORMALAND
3331	.$1bde	LDA ARGMO
3332	.$1be0	BNE NORMALAND
3333	.$1be2	LDA ARGLO
3334	.$1be4	BNE NORMALAND
3335	.$1be6	LDA ARGSGN
3336	.$1be8	ROL
3337	.$1be9	BCC NORMALAND
3338	.$1beb	RTS    
3339	.$1bec	NORMALAND JMP ARGAND
3342	.$1bef	FASTOR  LDA FACEXP   
3343	.$1bf1	BNE CHECKFACOR
3344	.$1bf3	LDA ARGEXP   
3345	.$1bf5	BNE CHECKARGOR 
3346	.$1bf7	LDA #0
3347	.$1bf9	STA FACSGN   
3348	.$1bfb	RTS    
3349	.$1bfc	CHECKFACOR LDA FACEXP   
3350	.$1bfe	CMP #$81
3351	.$1c00	BNE NORMALOR
3352	.$1c02	LDA FACHO
3353	.$1c04	CMP #$80
3354	.$1c06	BNE NORMALOR
3355	.$1c08	LDA FACMOH
3356	.$1c0a	BNE NORMALOR
3357	.$1c0c	LDA FACMO
3358	.$1c0e	BNE NORMALOR
3359	.$1c10	LDA FACLO
3360	.$1c12	BNE NORMALOR
3361	.$1c14	LDA FACSGN
3362	.$1c16	ROL
3363	.$1c17	BCC NORMALOR
3364	.$1c19	CHECKARGOR LDA ARGEXP   
3365	.$1c1b	BNE CHECKARGOR2
3366	.$1c1d	RTS    
3367	.$1c1e	CHECKARGOR2 CMP #$81
3368	.$1c20	BNE NORMALOR
3369	.$1c22	LDA ARGHO
3370	.$1c24	CMP #$80
3371	.$1c26	BNE NORMALOR
3372	.$1c28	LDA ARGMOH
3373	.$1c2a	BNE NORMALOR
3374	.$1c2c	LDA ARGMO
3375	.$1c2e	BNE NORMALOR
3376	.$1c30	LDA ARGLO
3377	.$1c32	BNE NORMALOR
3378	.$1c34	LDA ARGSGN
3379	.$1c36	AND #$80
3380	.$1c38	CMP #$80
3381	.$1c3a	BNE NORMALOR
3382	.$1c3c	JMP ARGFAC  
3383	.$1c3f	NORMALOR JMP FACOR
3386	.$1c42	CLRCHNEW
3387	.$1c42	LDA CHLOCKFLAG
3388	.$1c45	BNE SKIPCLRCH
3389	.$1c47	JMP CLRCH
3390	.$1c4a	SKIPCLRCH
3391	.$1c4a	RTS
3394	.$1c4b	INPUTLENGTHCHECK LDA INPUTLENGTH
3395	.$1c4e	RTS
3398	.$1c4f	SUPERFIINX INY
3399	.$1c50	BNE SFIINXNOV
3400	.$1c52	CLC
3401	.$1c53	ADC #$1
3402	.$1c55	CMP #$80
3403	.$1c57	BNE SFIINXNOV
3404	.$1c59	JMP ILLEGALQUANTITY
3405	.$1c5c	SFIINXNOV RTS
3408	.$1c5d	SUPERFIDEX CPY #0
3409	.$1c5f	BNE SUPERFIDEXNOV
3410	.$1c61	SEC
3411	.$1c62	SBC #$1
3412	.$1c64	CMP #$7F
3413	.$1c66	BNE SUPERFIDEXNOV
3414	.$1c68	JMP ILLEGALQUANTITY
3415	.$1c6b	SUPERFIDEXNOV
3416	.$1c6b	DEY
3417	.$1c6c	RTS
3420	.$1c6d	OUTOFMEMORY
3424	.$1c6d	LDX #$10
3425	.$1c6f	JMP ERRALL
3428	.$1c72	ILLEGALQUANTITY
3432	.$1c72	JMP ERRIQ
3435	.$1c75	EXTRAIGNORED
3439	.$1c75	JMP ERREI
3442	.$1c78	FACXREG  LDA FACLO
3443	.$1c7a	STA X_REG+4
3444	.$1c7c	LDA FACMO
3445	.$1c7e	STA X_REG+3
3446	.$1c80	LDA FACMOH
3447	.$1c82	STA X_REG+2
3448	.$1c84	LDA FACSGN
3449	.$1c86	ORA #$7F
3450	.$1c88	AND FACHO
3451	.$1c8a	STA X_REG+1
3452	.$1c8c	LDA FACEXP
3453	.$1c8e	STA X_REG
3454	.$1c90	LDA #0   
3455	.$1c92	STA FACOV
3456	.$1c94	RTS
3459	.$1c95	FACYREG  LDA FACLO
3460	.$1c97	STA Y_REG+4
3461	.$1c9a	LDA FACMO
3462	.$1c9c	STA Y_REG+3
3463	.$1c9f	LDA FACMOH
3464	.$1ca1	STA Y_REG+2
3465	.$1ca4	LDA FACSGN
3466	.$1ca6	ORA #$7F
3467	.$1ca8	AND FACHO
3468	.$1caa	STA Y_REG+1
3469	.$1cad	LDA FACEXP
3470	.$1caf	STA Y_REG
3471	.$1cb2	LDA #0   
3472	.$1cb4	STA FACOV
3473	.$1cb6	RTS
3476	.$1cb7	XREGFAC  LDA X_REG+4
3477	.$1cb9	STA FACLO
3478	.$1cbb	LDA X_REG+3
3479	.$1cbd	STA FACMO
3480	.$1cbf	LDA X_REG+2
3481	.$1cc1	STA FACMOH
3482	.$1cc3	LDA X_REG+1
3483	.$1cc5	STA FACSGN
3484	.$1cc7	ORA #$80
3485	.$1cc9	STA FACHO
3486	.$1ccb	LDA X_REG
3487	.$1ccd	STA FACEXP
3488	.$1ccf	LDA #0
3489	.$1cd1	STA FACOV
3490	.$1cd3	RTS
3493	.$1cd4	XREGARG  LDA X_REG+4
3494	.$1cd6	STA ARGLO
3495	.$1cd8	LDA X_REG+3
3496	.$1cda	STA ARGMO
3497	.$1cdc	LDA X_REG+2
3498	.$1cde	STA ARGMOH
3499	.$1ce0	LDA X_REG+1
3500	.$1ce2	STA ARGSGN
3501	.$1ce4	EOR FACSGN
3502	.$1ce6	STA ARISGN
3503	.$1ce8	LDA ARGSGN
3504	.$1cea	ORA #$80
3505	.$1cec	STA ARGHO
3506	.$1cee	LDA X_REG
3507	.$1cf0	STA ARGEXP
3508	.$1cf2	LDA FACEXP
3509	.$1cf4	RTS
3512	.$1cf5	YREGFAC  LDA Y_REG+4
3513	.$1cf8	STA FACLO
3514	.$1cfa	LDA Y_REG+3
3515	.$1cfd	STA FACMO
3516	.$1cff	LDA Y_REG+2
3517	.$1d02	STA FACMOH
3518	.$1d04	LDA Y_REG+1
3519	.$1d07	STA FACSGN
3520	.$1d09	ORA #$80
3521	.$1d0b	STA FACHO
3522	.$1d0d	LDA Y_REG
3523	.$1d10	STA FACEXP
3524	.$1d12	LDA #0
3525	.$1d14	STA FACOV
3526	.$1d16	RTS
3640	.$1d17	FASTFSUBMEM
3641	.$1d17	JSR MEMARG
3642	.$1d1a	FASTFSUBARG
3643	.$1d1a	LDA FACSGN
3644	.$1d1c	EOR #$FF
3645	.$1d1e	STA FACSGN
3646	.$1d20	EOR ARGSGN
3647	.$1d22	STA ARISGN
3648	.$1d24	LDA FACEXP
3649	.$1d26	JMP FASTFADDARG
3652	.$1d29	FASTFADDMEM
3653	.$1d29	JSR MEMARG
3654	.$1d2c	FASTFADDARG
3655	.$1d2c	BNE FADDRET2     
3656	.$1d2e	JMP ARGFAC
3657	.$1d31	FADDRET2 LDA ARGEXP
3658	.$1d33	BNE FADDRET1     
3659	.$1d35	RTS
3660	.$1d36	FADDRET1 SEC
3661	.$1d37	SBC FACEXP
3662	.$1d39	BEQ FFADD_EXPEQ     
3663	.$1d3b	BCC FFADD_SHFARG1   
3667	.$1d3d	LDY ARGEXP
3668	.$1d3f	STY FACEXP
3669	.$1d41	LDY ARGSGN
3670	.$1d43	STY FACSGN
3671	.$1d45	LDX #0
3672	.$1d47	STX OLDOV        
3673	.$1d49	LDX #FAC         
3675	.$1d4b	SEC
3676	.$1d4c	SBC #$08
3677	.$1d4e	BMI FFADD_SHFFAC2
3679	.$1d50	FFADD_SHFFAC1
3680	.$1d50	LDY FACLO        
3681	.$1d52	STY FACOV
3682	.$1d54	LDY FACMO        
3683	.$1d56	STY FACMO+1
3684	.$1d58	LDY FACMOH       
3685	.$1d5a	STY FACMOH+1
3686	.$1d5c	LDY FACHO        
3687	.$1d5e	STY FACHO+1
3688	.$1d60	LDY #0
3689	.$1d62	STY FACHO        
3690	.$1d64	SBC #$08         
3691	.$1d66	BPL FFADD_SHFFAC1   
3692	.$1d68	FFADD_SHFFAC2
3693	.$1d68	ADC #$08         
3694	.$1d6a	BEQ FFADD_SHFFAC4   
3695	.$1d6c	TAY
3696	.$1d6d	LDA FACOV
3697	.$1d6f	FFADD_SHFFAC3
3698	.$1d6f	LSR FACHO        
3699	.$1d71	ROR FACMOH       
3700	.$1d73	ROR FACMO        
3701	.$1d75	ROR FACLO        
3702	.$1d77	ROR              
3703	.$1d78	DEY
3704	.$1d79	BNE FFADD_SHFFAC3
3705	.$1d7b	JMP FFADD_MANADD2   
3706	.$1d7e	FFADD_SHFFAC4
3707	.$1d7e	LDA FACOV        
3708	.$1d80	JMP FFADD_MANADD2
3709	.$1d83	FFADD_EXPEQ
3710	.$1d83	LDX FACOV
3711	.$1d85	STX OLDOV
3714	.$1d87	JMP FFADD_MANADD1
3715	.$1d8a	FFADD_SHFARG2
3716	.$1d8a	LDA FACOV        
3717	.$1d8c	JMP FFADD_MANADD1
3718	.$1d8f	FFADD_SHFARG1
3719	.$1d8f	LDX FACOV
3720	.$1d91	STX OLDOV        
3721	.$1d93	LDX #$00         
3724	.$1d95	ADC #$08
3725	.$1d97	BPL FFADD_SHFARG6   
3726	.$1d99	FFADD_SHFARG3
3727	.$1d99	LDX ARGLO        
3728	.$1d9b	LDY ARGMO        
3729	.$1d9d	STY ARGMO+1
3730	.$1d9f	LDY ARGMOH       
3731	.$1da1	STY ARGMOH+1
3732	.$1da3	LDY ARGHO        
3733	.$1da5	STY ARGHO+1
3734	.$1da7	LDY #0
3735	.$1da9	STY ARGHO        
3736	.$1dab	FFADD_SHFARG4
3737	.$1dab	ADC #$08
3738	.$1dad	BMI FFADD_SHFARG3
3739	.$1daf	BEQ FFADD_SHFARG3
3740	.$1db1	FFADD_SHFARG6
3741	.$1db1	SBC #$08
3742	.$1db3	BEQ FFADD_SHFARG2   
3743	.$1db5	TAY
3744	.$1db6	TXA              
3745	.$1db7	FFADD_SHFARG5
3746	.$1db7	LSR ARGHO
3747	.$1db9	ROR ARGMOH
3748	.$1dbb	ROR ARGMO
3749	.$1dbd	ROR ARGLO
3750	.$1dbf	ROR           
3751	.$1dc0	INY
3752	.$1dc1	BNE FFADD_SHFARG5
3753	.$1dc3	FFADD_MANADD1
3754	.$1dc3	LDX #ARGEXP      
3755	.$1dc5	FFADD_MANADD2
3756	.$1dc5	BIT ARISGN
3757	.$1dc7	BMI FFADD_MANSUB1   
3758	.$1dc9	CLC
3759	.$1dca	ADC OLDOV
3760	.$1dcc	STA FACOV
3761	.$1dce	LDA FACLO
3762	.$1dd0	ADC ARGLO
3763	.$1dd2	STA FACLO
3764	.$1dd4	LDA FACMO
3765	.$1dd6	ADC ARGMO
3766	.$1dd8	STA FACMO
3767	.$1dda	LDA FACMOH
3768	.$1ddc	ADC ARGMOH
3769	.$1dde	STA FACMOH
3770	.$1de0	LDA FACHO
3771	.$1de2	ADC ARGHO
3772	.$1de4	STA FACHO
3773	.$1de6	BCC FFADD_RNDRTS
3774	.$1de8	INC FACEXP
3775	.$1dea	BEQ FFADD_OVERR
3777	.$1dec	ROR FACHO
3778	.$1dee	ROR FACMOH
3779	.$1df0	ROR FACMO
3780	.$1df2	ROR FACLO
3781	.$1df4	ROR FACOV
3782	.$1df6	FFADD_RNDRTS
3783	.$1df6	RTS
3784	.$1df7	FFADD_OVERR
3785	.$1df7	JMP ILLEGALQUANTITY
3786	.$1dfa	FFADD_MANSUB1
3787	.$1dfa	LDY #FACEXP
3788	.$1dfc	CPX #ARGEXP
3789	.$1dfe	BEQ FFADD_MANSUB2
3790	.$1e00	LDY #ARGEXP
3791	.$1e02	FFADD_MANSUB2
3792	.$1e02	SEC              
3793	.$1e03	EOR #$FF
3794	.$1e05	ADC OLDOV
3795	.$1e07	STA FACOV
3796	.$1e09	LDA 4,Y
3797	.$1e0c	SBC 4,X
3798	.$1e0e	STA FACLO
3799	.$1e10	LDA 3,Y
3800	.$1e13	SBC 3,X
3801	.$1e15	STA FACMO
3802	.$1e17	LDA 2,Y
3803	.$1e1a	SBC 2,X
3804	.$1e1c	STA FACMOH
3805	.$1e1e	LDA 1,Y
3806	.$1e21	SBC 1,X
3807	.$1e23	STA FACHO
3808	.$1e25	BCS FCNORMAL
3809	.$1e27	LDA FACSGN
3810	.$1e29	EOR #$FF
3811	.$1e2b	STA FACSGN
3812	.$1e2d	LDA FACHO
3813	.$1e2f	EOR #$FF
3814	.$1e31	STA FACHO
3815	.$1e33	LDA FACMOH
3816	.$1e35	EOR #$FF
3817	.$1e37	STA FACMOH
3818	.$1e39	LDA FACMO
3819	.$1e3b	EOR #$FF
3820	.$1e3d	STA FACMO
3821	.$1e3f	LDA FACLO
3822	.$1e41	EOR #$FF
3823	.$1e43	STA FACLO
3824	.$1e45	LDA FACOV
3825	.$1e47	EOR #$FF
3826	.$1e49	CLC
3827	.$1e4a	ADC #1
3828	.$1e4c	STA FACOV
3829	.$1e4e	BNE FCNORMAL
3830	.$1e50	INC FACLO
3831	.$1e52	BNE FCNORMAL
3832	.$1e54	INC FACMO
3833	.$1e56	BNE FCNORMAL
3834	.$1e58	INC FACMOH
3835	.$1e5a	BNE FCNORMAL
3836	.$1e5c	INC FACHO
3837	.$1e5e	FCNORMAL   BIT FACHO
3838	.$1e60	BMI FFADD_RET       
3839	.$1e62	LDA #0           
3840	.$1e64	CLC
3841	.$1e65	FFADD_NORM3
3842	.$1e65	LDX FACHO
3843	.$1e67	BNE FFADD_NORM1
3844	.$1e69	LDX FACHO+1
3845	.$1e6b	STX FACHO
3846	.$1e6d	LDX FACMOH+1
3847	.$1e6f	STX FACMOH
3848	.$1e71	LDX FACMO+1
3849	.$1e73	STX FACMO
3850	.$1e75	LDX FACOV
3851	.$1e77	STX FACLO
3852	.$1e79	LDX #0
3853	.$1e7b	STX FACOV
3854	.$1e7d	ADC #$08
3855	.$1e7f	CMP #$20
3856	.$1e81	BNE FFADD_NORM3
3857	.$1e83	JMP FFADD_ZEROFAC
3858	.$1e86	FFADD_NORM2
3859	.$1e86	CLC
3860	.$1e87	ADC #1
3861	.$1e89	ASL FACOV
3862	.$1e8b	ROL FACLO
3863	.$1e8d	ROL FACMO
3864	.$1e8f	ROL FACMOH
3865	.$1e91	ROL FACHO
3866	.$1e93	FFADD_NORM1
3867	.$1e93	BPL FFADD_NORM2     
3868	.$1e95	SEC
3869	.$1e96	SBC FACEXP
3870	.$1e98	BCS FFADD_ZEROFAC
3871	.$1e9a	EOR #$FF
3872	.$1e9c	CLC
3873	.$1e9d	ADC #1
3874	.$1e9f	STA FACEXP
3875	.$1ea1	FFADD_RET   RTS
3876	.$1ea2	FFADD_ZEROFAC
3877	.$1ea2	LDX #0
3878	.$1ea4	STX FACEXP
3879	.$1ea6	STX FACSGN
3880	.$1ea8	RTS
3883	.$1ea9	INITVARS
3884	.$1ea9	JSR INITSTRVARS
3885	.$1eac	LDA #0
3886	.$1eae	LDY #4
3887	.$1eb0	REALINITLOOP0:
3888	.$1eb0	STA VAR_I,Y
3889	.$1eb3	DEY
3890	.$1eb4	BMI REALLOOPEXIT0
3891	.$1eb6	JMP REALINITLOOP0
3892	.$1eb9	REALLOOPEXIT0:
3893	.$1eb9	STA VAR_O%
3894	.$1ebc	STA VAR_O%+1
3895	.$1ebf	STA VAR_M%
3896	.$1ec2	STA VAR_M%+1
3897	.$1ec5	STA VAR_B%
3898	.$1ec8	STA VAR_B%+1
3899	.$1ecb	LDA #<VAR_W%[]
3900	.$1ecd	LDY #>VAR_W%[]
3901	.$1ecf	JSR INITSPARAMS
3902	.$1ed2	JSR INITNARRAY
3903	.$1ed5	LDA #0
3904	.$1ed7	STA VAR_W%
3905	.$1eda	STA VAR_W%+1
3906	.$1edd	STA VAR_I%
3907	.$1ee0	STA VAR_I%+1
3908	.$1ee3	STA VAR_Y%
3909	.$1ee6	STA VAR_Y%+1
3910	.$1ee9	STA VAR_X%
3911	.$1eec	STA VAR_X%+1
3912	.$1eef	LDA #<VAR_B%[]
3913	.$1ef1	LDY #>VAR_B%[]
3914	.$1ef3	JSR INITSPARAMS
3915	.$1ef6	JSR INITNARRAY
3916	.$1ef9	LDA #0
3917	.$1efb	STA VAR_J%
3918	.$1efe	STA VAR_J%+1
3919	.$1f01	RTS
3923	.$1f02	CONSTANTS
3925	.$1f02	CONST_0 .BYTE 11
3926	.$1f03	.STRG "tiefe (1-7)"
3928	.$1f0e	CONST_1R
3929	.$1f0e	CONST_1 .REAL 0
3931	.$1f13	CONST_2 .BYTE 16
3932	.$1f14	.STRG "?redo from start"
3935	.$1f24	CONST_3R .REAL 7.0
3938	.$1f29	CONST_4R .REAL 1.0
3941	.$1f2e	CONST_5R .REAL 2.0
3944	.$1f33	CONST_6R .REAL 198.0
3959	.$1f38	CONST_11R .REAL 24576.0
3962	.$1f3d	CONST_12R .REAL 32575.0
3965	.$1f42	CONST_13R .REAL 23552.0
3968	.$1f47	CONST_14R .REAL 24551.0
3971	.$1f4c	CONST_15R .REAL 16.0
4019	.$1f51	DATAS
4020	.$1f51	.BYTE $FF
4022	.$1f52	CONSTANTS_END
4025	.$1f52	VARIABLES
4027	.$1f52	VAR_O% .WORD 0
4029	.$1f54	VAR_M% .WORD 0
4031	.$1f56	VAR_B% .WORD 0
4033	.$1f58	.BYTE 0
4034	.$1f59	.WORD 16
4035	.$1f5b	VAR_W%[] .ARRAY 16
4037	.$1f6b	VAR_W% .WORD 0
4039	.$1f6d	VAR_I% .WORD 0
4041	.$1f6f	VAR_I .REAL 0.0
4043	.$1f74	VAR_Y% .WORD 0
4045	.$1f76	VAR_X% .WORD 0
4047	.$1f78	.BYTE 0
4048	.$1f79	.WORD 16
4049	.$1f7b	VAR_B%[] .ARRAY 16
4051	.$1f8b	VAR_J% .WORD 0
4052	.$1f8d	STRINGVARS_START
4054	.$1f8d	VAR_TI$ .WORD EMPTYSTR
4055	.$1f8f	STRINGVARS_END
4056	.$1f8f	STRINGARRAYS_START
4057	.$1f8f	STRINGARRAYS_END
4058	.$1f8f	VARIABLES_END
4060	.$1f8f	Y_REG .REAL 0.0
4061	.$1f94	C_REG .REAL 0.0
4062	.$1f99	D_REG .REAL 0.0
4063	.$1f9e	E_REG .REAL 0.0
4064	.$1fa3	F_REG .REAL 0.0
4065	.$1fa8	A_REG .WORD 0
4066	.$1faa	B_REG .WORD 0
4067	.$1fac	CMD_NUM .BYTE 0
4068	.$1fad	CHANNEL .BYTE 0
4069	.$1fae	SP_SAVE .BYTE 0
4070	.$1faf	TMP2_REG .WORD 0
4071	.$1fb1	TMP3_REG .WORD 0
4072	.$1fb3	TMP4_REG .WORD 0
4073	.$1fb5	AS_TMP .WORD 0
4074	.$1fb7	BPOINTER_TMP .WORD 0
4075	.$1fb9	BASICTEXTP .BYTE 0
4076	.$1fba	STORE1 .WORD 0
4077	.$1fbc	STORE2 .WORD 0
4078	.$1fbe	STORE3 .WORD 0
4079	.$1fc0	STORE4 .WORD 0
4080	.$1fc2	GCSTART .WORD 0
4081	.$1fc4	GCLEN .WORD 0
4082	.$1fc6	GCWORK .WORD 0
4083	.$1fc8	INPUTLENGTH .BYTE 0
4084	.$1fc9	TMP_FREG .REAL 0
4085	.$1fce	TMP2_FREG .REAL 0
4086	.$1fd3	TMP_FLAG .BYTE 0
4087	.$1fd4	INT_FLAG .BYTE 0
4088	.$1fd5	REAL_CONST_ONE .REAL 1.0
4089	.$1fda	REAL_CONST_ZERO .REAL 0.0
4090	.$1fdf	REAL_CONST_MINUS_ONE .REAL -1.0
4091	.$1fe4	CHLOCKFLAG .BYTE 0
4092	.$1fe5	EMPTYSTR .BYTE 0
4093	.$1fe6	FPSTACKP .WORD FPSTACK
4094	.$1fe8	FORSTACKP .WORD FORSTACK
4095	.$1fea	DATASP .WORD DATAS
4096	.$1fec	LASTVAR .WORD 0
4097	.$1fee	LASTVARP .WORD 0
4098	.$1ff0	HIGHP .WORD STRBUF
4099	.$1ff2	STRBUFP .WORD STRBUF
4100	.$1ff4	ENDSTRBUF .WORD 0
4101	.$1ff6	INPUTQUEUEP .BYTE 0
4102	.$1ff7	PROGRAMEND
4103	.$1ff7	INPUTQUEUE .ARRAY $0F
4104	.$2006	FPSTACK .ARRAY 100
4105	.$206a	FORSTACK .ARRAY 340
4106	.$21be	STRBUF .BYTE 0
