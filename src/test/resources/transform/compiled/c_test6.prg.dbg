117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_150:
128	.$81f	LDY #23
129	.$821	STY 2
131	.$823	LDY #24
132	.$825	STY 1024
134	.$828	LDY #25
135	.$82a	STY 49152
137	.$82d	JSR END
138	.$830	RTS
141	.$831	END   LDX SP_SAVE
142	.$834	TXS
149	.$835	RTS
152	.$836	START  LDA ENDSTRBUF+1
153	.$839	BNE ENDGIVEN
154	.$83b	LDA BASICEND
155	.$83d	STA ENDSTRBUF
156	.$840	LDA BASICEND+1
157	.$842	STA ENDSTRBUF+1
158	.$845	ENDGIVEN LDA #<FPSTACK
159	.$847	LDY #>FPSTACK
160	.$849	STA FPSTACKP
161	.$84c	STY FPSTACKP+1
162	.$84f	LDA #<FORSTACK
163	.$851	LDY #>FORSTACK
164	.$853	STA FORSTACKP
165	.$856	STY FORSTACKP+1
166	.$859	LDA #<STRBUF
167	.$85b	LDY #>STRBUF
168	.$85d	STA STRBUFP
169	.$860	STY STRBUFP+1
170	.$863	STA HIGHP
171	.$866	STY HIGHP+1
172	.$869	LDA #0
173	.$86b	STA CHLOCKFLAG
174	.$86e	STA LASTVAR
175	.$871	STA LASTVAR+1
176	.$874	JSR INITVARS
177	.$877	LDA #0
178	.$879	STA CMD_NUM
179	.$87c	STA CHANNEL
180	.$87f	TAY
181	.$880	TAX
185	.$881	STA KEYNDX
191	.$883	JSR RESTORE
192	.$886	CLC
196	.$887	RTS
199	.$888	INITNARRAY
200	.$888	STA TMP_ZP
201	.$88a	STY TMP_ZP+1
202	.$88c	LDY #0
203	.$88e	TYA
204	.$88f	NINITLOOP STA (TMP_ZP),Y
205	.$891	INC TMP_ZP
206	.$893	BNE NLOOPNOV
207	.$895	INC TMP_ZP+1
208	.$897	NLOOPNOV LDX TMP2_ZP
209	.$899	BNE NLOOPNOV2
210	.$89b	DEC TMP2_ZP+1
211	.$89d	NLOOPNOV2 DEC TMP2_ZP
212	.$89f	BNE NINITLOOP
213	.$8a1	LDX TMP2_ZP+1
214	.$8a3	BNE NINITLOOP
215	.$8a5	RTS
218	.$8a6	INITSTRARRAY
219	.$8a6	STA TMP_ZP
220	.$8a8	STY TMP_ZP+1
221	.$8aa	SINITLOOP LDY #0
222	.$8ac	LDA #<EMPTYSTR
223	.$8ae	STA (TMP_ZP),Y
224	.$8b0	LDA #>EMPTYSTR
225	.$8b2	INY
226	.$8b3	STA (TMP_ZP),Y
227	.$8b5	CLC
228	.$8b6	LDA TMP_ZP
229	.$8b8	ADC #2
230	.$8ba	STA TMP_ZP
231	.$8bc	BCC SLOOPNOV1
232	.$8be	INC TMP_ZP+1
233	.$8c0	SLOOPNOV1 SEC
234	.$8c1	LDA TMP2_ZP
235	.$8c3	SBC #2
236	.$8c5	STA TMP2_ZP
237	.$8c7	BCS SLOOPNOV2
238	.$8c9	DEC TMP2_ZP+1
239	.$8cb	SLOOPNOV2 LDA TMP2_ZP
240	.$8cd	BNE SINITLOOP
241	.$8cf	LDA TMP2_ZP+1
242	.$8d1	BNE SINITLOOP
243	.$8d3	RTS
246	.$8d4	INITSPARAMS STA TMP3_ZP
247	.$8d6	STY TMP3_ZP+1
248	.$8d8	SEC
249	.$8d9	SBC #2
250	.$8db	STA TMP_ZP
251	.$8dd	TYA
252	.$8de	SBC #0
253	.$8e0	STA TMP_ZP+1
254	.$8e2	LDY #0
255	.$8e4	LDA (TMP_ZP),Y
256	.$8e6	STA TMP2_ZP
257	.$8e8	INY
258	.$8e9	LDA (TMP_ZP),Y
259	.$8eb	STA TMP2_ZP+1
260	.$8ed	LDA TMP3_ZP
261	.$8ef	LDY TMP3_ZP+1
262	.$8f1	RTS
265	.$8f2	INITSTRVARS LDA #<STRINGVARS_START  
266	.$8f4	LDY #>STRINGVARS_START
267	.$8f6	CMP #<STRINGVARS_END
268	.$8f8	BNE INITIT1
269	.$8fa	CPY #>STRINGVARS_END
270	.$8fc	BNE INITIT1
271	.$8fe	JMP INITSA2     
272	.$901	INITIT1  STA TMP_ZP
273	.$903	STY TMP_ZP+1
274	.$905	LDY #0
275	.$907	INITSTRLOOP LDA #<EMPTYSTR
276	.$909	STA (TMP_ZP),Y
277	.$90b	INY
278	.$90c	LDA #>EMPTYSTR
279	.$90e	STA (TMP_ZP),Y
280	.$910	DEY
281	.$911	LDA TMP_ZP
282	.$913	CLC
283	.$914	ADC #2
284	.$916	STA TMP_ZP
285	.$918	LDA TMP_ZP+1
286	.$91a	ADC #0
287	.$91c	STA TMP_ZP+1
288	.$91e	CMP #>STRINGVARS_END
289	.$920	BNE INITSTRLOOP
290	.$922	LDA TMP_ZP
291	.$924	CMP #<STRINGVARS_END
292	.$926	BNE INITSTRLOOP
293	.$928	INITSA2  LDA #<STRINGARRAYS_START 
294	.$92a	LDY #>STRINGARRAYS_START
295	.$92c	CMP #<STRINGARRAYS_END
296	.$92e	BNE ARRAYLOOP
297	.$930	CPY #>STRINGARRAYS_END
298	.$932	BNE ARRAYLOOP
299	.$934	RTS       
300	.$935	ARRAYLOOP CLC
301	.$936	ADC #3
302	.$938	BCC ARRAYSKIP1
303	.$93a	INY
304	.$93b	ARRAYSKIP1 CPY #>STRINGARRAYS_END
305	.$93d	BEQ ARRAYSC
306	.$93f	BCC ARRAYSKIP2
307	.$941	JMP ARRAYQUIT
308	.$944	ARRAYSC  CMP #<STRINGARRAYS_END
309	.$946	BCS ARRAYQUIT
310	.$948	ARRAYSKIP2 STA TMP_REG
311	.$94a	STY TMP_REG+1
312	.$94c	JSR INITSPARAMS
313	.$94f	LDA TMP_REG
314	.$951	LDY TMP_REG+1
315	.$953	JSR INITSTRARRAY
316	.$956	LDA TMP_ZP
317	.$958	LDY TMP_ZP+1
318	.$95a	JMP ARRAYLOOP
319	.$95d	ARRAYQUIT RTS
322	.$95e	RESTORE  LDA #<DATAS
323	.$960	LDY #>DATAS
324	.$962	STA DATASP
325	.$965	STY DATASP+1
326	.$968	RTS
440	.$969	INITVARS
441	.$969	JSR INITSTRVARS
442	.$96c	LDA #0
443	.$96e	RTS
447	.$96f	CONSTANTS
459	.$96f	DATAS
460	.$96f	.BYTE $FF
462	.$970	CONSTANTS_END
465	.$970	VARIABLES
466	.$970	STRINGVARS_START
468	.$970	VAR_TI$ .WORD EMPTYSTR
469	.$972	STRINGVARS_END
470	.$972	STRINGARRAYS_START
471	.$972	STRINGARRAYS_END
472	.$972	VARIABLES_END
474	.$972	Y_REG .REAL 0.0
475	.$977	C_REG .REAL 0.0
476	.$97c	D_REG .REAL 0.0
477	.$981	E_REG .REAL 0.0
478	.$986	F_REG .REAL 0.0
479	.$98b	A_REG .WORD 0
480	.$98d	B_REG .WORD 0
481	.$98f	CMD_NUM .BYTE 0
482	.$990	CHANNEL .BYTE 0
483	.$991	SP_SAVE .BYTE 0
484	.$992	TMP2_REG .WORD 0
485	.$994	TMP3_REG .WORD 0
486	.$996	TMP4_REG .WORD 0
487	.$998	AS_TMP .WORD 0
488	.$99a	BPOINTER_TMP .WORD 0
489	.$99c	BASICTEXTP .BYTE 0
490	.$99d	STORE1 .WORD 0
491	.$99f	STORE2 .WORD 0
492	.$9a1	STORE3 .WORD 0
493	.$9a3	STORE4 .WORD 0
494	.$9a5	GCSTART .WORD 0
495	.$9a7	GCLEN .WORD 0
496	.$9a9	GCWORK .WORD 0
497	.$9ab	INPUTLENGTH .BYTE 0
498	.$9ac	TMP_FREG .REAL 0
499	.$9b1	TMP2_FREG .REAL 0
500	.$9b6	TMP_FLAG .BYTE 0
501	.$9b7	INT_FLAG .BYTE 0
502	.$9b8	REAL_CONST_ONE .REAL 1.0
503	.$9bd	REAL_CONST_ZERO .REAL 0.0
504	.$9c2	REAL_CONST_MINUS_ONE .REAL -1.0
505	.$9c7	CHLOCKFLAG .BYTE 0
506	.$9c8	EMPTYSTR .BYTE 0
507	.$9c9	FPSTACKP .WORD FPSTACK
508	.$9cb	FORSTACKP .WORD FORSTACK
509	.$9cd	DATASP .WORD DATAS
510	.$9cf	LASTVAR .WORD 0
511	.$9d1	LASTVARP .WORD 0
512	.$9d3	HIGHP .WORD STRBUF
513	.$9d5	STRBUFP .WORD STRBUF
514	.$9d7	ENDSTRBUF .WORD 0
515	.$9d9	INPUTQUEUEP .BYTE 0
516	.$9da	PROGRAMEND
517	.$9da	INPUTQUEUE .ARRAY $0F
518	.$9e9	FPSTACK .ARRAY 100
519	.$a4d	FORSTACK .ARRAY 340
520	.$ba1	STRBUF .BYTE 0
