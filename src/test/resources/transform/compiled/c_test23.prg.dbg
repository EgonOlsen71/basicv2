117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
128	.$81f	LDX #4
129	.$821	dcloop235_1:
130	.$821	LDA CONST_0R,X
131	.$824	STA VAR_I,X
132	.$827	DEX
133	.$828	BPL dcloop235_1
135	.$82a	LDA #<CONST_1R
136	.$82c	LDY #>CONST_1R
137	.$82e	JSR REALFACPUSH
139	.$831	LDA #<CONST_0R
140	.$833	LDY #>CONST_0R
141	.$835	JSR REALFACPUSH
143	.$838	LDA #<VAR_I
144	.$83a	LDY #>VAR_I
145	.$83c	STA A_REG
146	.$83f	STY A_REG+1
147	.$842	LDA #<FORLOOP0
148	.$844	STA JUMP_TARGET
149	.$846	LDA #>FORLOOP0
150	.$848	STA JUMP_TARGET+1
151	.$84a	JSR INITFOR
152	.$84d	FORLOOP0:
153	.$84d	JSR READSTR
154	.$850	LDA A_REG
155	.$853	LDY A_REG+1
156	.$856	STA TMP_ZP
157	.$858	STY TMP_ZP+1
158	.$85a	LDA #<VAR_A$
159	.$85c	LDY #>VAR_A$
160	.$85e	JSR COPYSTRING
161	.$861	LDA VAR_A$
162	.$864	LDY VAR_A$+1
163	.$867	JSR STROUTBRKWL
166	.$86a	LDA #0
167	.$86c	STA A_REG
168	.$86f	STA A_REG+1
169	.$872	JSR NEXT
171	.$875	LDA A_REG
172	.$878	BNE RBEQ_0
173	.$87a	JMP (JUMP_TARGET)
175	.$87d	RBEQ_0:
177	.$87d	LINE_20:
179	.$87d	JSR RESTORE
181	.$880	LINE_30:
183	.$880	JSR READSTR
184	.$883	LDA A_REG
185	.$886	LDY A_REG+1
186	.$889	STA TMP_ZP
187	.$88b	STY TMP_ZP+1
188	.$88d	LDA #<VAR_A$
189	.$88f	LDY #>VAR_A$
190	.$891	JSR COPYSTRING
191	.$894	JSR READSTR
192	.$897	LDA A_REG
193	.$89a	LDY A_REG+1
194	.$89d	STA TMP_ZP
195	.$89f	STY TMP_ZP+1
196	.$8a1	LDA #<VAR_A$
197	.$8a3	LDY #>VAR_A$
198	.$8a5	JSR COPYSTRING
199	.$8a8	JSR READNUMBER
200	.$8ab	LDY #>Y_REG
201	.$8ad	LDA #<Y_REG
203	.$8af	JSR REALFAC
204	.$8b2	LDX #<VAR_A
205	.$8b4	LDY #>VAR_A
207	.$8b6	JSR FACMEM
208	.$8b9	JSR READNUMBER
209	.$8bc	JSR YREGFAC
211	.$8bf	LDX #<VAR_B
212	.$8c1	LDY #>VAR_B
214	.$8c3	JSR FACMEM
215	.$8c6	JSR READNUMBER
216	.$8c9	JSR YREGFAC
218	.$8cc	LDX #<VAR_C
219	.$8ce	LDY #>VAR_C
221	.$8d0	JSR FACMEM
222	.$8d3	LDA #<CONST_0R
223	.$8d5	LDY #>CONST_0R
224	.$8d7	JSR COPY2_XYA_XREG
228	.$8da	LDA #<VAR_A
229	.$8dc	LDY #>VAR_A
230	.$8de	JSR COPY2_XYA_YREG
234	.$8e1	LDA #<VAR_G%[]
235	.$8e3	LDY #>VAR_G%[]
236	.$8e5	STA G_REG
237	.$8e7	STY G_REG+1
238	.$8e9	JSR ARRAYSTORE_INTEGER
239	.$8ec	LDA #<CONST_0R
240	.$8ee	LDY #>CONST_0R
241	.$8f0	JSR COPY2_XYA_XREG
245	.$8f3	LDA #<VAR_B
246	.$8f5	LDY #>VAR_B
247	.$8f7	JSR COPY2_XYA_YREG
251	.$8fa	LDA #<VAR_G[]
252	.$8fc	LDY #>VAR_G[]
253	.$8fe	STA G_REG
254	.$900	STY G_REG+1
255	.$902	JSR ARRAYSTORE_REAL
257	.$905	LINE_40:
259	.$905	LDA #<CONST_3
260	.$907	LDY #>CONST_3
261	.$909	JSR STROUTWL
263	.$90c	JSR TABOUT
264	.$90f	LDA #<VAR_A
265	.$911	LDY #>VAR_A
266	.$913	JSR COPY2_XYA_XREG
270	.$916	JSR REALOUT
271	.$919	JSR CRSRRIGHT
272	.$91c	JSR TABOUT
273	.$91f	LDA #<VAR_B
274	.$921	LDY #>VAR_B
275	.$923	JSR COPY2_XYA_XREG
279	.$926	JSR REALOUT
280	.$929	JSR CRSRRIGHT
281	.$92c	JSR TABOUT
282	.$92f	LDA #<VAR_C
283	.$931	LDY #>VAR_C
284	.$933	JSR COPY2_XYA_XREG
288	.$936	JSR REALOUT
289	.$939	JSR CRSRRIGHT
290	.$93c	JSR TABOUT
291	.$93f	LDA VAR_A$
292	.$942	LDY VAR_A$+1
293	.$945	JSR STROUTWL
295	.$948	JSR TABOUT
296	.$94b	LDA #<VAR_G%[]+2
297	.$94d	LDY #>VAR_G%[]+2
298	.$94f	STA G_REG
299	.$951	STY G_REG+1
300	.$953	JSR ARRAYACCESS_INTEGER_INT_PRE
304	.$956	JSR INTOUT
305	.$959	JSR CRSRRIGHT
306	.$95c	JSR TABOUT
307	.$95f	LDA #<VAR_G[]+5
308	.$961	LDY #>VAR_G[]+5
309	.$963	STA G_REG
310	.$965	STY G_REG+1
311	.$967	JSR ARRAYACCESS_REAL_INT_PRE
315	.$96a	JSR REALOUTBRK
318	.$96d	LINE_1000:
320	.$96d	JSR END
321	.$970	RTS
324	.$971	END   LDX SP_SAVE
325	.$974	TXS
332	.$975	RTS
335	.$976	START  LDA ENDSTRBUF+1
336	.$979	BNE ENDGIVEN
337	.$97b	LDA BASICEND
338	.$97d	STA ENDSTRBUF
339	.$980	LDA BASICEND+1
340	.$982	STA ENDSTRBUF+1
341	.$985	ENDGIVEN LDA #<FPSTACK
342	.$987	LDY #>FPSTACK
343	.$989	STA FPSTACKP
344	.$98c	STY FPSTACKP+1
345	.$98f	LDA #<FORSTACK
346	.$991	LDY #>FORSTACK
347	.$993	STA FORSTACKP
348	.$996	STY FORSTACKP+1
349	.$999	LDA #<STRBUF
350	.$99b	LDY #>STRBUF
351	.$99d	STA STRBUFP
352	.$9a0	STY STRBUFP+1
353	.$9a3	STA HIGHP
354	.$9a6	STY HIGHP+1
355	.$9a9	LDA #0
356	.$9ab	STA CHLOCKFLAG
357	.$9ae	STA LASTVAR
358	.$9b1	STA LASTVAR+1
359	.$9b4	JSR INITVARS
360	.$9b7	LDA #0
361	.$9b9	STA CMD_NUM
362	.$9bc	STA CHANNEL
363	.$9bf	TAY
364	.$9c0	TAX
368	.$9c1	STA KEYNDX
374	.$9c3	JSR RESTORE
375	.$9c6	CLC
379	.$9c7	RTS
382	.$9c8	INITNARRAY
383	.$9c8	STA TMP_ZP
384	.$9ca	STY TMP_ZP+1
385	.$9cc	LDY #0
386	.$9ce	TYA
387	.$9cf	NINITLOOP STA (TMP_ZP),Y
388	.$9d1	INC TMP_ZP
389	.$9d3	BNE NLOOPNOV
390	.$9d5	INC TMP_ZP+1
391	.$9d7	NLOOPNOV LDX TMP2_ZP
392	.$9d9	BNE NLOOPNOV2
393	.$9db	DEC TMP2_ZP+1
394	.$9dd	NLOOPNOV2 DEC TMP2_ZP
395	.$9df	BNE NINITLOOP
396	.$9e1	LDX TMP2_ZP+1
397	.$9e3	BNE NINITLOOP
398	.$9e5	RTS
401	.$9e6	INITSTRARRAY
402	.$9e6	STA TMP_ZP
403	.$9e8	STY TMP_ZP+1
404	.$9ea	SINITLOOP LDY #0
405	.$9ec	LDA #<EMPTYSTR
406	.$9ee	STA (TMP_ZP),Y
407	.$9f0	LDA #>EMPTYSTR
408	.$9f2	INY
409	.$9f3	STA (TMP_ZP),Y
410	.$9f5	CLC
411	.$9f6	LDA TMP_ZP
412	.$9f8	ADC #2
413	.$9fa	STA TMP_ZP
414	.$9fc	BCC SLOOPNOV1
415	.$9fe	INC TMP_ZP+1
416	.$a00	SLOOPNOV1 SEC
417	.$a01	LDA TMP2_ZP
418	.$a03	SBC #2
419	.$a05	STA TMP2_ZP
420	.$a07	BCS SLOOPNOV2
421	.$a09	DEC TMP2_ZP+1
422	.$a0b	SLOOPNOV2 LDA TMP2_ZP
423	.$a0d	BNE SINITLOOP
424	.$a0f	LDA TMP2_ZP+1
425	.$a11	BNE SINITLOOP
426	.$a13	RTS
429	.$a14	INITSPARAMS STA TMP3_ZP
430	.$a16	STY TMP3_ZP+1
431	.$a18	SEC
432	.$a19	SBC #2
433	.$a1b	STA TMP_ZP
434	.$a1d	TYA
435	.$a1e	SBC #0
436	.$a20	STA TMP_ZP+1
437	.$a22	LDY #0
438	.$a24	LDA (TMP_ZP),Y
439	.$a26	STA TMP2_ZP
440	.$a28	INY
441	.$a29	LDA (TMP_ZP),Y
442	.$a2b	STA TMP2_ZP+1
443	.$a2d	LDA TMP3_ZP
444	.$a2f	LDY TMP3_ZP+1
445	.$a31	RTS
448	.$a32	INITSTRVARS LDA #<STRINGVARS_START  
449	.$a34	LDY #>STRINGVARS_START
450	.$a36	CMP #<STRINGVARS_END
451	.$a38	BNE INITIT1
452	.$a3a	CPY #>STRINGVARS_END
453	.$a3c	BNE INITIT1
454	.$a3e	JMP INITSA2     
455	.$a41	INITIT1  STA TMP_ZP
456	.$a43	STY TMP_ZP+1
457	.$a45	LDY #0
458	.$a47	INITSTRLOOP LDA #<EMPTYSTR
459	.$a49	STA (TMP_ZP),Y
460	.$a4b	INY
461	.$a4c	LDA #>EMPTYSTR
462	.$a4e	STA (TMP_ZP),Y
463	.$a50	DEY
464	.$a51	LDA TMP_ZP
465	.$a53	CLC
466	.$a54	ADC #2
467	.$a56	STA TMP_ZP
468	.$a58	LDA TMP_ZP+1
469	.$a5a	ADC #0
470	.$a5c	STA TMP_ZP+1
471	.$a5e	CMP #>STRINGVARS_END
472	.$a60	BNE INITSTRLOOP
473	.$a62	LDA TMP_ZP
474	.$a64	CMP #<STRINGVARS_END
475	.$a66	BNE INITSTRLOOP
476	.$a68	INITSA2  LDA #<STRINGARRAYS_START 
477	.$a6a	LDY #>STRINGARRAYS_START
478	.$a6c	CMP #<STRINGARRAYS_END
479	.$a6e	BNE ARRAYLOOP
480	.$a70	CPY #>STRINGARRAYS_END
481	.$a72	BNE ARRAYLOOP
482	.$a74	RTS       
483	.$a75	ARRAYLOOP CLC
484	.$a76	ADC #3
485	.$a78	BCC ARRAYSKIP1
486	.$a7a	INY
487	.$a7b	ARRAYSKIP1 CPY #>STRINGARRAYS_END
488	.$a7d	BEQ ARRAYSC
489	.$a7f	BCC ARRAYSKIP2
490	.$a81	JMP ARRAYQUIT
491	.$a84	ARRAYSC  CMP #<STRINGARRAYS_END
492	.$a86	BCS ARRAYQUIT
493	.$a88	ARRAYSKIP2 STA TMP_REG
494	.$a8a	STY TMP_REG+1
495	.$a8c	JSR INITSPARAMS
496	.$a8f	LDA TMP_REG
497	.$a91	LDY TMP_REG+1
498	.$a93	JSR INITSTRARRAY
499	.$a96	LDA TMP_ZP
500	.$a98	LDY TMP_ZP+1
501	.$a9a	JMP ARRAYLOOP
502	.$a9d	ARRAYQUIT RTS
505	.$a9e	RESTORE  LDA #<DATAS
506	.$aa0	LDY #>DATAS
507	.$aa2	STA DATASP
508	.$aa5	STY DATASP+1
509	.$aa8	RTS
512	.$aa9	TABSPC     BCC DOSPC
513	.$aab	TXA
514	.$aac	SBC $09
515	.$aae	BCC TABSPCQUIT
516	.$ab0	TAX
517	.$ab1	DOSPC  INX
518	.$ab2	TABSPCLOOP  DEX
519	.$ab3	BNE TABSPCRIGHT
520	.$ab5	TABSPCQUIT RTS
521	.$ab6	TABSPCRIGHT JSR CRSRRIGHT
522	.$ab9	JMP TABSPCLOOP
525	.$abc	SAVEPOINTERS
526	.$abc	LDA TMP_ZP   
527	.$abe	STA STORE1
528	.$ac1	LDA TMP_ZP+1
529	.$ac3	STA STORE1+1
530	.$ac6	LDA TMP2_ZP
531	.$ac8	STA STORE2
532	.$acb	LDA TMP2_ZP+1
533	.$acd	STA STORE2+1
534	.$ad0	LDA TMP3_ZP
535	.$ad2	STA STORE3
536	.$ad5	LDA TMP3_ZP+1
537	.$ad7	STA STORE3+1
538	.$ada	RTS
541	.$adb	RESTOREPOINTERS
542	.$adb	LDA STORE3+1  
543	.$ade	STA TMP3_ZP+1
544	.$ae0	LDA STORE3
545	.$ae3	STA TMP3_ZP
546	.$ae5	LDA STORE2+1
547	.$ae8	STA TMP2_ZP+1
548	.$aea	LDA STORE2
549	.$aed	STA TMP2_ZP
550	.$aef	LDA STORE1+1
551	.$af2	STA TMP_ZP+1
552	.$af4	LDA STORE1
553	.$af7	STA TMP_ZP
554	.$af9	RTS
557	.$afa	COMPACT
558	.$afa	LDY #0
559	.$afc	GCBUFNE  LDA (TMP_ZP),Y  
560	.$afe	COMPACTF STA TMP4_REG  
561	.$b01	LDY STRBUFP+1  
562	.$b04	STY TMP4_REG+1  
563	.$b07	INY     
564	.$b08	BEQ ENDMEM   
565	.$b0a	CPY ENDSTRBUF+1  
566	.$b0d	BCC RGCEXIT   
567	.$b0f	ENDMEM  LDA STRBUFP
568	.$b12	CLC
569	.$b13	ADC TMP4_REG
570	.$b16	STA TMP4_REG
571	.$b19	BCC RGCNOOV1
572	.$b1b	INC TMP4_REG+1
573	.$b1e	RGCNOOV1 CLC
574	.$b1f	LDA TMP4_REG
575	.$b22	ADC #3
576	.$b24	STA TMP4_REG
577	.$b27	BCC RGCNOOV2
578	.$b29	INC TMP4_REG+1
579	.$b2c	RGCNOOV2 LDA TMP4_REG+1  
580	.$b2f	CMP ENDSTRBUF+1
581	.$b32	BEQ RGCLOW1
582	.$b34	BCS GCEXECOMP  
583	.$b36	JMP RGCEXIT
584	.$b39	RGCLOW1  LDA TMP4_REG
585	.$b3c	CMP ENDSTRBUF
586	.$b3f	BCS GCEXECOMP  
587	.$b41	RGCEXIT  RTS     
588	.$b42	GCEXECOMP LDA STRBUFP
589	.$b45	STA STORE4
590	.$b48	LDA STRBUFP+1
591	.$b4b	STA STORE4+1
592	.$b4e	JSR GCEXE
593	.$b51	JMP CHECKMEMORY
596	.$b54	GCEXE  JSR SAVEPOINTERS
597	.$b57	LDA #0
598	.$b59	STA LASTVAR
599	.$b5c	STA LASTVAR+1  
600	.$b5f	LDA #<STRBUF
601	.$b61	STA TMP_ZP
602	.$b63	STA GCSTART
603	.$b66	LDA #>STRBUF
604	.$b68	STA TMP_ZP+1  
605	.$b6a	STA GCSTART+1
606	.$b6d	GCLOOP  LDY #0
607	.$b6f	LDA TMP_ZP
608	.$b71	STA GCWORK
609	.$b74	LDA TMP_ZP+1
610	.$b76	STA GCWORK+1  
611	.$b79	LDA (TMP_ZP),Y
612	.$b7b	STA GCLEN   
613	.$b7e	INC TMP_ZP
614	.$b80	BNE GCLOOPNOOV
615	.$b82	INC TMP_ZP+1
616	.$b84	GCLOOPNOOV LDA TMP_ZP
617	.$b86	CLC
618	.$b87	ADC GCLEN
619	.$b8a	STA TMP_ZP
620	.$b8c	BCC GCLOOPNOOV2
621	.$b8e	INC TMP_ZP+1  
622	.$b90	GCLOOPNOOV2 LDY #0
623	.$b92	LDA (TMP_ZP),Y
624	.$b94	STA TMP2_ZP
625	.$b96	INY
626	.$b97	LDA (TMP_ZP),Y
627	.$b99	STA TMP2_ZP+1  
628	.$b9b	LDA TMP_ZP
629	.$b9d	CLC
630	.$b9e	ADC #2
631	.$ba0	STA TMP_ZP
632	.$ba2	BCC GCLOOPNOOV3
633	.$ba4	INC TMP_ZP+1  
634	.$ba6	GCLOOPNOOV3 LDY #0
635	.$ba8	LDA (TMP2_ZP),Y
636	.$baa	CMP GCWORK
637	.$bad	BNE GCKLOOP
638	.$baf	INY
639	.$bb0	LDA (TMP2_ZP),Y
640	.$bb2	CMP GCWORK+1
641	.$bb5	BEQ MEMFREE
642	.$bb7	GCKLOOP  LDA TMP_ZP+1  
643	.$bb9	CMP HIGHP+1
644	.$bbc	BEQ GCHECKLOW
645	.$bbe	BCC GCLOOP
646	.$bc0	JMP GCDONE
647	.$bc3	GCHECKLOW LDA TMP_ZP
648	.$bc5	CMP HIGHP
649	.$bc8	BCS GCDONE
650	.$bca	JMP GCLOOP
651	.$bcd	MEMFREE  LDA GCSTART   
652	.$bd0	CMP GCWORK   
653	.$bd3	BNE COPYDOWN
654	.$bd5	LDA GCSTART+1
655	.$bd8	CMP GCWORK+1
656	.$bdb	BNE COPYDOWN
657	.$bdd	LDA TMP_ZP   
658	.$bdf	STA GCSTART
659	.$be2	LDA TMP_ZP+1
660	.$be4	STA GCSTART+1
661	.$be7	JMP GCKLOOP   
662	.$bea	COPYDOWN LDA GCSTART   
663	.$bed	STA TMP_REG
664	.$bef	LDA GCSTART+1
665	.$bf2	STA TMP_REG+1  
666	.$bf4	LDA GCWORK
667	.$bf7	STA TMP2_REG
668	.$bfa	LDA GCWORK+1
669	.$bfd	STA TMP2_REG+1  
670	.$c00	LDA TMP_ZP
671	.$c02	SEC
672	.$c03	SBC GCWORK
673	.$c06	STA TMP3_REG
674	.$c09	LDA TMP_ZP+1
675	.$c0b	SBC GCWORK+1
676	.$c0e	STA TMP3_REG+1  
677	.$c11	LDA GCSTART
678	.$c14	CLC
679	.$c15	ADC TMP3_REG
680	.$c18	STA GCSTART
681	.$c1b	LDA GCSTART+1
682	.$c1e	ADC TMP3_REG+1
683	.$c21	STA GCSTART+1  
684	.$c24	JSR QUICKCOPY  
685	.$c27	LDY #0
686	.$c29	LDA TMP_REG
687	.$c2b	STA (TMP2_ZP),Y
688	.$c2d	INY
689	.$c2e	LDA TMP_REG+1
690	.$c30	STA (TMP2_ZP),Y  
691	.$c32	JMP GCKLOOP
692	.$c35	GCDONE  LDA GCSTART
693	.$c38	STA HIGHP
694	.$c3b	STA STRBUFP
695	.$c3e	LDA GCSTART+1
696	.$c41	STA HIGHP+1
697	.$c44	STA STRBUFP+1  
698	.$c47	GCSKIP  JSR RESTOREPOINTERS
699	.$c4a	RTS     
702	.$c4b	CHECKMEMORY
703	.$c4b	LDA STRBUFP+1  
704	.$c4e	CMP STORE4+1  
705	.$c51	BCC STILLFITSCM  
709	.$c53	BEQ CHECKMEMLOWCM
710	.$c55	JMP OUTOFMEMORY  
711	.$c58	CHECKMEMLOWCM
712	.$c58	LDA STRBUFP   
713	.$c5b	CMP STORE4
714	.$c5e	BCC STILLFITSCM
715	.$c60	JMP OUTOFMEMORY  
716	.$c63	STILLFITSCM RTS
719	.$c64	QUICKCOPY LDA TMP_REG  
720	.$c66	STA TMEM+1
721	.$c69	LDA TMP_REG+1
722	.$c6b	STA TMEM+2
723	.$c6e	LDA TMP2_REG
724	.$c71	STA SMEM+1
725	.$c74	LDA TMP2_REG+1
726	.$c77	STA SMEM+2
727	.$c7a	LDY #$0
728	.$c7c	LDX TMP3_REG
729	.$c7f	BNE QCLOOP
730	.$c81	LDA TMP3_REG+1
731	.$c84	BEQ QCEXIT  
732	.$c86	QCLOOP
733	.$c86	SMEM  LDA $0000,Y
734	.$c89	TMEM  STA $0000,Y
735	.$c8c	INY
736	.$c8d	BNE YNOOV
737	.$c8f	INC TMEM+2
738	.$c92	INC SMEM+2
739	.$c95	YNOOV  DEX
740	.$c96	BNE QCLOOP
741	.$c98	LDA TMP3_REG+1
742	.$c9b	BEQ QCEXIT
743	.$c9d	DEC TMP3_REG+1
744	.$ca0	JMP QCLOOP
745	.$ca3	QCEXIT  RTS
748	.$ca4	COPYSTRING STA TMP2_ZP
749	.$ca6	STY TMP2_ZP+1
750	.$ca8	CPY TMP_ZP+1
751	.$caa	BNE CONTCOPY
752	.$cac	LDA TMP2_ZP
753	.$cae	CMP TMP_ZP
754	.$cb0	BNE CONTCOPY
755	.$cb2	RTS     
756	.$cb3	CONTCOPY JSR COMPACT   
757	.$cb6	LDY #0
758	.$cb8	STY TMP_FLAG
759	.$cbb	LDA (TMP_ZP),Y
760	.$cbd	BNE NOTEMPTYSTR
761	.$cbf	LDA #<EMPTYSTR  
762	.$cc1	STA TMP_ZP
763	.$cc3	LDA #>EMPTYSTR
764	.$cc5	STA TMP_ZP+1
765	.$cc7	JMP ISCONST
766	.$cca	NOTEMPTYSTR TAX     
767	.$ccb	LDA (TMP2_ZP),Y
768	.$ccd	STA TMP3_ZP
769	.$ccf	INY
770	.$cd0	LDA (TMP2_ZP),Y
771	.$cd2	STA TMP3_ZP+1
772	.$cd4	DEY
773	.$cd5	LDA TMP_ZP+1  
774	.$cd7	CMP #>CONSTANTS_END
775	.$cd9	BEQ CHECKLOW1
776	.$cdb	BCS INVAR
777	.$cdd	JMP CHECKNEXT
778	.$ce0	CHECKLOW1 LDA TMP_ZP
779	.$ce2	CMP #<CONSTANTS_END
780	.$ce4	BCS INVAR
781	.$ce6	CHECKNEXT LDA TMP_ZP+1  
782	.$ce8	CMP #>CONSTANTS
783	.$cea	BEQ CHECKLOW3
784	.$cec	BCC INVAR
785	.$cee	JMP ISCONST
786	.$cf1	CHECKLOW3 LDA TMP_ZP
787	.$cf3	CMP #<CONSTANTS
788	.$cf5	BCC INVAR   
789	.$cf7	ISCONST  JSR CHECKLASTVAR 
790	.$cfa	LDA TMP_ZP
791	.$cfc	STA (TMP2_ZP),Y  
792	.$cfe	INY
793	.$cff	LDA TMP_ZP+1
794	.$d01	STA (TMP2_ZP),Y
795	.$d03	LDA HIGHP   
796	.$d06	STA STRBUFP
797	.$d09	LDA HIGHP+1
798	.$d0c	STA STRBUFP+1
799	.$d0f	RTS
800	.$d10	INVAR  INY
801	.$d11	LDA (TMP2_ZP),Y  
802	.$d13	CMP #>CONSTANTS_END
803	.$d15	BEQ CHECKLOW2
804	.$d17	BCS INVAR2
805	.$d19	JMP PUPDATEPTR
806	.$d1c	CHECKLOW2 DEY
807	.$d1d	LDA (TMP2_ZP),Y
808	.$d1f	CMP #<CONSTANTS_END
809	.$d21	BCS INVAR2
810	.$d23	JMP PUPDATEPTR
811	.$d26	INVAR2  LDY #0   
812	.$d28	LDA (TMP3_ZP),Y
813	.$d2a	STA TMP_REG
814	.$d2c	TXA
815	.$d2d	CMP TMP_REG  
816	.$d2f	BEQ UPDATEHP2 
819	.$d31	PUPDATEPTR JSR CHECKLASTVAR
820	.$d34	LDY #1   
821	.$d36	STY TMP_FLAG 
822	.$d39	JMP UPDATEPTR 
823	.$d3c	UPDATEHP2 LDA HIGHP  
824	.$d3f	STA STRBUFP
825	.$d42	LDA HIGHP+1
826	.$d45	STA STRBUFP+1
827	.$d48	JMP STRFITS
828	.$d4b	COPYONLY LDY #0
829	.$d4d	STY TMP_FLAG
830	.$d50	JMP CHECKMEM
831	.$d53	ALTCOPY  JMP COPYSTRING2
832	.$d56	UPDATEPTR LDA TMP_ZP+1 
833	.$d58	CMP HIGHP+1  
834	.$d5b	BEQ CHECKXT1
835	.$d5d	BCS ALTCOPY
836	.$d5f	JMP CHECKMEM
837	.$d62	CHECKXT1 LDA TMP_ZP
838	.$d64	CMP HIGHP
839	.$d67	BCS ALTCOPY
840	.$d69	CHECKMEM
841	.$d69	MEMOK  LDY #0
842	.$d6b	LDA STRBUFP  
843	.$d6e	STA (TMP2_ZP),Y 
844	.$d70	STA TMP3_ZP
845	.$d72	LDA STRBUFP+1
846	.$d75	INY
847	.$d76	STA (TMP2_ZP),Y
848	.$d78	STA TMP3_ZP+1
849	.$d7a	TXA
850	.$d7b	CLC
851	.$d7c	ADC STRBUFP
852	.$d7f	PHP
853	.$d80	CLC
854	.$d81	ADC #3
855	.$d83	STA STRBUFP
856	.$d86	BCC NOCS1
857	.$d88	INC STRBUFP+1
858	.$d8b	NOCS1  PLP
859	.$d8c	BCC STRFITS
860	.$d8e	INC STRBUFP+1
861	.$d91	STRFITS  LDY TMP_FLAG 
862	.$d94	BEQ NOHPUPDATE 
863	.$d96	LDA HIGHP+1
864	.$d99	CMP STRBUFP+1
865	.$d9c	BCC UPDATEHIGHP
866	.$d9e	BEQ CHECKNEXTHP
867	.$da0	JMP NOHPUPDATE
868	.$da3	CHECKNEXTHP LDA HIGHP
869	.$da6	CMP STRBUFP
870	.$da9	BCC UPDATEHIGHP
871	.$dab	JMP NOHPUPDATE
872	.$dae	UPDATEHIGHP LDA STRBUFP
873	.$db1	STA HIGHP
874	.$db4	LDA STRBUFP+1
875	.$db7	STA HIGHP+1  
876	.$dba	JSR REMEMBERLASTVAR
877	.$dbd	JSR STOREVARREF
878	.$dc0	NOHPUPDATE LDY #0
879	.$dc2	LDA (TMP_ZP),Y 
880	.$dc4	STA (TMP3_ZP),Y
881	.$dc6	TAY    
882	.$dc7	BEQ EXITCOPY 
883	.$dc9	LOOP  LDA (TMP_ZP),Y 
884	.$dcb	STA (TMP3_ZP),Y
885	.$dcd	DEY
886	.$dce	BNE LOOP
887	.$dd0	EXITCOPY RTS
892	.$dd1	COPYSTRING2 LDY #0
893	.$dd3	LDA (TMP_ZP),Y
894	.$dd5	STA TMP_REG
895	.$dd7	TAX
896	.$dd8	LDA HIGHP
897	.$ddb	STA TMP3_ZP
898	.$ddd	STA (TMP2_ZP),Y
899	.$ddf	LDA HIGHP+1
900	.$de2	STA TMP3_ZP+1
901	.$de4	INY
902	.$de5	STA (TMP2_ZP),Y
903	.$de7	JSR REMEMBERLASTVAR
906	.$dea	LDA TMP_ZP
907	.$dec	CMP TMP3_ZP
908	.$dee	BNE DOLOOP
909	.$df0	LDA TMP_ZP+1
910	.$df2	CMP TMP3_ZP+1
911	.$df4	BEQ SKIPCP2
912	.$df6	DOLOOP  DEY
913	.$df7	TXA
914	.$df8	STA (TMP3_ZP),Y
915	.$dfa	INY
916	.$dfb	ASLOOP  LDA (TMP_ZP),Y
917	.$dfd	STA (TMP3_ZP),Y
918	.$dff	INY
919	.$e00	DEX
920	.$e01	BNE ASLOOP
921	.$e03	SKIPCP2  LDA HIGHP
922	.$e06	CLC
923	.$e07	ADC TMP_REG
924	.$e09	PHP
925	.$e0a	CLC
926	.$e0b	ADC #3
927	.$e0d	STA HIGHP
928	.$e10	STA STRBUFP
929	.$e13	BCC SKIPLOWAS1
930	.$e15	INC HIGHP+1
931	.$e18	SKIPLOWAS1 PLP
932	.$e19	BCC SKIPLOWAS2
933	.$e1b	INC HIGHP+1
934	.$e1e	SKIPLOWAS2 LDA HIGHP+1
935	.$e21	STA STRBUFP+1
936	.$e24	JSR STOREVARREF
937	.$e27	RTS
941	.$e28	CHECKLASTVAR
942	.$e28	LDA TMP2_ZP
943	.$e2a	CMP LASTVAR
944	.$e2d	BNE NOTSAMEVAR
945	.$e2f	LDA TMP2_ZP+1
946	.$e31	CMP LASTVAR+1
947	.$e34	BNE NOTSAMEVAR
948	.$e36	LDA LASTVARP   
949	.$e39	STA HIGHP
950	.$e3c	STA STRBUFP
951	.$e3f	LDA LASTVARP+1
952	.$e42	STA HIGHP+1
953	.$e45	STA STRBUFP+1
954	.$e48	NOTSAMEVAR RTS
958	.$e49	REMEMBERLASTVAR
959	.$e49	LDA TMP2_ZP
960	.$e4b	STA LASTVAR
961	.$e4e	LDA TMP2_ZP+1
962	.$e50	STA LASTVAR+1
963	.$e53	LDA TMP3_ZP
964	.$e55	STA LASTVARP
965	.$e58	LDA TMP3_ZP+1
966	.$e5a	STA LASTVARP+1 
967	.$e5d	RTS
972	.$e5e	STOREVARREF
973	.$e5e	TYA
974	.$e5f	PHA    
975	.$e60	LDA TMP_ZP
976	.$e62	PHA
977	.$e63	LDA TMP_ZP+1
978	.$e65	PHA
979	.$e66	LDA HIGHP+1
980	.$e69	STA TMP_ZP+1
981	.$e6b	LDA HIGHP
982	.$e6e	SEC
983	.$e6f	SBC #2
984	.$e71	STA TMP_ZP
985	.$e73	BCS RLVNOOV
986	.$e75	DEC TMP_ZP+1
987	.$e77	RLVNOOV  LDA TMP2_ZP
988	.$e79	LDY #0
989	.$e7b	STA (TMP_ZP),Y
990	.$e7d	LDA TMP2_ZP+1
991	.$e7f	INY
992	.$e80	STA (TMP_ZP),Y 
993	.$e82	PLA
994	.$e83	STA TMP_ZP+1
995	.$e85	PLA
996	.$e86	STA TMP_ZP  
997	.$e88	PLA
998	.$e89	TAY    
999	.$e8a	RTS
1002	.$e8b	REROUTE  LDA CMD_NUM  
1003	.$e8e	BEQ REROUTECMD
1004	.$e90	TAX
1005	.$e91	STA CHANNEL
1006	.$e94	JMP CHKOUT
1007	.$e97	REROUTECMD RTS
1010	.$e98	RESETROUTE LDA CMD_NUM  
1011	.$e9b	BEQ RESETROUTECMD
1012	.$e9d	JMP CLRCHNEW
1013	.$ea0	RESETROUTECMD
1014	.$ea0	RTS
1017	.$ea1	INTOUT  JMP REALOUT
1020	.$ea4	INTOUTFASTZ LDX #32    
1021	.$ea6	LDA TMP_ZP+1
1022	.$ea8	BPL INTISPOS
1023	.$eaa	CLC
1024	.$eab	LDA TMP_ZP
1025	.$ead	EOR #$FF
1026	.$eaf	ADC #1
1027	.$eb1	STA TMP_ZP
1028	.$eb3	LDA TMP_ZP+1
1029	.$eb5	EOR #$FF
1030	.$eb7	ADC #0
1031	.$eb9	STA TMP_ZP+1
1032	.$ebb	LDX #45    
1033	.$ebd	INTISPOS
1034	.$ebd	TXA
1035	.$ebe	JSR CHROUT
1036	.$ec1	JSR CONVPOSINT
1037	.$ec4	LDA NUMFLAG
1038	.$ec7	BNE ALLINTOUTDONE
1039	.$ec9	LDA #48
1040	.$ecb	JSR CHROUT
1041	.$ece	ALLINTOUTDONE
1042	.$ece	RTS
1045	.$ecf	NUMBEROUT
1046	.$ecf	BEQ NUMZERO
1047	.$ed1	ORA #$30
1048	.$ed3	STA NUMFLAG
1049	.$ed6	JMP CHROUT
1050	.$ed9	NUMZERO
1051	.$ed9	LDX NUMFLAG
1052	.$edc	BEQ STILLZERO
1053	.$ede	ORA #$30
1054	.$ee0	JMP CHROUT
1055	.$ee3	STILLZERO
1056	.$ee3	RTS
1059	.$ee4	CONVPOSINT
1060	.$ee4	JSR INT2BCD
1061	.$ee7	LDX #0
1062	.$ee9	STX NUMFLAG
1063	.$eec	AND #$0F
1064	.$eee	JSR NUMBEROUT
1065	.$ef1	LDA BCD+1
1066	.$ef4	LSR
1067	.$ef5	LSR
1068	.$ef6	LSR
1069	.$ef7	LSR
1070	.$ef8	JSR NUMBEROUT
1071	.$efb	LDA BCD+1
1072	.$efe	AND #$0F
1073	.$f00	TAY
1074	.$f01	JSR NUMBEROUT
1075	.$f04	LDA BCD
1076	.$f07	LSR
1077	.$f08	LSR
1078	.$f09	LSR
1079	.$f0a	LSR
1080	.$f0b	JSR NUMBEROUT
1081	.$f0e	LDA BCD
1082	.$f11	AND #$0F
1083	.$f13	JSR NUMBEROUT
1084	.$f16	RTS
1087	.$f17	INT2BCD
1088	.$f17	SED
1089	.$f18	LDA #0
1090	.$f1a	STA BCD
1091	.$f1d	STA BCD+1
1092	.$f20	STA BCD+2
1093	.$f23	ASL TMP_ZP
1094	.$f25	ROL TMP_ZP+1
1095	.$f27	LDA BCD
1096	.$f2a	ADC BCD
1097	.$f2d	STA BCD
1098	.$f30	ASL TMP_ZP
1099	.$f32	ROL TMP_ZP+1
1100	.$f34	ADC BCD
1101	.$f37	STA BCD
1102	.$f3a	ASL TMP_ZP
1103	.$f3c	ROL TMP_ZP+1
1104	.$f3e	ADC BCD
1105	.$f41	STA BCD
1106	.$f44	ASL TMP_ZP
1107	.$f46	ROL TMP_ZP+1
1108	.$f48	ADC BCD
1109	.$f4b	STA BCD
1110	.$f4e	ASL TMP_ZP
1111	.$f50	ROL TMP_ZP+1
1112	.$f52	ADC BCD
1113	.$f55	STA BCD
1114	.$f58	ASL TMP_ZP
1115	.$f5a	ROL TMP_ZP+1
1116	.$f5c	ADC BCD
1117	.$f5f	STA BCD
1118	.$f62	LDX #7
1119	.$f64	BCDBIT1
1120	.$f64	ASL TMP_ZP
1121	.$f66	ROL TMP_ZP+1
1122	.$f68	LDA BCD
1123	.$f6b	ADC BCD
1124	.$f6e	STA BCD
1125	.$f71	LDA BCD+1
1126	.$f74	ADC BCD+1
1127	.$f77	STA BCD+1
1128	.$f7a	DEX
1129	.$f7b	BNE BCDBIT1
1130	.$f7d	LDX #3
1131	.$f7f	BCDBIT2
1132	.$f7f	ASL TMP_ZP
1133	.$f81	ROL TMP_ZP+1
1134	.$f83	LDA BCD
1135	.$f86	ADC BCD
1136	.$f89	STA BCD
1137	.$f8c	LDA BCD+1
1138	.$f8f	ADC BCD+1
1139	.$f92	STA BCD+1
1140	.$f95	LDA BCD+2
1141	.$f98	ADC BCD+2
1142	.$f9b	STA BCD+2
1143	.$f9e	DEX
1144	.$f9f	BNE BCDBIT2
1145	.$fa1	CLD
1146	.$fa2	RTS
1147	.$fa3	BCD
1148	.$fa3	.WORD 0 0
1149	.$fa7	NUMFLAG
1150	.$fa7	.BYTE 0
1153	.$fa8	REALOUTFAST JSR FACINT
1154	.$fab	STA TMP_ZP+1
1155	.$fad	STY TMP_ZP
1156	.$faf	JMP INTOUTFASTZ
1159	.$fb2	CHECKFORFASTOUT
1160	.$fb2	JSR REROUTE
1161	.$fb5	JSR XREGFAC
1162	.$fb8	LDA FACEXP
1163	.$fba	CMP #$90
1164	.$fbc	BCS REALOUTINT
1165	.$fbe	CMP #$81
1166	.$fc0	BCC REALOUTINT
1167	.$fc2	MAYBEREALOUTFAST
1168	.$fc2	LDA FACEXP+3
1169	.$fc4	BNE REALOUTINT
1170	.$fc6	LDA FACEXP+4
1171	.$fc8	BNE REALOUTINT
1172	.$fca	LDA FACEXP
1173	.$fcc	SEC
1174	.$fcd	SBC #129
1175	.$fcf	ASL
1176	.$fd0	TAX
1177	.$fd1	LDA FACEXP+1
1178	.$fd3	AND MANTMASK,X
1179	.$fd6	BNE REALOUTINT
1180	.$fd8	INX
1181	.$fd9	LDA FACEXP+2
1182	.$fdb	AND MANTMASK,X
1183	.$fde	BNE REALOUTINT
1184	.$fe0	JMP REALOUTFAST
1185	.$fe3	REALOUTINT LDY #0
1186	.$fe5	JSR FACSTR
1187	.$fe8	LDY #0
1188	.$fea	LDA LOFBUF,Y
1189	.$fed	STRLOOPRO JSR CHROUT
1190	.$ff0	INY
1191	.$ff1	LDA LOFBUF,Y
1192	.$ff4	BNE STRLOOPRO
1193	.$ff6	RTS
1194	.$ff7	MANTMASK
1195	.$ff7	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
1198	.$1015	REALOUT  LDA X_REG
1199	.$1017	BNE RNOTNULL
1200	.$1019	JMP PRINTNULL
1201	.$101c	RNOTNULL JSR CHECKFORFASTOUT
1202	.$101f	JMP RESETROUTE
1205	.$1022	REALOUTBRK  LDA X_REG
1206	.$1024	BNE RNOTNULLBRK
1207	.$1026	JMP PRINTNULLBRK
1208	.$1029	RNOTNULLBRK JSR CHECKFORFASTOUT
1209	.$102c	LDA #$0D
1210	.$102e	JSR CHROUT
1211	.$1031	JMP RESETROUTE
1214	.$1034	PRINTNULL JSR REROUTE
1215	.$1037	LDA #$20
1216	.$1039	JSR CHROUT
1217	.$103c	LDA #$30
1218	.$103e	JSR CHROUT
1219	.$1041	JMP RESETROUTE
1222	.$1044	PRINTNULLBRK
1223	.$1044	JSR REROUTE
1224	.$1047	LDA #$20
1225	.$1049	JSR CHROUT
1226	.$104c	LDA #$30
1227	.$104e	JSR CHROUT
1228	.$1051	LDA #$0D
1229	.$1053	JSR CHROUT
1230	.$1056	JMP RESETROUTE
1233	.$1059	STROUTWL STA A_REG
1234	.$105c	STY A_REG+1
1235	.$105f	STROUT  JSR REROUTE
1236	.$1062	LDA A_REG
1237	.$1065	STA INDEX1
1238	.$1067	LDA A_REG+1
1239	.$106a	STA INDEX1+1
1240	.$106c	LDY #0
1241	.$106e	LDA (INDEX1),Y
1242	.$1070	TAX
1243	.$1071	INC INDEX1
1244	.$1073	BNE PRINTSTR
1245	.$1075	INC INDEX1+1
1246	.$1077	PRINTSTR JSR PRINTSTRS
1247	.$107a	LDA HIGHP   
1248	.$107d	STA STRBUFP
1249	.$1080	LDA HIGHP+1
1250	.$1083	STA STRBUFP+1
1251	.$1086	JSR RESETROUTE
1252	.$1089	RTS
1255	.$108a	STROUTBRKWL STA A_REG
1256	.$108d	STY A_REG+1
1257	.$1090	STROUTBRK JSR REROUTE
1258	.$1093	LDA A_REG
1259	.$1096	STA INDEX1
1260	.$1098	LDA A_REG+1
1261	.$109b	STA INDEX1+1
1262	.$109d	LDY #0
1263	.$109f	LDA (INDEX1),Y
1264	.$10a1	TAX
1265	.$10a2	INC INDEX1
1266	.$10a4	BNE PRINTSTR2
1267	.$10a6	INC INDEX1+1
1268	.$10a8	PRINTSTR2 JSR PRINTSTRS
1269	.$10ab	LDA HIGHP   
1270	.$10ae	STA STRBUFP
1271	.$10b1	LDA HIGHP+1
1272	.$10b4	STA STRBUFP+1
1273	.$10b7	LDA #$0D
1274	.$10b9	JSR CHROUT
1275	.$10bc	JMP RESETROUTE  
1278	.$10bf	TABOUT  JSR REROUTE
1279	.$10c2	LDA CMD_NUM
1280	.$10c5	BEQ NORMALTABOUT  
1281	.$10c7	CMP #3
1282	.$10c9	BEQ NORMALTABOUT2  
1283	.$10cb	JMP TABOUTCHANNEL2
1284	.$10ce	NORMALTABOUT2
1285	.$10ce	JSR CLRCHNEW
1286	.$10d1	NORMALTABOUT
1287	.$10d1	SEC
1288	.$10d2	JSR CRSRPOS
1289	.$10d5	TYA
1290	.$10d6	SEC
1291	.$10d7	TABSUB   SBC #$0A
1292	.$10d9	BCS TABSUB
1293	.$10db	EOR #$FF
1294	.$10dd	ADC #$01
1295	.$10df	TAX
1296	.$10e0	INX
1297	.$10e1	TABLOOP  DEX
1298	.$10e2	BNE TABRIGHT
1299	.$10e4	RTS
1300	.$10e5	TABRIGHT JSR CRSRRIGHT
1301	.$10e8	JMP TABLOOP
1304	.$10eb	ARRAYACCESS_INTEGER_S
1305	.$10eb	STA G_REG
1306	.$10ed	STY G_REG+1
1307	.$10ef	ARRAYACCESS_INTEGER
1308	.$10ef	JSR XREGFAC
1309	.$10f2	ARRAYACCESS_INTEGER_NX
1310	.$10f2	JSR FACINT
1311	.$10f5	ARRAYACCESS_INTEGER_INT
1312	.$10f5	LDX G_REG
1313	.$10f7	STX TMP_ZP
1314	.$10f9	LDX G_REG+1
1315	.$10fb	STX TMP_ZP+1
1316	.$10fd	TAX
1317	.$10fe	TYA
1318	.$10ff	ASL
1319	.$1100	STA TMP2_ZP
1320	.$1102	TXA
1321	.$1103	ROL
1322	.$1104	STA TMP2_ZP+1
1323	.$1106	LDA TMP_ZP
1324	.$1108	CLC
1325	.$1109	ADC TMP2_ZP
1326	.$110b	STA TMP_ZP
1327	.$110d	LDA TMP_ZP+1
1328	.$110f	ADC TMP2_ZP+1
1329	.$1111	STA TMP_ZP+1
1330	.$1113	AIIDI  LDY #1
1331	.$1115	LDA (TMP_ZP),Y
1332	.$1117	TAX
1333	.$1118	DEY
1334	.$1119	LDA (TMP_ZP),Y
1335	.$111b	TAY
1336	.$111c	TXA
1337	.$111d	STY TMP2_ZP  
1338	.$111f	STA TMP2_ZP+1
1339	.$1121	JSR INTFAC
1340	.$1124	JMP FACXREG 
1343	.$1127	ARRAYACCESS_INTEGER_INT_PRE
1344	.$1127	LDX G_REG
1345	.$1129	STX TMP_ZP
1346	.$112b	LDX G_REG+1
1347	.$112d	STX TMP_ZP+1
1348	.$112f	JMP AIIDI
1351	.$1132	ARRAYACCESS_REAL_INT_PRE
1352	.$1132	LDX G_REG
1353	.$1134	STX TMP3_ZP
1354	.$1136	LDX G_REG+1
1355	.$1138	STX TMP3_ZP+1
1356	.$113a	JMP COPY2_XY_XREG
1359	.$113d	ARRAYSTORE_INTEGER
1360	.$113d	JSR XREGFAC
1361	.$1140	ARRAYSTORE_INTEGER_NX
1362	.$1140	JSR FACINT
1363	.$1143	ARRAYSTORE_INTEGER_INT
1364	.$1143	LDX G_REG
1365	.$1145	STX TMP_ZP
1366	.$1147	LDX G_REG+1
1367	.$1149	STX TMP_ZP+1
1368	.$114b	TAX
1369	.$114c	TYA
1370	.$114d	ASL
1371	.$114e	STA TMP2_ZP
1372	.$1150	TXA
1373	.$1151	ROL
1374	.$1152	STA TMP2_ZP+1
1375	.$1154	LDA TMP_ZP
1376	.$1156	CLC
1377	.$1157	ADC TMP2_ZP
1378	.$1159	STA TMP_ZP
1379	.$115b	LDA TMP_ZP+1
1380	.$115d	ADC TMP2_ZP+1
1381	.$115f	STA TMP_ZP+1
1382	.$1161	JSR YREGFAC
1383	.$1164	JSR FACINT
1384	.$1167	STY TMP3_ZP
1385	.$1169	LDY #1
1386	.$116b	STA (TMP_ZP),Y
1387	.$116d	DEY
1388	.$116e	LDA TMP3_ZP
1389	.$1170	STA (TMP_ZP),Y
1390	.$1172	RTS
1393	.$1173	ARRAYSTORE_REAL
1394	.$1173	JSR XREGFAC
1395	.$1176	JSR FACINT
1396	.$1179	ARRAYSTORE_REAL_INT
1397	.$1179	LDX G_REG
1398	.$117b	STX TMP_ZP
1399	.$117d	LDX G_REG+1
1400	.$117f	STX TMP_ZP+1
1401	.$1181	STY TMP3_ZP
1402	.$1183	STA TMP3_ZP+1
1403	.$1185	TAX
1404	.$1186	TYA
1405	.$1187	ASL
1406	.$1188	TAY
1407	.$1189	TXA
1408	.$118a	ROL
1409	.$118b	TAX
1410	.$118c	TYA
1411	.$118d	ASL
1412	.$118e	STA TMP2_ZP
1413	.$1190	TXA
1414	.$1191	ROL
1415	.$1192	STA TMP2_ZP+1
1416	.$1194	LDA TMP_ZP
1417	.$1196	CLC
1418	.$1197	ADC TMP3_ZP
1419	.$1199	STA TMP_ZP
1420	.$119b	LDA TMP_ZP+1
1421	.$119d	ADC TMP3_ZP+1
1422	.$119f	STA TMP_ZP+1
1423	.$11a1	LDA TMP_ZP
1424	.$11a3	CLC
1425	.$11a4	ADC TMP2_ZP
1426	.$11a6	STA TMP_ZP
1427	.$11a8	LDA TMP_ZP+1
1428	.$11aa	ADC TMP2_ZP+1
1429	.$11ac	STA TMP_ZP+1
1430	.$11ae	JMP COPY2_YREG_XYA 
1433	.$11b1	ADJUSTSTACK LDA FORSTACKP 
1434	.$11b4	STA TMP_ZP
1435	.$11b6	LDA FORSTACKP+1
1436	.$11b9	STA TMP_ZP+1
1437	.$11bb	ADSEARCHFOR LDA TMP_ZP
1438	.$11bd	CMP #<FORSTACK
1439	.$11bf	BNE ADJUST2
1440	.$11c1	LDA TMP_ZP+1
1441	.$11c3	CMP #>FORSTACK
1442	.$11c5	BNE ADJUST2
1443	.$11c7	RTS    
1444	.$11c8	ADJUST2  LDA TMP_ZP
1445	.$11ca	SEC
1446	.$11cb	SBC #2
1447	.$11cd	STA TMP_ZP
1448	.$11cf	BCS ADNOPV1N1
1449	.$11d1	DEC TMP_ZP+1
1450	.$11d3	ADNOPV1N1 LDY #0
1451	.$11d5	LDA (TMP_ZP),Y
1452	.$11d7	BNE ADNOGOSUB
1453	.$11d9	RTS    
1454	.$11da	ADNOGOSUB
1455	.$11da	INY
1456	.$11db	LDA TMP_ZP
1457	.$11dd	SEC
1458	.$11de	SBC (TMP_ZP),Y
1459	.$11e0	STA TMP_ZP
1460	.$11e2	BCS ADNOPV1N2
1461	.$11e4	DEC TMP_ZP+1
1462	.$11e6	ADNOPV1N2 DEY
1463	.$11e7	LDA A_REG
1464	.$11ea	ADCMPFOR CMP (TMP_ZP),Y
1465	.$11ec	BNE ADSEARCHFOR
1466	.$11ee	LDA A_REG+1
1467	.$11f1	INY
1468	.$11f2	CMP (TMP_ZP),Y
1469	.$11f4	BEQ ADFOUNDFOR
1470	.$11f6	JMP ADSEARCHFOR
1471	.$11f9	ADLOW0  LDX A_REG+1
1472	.$11fc	BEQ ADFOUNDFOR
1473	.$11fe	BNE ADCMPFOR
1474	.$1200	ADFOUNDFOR LDA TMP_ZP  
1475	.$1202	STA FORSTACKP
1476	.$1205	LDA TMP_ZP+1
1477	.$1207	STA FORSTACKP+1
1478	.$120a	RTS
1481	.$120b	INITFOR  JSR ADJUSTSTACK
1482	.$120e	LDA FORSTACKP
1483	.$1211	STA TMP_ZP
1484	.$1213	LDA FORSTACKP+1
1485	.$1216	STA TMP_ZP+1
1486	.$1218	LDY #0
1487	.$121a	LDA A_REG
1488	.$121d	STA (TMP_ZP),Y
1489	.$121f	INY
1490	.$1220	LDA A_REG+1
1491	.$1223	STA (TMP_ZP),Y
1492	.$1225	INY
1493	.$1226	LDA JUMP_TARGET
1494	.$1228	STA (TMP_ZP),Y
1495	.$122a	INY
1496	.$122b	LDA JUMP_TARGET+1
1497	.$122d	STA (TMP_ZP),Y
1498	.$122f	INY
1499	.$1230	STY TMP3_ZP
1500	.$1232	JSR INCTMPZP
1501	.$1235	JSR POPREAL
1502	.$1238	LDX TMP_ZP
1503	.$123a	LDY TMP_ZP+1
1505	.$123c	JSR FACMEM
1506	.$123f	JSR SGNFAC
1507	.$1242	STA TMP_FLAG
1508	.$1245	LDY #5
1509	.$1247	STY TMP3_ZP
1510	.$1249	JSR INCTMPZP
1511	.$124c	JSR POPREAL
1512	.$124f	LDX TMP_ZP
1513	.$1251	LDY TMP_ZP+1
1515	.$1253	JSR FACMEM
1516	.$1256	LDY #5
1517	.$1258	STY TMP3_ZP
1518	.$125a	JSR INCTMPZP
1519	.$125d	LDY #0
1520	.$125f	LDA TMP_FLAG
1521	.$1262	STA (TMP_ZP),Y
1522	.$1264	INY
1523	.$1265	LDA #1
1524	.$1267	STA (TMP_ZP),Y
1525	.$1269	INY
1526	.$126a	LDA #15
1527	.$126c	STA (TMP_ZP),Y
1528	.$126e	LDY #3
1529	.$1270	STY TMP3_ZP
1530	.$1272	JSR INCTMPZP
1531	.$1275	LDA TMP_ZP
1532	.$1277	STA FORSTACKP
1533	.$127a	LDA TMP_ZP+1
1534	.$127c	STA FORSTACKP+1
1535	.$127f	RTS
1538	.$1280	NEXT  LDA FORSTACKP
1539	.$1283	STA TMP_ZP
1540	.$1285	LDA FORSTACKP+1
1541	.$1288	STA TMP_ZP+1
1542	.$128a	SEARCHFOR LDA TMP_ZP+1
1543	.$128c	STA TMP3_REG+1
1544	.$128f	LDA TMP_ZP
1545	.$1291	STA TMP3_REG
1546	.$1294	SEC
1547	.$1295	SBC #2
1548	.$1297	STA TMP_ZP
1549	.$1299	BCS NOPV1N1
1550	.$129b	DEC TMP_ZP+1
1551	.$129d	NOPV1N1  LDY #0
1552	.$129f	LDA (TMP_ZP),Y
1553	.$12a1	BNE NOGOSUB
1554	.$12a3	JMP NEXTWOFOR
1555	.$12a6	NOGOSUB
1556	.$12a6	INY
1557	.$12a7	LDA TMP_ZP
1558	.$12a9	SEC
1559	.$12aa	SBC (TMP_ZP),Y
1560	.$12ac	STA TMP_ZP
1561	.$12ae	BCS NOPV1N2
1562	.$12b0	DEC TMP_ZP+1
1563	.$12b2	NOPV1N2  DEY
1564	.$12b3	LDA A_REG
1565	.$12b6	BEQ LOW0
1566	.$12b8	CMPFOR  CMP (TMP_ZP),Y
1567	.$12ba	BNE SEARCHFOR
1568	.$12bc	LDA A_REG+1
1569	.$12bf	INY
1570	.$12c0	CMP (TMP_ZP),Y
1571	.$12c2	BEQ FOUNDFOR
1572	.$12c4	JMP SEARCHFOR
1573	.$12c7	LOW0  LDX A_REG+1
1574	.$12ca	BEQ FOUNDFOR
1575	.$12cc	BNE CMPFOR
1576	.$12ce	FOUNDFOR LDA TMP_ZP
1577	.$12d0	STA TMP2_REG
1578	.$12d3	LDA TMP_ZP+1
1579	.$12d5	STA TMP2_REG+1
1580	.$12d8	VARREAL
1581	.$12d8	LDY #0
1582	.$12da	STY A_REG+1 
1583	.$12dd	LDA (TMP_ZP),Y
1584	.$12df	TAX
1585	.$12e0	INY
1586	.$12e1	LDA (TMP_ZP),Y
1587	.$12e3	TAY
1588	.$12e4	TXA
1589	.$12e5	JSR REALFAC
1590	.$12e8	CALCNEXT LDA TMP_ZP
1591	.$12ea	CLC
1592	.$12eb	ADC #4
1593	.$12ed	STA TMP_ZP
1594	.$12ef	BCC NOPV2IN
1595	.$12f1	INC TMP_ZP+1
1596	.$12f3	NOPV2IN  STA TMP_REG
1597	.$12f5	LDY TMP_ZP+1
1598	.$12f7	STY TMP_REG+1
1599	.$12f9	JSR FASTFADDMEM
1601	.$12fc	LDA TMP2_REG
1602	.$12ff	STA TMP_ZP
1603	.$1301	LDA TMP2_REG+1
1604	.$1304	STA TMP_ZP+1
1605	.$1306	STOREREAL
1606	.$1306	LDY #0
1607	.$1308	LDA (TMP_ZP),Y
1608	.$130a	TAX
1609	.$130b	INY
1610	.$130c	LDA (TMP_ZP),Y
1611	.$130e	TAY
1612	.$130f	JSR FACMEM 
1613	.$1312	CMPFORXX LDA #5
1614	.$1314	STA TMP3_ZP
1615	.$1316	LDA TMP_REG
1616	.$1318	CLC
1617	.$1319	ADC #5
1618	.$131b	STA TMP_REG
1619	.$131d	BCC NOPV3
1620	.$131f	INC TMP_REG+1
1621	.$1321	NOPV3  LDY TMP_REG+1
1622	.$1323	JSR CMPFAC  
1623	.$1326	BEQ LOOPING
1624	.$1328	PHA
1625	.$1329	LDY #14
1626	.$132b	LDA (TMP_ZP),Y
1627	.$132d	BEQ STEPZERO
1628	.$132f	ROL
1629	.$1330	BCC STEPPOS
1630	.$1332	STEPNEG  PLA
1631	.$1333	ROL
1632	.$1334	BCC LOOPING
1633	.$1336	BCS EXITLOOP
1634	.$1338	STEPPOS  PLA
1635	.$1339	ROL
1636	.$133a	BCC EXITLOOP
1637	.$133c	LOOPING  LDA TMP3_REG
1638	.$133f	STA FORSTACKP
1639	.$1342	LDA TMP3_REG+1
1640	.$1345	STA FORSTACKP+1
1641	.$1348	LDA TMP2_REG
1642	.$134b	CLC
1643	.$134c	ADC #2
1644	.$134e	STA TMP2_REG
1645	.$1351	BCC NOPV4IN
1646	.$1353	INC TMP2_REG+1
1647	.$1356	NOPV4IN  LDY #0
1648	.$1358	STY A_REG
1649	.$135b	STA TMP_ZP
1650	.$135d	LDA TMP2_REG+1
1651	.$1360	STA TMP_ZP+1
1652	.$1362	LDA (TMP_ZP),Y
1653	.$1364	STA JUMP_TARGET
1654	.$1366	INY
1655	.$1367	LDA (TMP_ZP),Y
1656	.$1369	STA JUMP_TARGET+1
1657	.$136b	RTS
1658	.$136c	STEPZERO PLA
1659	.$136d	JMP LOOPING
1660	.$1370	EXITLOOP LDA TMP2_REG
1661	.$1373	STA FORSTACKP
1662	.$1376	LDA TMP2_REG+1
1663	.$1379	STA FORSTACKP+1
1664	.$137c	LDA #1
1665	.$137e	STA A_REG
1666	.$1381	RTS
1669	.$1382	READINIT LDA DATASP
1670	.$1385	STA TMP3_ZP
1671	.$1387	LDA DATASP+1
1672	.$138a	STA TMP3_ZP+1
1673	.$138c	LDY #$0
1674	.$138e	LDA (TMP3_ZP),Y
1675	.$1390	INC TMP3_ZP
1676	.$1392	BNE READNOOV
1677	.$1394	INC TMP3_ZP+1
1678	.$1396	READNOOV CMP #$FF
1679	.$1398	BNE MOREDATA
1680	.$139a	JMP OUTOFDATA
1681	.$139d	MOREDATA RTS
1684	.$139e	READADDPTR STX TMP_REG+1
1685	.$13a0	LDA TMP3_ZP
1686	.$13a2	CLC
1687	.$13a3	ADC TMP_REG+1
1688	.$13a5	STA TMP3_ZP
1689	.$13a7	BCC READADDPTRX
1690	.$13a9	INC TMP3_ZP+1
1691	.$13ab	READADDPTRX RTS
1694	.$13ac	READNUMBER JSR READINIT
1695	.$13af	MORENUMDATA CMP #$2    
1696	.$13b1	BNE NUMNUM
1697	.$13b3	LDA (TMP3_ZP),Y  
1698	.$13b5	BEQ RNESTR
1699	.$13b7	CMP #1    
1700	.$13b9	BEQ STRGNUMCHK
1701	.$13bb	JMP SYNTAXERROR
1702	.$13be	STRGNUMCHK  INY
1703	.$13bf	LDA (TMP3_ZP),Y
1704	.$13c1	CMP #46    
1705	.$13c3	BEQ RNESTR2
1706	.$13c5	CMP #69    
1707	.$13c7	BEQ RNESTR2
1708	.$13c9	JMP SYNTAXERROR
1709	.$13cc	RNESTR2  LDA #0
1710	.$13ce	LDY #0
1711	.$13d0	JSR INTFAC
1712	.$13d3	LDX #2
1713	.$13d5	JSR READADDPTR
1714	.$13d8	JMP NUMREAD
1715	.$13db	RNESTR  LDA #0
1716	.$13dd	LDY #0
1717	.$13df	JSR INTFAC
1718	.$13e2	LDX #1
1719	.$13e4	JSR READADDPTR
1720	.$13e7	JMP NUMREAD
1721	.$13ea	NUMNUM  CMP #$1
1722	.$13ec	BEQ NUMREADREAL
1723	.$13ee	CMP #$0
1724	.$13f0	BEQ NUMREADINT
1725	.$13f2	CMP #$4
1726	.$13f4	BCS READNOTYPE
1727	.$13f6	LDA (TMP3_ZP),Y
1728	.$13f8	TAY
1729	.$13f9	JSR BYTEFAC
1730	.$13fc	LDX #1
1731	.$13fe	JSR READADDPTR
1732	.$1401	JMP NUMREAD   
1733	.$1404	READNOTYPE TAY     
1734	.$1405	JSR BYTEFAC
1735	.$1408	JMP NUMREAD
1736	.$140b	NUMREADINT LDA (TMP3_ZP),Y  
1737	.$140d	STA TMP_REG
1738	.$140f	INY
1739	.$1410	LDA (TMP3_ZP),Y
1740	.$1412	LDY TMP_REG
1741	.$1414	JSR INTFAC
1742	.$1417	LDX #2
1743	.$1419	JSR READADDPTR
1744	.$141c	JMP NUMREAD
1745	.$141f	NUMREADREAL LDA TMP3_ZP
1746	.$1421	LDY TMP3_ZP+1
1747	.$1423	JSR REALFAC
1748	.$1426	LDX #5
1749	.$1428	JSR READADDPTR
1750	.$142b	NUMREAD  JSR NEXTDATA
1751	.$142e	JMP FACYREG  
1754	.$1431	READSTR  JSR READINIT
1755	.$1434	CMP #$2
1756	.$1436	BNE DATA2STR  
1757	.$1438	LDA TMP3_ZP
1758	.$143a	STA A_REG
1759	.$143d	LDA TMP3_ZP+1
1760	.$143f	STA A_REG+1
1761	.$1442	LDA (TMP3_ZP),Y
1762	.$1444	CLC
1763	.$1445	ADC TMP3_ZP
1764	.$1447	STA TMP3_ZP
1765	.$1449	BCC READNOOV2
1766	.$144b	INC TMP3_ZP+1
1767	.$144d	READNOOV2 JSR NEXTDATA
1768	.$1450	INC DATASP
1769	.$1453	BNE READNOOV3
1770	.$1455	INC DATASP+1
1771	.$1458	READNOOV3 RTS
1774	.$1459	NEXTDATA LDA TMP3_ZP   
1775	.$145b	STA DATASP
1776	.$145e	LDA TMP3_ZP+1
1777	.$1460	STA DATASP+1
1778	.$1463	RTS
1781	.$1464	DATA2STR CMP #$1
1782	.$1466	BEQ DREAL2STR  
1783	.$1468	CMP #$0
1784	.$146a	BEQ DATA2STRINT
1785	.$146c	CMP #$4
1786	.$146e	BCS DSHORTBYTE
1787	.$1470	LDA (TMP3_ZP),Y  
1788	.$1472	TAY
1789	.$1473	JSR BYTEFAC
1790	.$1476	LDX #1
1791	.$1478	JSR READADDPTR
1792	.$147b	JMP DFAC2STR
1793	.$147e	DATA2STRINT LDA (TMP3_ZP),Y  
1794	.$1480	STA TMP_REG
1795	.$1482	INY
1796	.$1483	LDA (TMP3_ZP),Y
1797	.$1485	LDY TMP_REG
1798	.$1487	JSR INTFAC
1799	.$148a	LDX #2
1800	.$148c	JSR READADDPTR
1801	.$148f	JMP DFAC2STR
1802	.$1492	DSHORTBYTE TAY
1803	.$1493	JSR BYTEFAC
1804	.$1496	JMP DFAC2STR
1805	.$1499	DREAL2STR LDA TMP3_ZP
1806	.$149b	LDY TMP3_ZP+1
1807	.$149d	JSR REALFAC
1808	.$14a0	LDX #5
1809	.$14a2	JSR READADDPTR
1810	.$14a5	DFAC2STR JSR NEXTDATA
1811	.$14a8	JMP STRINTREAD
1814	.$14ab	STRINTREAD LDY #1   
1815	.$14ad	JSR FACSTR
1816	.$14b0	LDY #0
1817	.$14b2	STY TMP_ZP+1
1818	.$14b4	LDA #LOFBUF
1819	.$14b6	STA TMP_ZP
1820	.$14b8	DEY
1821	.$14b9	STRLOOPREAD INY
1822	.$14ba	LDA LOFBUFH,Y
1823	.$14bd	BNE STRLOOPREAD
1824	.$14bf	STY LOFBUF
1825	.$14c1	TYA
1826	.$14c2	TAX   
1827	.$14c3	LDA LOFBUFH
1828	.$14c6	CMP #$20
1829	.$14c8	BNE STRREADNP
1830	.$14ca	INC TMP_ZP 
1831	.$14cc	INC TMP_ZP+1
1832	.$14ce	DEC LOFBUF
1833	.$14d0	LDA LOFBUF
1834	.$14d2	STA LOFBUFH  
1835	.$14d5	DEX    
1836	.$14d6	STRREADNP LDA #<A_REG
1837	.$14d8	LDY #>A_REG
1838	.$14da	STA TMP2_ZP
1839	.$14dc	STY TMP2_ZP+1
1840	.$14de	JMP COPYONLY
1843	.$14e1	REALFACPUSH STA TMP_ZP
1844	.$14e3	STY TMP_ZP+1
1845	.$14e5	LDX FPSTACKP
1846	.$14e8	LDY FPSTACKP+1
1847	.$14eb	STX TMP2_ZP
1848	.$14ed	STY TMP2_ZP+1
1849	.$14ef	LDY #0
1850	.$14f1	LDA (TMP_ZP),Y
1851	.$14f3	STA (TMP2_ZP),Y
1852	.$14f5	INY
1853	.$14f6	LDA (TMP_ZP),Y
1854	.$14f8	STA (TMP2_ZP),Y
1855	.$14fa	INY
1856	.$14fb	LDA (TMP_ZP),Y
1857	.$14fd	STA (TMP2_ZP),Y
1858	.$14ff	INY
1859	.$1500	LDA (TMP_ZP),Y
1860	.$1502	STA (TMP2_ZP),Y
1861	.$1504	INY
1862	.$1505	LDA (TMP_ZP),Y
1863	.$1507	STA (TMP2_ZP),Y
1864	.$1509	TXA    
1865	.$150a	CLC
1866	.$150b	ADC #5
1867	.$150d	STA FPSTACKP
1868	.$1510	BCC NOPVRFPXX
1869	.$1512	INC FPSTACKP+1
1870	.$1515	NOPVRFPXX RTS
1873	.$1516	POPREAL  LDA FPSTACKP
1874	.$1519	SEC
1875	.$151a	SBC #5
1876	.$151c	STA FPSTACKP
1877	.$151f	BCS NOPVPR
1878	.$1521	DEC FPSTACKP+1
1879	.$1524	NOPVPR  LDA FPSTACKP
1880	.$1527	LDY FPSTACKP+1
1881	.$152a	JMP REALFAC
1884	.$152d	INCTMPZP LDA TMP_ZP
1885	.$152f	CLC
1886	.$1530	ADC TMP3_ZP
1887	.$1532	STA TMP_ZP
1888	.$1534	BCC NOPV2
1889	.$1536	INC TMP_ZP+1
1890	.$1538	NOPV2  RTS
1893	.$1539	COPY2_YREG_XYA
1894	.$1539	LDY #0
1895	.$153b	LDA Y_REG
1896	.$153e	STA (TMP_ZP),Y
1897	.$1540	INY
1898	.$1541	LDA Y_REG+1
1899	.$1544	STA (TMP_ZP),Y
1900	.$1546	INY
1901	.$1547	LDA Y_REG+2
1902	.$154a	STA (TMP_ZP),Y
1903	.$154c	INY
1904	.$154d	LDA Y_REG+3
1905	.$1550	STA (TMP_ZP),Y
1906	.$1552	INY
1907	.$1553	LDA Y_REG+4
1908	.$1556	STA (TMP_ZP),Y
1909	.$1558	RTS
1912	.$1559	COPY2_XYA_XREG
1913	.$1559	STA TMP3_ZP
1914	.$155b	STY TMP3_ZP+1
1915	.$155d	COPY2_XY_XREG
1916	.$155d	LDX #<X_REG  
1917	.$155f	LDY #0
1918	.$1561	LDA (TMP3_ZP),Y
1919	.$1563	STA X_REG
1920	.$1565	INY
1921	.$1566	LDA (TMP3_ZP),Y
1922	.$1568	STA X_REG+1
1923	.$156a	INY
1924	.$156b	LDA (TMP3_ZP),Y
1925	.$156d	STA X_REG+2
1926	.$156f	INY
1927	.$1570	LDA (TMP3_ZP),Y
1928	.$1572	STA X_REG+3
1929	.$1574	INY
1930	.$1575	LDA (TMP3_ZP),Y
1931	.$1577	STA X_REG+4
1932	.$1579	RTS
1935	.$157a	COPY2_XYA_YREG
1936	.$157a	STA TMP3_ZP
1937	.$157c	STY TMP3_ZP+1
1938	.$157e	COPY2_XY_YREG
1939	.$157e	LDX #<Y_REG  
1940	.$1580	LDY #0
1941	.$1582	LDA (TMP3_ZP),Y
1942	.$1584	STA Y_REG
1943	.$1587	INY
1944	.$1588	LDA (TMP3_ZP),Y
1945	.$158a	STA Y_REG+1
1946	.$158d	INY
1947	.$158e	LDA (TMP3_ZP),Y
1948	.$1590	STA Y_REG+2
1949	.$1593	INY
1950	.$1594	LDA (TMP3_ZP),Y
1951	.$1596	STA Y_REG+3
1952	.$1599	INY
1953	.$159a	LDA (TMP3_ZP),Y
1954	.$159c	STA Y_REG+4
1955	.$159f	RTS
1959	.$15a0	FACWORD
1960	.$15a0	LDA FACEXP   
1961	.$15a2	BNE DOFACWORD
1962	.$15a4	STA FACSGN   
1963	.$15a6	DOFACWORD:
1964	.$15a6	JMP XFACWORD
1968	.$15a9	INITOUTCHANNEL
1969	.$15a9	LDA CHLOCKFLAG
1970	.$15ac	BEQ INITOUT2
1971	.$15ae	CMP #$FF
1972	.$15b0	BNE SKIPINITCH
1973	.$15b2	INITOUT2
1974	.$15b2	LDA #<C_REG
1975	.$15b4	LDY #>C_REG
1976	.$15b6	JSR REALFAC
1977	.$15b9	JSR FACWORD
1978	.$15bc	TYA
1979	.$15bd	TAX
1980	.$15be	CPX CMD_NUM
1981	.$15c1	BNE CMDNEQUAL
1982	.$15c3	LDY #0
1983	.$15c5	STY CMD_NUM   
1984	.$15c8	CMDNEQUAL STA CHANNEL
1985	.$15cb	STA CHLOCKFLAG
1986	.$15ce	JMP CHKOUT
1987	.$15d1	SKIPINITCH
1988	.$15d1	RTS
1991	.$15d2	CLRCHNEW
1992	.$15d2	LDA CHLOCKFLAG
1993	.$15d5	BNE SKIPCLRCH
1994	.$15d7	JMP CLRCH
1995	.$15da	SKIPCLRCH
1996	.$15da	RTS
1999	.$15db	TABOUTCHANNEL
2000	.$15db	JSR INITOUTCHANNEL
2001	.$15de	LDA CHANNEL
2002	.$15e1	CMP #3  
2003	.$15e3	BEQ TABOUTSCREEN
2004	.$15e5	TABOUTCHANNEL2
2005	.$15e5	LDA IOCHANNEL
2006	.$15e7	STA STORE1
2007	.$15ea	LDA #1
2008	.$15ec	STA IOCHANNEL  
2009	.$15ee	LDX #10
2010	.$15f0	JMP EXITCHANNEL
2011	.$15f3	TABOUTSCREEN
2012	.$15f3	JSR CLRCHNEW
2013	.$15f6	JMP TABOUT
2016	.$15f9	EXITCHANNEL CLC
2017	.$15fa	JSR TABSPC
2018	.$15fd	JSR CLRCHNEW
2019	.$1600	LDA STORE1
2020	.$1603	STA IOCHANNEL
2021	.$1605	RTS
2024	.$1606	NEXTWOFOR
2028	.$1606	LDX #$0A
2029	.$1608	JMP ERRALL
2032	.$160b	OUTOFDATA
2036	.$160b	LDX #$0D
2037	.$160d	JMP ERRALL
2040	.$1610	OUTOFMEMORY
2044	.$1610	LDX #$10
2045	.$1612	JMP ERRALL
2048	.$1615	ILLEGALQUANTITY
2052	.$1615	JMP ERRIQ
2055	.$1618	SYNTAXERROR
2059	.$1618	JMP ERRSYN
2062	.$161b	FACXREG  LDA FACLO
2063	.$161d	STA X_REG+4
2064	.$161f	LDA FACMO
2065	.$1621	STA X_REG+3
2066	.$1623	LDA FACMOH
2067	.$1625	STA X_REG+2
2068	.$1627	LDA FACSGN
2069	.$1629	ORA #$7F
2070	.$162b	AND FACHO
2071	.$162d	STA X_REG+1
2072	.$162f	LDA FACEXP
2073	.$1631	STA X_REG
2074	.$1633	LDA #0   
2075	.$1635	STA FACOV
2076	.$1637	RTS
2079	.$1638	FACYREG  LDA FACLO
2080	.$163a	STA Y_REG+4
2081	.$163d	LDA FACMO
2082	.$163f	STA Y_REG+3
2083	.$1642	LDA FACMOH
2084	.$1644	STA Y_REG+2
2085	.$1647	LDA FACSGN
2086	.$1649	ORA #$7F
2087	.$164b	AND FACHO
2088	.$164d	STA Y_REG+1
2089	.$1650	LDA FACEXP
2090	.$1652	STA Y_REG
2091	.$1655	LDA #0   
2092	.$1657	STA FACOV
2093	.$1659	RTS
2096	.$165a	XREGFAC  LDA X_REG+4
2097	.$165c	STA FACLO
2098	.$165e	LDA X_REG+3
2099	.$1660	STA FACMO
2100	.$1662	LDA X_REG+2
2101	.$1664	STA FACMOH
2102	.$1666	LDA X_REG+1
2103	.$1668	STA FACSGN
2104	.$166a	ORA #$80
2105	.$166c	STA FACHO
2106	.$166e	LDA X_REG
2107	.$1670	STA FACEXP
2108	.$1672	LDA #0
2109	.$1674	STA FACOV
2110	.$1676	RTS
2113	.$1677	YREGFAC  LDA Y_REG+4
2114	.$167a	STA FACLO
2115	.$167c	LDA Y_REG+3
2116	.$167f	STA FACMO
2117	.$1681	LDA Y_REG+2
2118	.$1684	STA FACMOH
2119	.$1686	LDA Y_REG+1
2120	.$1689	STA FACSGN
2121	.$168b	ORA #$80
2122	.$168d	STA FACHO
2123	.$168f	LDA Y_REG
2124	.$1692	STA FACEXP
2125	.$1694	LDA #0
2126	.$1696	STA FACOV
2127	.$1698	RTS
2241	.$1699	FASTFADDMEM
2242	.$1699	JSR MEMARG
2243	.$169c	FASTFADDARG
2244	.$169c	BNE FADDRET2     
2245	.$169e	JMP ARGFAC
2246	.$16a1	FADDRET2 LDA ARGEXP
2247	.$16a3	BNE FADDRET1     
2248	.$16a5	RTS
2249	.$16a6	FADDRET1 SEC
2250	.$16a7	SBC FACEXP
2251	.$16a9	BEQ FFADD_EXPEQ     
2252	.$16ab	BCC FFADD_SHFARG1   
2256	.$16ad	LDY ARGEXP
2257	.$16af	STY FACEXP
2258	.$16b1	LDY ARGSGN
2259	.$16b3	STY FACSGN
2260	.$16b5	LDX #0
2261	.$16b7	STX OLDOV        
2262	.$16b9	LDX #FAC         
2264	.$16bb	SEC
2265	.$16bc	SBC #$08
2266	.$16be	BMI FFADD_SHFFAC2
2268	.$16c0	FFADD_SHFFAC1
2269	.$16c0	LDY FACLO        
2270	.$16c2	STY FACOV
2271	.$16c4	LDY FACMO        
2272	.$16c6	STY FACMO+1
2273	.$16c8	LDY FACMOH       
2274	.$16ca	STY FACMOH+1
2275	.$16cc	LDY FACHO        
2276	.$16ce	STY FACHO+1
2277	.$16d0	LDY #0
2278	.$16d2	STY FACHO        
2279	.$16d4	SBC #$08         
2280	.$16d6	BPL FFADD_SHFFAC1   
2281	.$16d8	FFADD_SHFFAC2
2282	.$16d8	ADC #$08         
2283	.$16da	BEQ FFADD_SHFFAC4   
2284	.$16dc	TAY
2285	.$16dd	LDA FACOV
2286	.$16df	FFADD_SHFFAC3
2287	.$16df	LSR FACHO        
2288	.$16e1	ROR FACMOH       
2289	.$16e3	ROR FACMO        
2290	.$16e5	ROR FACLO        
2291	.$16e7	ROR              
2292	.$16e8	DEY
2293	.$16e9	BNE FFADD_SHFFAC3
2294	.$16eb	JMP FFADD_MANADD2   
2295	.$16ee	FFADD_SHFFAC4
2296	.$16ee	LDA FACOV        
2297	.$16f0	JMP FFADD_MANADD2
2298	.$16f3	FFADD_EXPEQ
2299	.$16f3	LDX FACOV
2300	.$16f5	STX OLDOV
2303	.$16f7	JMP FFADD_MANADD1
2304	.$16fa	FFADD_SHFARG2
2305	.$16fa	LDA FACOV        
2306	.$16fc	JMP FFADD_MANADD1
2307	.$16ff	FFADD_SHFARG1
2308	.$16ff	LDX FACOV
2309	.$1701	STX OLDOV        
2310	.$1703	LDX #$00         
2313	.$1705	ADC #$08
2314	.$1707	BPL FFADD_SHFARG6   
2315	.$1709	FFADD_SHFARG3
2316	.$1709	LDX ARGLO        
2317	.$170b	LDY ARGMO        
2318	.$170d	STY ARGMO+1
2319	.$170f	LDY ARGMOH       
2320	.$1711	STY ARGMOH+1
2321	.$1713	LDY ARGHO        
2322	.$1715	STY ARGHO+1
2323	.$1717	LDY #0
2324	.$1719	STY ARGHO        
2325	.$171b	FFADD_SHFARG4
2326	.$171b	ADC #$08
2327	.$171d	BMI FFADD_SHFARG3
2328	.$171f	BEQ FFADD_SHFARG3
2329	.$1721	FFADD_SHFARG6
2330	.$1721	SBC #$08
2331	.$1723	BEQ FFADD_SHFARG2   
2332	.$1725	TAY
2333	.$1726	TXA              
2334	.$1727	FFADD_SHFARG5
2335	.$1727	LSR ARGHO
2336	.$1729	ROR ARGMOH
2337	.$172b	ROR ARGMO
2338	.$172d	ROR ARGLO
2339	.$172f	ROR           
2340	.$1730	INY
2341	.$1731	BNE FFADD_SHFARG5
2342	.$1733	FFADD_MANADD1
2343	.$1733	LDX #ARGEXP      
2344	.$1735	FFADD_MANADD2
2345	.$1735	BIT ARISGN
2346	.$1737	BMI FFADD_MANSUB1   
2347	.$1739	CLC
2348	.$173a	ADC OLDOV
2349	.$173c	STA FACOV
2350	.$173e	LDA FACLO
2351	.$1740	ADC ARGLO
2352	.$1742	STA FACLO
2353	.$1744	LDA FACMO
2354	.$1746	ADC ARGMO
2355	.$1748	STA FACMO
2356	.$174a	LDA FACMOH
2357	.$174c	ADC ARGMOH
2358	.$174e	STA FACMOH
2359	.$1750	LDA FACHO
2360	.$1752	ADC ARGHO
2361	.$1754	STA FACHO
2362	.$1756	BCC FFADD_RNDRTS
2363	.$1758	INC FACEXP
2364	.$175a	BEQ FFADD_OVERR
2366	.$175c	ROR FACHO
2367	.$175e	ROR FACMOH
2368	.$1760	ROR FACMO
2369	.$1762	ROR FACLO
2370	.$1764	ROR FACOV
2371	.$1766	FFADD_RNDRTS
2372	.$1766	RTS
2373	.$1767	FFADD_OVERR
2374	.$1767	JMP ILLEGALQUANTITY
2375	.$176a	FFADD_MANSUB1
2376	.$176a	LDY #FACEXP
2377	.$176c	CPX #ARGEXP
2378	.$176e	BEQ FFADD_MANSUB2
2379	.$1770	LDY #ARGEXP
2380	.$1772	FFADD_MANSUB2
2381	.$1772	SEC              
2382	.$1773	EOR #$FF
2383	.$1775	ADC OLDOV
2384	.$1777	STA FACOV
2385	.$1779	LDA 4,Y
2386	.$177c	SBC 4,X
2387	.$177e	STA FACLO
2388	.$1780	LDA 3,Y
2389	.$1783	SBC 3,X
2390	.$1785	STA FACMO
2391	.$1787	LDA 2,Y
2392	.$178a	SBC 2,X
2393	.$178c	STA FACMOH
2394	.$178e	LDA 1,Y
2395	.$1791	SBC 1,X
2396	.$1793	STA FACHO
2397	.$1795	BCS FCNORMAL
2398	.$1797	LDA FACSGN
2399	.$1799	EOR #$FF
2400	.$179b	STA FACSGN
2401	.$179d	LDA FACHO
2402	.$179f	EOR #$FF
2403	.$17a1	STA FACHO
2404	.$17a3	LDA FACMOH
2405	.$17a5	EOR #$FF
2406	.$17a7	STA FACMOH
2407	.$17a9	LDA FACMO
2408	.$17ab	EOR #$FF
2409	.$17ad	STA FACMO
2410	.$17af	LDA FACLO
2411	.$17b1	EOR #$FF
2412	.$17b3	STA FACLO
2413	.$17b5	LDA FACOV
2414	.$17b7	EOR #$FF
2415	.$17b9	CLC
2416	.$17ba	ADC #1
2417	.$17bc	STA FACOV
2418	.$17be	BNE FCNORMAL
2419	.$17c0	INC FACLO
2420	.$17c2	BNE FCNORMAL
2421	.$17c4	INC FACMO
2422	.$17c6	BNE FCNORMAL
2423	.$17c8	INC FACMOH
2424	.$17ca	BNE FCNORMAL
2425	.$17cc	INC FACHO
2426	.$17ce	FCNORMAL   BIT FACHO
2427	.$17d0	BMI FFADD_RET       
2428	.$17d2	LDA #0           
2429	.$17d4	CLC
2430	.$17d5	FFADD_NORM3
2431	.$17d5	LDX FACHO
2432	.$17d7	BNE FFADD_NORM1
2433	.$17d9	LDX FACHO+1
2434	.$17db	STX FACHO
2435	.$17dd	LDX FACMOH+1
2436	.$17df	STX FACMOH
2437	.$17e1	LDX FACMO+1
2438	.$17e3	STX FACMO
2439	.$17e5	LDX FACOV
2440	.$17e7	STX FACLO
2441	.$17e9	LDX #0
2442	.$17eb	STX FACOV
2443	.$17ed	ADC #$08
2444	.$17ef	CMP #$20
2445	.$17f1	BNE FFADD_NORM3
2446	.$17f3	JMP FFADD_ZEROFAC
2447	.$17f6	FFADD_NORM2
2448	.$17f6	CLC
2449	.$17f7	ADC #1
2450	.$17f9	ASL FACOV
2451	.$17fb	ROL FACLO
2452	.$17fd	ROL FACMO
2453	.$17ff	ROL FACMOH
2454	.$1801	ROL FACHO
2455	.$1803	FFADD_NORM1
2456	.$1803	BPL FFADD_NORM2     
2457	.$1805	SEC
2458	.$1806	SBC FACEXP
2459	.$1808	BCS FFADD_ZEROFAC
2460	.$180a	EOR #$FF
2461	.$180c	CLC
2462	.$180d	ADC #1
2463	.$180f	STA FACEXP
2464	.$1811	FFADD_RET   RTS
2465	.$1812	FFADD_ZEROFAC
2466	.$1812	LDX #0
2467	.$1814	STX FACEXP
2468	.$1816	STX FACSGN
2469	.$1818	RTS
2472	.$1819	INITVARS
2473	.$1819	JSR INITSTRVARS
2474	.$181c	LDA #0
2475	.$181e	LDY #4
2476	.$1820	REALINITLOOP0:
2477	.$1820	STA VAR_I,Y
2478	.$1823	STA VAR_A,Y
2479	.$1826	STA VAR_B,Y
2480	.$1829	STA VAR_C,Y
2481	.$182c	DEY
2482	.$182d	BMI REALLOOPEXIT0
2483	.$182f	JMP REALINITLOOP0
2484	.$1832	REALLOOPEXIT0:
2485	.$1832	LDA #<VAR_G%[]
2486	.$1834	LDY #>VAR_G%[]
2487	.$1836	JSR INITSPARAMS
2488	.$1839	JSR INITNARRAY
2489	.$183c	LDA #<VAR_G[]
2490	.$183e	LDY #>VAR_G[]
2491	.$1840	JSR INITSPARAMS
2492	.$1843	JSR INITNARRAY
2493	.$1846	LDA #0
2494	.$1848	RTS
2498	.$1849	CONSTANTS
2501	.$1849	CONST_0R .REAL 1.0
2504	.$184e	CONST_1R .REAL 5.0
2509	.$1853	CONST_3 .BYTE 5
2510	.$1854	.STRG "test:"
2513	.$1859	DATAS
2514	.$1859	.BYTE 2
2515	.$185a	.BYTE 5
2516	.$185b	.STRG "hello"
2517	.$1860	.BYTE 2
2518	.$1861	.BYTE 5
2519	.$1862	.STRG "world"
2520	.$1867	.BYTE 13
2521	.$1868	.BYTE 1
2522	.$1869	.REAL 4557.55
2523	.$186e	.BYTE 34
2524	.$186f	.BYTE $FF
2526	.$1870	CONSTANTS_END
2529	.$1870	VARIABLES
2531	.$1870	VAR_I .REAL 0.0
2533	.$1875	VAR_A .REAL 0.0
2535	.$187a	VAR_B .REAL 0.0
2537	.$187f	VAR_C .REAL 0.0
2539	.$1884	.BYTE 0
2540	.$1885	.WORD 6
2541	.$1887	VAR_G%[] .ARRAY 6
2543	.$188d	.BYTE 1
2544	.$188e	.WORD 15
2545	.$1890	VAR_G[] .ARRAY 15
2546	.$189f	STRINGVARS_START
2548	.$189f	VAR_A$ .WORD EMPTYSTR
2550	.$18a1	VAR_TI$ .WORD EMPTYSTR
2551	.$18a3	STRINGVARS_END
2552	.$18a3	STRINGARRAYS_START
2553	.$18a3	STRINGARRAYS_END
2554	.$18a3	VARIABLES_END
2556	.$18a3	Y_REG .REAL 0.0
2557	.$18a8	C_REG .REAL 0.0
2558	.$18ad	D_REG .REAL 0.0
2559	.$18b2	E_REG .REAL 0.0
2560	.$18b7	F_REG .REAL 0.0
2561	.$18bc	A_REG .WORD 0
2562	.$18be	B_REG .WORD 0
2563	.$18c0	CMD_NUM .BYTE 0
2564	.$18c1	CHANNEL .BYTE 0
2565	.$18c2	SP_SAVE .BYTE 0
2566	.$18c3	TMP2_REG .WORD 0
2567	.$18c5	TMP3_REG .WORD 0
2568	.$18c7	TMP4_REG .WORD 0
2569	.$18c9	AS_TMP .WORD 0
2570	.$18cb	BPOINTER_TMP .WORD 0
2571	.$18cd	BASICTEXTP .BYTE 0
2572	.$18ce	STORE1 .WORD 0
2573	.$18d0	STORE2 .WORD 0
2574	.$18d2	STORE3 .WORD 0
2575	.$18d4	STORE4 .WORD 0
2576	.$18d6	GCSTART .WORD 0
2577	.$18d8	GCLEN .WORD 0
2578	.$18da	GCWORK .WORD 0
2579	.$18dc	INPUTLENGTH .BYTE 0
2580	.$18dd	TMP_FREG .REAL 0
2581	.$18e2	TMP2_FREG .REAL 0
2582	.$18e7	TMP_FLAG .BYTE 0
2583	.$18e8	INT_FLAG .BYTE 0
2584	.$18e9	REAL_CONST_ONE .REAL 1.0
2585	.$18ee	REAL_CONST_ZERO .REAL 0.0
2586	.$18f3	REAL_CONST_MINUS_ONE .REAL -1.0
2587	.$18f8	CHLOCKFLAG .BYTE 0
2588	.$18f9	EMPTYSTR .BYTE 0
2589	.$18fa	FPSTACKP .WORD FPSTACK
2590	.$18fc	FORSTACKP .WORD FORSTACK
2591	.$18fe	DATASP .WORD DATAS
2592	.$1900	LASTVAR .WORD 0
2593	.$1902	LASTVARP .WORD 0
2594	.$1904	HIGHP .WORD STRBUF
2595	.$1906	STRBUFP .WORD STRBUF
2596	.$1908	ENDSTRBUF .WORD 0
2597	.$190a	INPUTQUEUEP .BYTE 0
2598	.$190b	PROGRAMEND
2599	.$190b	INPUTQUEUE .ARRAY $0F
2600	.$191a	FPSTACK .ARRAY 100
2601	.$197e	FORSTACK .ARRAY 340
2602	.$1ad2	STRBUF .BYTE 0
