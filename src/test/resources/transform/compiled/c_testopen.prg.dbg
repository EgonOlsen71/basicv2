117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_1:
128	.$81f	JSR GOSUB
129	.$822	JSR LINE_1000
131	.$825	LINE_5:
133	.$825	LDA #<CONST_0
134	.$827	LDY #>CONST_0
135	.$829	JSR STROUTBRKWL
140	.$82c	JSR REALFACPUSHMC
142	.$82f	LDA #<CONST_2R
143	.$831	LDY #>CONST_2R
144	.$833	JSR REALFACPUSH
146	.$836	LDA #<CONST_3R
147	.$838	LDY #>CONST_3R
148	.$83a	JSR REALFACPUSH
150	.$83d	LDA #<CONST_4
151	.$83f	LDY #>CONST_4
152	.$841	STA B_REG
153	.$844	STY B_REG+1
154	.$847	LDY B_REG
155	.$84a	LDA B_REG+1
156	.$84d	STY G_REG
157	.$84f	STA G_REG+1
158	.$851	JSR POPREAL
159	.$854	LDX #<D_REG
160	.$856	LDY #>D_REG
162	.$858	JSR FACMEM
163	.$85b	JSR POPREAL
164	.$85e	LDX #<C_REG
165	.$860	LDY #>C_REG
167	.$862	JSR FACMEM
168	.$865	JSR POPREALXREG
171	.$868	LDA #<CONST_5R
172	.$86a	LDY #>CONST_5R
173	.$86c	JSR COPY2_XYA_YREG
177	.$86f	JSR OPEN
178	.$872	LDA #<CONST_1R
179	.$874	LDY #>CONST_1R
180	.$876	JSR COPY2_XYA_XREG
184	.$879	JSR CLOSE
186	.$87c	LINE_6:
188	.$87c	INPUT1:
189	.$87c	JSR CLEARQUEUE
190	.$87f	JSR COMPACTMAX
191	.$882	LDA #<CONST_6
192	.$884	LDY #>CONST_6
193	.$886	JSR STROUTWL
195	.$889	JSR QMARKOUT1
196	.$88c	JSR INPUTSTR
197	.$88f	JSR INPUTLENGTHCHECK
198	.$892	BEQ EMPTYINPUTSKIP9
199	.$894	LDA A_REG
200	.$897	LDY A_REG+1
201	.$89a	STA TMP_ZP
202	.$89c	STY TMP_ZP+1
203	.$89e	LDA #<VAR_A$
204	.$8a0	LDY #>VAR_A$
205	.$8a2	JSR COPYSTRING
206	.$8a5	EMPTYINPUTSKIP9:
207	.$8a5	JSR QUEUESIZE
208	.$8a8	LDA X_REG
209	.$8aa	COMP_SKP0:
210	.$8aa	BNE QINPUT1_1
212	.$8ac	JSR QMARKOUT2
213	.$8af	QINPUT1_1:
214	.$8af	JSR INPUTSTR
215	.$8b2	JSR INPUTLENGTHCHECK
216	.$8b5	BEQ EMPTYINPUTSKIP10
217	.$8b7	LDA A_REG
218	.$8ba	LDY A_REG+1
219	.$8bd	STA TMP_ZP
220	.$8bf	STY TMP_ZP+1
221	.$8c1	LDA #<VAR_B$
222	.$8c3	LDY #>VAR_B$
223	.$8c5	JSR COPYSTRING
224	.$8c8	EMPTYINPUTSKIP10:
225	.$8c8	JSR QUEUESIZE
226	.$8cb	LDA X_REG
227	.$8cd	COMP_SKP1:
228	.$8cd	BEQ INPUTCHECK1
230	.$8cf	JSR EXTRAIGNORED
231	.$8d2	INPUTCHECK1:
232	.$8d2	LDA VAR_A$
233	.$8d5	LDY VAR_A$+1
234	.$8d8	JSR STROUTWL
236	.$8db	JSR TABOUT
237	.$8de	LDA VAR_B$
238	.$8e1	LDY VAR_B$+1
239	.$8e4	JSR STROUTBRKWL
242	.$8e7	JSR GOSUB
243	.$8ea	JSR LINE_1000
245	.$8ed	LINE_10:
247	.$8ed	LDA #<CONST_8
248	.$8ef	LDY #>CONST_8
249	.$8f1	JSR STROUTBRKWL
254	.$8f4	JSR REALFACPUSHMC
256	.$8f7	LDA #<CONST_2R
257	.$8f9	LDY #>CONST_2R
258	.$8fb	JSR REALFACPUSH
260	.$8fe	LDA #<CONST_9R
261	.$900	LDY #>CONST_9R
262	.$902	JSR REALFACPUSH
264	.$905	LDA #<CONST_10
265	.$907	LDY #>CONST_10
266	.$909	STA B_REG
267	.$90c	STY B_REG+1
268	.$90f	LDY B_REG
269	.$912	LDA B_REG+1
270	.$915	STY G_REG
271	.$917	STA G_REG+1
272	.$919	JSR POPREAL
273	.$91c	LDX #<D_REG
274	.$91e	LDY #>D_REG
276	.$920	JSR FACMEM
277	.$923	JSR POPREAL
278	.$926	LDX #<C_REG
279	.$928	LDY #>C_REG
281	.$92a	JSR FACMEM
282	.$92d	JSR POPREALXREG
285	.$930	LDA #<CONST_5R
286	.$932	LDY #>CONST_5R
287	.$934	JSR COPY2_XYA_YREG
291	.$937	JSR OPEN
292	.$93a	LDX #4
293	.$93c	dcloop567_1:
294	.$93c	LDA CONST_11,X
295	.$93f	STA VAR_A,X
296	.$942	DEX
297	.$943	BPL dcloop567_1
300	.$945	LINE_15:
302	.$945	JSR LOCKCHANNEL
305	.$948	JSR REALFACPUSHMC
307	.$94b	LDA #<CONST_12
308	.$94d	LDY #>CONST_12
309	.$94f	STA A_REG
310	.$952	STY A_REG+1
311	.$955	JSR POPREAL
312	.$958	LDX #<C_REG
313	.$95a	LDY #>C_REG
315	.$95c	JSR FACMEM
316	.$95f	JSR STROUTCHANNEL
317	.$962	JSR TABOUTCHANNEL
318	.$965	LDA #<C_REG
319	.$967	LDY #>C_REG
321	.$969	JSR REALFACPUSH
323	.$96c	LDA #<CONST_13
324	.$96e	LDY #>CONST_13
325	.$970	STA A_REG
326	.$973	STY A_REG+1
327	.$976	JSR POPREAL
328	.$979	LDX #<C_REG
329	.$97b	LDY #>C_REG
331	.$97d	JSR FACMEM
332	.$980	JSR STROUTCHANNEL
333	.$983	LDA #<C_REG
334	.$985	LDY #>C_REG
336	.$987	JSR REALFACPUSH
338	.$98a	LDA #<CONST_14R
339	.$98c	LDY #>CONST_14R
340	.$98e	JSR COPY2_XYA_YREG
345	.$991	JSR TABCHANNEL
346	.$994	LDA #<CONST_15
347	.$996	LDY #>CONST_15
348	.$998	STA A_REG
349	.$99b	STY A_REG+1
350	.$99e	JSR POPREAL
351	.$9a1	LDX #<C_REG
352	.$9a3	LDY #>C_REG
354	.$9a5	JSR FACMEM
355	.$9a8	JSR STROUTCHANNEL
356	.$9ab	LDA #<C_REG
357	.$9ad	LDY #>C_REG
359	.$9af	JSR REALFACPUSH
361	.$9b2	LDA #<CONST_14R
362	.$9b4	LDY #>CONST_14R
363	.$9b6	JSR COPY2_XYA_YREG
368	.$9b9	JSR SPCCHANNEL
369	.$9bc	LDA #<CONST_15
370	.$9be	LDY #>CONST_15
371	.$9c0	STA A_REG
372	.$9c3	STY A_REG+1
373	.$9c6	JSR POPREAL
374	.$9c9	LDX #<C_REG
375	.$9cb	LDY #>C_REG
377	.$9cd	JSR FACMEM
378	.$9d0	JSR STROUTCHANNEL
379	.$9d3	JSR LINEBREAKCHANNEL
380	.$9d6	JSR UNLOCKCHANNEL
381	.$9d9	JSR LOCKCHANNEL
384	.$9dc	JSR REALFACPUSHMC
386	.$9df	JSR COMPACTMAX
387	.$9e2	LDA #111
388	.$9e4	JSR CHRINT
390	.$9e7	JSR POPREAL
391	.$9ea	LDX #<C_REG
392	.$9ec	LDY #>C_REG
394	.$9ee	JSR FACMEM
395	.$9f1	JSR STROUTCHANNEL
396	.$9f4	LDA #<C_REG
397	.$9f6	LDY #>C_REG
399	.$9f8	JSR REALFACPUSH
401	.$9fb	LDA #<CONST_17R
402	.$9fd	LDY #>CONST_17R
403	.$9ff	JSR COPY2_XYA_YREG
408	.$a02	JSR SPCCHANNEL
409	.$a05	JSR POPREAL
410	.$a08	LDX #<C_REG
411	.$a0a	LDY #>C_REG
413	.$a0c	JSR FACMEM
414	.$a0f	JSR TABOUTCHANNEL
415	.$a12	LDA #<C_REG
416	.$a14	LDY #>C_REG
418	.$a16	JSR REALFACPUSH
420	.$a19	LDA #<VAR_A
421	.$a1b	LDY #>VAR_A
422	.$a1d	JSR COPY2_XYA_XREG
426	.$a20	JSR POPREAL
427	.$a23	LDX #<C_REG
428	.$a25	LDY #>C_REG
430	.$a27	JSR FACMEM
431	.$a2a	JSR REALOUTCHANNEL
432	.$a2d	LDA #<CONST_18
433	.$a2f	LDY #>CONST_18
434	.$a31	STA A_REG
435	.$a34	STY A_REG+1
436	.$a37	JSR STROUTCHANNEL
437	.$a3a	JSR LINEBREAKCHANNEL
438	.$a3d	JSR UNLOCKCHANNEL
440	.$a40	LINE_20:
442	.$a40	LDA #<CONST_1R
443	.$a42	LDY #>CONST_1R
444	.$a44	JSR COPY2_XYA_XREG
448	.$a47	JSR CLOSE
449	.$a4a	LDA #<CONST_19
450	.$a4c	LDY #>CONST_19
451	.$a4e	JSR STROUTWL
453	.$a51	LDA #<CONST_14R
454	.$a53	LDY #>CONST_14R
455	.$a55	JSR COPY2_XYA_YREG
460	.$a58	JSR SPC
461	.$a5b	LDA #33
462	.$a5d	JSR SINGLECHROUTBRKMAX
466	.$a60	JSR GOSUB
467	.$a63	JSR LINE_1000
469	.$a66	LINE_21:
473	.$a66	JSR REALFACPUSHMC
475	.$a69	LDA #<CONST_2R
476	.$a6b	LDY #>CONST_2R
477	.$a6d	JSR REALFACPUSH
479	.$a70	LDA #<CONST_9R
480	.$a72	LDY #>CONST_9R
481	.$a74	JSR REALFACPUSH
483	.$a77	LDA #<CONST_21
484	.$a79	LDY #>CONST_21
485	.$a7b	STA B_REG
486	.$a7e	STY B_REG+1
487	.$a81	LDY B_REG
488	.$a84	LDA B_REG+1
489	.$a87	STY G_REG
490	.$a89	STA G_REG+1
491	.$a8b	JSR POPREAL
492	.$a8e	LDX #<D_REG
493	.$a90	LDY #>D_REG
495	.$a92	JSR FACMEM
496	.$a95	JSR POPREAL
497	.$a98	LDX #<C_REG
498	.$a9a	LDY #>C_REG
500	.$a9c	JSR FACMEM
501	.$a9f	JSR POPREALXREG
504	.$aa2	LDA #<CONST_5R
505	.$aa4	LDY #>CONST_5R
506	.$aa6	JSR COPY2_XYA_YREG
510	.$aa9	JSR OPEN
511	.$aac	JSR LOCKCHANNEL
514	.$aaf	JSR REALFACPUSHMC
516	.$ab2	LDA #<CONST_22R
517	.$ab4	LDY #>CONST_22R
518	.$ab6	JSR COPY2_XYA_XREG
522	.$ab9	JSR POPREAL
523	.$abc	LDX #<C_REG
524	.$abe	LDY #>C_REG
526	.$ac0	JSR FACMEM
527	.$ac3	JSR INTOUTCHANNEL
528	.$ac6	LDA #<CONST_18
529	.$ac8	LDY #>CONST_18
530	.$aca	STA A_REG
531	.$acd	STY A_REG+1
532	.$ad0	JSR STROUTCHANNEL
533	.$ad3	JSR LINEBREAKCHANNEL
534	.$ad6	JSR UNLOCKCHANNEL
535	.$ad9	JSR LOCKCHANNEL
538	.$adc	JSR REALFACPUSHMC
540	.$adf	LDA #<CONST_23
541	.$ae1	LDY #>CONST_23
542	.$ae3	JSR COPY2_XYA_XREG
546	.$ae6	JSR POPREAL
547	.$ae9	LDX #<C_REG
548	.$aeb	LDY #>C_REG
550	.$aed	JSR FACMEM
551	.$af0	JSR REALOUTCHANNEL
552	.$af3	LDA #<CONST_18
553	.$af5	LDY #>CONST_18
554	.$af7	STA A_REG
555	.$afa	STY A_REG+1
556	.$afd	JSR STROUTCHANNEL
557	.$b00	JSR UNLOCKCHANNEL
559	.$b03	LINE_22:
561	.$b03	JSR LOCKCHANNEL
564	.$b06	JSR REALFACPUSHMC
566	.$b09	LDA #<CONST_24
567	.$b0b	LDY #>CONST_24
568	.$b0d	JSR COPY2_XYA_XREG
572	.$b10	JSR POPREAL
573	.$b13	LDX #<C_REG
574	.$b15	LDY #>C_REG
576	.$b17	JSR FACMEM
577	.$b1a	JSR REALOUTCHANNEL
578	.$b1d	LDA #<CONST_18
579	.$b1f	LDY #>CONST_18
580	.$b21	STA A_REG
581	.$b24	STY A_REG+1
582	.$b27	JSR STROUTCHANNEL
583	.$b2a	LDA #<C_REG
584	.$b2c	LDY #>C_REG
586	.$b2e	JSR REALFACPUSH
588	.$b31	LDA #<CONST_25R
589	.$b33	LDY #>CONST_25R
590	.$b35	JSR COPY2_XYA_XREG
594	.$b38	JSR POPREAL
595	.$b3b	LDX #<C_REG
596	.$b3d	LDY #>C_REG
598	.$b3f	JSR FACMEM
599	.$b42	JSR INTOUTCHANNEL
600	.$b45	LDA #<CONST_18
601	.$b47	LDY #>CONST_18
602	.$b49	STA A_REG
603	.$b4c	STY A_REG+1
604	.$b4f	JSR STROUTCHANNEL
605	.$b52	JSR LINEBREAKCHANNEL
606	.$b55	JSR UNLOCKCHANNEL
607	.$b58	LDA #<CONST_1R
608	.$b5a	LDY #>CONST_1R
609	.$b5c	JSR COPY2_XYA_XREG
613	.$b5f	JSR CLOSE
614	.$b62	JSR GOSUB
615	.$b65	JSR LINE_1000
617	.$b68	LINE_30:
619	.$b68	LDA #<CONST_26
620	.$b6a	LDY #>CONST_26
621	.$b6c	JSR STROUTBRKWL
625	.$b6f	LINE_40:
627	.$b6f	LDA #<CONST_27R
628	.$b71	LDY #>CONST_27R
629	.$b73	JSR REALFACPUSH
631	.$b76	LDA #<CONST_2R
632	.$b78	LDY #>CONST_2R
633	.$b7a	JSR REALFACPUSH
635	.$b7d	LDA #<CONST_9R
636	.$b7f	LDY #>CONST_9R
637	.$b81	JSR REALFACPUSH
639	.$b84	LDA #<CONST_28
640	.$b86	LDY #>CONST_28
641	.$b88	STA B_REG
642	.$b8b	STY B_REG+1
643	.$b8e	LDY B_REG
644	.$b91	LDA B_REG+1
645	.$b94	STY G_REG
646	.$b96	STA G_REG+1
647	.$b98	JSR POPREAL
648	.$b9b	LDX #<D_REG
649	.$b9d	LDY #>D_REG
651	.$b9f	JSR FACMEM
652	.$ba2	JSR POPREAL
653	.$ba5	LDX #<C_REG
654	.$ba7	LDY #>C_REG
656	.$ba9	JSR FACMEM
657	.$bac	JSR POPREALXREG
660	.$baf	LDA #<CONST_5R
661	.$bb1	LDY #>CONST_5R
662	.$bb3	JSR COPY2_XYA_YREG
666	.$bb6	JSR OPEN
667	.$bb9	LDA #<EMPTYSTR
668	.$bbb	LDY #>EMPTYSTR
669	.$bbd	STA VAR_A$
670	.$bc0	STY VAR_A$+1
674	.$bc3	LINE_50:
676	.$bc3	LDA #0
677	.$bc5	STA VAR_I
678	.$bc8	STA VAR_I+1
679	.$bcb	STA VAR_I+2
680	.$bce	STA VAR_I+3
681	.$bd1	STA VAR_I+4
683	.$bd4	LDA #<CONST_14R
684	.$bd6	LDY #>CONST_14R
685	.$bd8	JSR REALFACPUSH
689	.$bdb	JSR REALFACPUSHMC
691	.$bde	LDA #<VAR_I
692	.$be0	LDY #>VAR_I
693	.$be2	STA A_REG
694	.$be5	STY A_REG+1
695	.$be8	LDA #<FORLOOP0
696	.$bea	STA JUMP_TARGET
697	.$bec	LDA #>FORLOOP0
698	.$bee	STA JUMP_TARGET+1
699	.$bf0	JSR INITFOR
700	.$bf3	FORLOOP0:
701	.$bf3	LDA #<CONST_27R
702	.$bf5	LDY #>CONST_27R
703	.$bf7	JSR COPY2_XYA_CREG
707	.$bfa	JSR GETSTRCHANNEL
708	.$bfd	LDA A_REG
709	.$c00	LDY A_REG+1
710	.$c03	STA TMP_ZP
711	.$c05	STY TMP_ZP+1
712	.$c07	LDA #<VAR_B$
713	.$c09	LDY #>VAR_B$
714	.$c0b	JSR COPYSTRING
715	.$c0e	JSR COMPACTMAX
716	.$c11	LDA VAR_B$
717	.$c14	LDY VAR_B$+1
718	.$c17	STA B_REG
719	.$c1a	STY B_REG+1
720	.$c1d	LDA VAR_A$
721	.$c20	LDY VAR_A$+1
722	.$c23	STA A_REG
723	.$c26	STY A_REG+1
724	.$c29	JSR CONCAT
726	.$c2c	LDA A_REG
727	.$c2f	LDY A_REG+1
728	.$c32	STA TMP_ZP
729	.$c34	STY TMP_ZP+1
730	.$c36	LDA #<VAR_A$
731	.$c38	LDY #>VAR_A$
732	.$c3a	JSR COPYSTRING
733	.$c3d	LDA #0
734	.$c3f	STA A_REG
735	.$c42	STA A_REG+1
736	.$c45	JSR NEXT
738	.$c48	LDA A_REG
739	.$c4b	BNE RBEQ_0
740	.$c4d	JMP (JUMP_TARGET)
742	.$c50	RBEQ_0:
744	.$c50	LINE_51:
746	.$c50	LDA #65
747	.$c52	JSR SINGLECHROUTBRKMAX
751	.$c55	LDA #<CONST_27R
752	.$c57	LDY #>CONST_27R
753	.$c59	JSR REALFACPUSH
755	.$c5c	JSR CLEARQUEUE
756	.$c5f	JSR COMPACTMAX
757	.$c62	JSR POPREAL
758	.$c65	LDX #<C_REG
759	.$c67	LDY #>C_REG
761	.$c69	JSR FACMEM
762	.$c6c	JSR INPUTSTRCHANNEL
763	.$c6f	LDA #<C_REG
764	.$c71	LDY #>C_REG
766	.$c73	JSR REALFACPUSH
768	.$c76	JSR INPUTLENGTHCHECK
769	.$c79	BEQ EMPTYINPUTSKIP11
770	.$c7b	LDA A_REG
771	.$c7e	LDY A_REG+1
772	.$c81	STA TMP_ZP
773	.$c83	STY TMP_ZP+1
774	.$c85	LDA #<VAR_C$
775	.$c87	LDY #>VAR_C$
776	.$c89	JSR COPYSTRING
777	.$c8c	EMPTYINPUTSKIP11:
778	.$c8c	JSR POPREAL
779	.$c8f	LDX #<C_REG
780	.$c91	LDY #>C_REG
782	.$c93	JSR FACMEM
783	.$c96	JSR INPUTSTRCHANNEL
784	.$c99	JSR INPUTLENGTHCHECK
785	.$c9c	BEQ EMPTYINPUTSKIP12
786	.$c9e	LDA A_REG
787	.$ca1	LDY A_REG+1
788	.$ca4	STA TMP_ZP
789	.$ca6	STY TMP_ZP+1
790	.$ca8	LDA #<VAR_D$
791	.$caa	LDY #>VAR_D$
792	.$cac	JSR COPYSTRING
793	.$caf	EMPTYINPUTSKIP12:
794	.$caf	LDA #66
795	.$cb1	JSR SINGLECHROUTBRKMAX
800	.$cb4	LINE_60:
802	.$cb4	LDA #<CONST_27R
803	.$cb6	LDY #>CONST_27R
804	.$cb8	JSR COPY2_XYA_XREG
808	.$cbb	JSR CLOSE
809	.$cbe	LDA VAR_A$
810	.$cc1	LDY VAR_A$+1
811	.$cc4	JSR STROUTBRKWL
814	.$cc7	LDA VAR_C$
815	.$cca	LDY VAR_C$+1
816	.$ccd	JSR STROUTBRKWL
819	.$cd0	LDA VAR_D$
820	.$cd3	LDY VAR_D$+1
821	.$cd6	JSR STROUTBRKWL
824	.$cd9	JSR GOSUB
825	.$cdc	JSR LINE_1000
827	.$cdf	LINE_70:
829	.$cdf	LDA #<CONST_19
830	.$ce1	LDY #>CONST_19
831	.$ce3	JSR STROUTWL
833	.$ce6	JSR TABOUT
834	.$ce9	LDA #<CONST_31
835	.$ceb	LDY #>CONST_31
836	.$ced	JSR COPY2_XYA_XREG
840	.$cf0	JSR REALOUT
841	.$cf3	JSR CRSRRIGHT
842	.$cf6	LDY #$4e
843	.$cf8	STY TMP_ZP
844	.$cfa	LDA #$01
845	.$cfc	STA TMP_ZP+1
846	.$cfe	JSR INTOUTBRKFAST
850	.$d01	JSR END
851	.$d04	RTS
853	.$d05	LINE_1000:
857	.$d05	JSR REALFACPUSHMC
859	.$d08	LDA #<CONST_2R
860	.$d0a	LDY #>CONST_2R
861	.$d0c	JSR REALFACPUSH
863	.$d0f	LDA #<CONST_3R
864	.$d11	LDY #>CONST_3R
865	.$d13	STY TMP3_ZP+1
866	.$d15	LDX #<D_REG
867	.$d17	LDY #>D_REG
868	.$d19	JSR COPY2_XYA
871	.$d1c	JSR POPREAL
872	.$d1f	LDX #<C_REG
873	.$d21	LDY #>C_REG
875	.$d23	JSR FACMEM
876	.$d26	JSR POPREALXREG
879	.$d29	LDA #<CONST_17R
880	.$d2b	LDY #>CONST_17R
881	.$d2d	JSR COPY2_XYA_YREG
885	.$d30	JSR OPEN
887	.$d33	LINE_1010:
891	.$d33	JSR REALFACPUSHMC
893	.$d36	JSR CLEARQUEUE
894	.$d39	JSR COMPACTMAX
895	.$d3c	JSR POPREAL
896	.$d3f	LDX #<C_REG
897	.$d41	LDY #>C_REG
899	.$d43	JSR FACMEM
900	.$d46	JSR INPUTNUMBERCHANNEL
901	.$d49	LDA #<C_REG
902	.$d4b	LDY #>C_REG
904	.$d4d	JSR REALFACPUSH
906	.$d50	JSR INPUTLENGTHCHECK
907	.$d53	BEQ EMPTYINPUTSKIP13
908	.$d55	JSR YREGFAC
910	.$d58	LDX #<VAR_A
911	.$d5a	LDY #>VAR_A
913	.$d5c	JSR FACMEM
914	.$d5f	EMPTYINPUTSKIP13:
915	.$d5f	JSR POPREAL
916	.$d62	LDX #<C_REG
917	.$d64	LDY #>C_REG
919	.$d66	JSR FACMEM
920	.$d69	JSR INPUTSTRCHANNEL
921	.$d6c	LDA #<C_REG
922	.$d6e	LDY #>C_REG
924	.$d70	JSR REALFACPUSH
926	.$d73	JSR INPUTLENGTHCHECK
927	.$d76	BEQ EMPTYINPUTSKIP14
928	.$d78	LDA A_REG
929	.$d7b	LDY A_REG+1
930	.$d7e	STA TMP_ZP
931	.$d80	STY TMP_ZP+1
932	.$d82	LDA #<VAR_B$
933	.$d84	LDY #>VAR_B$
934	.$d86	JSR COPYSTRING
935	.$d89	EMPTYINPUTSKIP14:
936	.$d89	JSR POPREAL
937	.$d8c	LDX #<C_REG
938	.$d8e	LDY #>C_REG
940	.$d90	JSR FACMEM
941	.$d93	JSR INPUTNUMBERCHANNEL
942	.$d96	LDA #<C_REG
943	.$d98	LDY #>C_REG
945	.$d9a	JSR REALFACPUSH
947	.$d9d	JSR INPUTLENGTHCHECK
948	.$da0	BEQ EMPTYINPUTSKIP15
949	.$da2	JSR YREGFAC
951	.$da5	LDX #<VAR_C
952	.$da7	LDY #>VAR_C
954	.$da9	JSR FACMEM
955	.$dac	EMPTYINPUTSKIP15:
956	.$dac	JSR POPREAL
957	.$daf	LDX #<C_REG
958	.$db1	LDY #>C_REG
960	.$db3	JSR FACMEM
961	.$db6	JSR INPUTNUMBERCHANNEL
962	.$db9	JSR INPUTLENGTHCHECK
963	.$dbc	BEQ EMPTYINPUTSKIP16
964	.$dbe	JSR YREGFAC
966	.$dc1	LDX #<VAR_D
967	.$dc3	LDY #>VAR_D
969	.$dc5	JSR FACMEM
970	.$dc8	EMPTYINPUTSKIP16:
972	.$dc8	LINE_1020:
974	.$dc8	LDA #<CONST_1R
975	.$dca	LDY #>CONST_1R
976	.$dcc	JSR COPY2_XYA_XREG
980	.$dcf	JSR CLOSE
982	.$dd2	LINE_1030:
984	.$dd2	LDA #<VAR_A
985	.$dd4	LDY #>VAR_A
986	.$dd6	JSR COPY2_XYA_XREG
990	.$dd9	JSR REALOUT
991	.$ddc	JSR CRSRRIGHT
992	.$ddf	LDA VAR_B$
993	.$de2	LDY VAR_B$+1
994	.$de5	JSR STROUTWL
996	.$de8	LDA #<VAR_C
997	.$dea	LDY #>VAR_C
998	.$dec	JSR COPY2_XYA_XREG
1002	.$def	JSR REALOUT
1003	.$df2	JSR CRSRRIGHT
1004	.$df5	LDA #<VAR_D
1005	.$df7	LDY #>VAR_D
1006	.$df9	JSR COPY2_XYA_XREG
1010	.$dfc	JSR REALOUTBRK
1012	.$dff	LDA #<CONST_33
1013	.$e01	LDY #>CONST_33
1014	.$e03	JSR STROUTBRKWL
1017	.$e06	JMP RETURN
1018	.$e09	JSR END
1019	.$e0c	RTS
1022	.$e0d	END   LDX SP_SAVE
1023	.$e10	TXS
1030	.$e11	RTS
1033	.$e12	START  LDA ENDSTRBUF+1
1034	.$e15	BNE ENDGIVEN
1035	.$e17	LDA BASICEND
1036	.$e19	STA ENDSTRBUF
1037	.$e1c	LDA BASICEND+1
1038	.$e1e	STA ENDSTRBUF+1
1039	.$e21	ENDGIVEN LDA #<FPSTACK
1040	.$e23	LDY #>FPSTACK
1041	.$e25	STA FPSTACKP
1042	.$e28	STY FPSTACKP+1
1043	.$e2b	LDA #<FORSTACK
1044	.$e2d	LDY #>FORSTACK
1045	.$e2f	STA FORSTACKP
1046	.$e32	STY FORSTACKP+1
1047	.$e35	LDA #<STRBUF
1048	.$e37	LDY #>STRBUF
1049	.$e39	STA STRBUFP
1050	.$e3c	STY STRBUFP+1
1051	.$e3f	STA HIGHP
1052	.$e42	STY HIGHP+1
1053	.$e45	LDA #0
1054	.$e47	STA CHLOCKFLAG
1055	.$e4a	STA LASTVAR
1056	.$e4d	STA LASTVAR+1
1057	.$e50	JSR INITVARS
1058	.$e53	LDA #0
1059	.$e55	STA CMD_NUM
1060	.$e58	STA CHANNEL
1061	.$e5b	TAY
1062	.$e5c	TAX
1066	.$e5d	STA KEYNDX
1072	.$e5f	JSR RESTORE
1073	.$e62	CLC
1077	.$e63	RTS
1080	.$e64	INITNARRAY
1081	.$e64	STA TMP_ZP
1082	.$e66	STY TMP_ZP+1
1083	.$e68	LDY #0
1084	.$e6a	TYA
1085	.$e6b	NINITLOOP STA (TMP_ZP),Y
1086	.$e6d	INC TMP_ZP
1087	.$e6f	BNE NLOOPNOV
1088	.$e71	INC TMP_ZP+1
1089	.$e73	NLOOPNOV LDX TMP2_ZP
1090	.$e75	BNE NLOOPNOV2
1091	.$e77	DEC TMP2_ZP+1
1092	.$e79	NLOOPNOV2 DEC TMP2_ZP
1093	.$e7b	BNE NINITLOOP
1094	.$e7d	LDX TMP2_ZP+1
1095	.$e7f	BNE NINITLOOP
1096	.$e81	RTS
1099	.$e82	INITSTRARRAY
1100	.$e82	STA TMP_ZP
1101	.$e84	STY TMP_ZP+1
1102	.$e86	SINITLOOP LDY #0
1103	.$e88	LDA #<EMPTYSTR
1104	.$e8a	STA (TMP_ZP),Y
1105	.$e8c	LDA #>EMPTYSTR
1106	.$e8e	INY
1107	.$e8f	STA (TMP_ZP),Y
1108	.$e91	CLC
1109	.$e92	LDA TMP_ZP
1110	.$e94	ADC #2
1111	.$e96	STA TMP_ZP
1112	.$e98	BCC SLOOPNOV1
1113	.$e9a	INC TMP_ZP+1
1114	.$e9c	SLOOPNOV1 SEC
1115	.$e9d	LDA TMP2_ZP
1116	.$e9f	SBC #2
1117	.$ea1	STA TMP2_ZP
1118	.$ea3	BCS SLOOPNOV2
1119	.$ea5	DEC TMP2_ZP+1
1120	.$ea7	SLOOPNOV2 LDA TMP2_ZP
1121	.$ea9	BNE SINITLOOP
1122	.$eab	LDA TMP2_ZP+1
1123	.$ead	BNE SINITLOOP
1124	.$eaf	RTS
1127	.$eb0	INITSPARAMS STA TMP3_ZP
1128	.$eb2	STY TMP3_ZP+1
1129	.$eb4	SEC
1130	.$eb5	SBC #2
1131	.$eb7	STA TMP_ZP
1132	.$eb9	TYA
1133	.$eba	SBC #0
1134	.$ebc	STA TMP_ZP+1
1135	.$ebe	LDY #0
1136	.$ec0	LDA (TMP_ZP),Y
1137	.$ec2	STA TMP2_ZP
1138	.$ec4	INY
1139	.$ec5	LDA (TMP_ZP),Y
1140	.$ec7	STA TMP2_ZP+1
1141	.$ec9	LDA TMP3_ZP
1142	.$ecb	LDY TMP3_ZP+1
1143	.$ecd	RTS
1146	.$ece	INITSTRVARS LDA #<STRINGVARS_START  
1147	.$ed0	LDY #>STRINGVARS_START
1148	.$ed2	CMP #<STRINGVARS_END
1149	.$ed4	BNE INITIT1
1150	.$ed6	CPY #>STRINGVARS_END
1151	.$ed8	BNE INITIT1
1152	.$eda	JMP INITSA2     
1153	.$edd	INITIT1  STA TMP_ZP
1154	.$edf	STY TMP_ZP+1
1155	.$ee1	LDY #0
1156	.$ee3	INITSTRLOOP LDA #<EMPTYSTR
1157	.$ee5	STA (TMP_ZP),Y
1158	.$ee7	INY
1159	.$ee8	LDA #>EMPTYSTR
1160	.$eea	STA (TMP_ZP),Y
1161	.$eec	DEY
1162	.$eed	LDA TMP_ZP
1163	.$eef	CLC
1164	.$ef0	ADC #2
1165	.$ef2	STA TMP_ZP
1166	.$ef4	LDA TMP_ZP+1
1167	.$ef6	ADC #0
1168	.$ef8	STA TMP_ZP+1
1169	.$efa	CMP #>STRINGVARS_END
1170	.$efc	BNE INITSTRLOOP
1171	.$efe	LDA TMP_ZP
1172	.$f00	CMP #<STRINGVARS_END
1173	.$f02	BNE INITSTRLOOP
1174	.$f04	INITSA2  LDA #<STRINGARRAYS_START 
1175	.$f06	LDY #>STRINGARRAYS_START
1176	.$f08	CMP #<STRINGARRAYS_END
1177	.$f0a	BNE ARRAYLOOP
1178	.$f0c	CPY #>STRINGARRAYS_END
1179	.$f0e	BNE ARRAYLOOP
1180	.$f10	RTS       
1181	.$f11	ARRAYLOOP CLC
1182	.$f12	ADC #3
1183	.$f14	BCC ARRAYSKIP1
1184	.$f16	INY
1185	.$f17	ARRAYSKIP1 CPY #>STRINGARRAYS_END
1186	.$f19	BEQ ARRAYSC
1187	.$f1b	BCC ARRAYSKIP2
1188	.$f1d	JMP ARRAYQUIT
1189	.$f20	ARRAYSC  CMP #<STRINGARRAYS_END
1190	.$f22	BCS ARRAYQUIT
1191	.$f24	ARRAYSKIP2 STA TMP_REG
1192	.$f26	STY TMP_REG+1
1193	.$f28	JSR INITSPARAMS
1194	.$f2b	LDA TMP_REG
1195	.$f2d	LDY TMP_REG+1
1196	.$f2f	JSR INITSTRARRAY
1197	.$f32	LDA TMP_ZP
1198	.$f34	LDY TMP_ZP+1
1199	.$f36	JMP ARRAYLOOP
1200	.$f39	ARRAYQUIT RTS
1203	.$f3a	RESTORE  LDA #<DATAS
1204	.$f3c	LDY #>DATAS
1205	.$f3e	STA DATASP
1206	.$f41	STY DATASP+1
1207	.$f44	RTS
1210	.$f45	CONCAT  LDA A_REG
1211	.$f48	STA TMP_ZP
1212	.$f4a	LDA A_REG+1
1213	.$f4d	STA TMP_ZP+1
1214	.$f4f	LDA STRBUFP  
1215	.$f52	STA A_REG
1216	.$f55	STA TMP3_ZP
1217	.$f57	LDA STRBUFP+1
1218	.$f5a	STA A_REG+1
1219	.$f5d	STA TMP3_ZP+1
1220	.$f5f	LDY #0
1221	.$f61	LDA (TMP_ZP),Y
1222	.$f63	TAX
1223	.$f64	LDA B_REG
1224	.$f67	STA TMP2_ZP
1225	.$f69	LDA B_REG+1
1226	.$f6c	STA TMP2_ZP+1
1227	.$f6e	TXA
1228	.$f6f	CLC
1229	.$f70	ADC (TMP2_ZP),Y
1230	.$f72	BCC CCSTRFITS
1231	.$f74	JMP STRINGTOOLONG
1232	.$f77	CCSTRFITS STA (TMP3_ZP),Y
1233	.$f79	INC TMP3_ZP
1234	.$f7b	BNE CCNOOV2
1235	.$f7d	INC TMP3_ZP+1
1236	.$f7f	CCNOOV2  CLC
1237	.$f80	ADC STRBUFP
1238	.$f83	PHP
1239	.$f84	CLC
1240	.$f85	ADC #3
1241	.$f87	STA STRBUFP
1242	.$f8a	BCC CCNOCS1
1243	.$f8c	INC STRBUFP+1
1244	.$f8f	CCNOCS1  PLP
1245	.$f90	BCC CCSTRFITS2
1246	.$f92	INC STRBUFP+1
1247	.$f95	CCSTRFITS2 JSR COPY2CONCAT  
1248	.$f98	LDA B_REG   
1249	.$f9b	STA TMP_ZP
1250	.$f9d	LDA B_REG+1
1251	.$fa0	STA TMP_ZP+1
1252	.$fa2	JMP COPY2CONCAT  
1255	.$fa5	COPY2CONCAT LDY #0
1256	.$fa7	LDA (TMP_ZP),Y
1257	.$fa9	BEQ NOC2C   
1258	.$fab	STA TMP2_ZP
1259	.$fad	INC TMP_ZP
1260	.$faf	BNE COPY2LOOP
1261	.$fb1	INC TMP_ZP+1
1262	.$fb3	COPY2LOOP LDA (TMP_ZP),Y
1263	.$fb5	STA (TMP3_ZP),Y
1264	.$fb7	INY
1265	.$fb8	CPY TMP2_ZP
1266	.$fba	BNE COPY2LOOP
1267	.$fbc	TYA
1268	.$fbd	CLC
1269	.$fbe	ADC TMP3_ZP   
1270	.$fc0	STA TMP3_ZP
1271	.$fc2	BCC NOC2C
1272	.$fc4	INC TMP3_ZP+1
1273	.$fc6	NOC2C  RTS
1276	.$fc7	TAB   JSR TABSPCINIT
1277	.$fca	JSR REROUTE
1278	.$fcd	LDA CMD_NUM
1279	.$fd0	BEQ NORMALTAB  
1280	.$fd2	CMP #3
1281	.$fd4	BEQ NORMALTAB2  
1282	.$fd6	JMP TABCHANNEL2
1283	.$fd9	NORMALTAB2 JSR CLRCHNEW
1284	.$fdc	NORMALTAB SEC
1285	.$fdd	JMP TABSPC
1288	.$fe0	SPC   JSR TABSPCINIT
1289	.$fe3	JSR REROUTE
1290	.$fe6	LDA CMD_NUM
1291	.$fe9	BEQ NORMALSPC  
1292	.$feb	CMP #3
1293	.$fed	BEQ NORMALSPC2  
1294	.$fef	JMP TABCHANNEL2
1295	.$ff2	NORMALSPC2 JSR CLRCHNEW
1296	.$ff5	NORMALSPC CLC
1297	.$ff6	JMP TABSPC
1300	.$ff9	TABSPCINIT SEC
1301	.$ffa	JSR CRSRPOS
1302	.$ffd	STY $09
1303	.$fff	JSR YREGFAC
1304	.$1002	JSR FACWORD
1305	.$1005	TYA
1306	.$1006	TAX
1307	.$1007	RTS
1310	.$1008	TABSPC     BCC DOSPC
1311	.$100a	TXA
1312	.$100b	SBC $09
1313	.$100d	BCC TABSPCQUIT
1314	.$100f	TAX
1315	.$1010	DOSPC  INX
1316	.$1011	TABSPCLOOP  DEX
1317	.$1012	BNE TABSPCRIGHT
1318	.$1014	TABSPCQUIT RTS
1319	.$1015	TABSPCRIGHT JSR CRSRRIGHT
1320	.$1018	JMP TABSPCLOOP
1323	.$101b	CHRINT  TAX
1324	.$101c	LDA STRBUFP
1325	.$101f	STA TMP_ZP
1326	.$1021	STA A_REG
1327	.$1024	LDA STRBUFP+1
1328	.$1027	STA TMP_ZP+1
1329	.$1029	STA A_REG+1
1330	.$102c	LDA #1
1331	.$102e	LDY #0
1332	.$1030	STA (TMP_ZP),Y
1333	.$1032	TXA
1334	.$1033	INY
1335	.$1034	STA (TMP_ZP),Y
1336	.$1036	LDA STRBUFP
1337	.$1039	CLC
1338	.$103a	ADC #2
1339	.$103c	STA STRBUFP
1340	.$103f	BCC NOCHR2
1341	.$1041	INC STRBUFP+1
1342	.$1044	NOCHR2  RTS
1345	.$1045	SAVEPOINTERS
1346	.$1045	LDA TMP_ZP   
1347	.$1047	STA STORE1
1348	.$104a	LDA TMP_ZP+1
1349	.$104c	STA STORE1+1
1350	.$104f	LDA TMP2_ZP
1351	.$1051	STA STORE2
1352	.$1054	LDA TMP2_ZP+1
1353	.$1056	STA STORE2+1
1354	.$1059	LDA TMP3_ZP
1355	.$105b	STA STORE3
1356	.$105e	LDA TMP3_ZP+1
1357	.$1060	STA STORE3+1
1358	.$1063	RTS
1361	.$1064	RESTOREPOINTERS
1362	.$1064	LDA STORE3+1  
1363	.$1067	STA TMP3_ZP+1
1364	.$1069	LDA STORE3
1365	.$106c	STA TMP3_ZP
1366	.$106e	LDA STORE2+1
1367	.$1071	STA TMP2_ZP+1
1368	.$1073	LDA STORE2
1369	.$1076	STA TMP2_ZP
1370	.$1078	LDA STORE1+1
1371	.$107b	STA TMP_ZP+1
1372	.$107d	LDA STORE1
1373	.$1080	STA TMP_ZP
1374	.$1082	RTS
1381	.$1083	COMPACTMAX
1382	.$1083	LDA #$FF
1383	.$1085	LDY #$0
1384	.$1087	JMP COMPACTF
1387	.$108a	COMPACT
1388	.$108a	LDY #0
1389	.$108c	GCBUFNE  LDA (TMP_ZP),Y  
1390	.$108e	COMPACTF STA TMP4_REG  
1391	.$1091	LDY STRBUFP+1  
1392	.$1094	STY TMP4_REG+1  
1393	.$1097	INY     
1394	.$1098	BEQ ENDMEM   
1395	.$109a	CPY ENDSTRBUF+1  
1396	.$109d	BCC RGCEXIT   
1397	.$109f	ENDMEM  LDA STRBUFP
1398	.$10a2	CLC
1399	.$10a3	ADC TMP4_REG
1400	.$10a6	STA TMP4_REG
1401	.$10a9	BCC RGCNOOV1
1402	.$10ab	INC TMP4_REG+1
1403	.$10ae	RGCNOOV1 CLC
1404	.$10af	LDA TMP4_REG
1405	.$10b2	ADC #3
1406	.$10b4	STA TMP4_REG
1407	.$10b7	BCC RGCNOOV2
1408	.$10b9	INC TMP4_REG+1
1409	.$10bc	RGCNOOV2 LDA TMP4_REG+1  
1410	.$10bf	CMP ENDSTRBUF+1
1411	.$10c2	BEQ RGCLOW1
1412	.$10c4	BCS GCEXECOMP  
1413	.$10c6	JMP RGCEXIT
1414	.$10c9	RGCLOW1  LDA TMP4_REG
1415	.$10cc	CMP ENDSTRBUF
1416	.$10cf	BCS GCEXECOMP  
1417	.$10d1	RGCEXIT  RTS     
1418	.$10d2	GCEXECOMP LDA STRBUFP
1419	.$10d5	STA STORE4
1420	.$10d8	LDA STRBUFP+1
1421	.$10db	STA STORE4+1
1422	.$10de	JSR GCEXE
1423	.$10e1	JMP CHECKMEMORY
1426	.$10e4	GCEXE  JSR SAVEPOINTERS
1427	.$10e7	LDA #0
1428	.$10e9	STA LASTVAR
1429	.$10ec	STA LASTVAR+1  
1430	.$10ef	LDA #<STRBUF
1431	.$10f1	STA TMP_ZP
1432	.$10f3	STA GCSTART
1433	.$10f6	LDA #>STRBUF
1434	.$10f8	STA TMP_ZP+1  
1435	.$10fa	STA GCSTART+1
1436	.$10fd	GCLOOP  LDY #0
1437	.$10ff	LDA TMP_ZP
1438	.$1101	STA GCWORK
1439	.$1104	LDA TMP_ZP+1
1440	.$1106	STA GCWORK+1  
1441	.$1109	LDA (TMP_ZP),Y
1442	.$110b	STA GCLEN   
1443	.$110e	INC TMP_ZP
1444	.$1110	BNE GCLOOPNOOV
1445	.$1112	INC TMP_ZP+1
1446	.$1114	GCLOOPNOOV LDA TMP_ZP
1447	.$1116	CLC
1448	.$1117	ADC GCLEN
1449	.$111a	STA TMP_ZP
1450	.$111c	BCC GCLOOPNOOV2
1451	.$111e	INC TMP_ZP+1  
1452	.$1120	GCLOOPNOOV2 LDY #0
1453	.$1122	LDA (TMP_ZP),Y
1454	.$1124	STA TMP2_ZP
1455	.$1126	INY
1456	.$1127	LDA (TMP_ZP),Y
1457	.$1129	STA TMP2_ZP+1  
1458	.$112b	LDA TMP_ZP
1459	.$112d	CLC
1460	.$112e	ADC #2
1461	.$1130	STA TMP_ZP
1462	.$1132	BCC GCLOOPNOOV3
1463	.$1134	INC TMP_ZP+1  
1464	.$1136	GCLOOPNOOV3 LDY #0
1465	.$1138	LDA (TMP2_ZP),Y
1466	.$113a	CMP GCWORK
1467	.$113d	BNE GCKLOOP
1468	.$113f	INY
1469	.$1140	LDA (TMP2_ZP),Y
1470	.$1142	CMP GCWORK+1
1471	.$1145	BEQ MEMFREE
1472	.$1147	GCKLOOP  LDA TMP_ZP+1  
1473	.$1149	CMP HIGHP+1
1474	.$114c	BEQ GCHECKLOW
1475	.$114e	BCC GCLOOP
1476	.$1150	JMP GCDONE
1477	.$1153	GCHECKLOW LDA TMP_ZP
1478	.$1155	CMP HIGHP
1479	.$1158	BCS GCDONE
1480	.$115a	JMP GCLOOP
1481	.$115d	MEMFREE  LDA GCSTART   
1482	.$1160	CMP GCWORK   
1483	.$1163	BNE COPYDOWN
1484	.$1165	LDA GCSTART+1
1485	.$1168	CMP GCWORK+1
1486	.$116b	BNE COPYDOWN
1487	.$116d	LDA TMP_ZP   
1488	.$116f	STA GCSTART
1489	.$1172	LDA TMP_ZP+1
1490	.$1174	STA GCSTART+1
1491	.$1177	JMP GCKLOOP   
1492	.$117a	COPYDOWN LDA GCSTART   
1493	.$117d	STA TMP_REG
1494	.$117f	LDA GCSTART+1
1495	.$1182	STA TMP_REG+1  
1496	.$1184	LDA GCWORK
1497	.$1187	STA TMP2_REG
1498	.$118a	LDA GCWORK+1
1499	.$118d	STA TMP2_REG+1  
1500	.$1190	LDA TMP_ZP
1501	.$1192	SEC
1502	.$1193	SBC GCWORK
1503	.$1196	STA TMP3_REG
1504	.$1199	LDA TMP_ZP+1
1505	.$119b	SBC GCWORK+1
1506	.$119e	STA TMP3_REG+1  
1507	.$11a1	LDA GCSTART
1508	.$11a4	CLC
1509	.$11a5	ADC TMP3_REG
1510	.$11a8	STA GCSTART
1511	.$11ab	LDA GCSTART+1
1512	.$11ae	ADC TMP3_REG+1
1513	.$11b1	STA GCSTART+1  
1514	.$11b4	JSR QUICKCOPY  
1515	.$11b7	LDY #0
1516	.$11b9	LDA TMP_REG
1517	.$11bb	STA (TMP2_ZP),Y
1518	.$11bd	INY
1519	.$11be	LDA TMP_REG+1
1520	.$11c0	STA (TMP2_ZP),Y  
1521	.$11c2	JMP GCKLOOP
1522	.$11c5	GCDONE  LDA GCSTART
1523	.$11c8	STA HIGHP
1524	.$11cb	STA STRBUFP
1525	.$11ce	LDA GCSTART+1
1526	.$11d1	STA HIGHP+1
1527	.$11d4	STA STRBUFP+1  
1528	.$11d7	GCSKIP  JSR RESTOREPOINTERS
1529	.$11da	RTS     
1532	.$11db	CHECKMEMORY
1533	.$11db	LDA STRBUFP+1  
1534	.$11de	CMP STORE4+1  
1535	.$11e1	BCC STILLFITSCM  
1539	.$11e3	BEQ CHECKMEMLOWCM
1540	.$11e5	JMP OUTOFMEMORY  
1541	.$11e8	CHECKMEMLOWCM
1542	.$11e8	LDA STRBUFP   
1543	.$11eb	CMP STORE4
1544	.$11ee	BCC STILLFITSCM
1545	.$11f0	JMP OUTOFMEMORY  
1546	.$11f3	STILLFITSCM RTS
1549	.$11f4	QUICKCOPY LDA TMP_REG  
1550	.$11f6	STA TMEM+1
1551	.$11f9	LDA TMP_REG+1
1552	.$11fb	STA TMEM+2
1553	.$11fe	LDA TMP2_REG
1554	.$1201	STA SMEM+1
1555	.$1204	LDA TMP2_REG+1
1556	.$1207	STA SMEM+2
1557	.$120a	LDY #$0
1558	.$120c	LDX TMP3_REG
1559	.$120f	BNE QCLOOP
1560	.$1211	LDA TMP3_REG+1
1561	.$1214	BEQ QCEXIT  
1562	.$1216	QCLOOP
1563	.$1216	SMEM  LDA $0000,Y
1564	.$1219	TMEM  STA $0000,Y
1565	.$121c	INY
1566	.$121d	BNE YNOOV
1567	.$121f	INC TMEM+2
1568	.$1222	INC SMEM+2
1569	.$1225	YNOOV  DEX
1570	.$1226	BNE QCLOOP
1571	.$1228	LDA TMP3_REG+1
1572	.$122b	BEQ QCEXIT
1573	.$122d	DEC TMP3_REG+1
1574	.$1230	JMP QCLOOP
1575	.$1233	QCEXIT  RTS
1578	.$1234	COPYSTRING STA TMP2_ZP
1579	.$1236	STY TMP2_ZP+1
1580	.$1238	CPY TMP_ZP+1
1581	.$123a	BNE CONTCOPY
1582	.$123c	LDA TMP2_ZP
1583	.$123e	CMP TMP_ZP
1584	.$1240	BNE CONTCOPY
1585	.$1242	RTS     
1586	.$1243	CONTCOPY JSR COMPACT   
1587	.$1246	LDY #0
1588	.$1248	STY TMP_FLAG
1589	.$124b	LDA (TMP_ZP),Y
1590	.$124d	BNE NOTEMPTYSTR
1591	.$124f	LDA #<EMPTYSTR  
1592	.$1251	STA TMP_ZP
1593	.$1253	LDA #>EMPTYSTR
1594	.$1255	STA TMP_ZP+1
1595	.$1257	JMP ISCONST
1596	.$125a	NOTEMPTYSTR TAX     
1597	.$125b	LDA (TMP2_ZP),Y
1598	.$125d	STA TMP3_ZP
1599	.$125f	INY
1600	.$1260	LDA (TMP2_ZP),Y
1601	.$1262	STA TMP3_ZP+1
1602	.$1264	DEY
1603	.$1265	LDA TMP_ZP+1  
1604	.$1267	CMP #>CONSTANTS_END
1605	.$1269	BEQ CHECKLOW1
1606	.$126b	BCS INVAR
1607	.$126d	JMP CHECKNEXT
1608	.$1270	CHECKLOW1 LDA TMP_ZP
1609	.$1272	CMP #<CONSTANTS_END
1610	.$1274	BCS INVAR
1611	.$1276	CHECKNEXT LDA TMP_ZP+1  
1612	.$1278	CMP #>CONSTANTS
1613	.$127a	BEQ CHECKLOW3
1614	.$127c	BCC INVAR
1615	.$127e	JMP ISCONST
1616	.$1281	CHECKLOW3 LDA TMP_ZP
1617	.$1283	CMP #<CONSTANTS
1618	.$1285	BCC INVAR   
1619	.$1287	ISCONST  JSR CHECKLASTVAR 
1620	.$128a	LDA TMP_ZP
1621	.$128c	STA (TMP2_ZP),Y  
1622	.$128e	INY
1623	.$128f	LDA TMP_ZP+1
1624	.$1291	STA (TMP2_ZP),Y
1625	.$1293	LDA HIGHP   
1626	.$1296	STA STRBUFP
1627	.$1299	LDA HIGHP+1
1628	.$129c	STA STRBUFP+1
1629	.$129f	RTS
1630	.$12a0	INVAR  INY
1631	.$12a1	LDA (TMP2_ZP),Y  
1632	.$12a3	CMP #>CONSTANTS_END
1633	.$12a5	BEQ CHECKLOW2
1634	.$12a7	BCS INVAR2
1635	.$12a9	JMP PUPDATEPTR
1636	.$12ac	CHECKLOW2 DEY
1637	.$12ad	LDA (TMP2_ZP),Y
1638	.$12af	CMP #<CONSTANTS_END
1639	.$12b1	BCS INVAR2
1640	.$12b3	JMP PUPDATEPTR
1641	.$12b6	INVAR2  LDY #0   
1642	.$12b8	LDA (TMP3_ZP),Y
1643	.$12ba	STA TMP_REG
1644	.$12bc	TXA
1645	.$12bd	CMP TMP_REG  
1646	.$12bf	BEQ UPDATEHP2 
1649	.$12c1	PUPDATEPTR JSR CHECKLASTVAR
1650	.$12c4	LDY #1   
1651	.$12c6	STY TMP_FLAG 
1652	.$12c9	JMP UPDATEPTR 
1653	.$12cc	UPDATEHP2 LDA HIGHP  
1654	.$12cf	STA STRBUFP
1655	.$12d2	LDA HIGHP+1
1656	.$12d5	STA STRBUFP+1
1657	.$12d8	JMP STRFITS
1658	.$12db	COPYONLY LDY #0
1659	.$12dd	STY TMP_FLAG
1660	.$12e0	JMP CHECKMEM
1661	.$12e3	ALTCOPY  JMP COPYSTRING2
1662	.$12e6	UPDATEPTR LDA TMP_ZP+1 
1663	.$12e8	CMP HIGHP+1  
1664	.$12eb	BEQ CHECKXT1
1665	.$12ed	BCS ALTCOPY
1666	.$12ef	JMP CHECKMEM
1667	.$12f2	CHECKXT1 LDA TMP_ZP
1668	.$12f4	CMP HIGHP
1669	.$12f7	BCS ALTCOPY
1670	.$12f9	CHECKMEM
1671	.$12f9	MEMOK  LDY #0
1672	.$12fb	LDA STRBUFP  
1673	.$12fe	STA (TMP2_ZP),Y 
1674	.$1300	STA TMP3_ZP
1675	.$1302	LDA STRBUFP+1
1676	.$1305	INY
1677	.$1306	STA (TMP2_ZP),Y
1678	.$1308	STA TMP3_ZP+1
1679	.$130a	TXA
1680	.$130b	CLC
1681	.$130c	ADC STRBUFP
1682	.$130f	PHP
1683	.$1310	CLC
1684	.$1311	ADC #3
1685	.$1313	STA STRBUFP
1686	.$1316	BCC NOCS1
1687	.$1318	INC STRBUFP+1
1688	.$131b	NOCS1  PLP
1689	.$131c	BCC STRFITS
1690	.$131e	INC STRBUFP+1
1691	.$1321	STRFITS  LDY TMP_FLAG 
1692	.$1324	BEQ NOHPUPDATE 
1693	.$1326	LDA HIGHP+1
1694	.$1329	CMP STRBUFP+1
1695	.$132c	BCC UPDATEHIGHP
1696	.$132e	BEQ CHECKNEXTHP
1697	.$1330	JMP NOHPUPDATE
1698	.$1333	CHECKNEXTHP LDA HIGHP
1699	.$1336	CMP STRBUFP
1700	.$1339	BCC UPDATEHIGHP
1701	.$133b	JMP NOHPUPDATE
1702	.$133e	UPDATEHIGHP LDA STRBUFP
1703	.$1341	STA HIGHP
1704	.$1344	LDA STRBUFP+1
1705	.$1347	STA HIGHP+1  
1706	.$134a	JSR REMEMBERLASTVAR
1707	.$134d	JSR STOREVARREF
1708	.$1350	NOHPUPDATE LDY #0
1709	.$1352	LDA (TMP_ZP),Y 
1710	.$1354	STA (TMP3_ZP),Y
1711	.$1356	TAY    
1712	.$1357	BEQ EXITCOPY 
1713	.$1359	LOOP  LDA (TMP_ZP),Y 
1714	.$135b	STA (TMP3_ZP),Y
1715	.$135d	DEY
1716	.$135e	BNE LOOP
1717	.$1360	EXITCOPY RTS
1722	.$1361	COPYSTRING2 LDY #0
1723	.$1363	LDA (TMP_ZP),Y
1724	.$1365	STA TMP_REG
1725	.$1367	TAX
1726	.$1368	LDA HIGHP
1727	.$136b	STA TMP3_ZP
1728	.$136d	STA (TMP2_ZP),Y
1729	.$136f	LDA HIGHP+1
1730	.$1372	STA TMP3_ZP+1
1731	.$1374	INY
1732	.$1375	STA (TMP2_ZP),Y
1733	.$1377	JSR REMEMBERLASTVAR
1736	.$137a	LDA TMP_ZP
1737	.$137c	CMP TMP3_ZP
1738	.$137e	BNE DOLOOP
1739	.$1380	LDA TMP_ZP+1
1740	.$1382	CMP TMP3_ZP+1
1741	.$1384	BEQ SKIPCP2
1742	.$1386	DOLOOP  DEY
1743	.$1387	TXA
1744	.$1388	STA (TMP3_ZP),Y
1745	.$138a	INY
1746	.$138b	ASLOOP  LDA (TMP_ZP),Y
1747	.$138d	STA (TMP3_ZP),Y
1748	.$138f	INY
1749	.$1390	DEX
1750	.$1391	BNE ASLOOP
1751	.$1393	SKIPCP2  LDA HIGHP
1752	.$1396	CLC
1753	.$1397	ADC TMP_REG
1754	.$1399	PHP
1755	.$139a	CLC
1756	.$139b	ADC #3
1757	.$139d	STA HIGHP
1758	.$13a0	STA STRBUFP
1759	.$13a3	BCC SKIPLOWAS1
1760	.$13a5	INC HIGHP+1
1761	.$13a8	SKIPLOWAS1 PLP
1762	.$13a9	BCC SKIPLOWAS2
1763	.$13ab	INC HIGHP+1
1764	.$13ae	SKIPLOWAS2 LDA HIGHP+1
1765	.$13b1	STA STRBUFP+1
1766	.$13b4	JSR STOREVARREF
1767	.$13b7	RTS
1771	.$13b8	CHECKLASTVAR
1772	.$13b8	LDA TMP2_ZP
1773	.$13ba	CMP LASTVAR
1774	.$13bd	BNE NOTSAMEVAR
1775	.$13bf	LDA TMP2_ZP+1
1776	.$13c1	CMP LASTVAR+1
1777	.$13c4	BNE NOTSAMEVAR
1778	.$13c6	LDA LASTVARP   
1779	.$13c9	STA HIGHP
1780	.$13cc	STA STRBUFP
1781	.$13cf	LDA LASTVARP+1
1782	.$13d2	STA HIGHP+1
1783	.$13d5	STA STRBUFP+1
1784	.$13d8	NOTSAMEVAR RTS
1788	.$13d9	REMEMBERLASTVAR
1789	.$13d9	LDA TMP2_ZP
1790	.$13db	STA LASTVAR
1791	.$13de	LDA TMP2_ZP+1
1792	.$13e0	STA LASTVAR+1
1793	.$13e3	LDA TMP3_ZP
1794	.$13e5	STA LASTVARP
1795	.$13e8	LDA TMP3_ZP+1
1796	.$13ea	STA LASTVARP+1 
1797	.$13ed	RTS
1802	.$13ee	STOREVARREF
1803	.$13ee	TYA
1804	.$13ef	PHA    
1805	.$13f0	LDA TMP_ZP
1806	.$13f2	PHA
1807	.$13f3	LDA TMP_ZP+1
1808	.$13f5	PHA
1809	.$13f6	LDA HIGHP+1
1810	.$13f9	STA TMP_ZP+1
1811	.$13fb	LDA HIGHP
1812	.$13fe	SEC
1813	.$13ff	SBC #2
1814	.$1401	STA TMP_ZP
1815	.$1403	BCS RLVNOOV
1816	.$1405	DEC TMP_ZP+1
1817	.$1407	RLVNOOV  LDA TMP2_ZP
1818	.$1409	LDY #0
1819	.$140b	STA (TMP_ZP),Y
1820	.$140d	LDA TMP2_ZP+1
1821	.$140f	INY
1822	.$1410	STA (TMP_ZP),Y 
1823	.$1412	PLA
1824	.$1413	STA TMP_ZP+1
1825	.$1415	PLA
1826	.$1416	STA TMP_ZP  
1827	.$1418	PLA
1828	.$1419	TAY    
1829	.$141a	RTS
1832	.$141b	REROUTE  LDA CMD_NUM  
1833	.$141e	BEQ REROUTECMD
1834	.$1420	TAX
1835	.$1421	STA CHANNEL
1836	.$1424	JMP CHKOUT
1837	.$1427	REROUTECMD RTS
1840	.$1428	RESETROUTE LDA CMD_NUM  
1841	.$142b	BEQ RESETROUTECMD
1842	.$142d	JMP CLRCHNEW
1843	.$1430	RESETROUTECMD
1844	.$1430	RTS
1847	.$1431	INTOUT  JMP REALOUT
1850	.$1434	INTOUTBRKFAST
1851	.$1434	JSR REROUTE
1852	.$1437	JSR INTOUTFASTZ
1853	.$143a	LDA #$0D
1854	.$143c	JSR CHROUT
1855	.$143f	JMP RESETROUTE
1858	.$1442	INTOUTFASTZ LDX #32    
1859	.$1444	LDA TMP_ZP+1
1860	.$1446	BPL INTISPOS
1861	.$1448	CLC
1862	.$1449	LDA TMP_ZP
1863	.$144b	EOR #$FF
1864	.$144d	ADC #1
1865	.$144f	STA TMP_ZP
1866	.$1451	LDA TMP_ZP+1
1867	.$1453	EOR #$FF
1868	.$1455	ADC #0
1869	.$1457	STA TMP_ZP+1
1870	.$1459	LDX #45    
1871	.$145b	INTISPOS
1872	.$145b	TXA
1873	.$145c	JSR CHROUT
1874	.$145f	JSR CONVPOSINT
1875	.$1462	LDA NUMFLAG
1876	.$1465	BNE ALLINTOUTDONE
1877	.$1467	LDA #48
1878	.$1469	JSR CHROUT
1879	.$146c	ALLINTOUTDONE
1880	.$146c	RTS
1883	.$146d	NUMBEROUT
1884	.$146d	BEQ NUMZERO
1885	.$146f	ORA #$30
1886	.$1471	STA NUMFLAG
1887	.$1474	JMP CHROUT
1888	.$1477	NUMZERO
1889	.$1477	LDX NUMFLAG
1890	.$147a	BEQ STILLZERO
1891	.$147c	ORA #$30
1892	.$147e	JMP CHROUT
1893	.$1481	STILLZERO
1894	.$1481	RTS
1897	.$1482	CONVPOSINT
1898	.$1482	JSR INT2BCD
1899	.$1485	LDX #0
1900	.$1487	STX NUMFLAG
1901	.$148a	AND #$0F
1902	.$148c	JSR NUMBEROUT
1903	.$148f	LDA BCD+1
1904	.$1492	LSR
1905	.$1493	LSR
1906	.$1494	LSR
1907	.$1495	LSR
1908	.$1496	JSR NUMBEROUT
1909	.$1499	LDA BCD+1
1910	.$149c	AND #$0F
1911	.$149e	TAY
1912	.$149f	JSR NUMBEROUT
1913	.$14a2	LDA BCD
1914	.$14a5	LSR
1915	.$14a6	LSR
1916	.$14a7	LSR
1917	.$14a8	LSR
1918	.$14a9	JSR NUMBEROUT
1919	.$14ac	LDA BCD
1920	.$14af	AND #$0F
1921	.$14b1	JSR NUMBEROUT
1922	.$14b4	RTS
1925	.$14b5	INT2BCD
1926	.$14b5	SED
1927	.$14b6	LDA #0
1928	.$14b8	STA BCD
1929	.$14bb	STA BCD+1
1930	.$14be	STA BCD+2
1931	.$14c1	ASL TMP_ZP
1932	.$14c3	ROL TMP_ZP+1
1933	.$14c5	LDA BCD
1934	.$14c8	ADC BCD
1935	.$14cb	STA BCD
1936	.$14ce	ASL TMP_ZP
1937	.$14d0	ROL TMP_ZP+1
1938	.$14d2	ADC BCD
1939	.$14d5	STA BCD
1940	.$14d8	ASL TMP_ZP
1941	.$14da	ROL TMP_ZP+1
1942	.$14dc	ADC BCD
1943	.$14df	STA BCD
1944	.$14e2	ASL TMP_ZP
1945	.$14e4	ROL TMP_ZP+1
1946	.$14e6	ADC BCD
1947	.$14e9	STA BCD
1948	.$14ec	ASL TMP_ZP
1949	.$14ee	ROL TMP_ZP+1
1950	.$14f0	ADC BCD
1951	.$14f3	STA BCD
1952	.$14f6	ASL TMP_ZP
1953	.$14f8	ROL TMP_ZP+1
1954	.$14fa	ADC BCD
1955	.$14fd	STA BCD
1956	.$1500	LDX #7
1957	.$1502	BCDBIT1
1958	.$1502	ASL TMP_ZP
1959	.$1504	ROL TMP_ZP+1
1960	.$1506	LDA BCD
1961	.$1509	ADC BCD
1962	.$150c	STA BCD
1963	.$150f	LDA BCD+1
1964	.$1512	ADC BCD+1
1965	.$1515	STA BCD+1
1966	.$1518	DEX
1967	.$1519	BNE BCDBIT1
1968	.$151b	LDX #3
1969	.$151d	BCDBIT2
1970	.$151d	ASL TMP_ZP
1971	.$151f	ROL TMP_ZP+1
1972	.$1521	LDA BCD
1973	.$1524	ADC BCD
1974	.$1527	STA BCD
1975	.$152a	LDA BCD+1
1976	.$152d	ADC BCD+1
1977	.$1530	STA BCD+1
1978	.$1533	LDA BCD+2
1979	.$1536	ADC BCD+2
1980	.$1539	STA BCD+2
1981	.$153c	DEX
1982	.$153d	BNE BCDBIT2
1983	.$153f	CLD
1984	.$1540	RTS
1985	.$1541	BCD
1986	.$1541	.WORD 0 0
1987	.$1545	NUMFLAG
1988	.$1545	.BYTE 0
1991	.$1546	REALOUTFAST JSR FACINT
1992	.$1549	STA TMP_ZP+1
1993	.$154b	STY TMP_ZP
1994	.$154d	JMP INTOUTFASTZ
1997	.$1550	CHECKFORFASTOUT
1998	.$1550	JSR REROUTE
1999	.$1553	JSR XREGFAC
2000	.$1556	LDA FACEXP
2001	.$1558	CMP #$90
2002	.$155a	BCS REALOUTINT
2003	.$155c	CMP #$81
2004	.$155e	BCC REALOUTINT
2005	.$1560	MAYBEREALOUTFAST
2006	.$1560	LDA FACEXP+3
2007	.$1562	BNE REALOUTINT
2008	.$1564	LDA FACEXP+4
2009	.$1566	BNE REALOUTINT
2010	.$1568	LDA FACEXP
2011	.$156a	SEC
2012	.$156b	SBC #129
2013	.$156d	ASL
2014	.$156e	TAX
2015	.$156f	LDA FACEXP+1
2016	.$1571	AND MANTMASK,X
2017	.$1574	BNE REALOUTINT
2018	.$1576	INX
2019	.$1577	LDA FACEXP+2
2020	.$1579	AND MANTMASK,X
2021	.$157c	BNE REALOUTINT
2022	.$157e	JMP REALOUTFAST
2023	.$1581	REALOUTINT LDY #0
2024	.$1583	JSR FACSTR
2025	.$1586	LDY #0
2026	.$1588	LDA LOFBUF,Y
2027	.$158b	STRLOOPRO JSR CHROUT
2028	.$158e	INY
2029	.$158f	LDA LOFBUF,Y
2030	.$1592	BNE STRLOOPRO
2031	.$1594	RTS
2032	.$1595	MANTMASK
2033	.$1595	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
2036	.$15b3	REALOUT  LDA X_REG
2037	.$15b5	BNE RNOTNULL
2038	.$15b7	JMP PRINTNULL
2039	.$15ba	RNOTNULL JSR CHECKFORFASTOUT
2040	.$15bd	JMP RESETROUTE
2043	.$15c0	REALOUTBRK  LDA X_REG
2044	.$15c2	BNE RNOTNULLBRK
2045	.$15c4	JMP PRINTNULLBRK
2046	.$15c7	RNOTNULLBRK JSR CHECKFORFASTOUT
2047	.$15ca	LDA #$0D
2048	.$15cc	JSR CHROUT
2049	.$15cf	JMP RESETROUTE
2052	.$15d2	LINEBREAK JSR REROUTE
2053	.$15d5	LDA #$0D
2054	.$15d7	JSR CHROUT
2055	.$15da	JMP RESETROUTE
2058	.$15dd	PRINTNULL JSR REROUTE
2059	.$15e0	LDA #$20
2060	.$15e2	JSR CHROUT
2061	.$15e5	LDA #$30
2062	.$15e7	JSR CHROUT
2063	.$15ea	JMP RESETROUTE
2066	.$15ed	PRINTNULLBRK
2067	.$15ed	JSR REROUTE
2068	.$15f0	LDA #$20
2069	.$15f2	JSR CHROUT
2070	.$15f5	LDA #$30
2071	.$15f7	JSR CHROUT
2072	.$15fa	LDA #$0D
2073	.$15fc	JSR CHROUT
2074	.$15ff	JMP RESETROUTE
2077	.$1602	STROUTWL STA A_REG
2078	.$1605	STY A_REG+1
2079	.$1608	STROUT  JSR REROUTE
2080	.$160b	LDA A_REG
2081	.$160e	STA INDEX1
2082	.$1610	LDA A_REG+1
2083	.$1613	STA INDEX1+1
2084	.$1615	LDY #0
2085	.$1617	LDA (INDEX1),Y
2086	.$1619	TAX
2087	.$161a	INC INDEX1
2088	.$161c	BNE PRINTSTR
2089	.$161e	INC INDEX1+1
2090	.$1620	PRINTSTR JSR PRINTSTRS
2091	.$1623	LDA HIGHP   
2092	.$1626	STA STRBUFP
2093	.$1629	LDA HIGHP+1
2094	.$162c	STA STRBUFP+1
2095	.$162f	JSR RESETROUTE
2096	.$1632	RTS
2099	.$1633	SINGLECHROUTBRKMAX
2100	.$1633	JSR SINGLECHROUTBRK
2101	.$1636	JMP COMPACTMAX
2104	.$1639	SINGLECHROUTBRK
2105	.$1639	STA TMP_ZP
2106	.$163b	JSR REROUTE
2107	.$163e	LDA TMP_ZP
2108	.$1640	JSR CHROUT
2109	.$1643	LDA #$0D
2110	.$1645	JSR CHROUT
2111	.$1648	JMP RESETROUTE
2114	.$164b	STROUTBRKWL STA A_REG
2115	.$164e	STY A_REG+1
2116	.$1651	STROUTBRK JSR REROUTE
2117	.$1654	LDA A_REG
2118	.$1657	STA INDEX1
2119	.$1659	LDA A_REG+1
2120	.$165c	STA INDEX1+1
2121	.$165e	LDY #0
2122	.$1660	LDA (INDEX1),Y
2123	.$1662	TAX
2124	.$1663	INC INDEX1
2125	.$1665	BNE PRINTSTR2
2126	.$1667	INC INDEX1+1
2127	.$1669	PRINTSTR2 JSR PRINTSTRS
2128	.$166c	LDA HIGHP   
2129	.$166f	STA STRBUFP
2130	.$1672	LDA HIGHP+1
2131	.$1675	STA STRBUFP+1
2132	.$1678	LDA #$0D
2133	.$167a	JSR CHROUT
2134	.$167d	JMP RESETROUTE  
2137	.$1680	TABOUT  JSR REROUTE
2138	.$1683	LDA CMD_NUM
2139	.$1686	BEQ NORMALTABOUT  
2140	.$1688	CMP #3
2141	.$168a	BEQ NORMALTABOUT2  
2142	.$168c	JMP TABOUTCHANNEL2
2143	.$168f	NORMALTABOUT2
2144	.$168f	JSR CLRCHNEW
2145	.$1692	NORMALTABOUT
2146	.$1692	SEC
2147	.$1693	JSR CRSRPOS
2148	.$1696	TYA
2149	.$1697	SEC
2150	.$1698	TABSUB   SBC #$0A
2151	.$169a	BCS TABSUB
2152	.$169c	EOR #$FF
2153	.$169e	ADC #$01
2154	.$16a0	TAX
2155	.$16a1	INX
2156	.$16a2	TABLOOP  DEX
2157	.$16a3	BNE TABRIGHT
2158	.$16a5	RTS
2159	.$16a6	TABRIGHT JSR CRSRRIGHT
2160	.$16a9	JMP TABLOOP
2163	.$16ac	ADJUSTSTACK LDA FORSTACKP 
2164	.$16af	STA TMP_ZP
2165	.$16b1	LDA FORSTACKP+1
2166	.$16b4	STA TMP_ZP+1
2167	.$16b6	ADSEARCHFOR LDA TMP_ZP
2168	.$16b8	CMP #<FORSTACK
2169	.$16ba	BNE ADJUST2
2170	.$16bc	LDA TMP_ZP+1
2171	.$16be	CMP #>FORSTACK
2172	.$16c0	BNE ADJUST2
2173	.$16c2	RTS    
2174	.$16c3	ADJUST2  LDA TMP_ZP
2175	.$16c5	SEC
2176	.$16c6	SBC #2
2177	.$16c8	STA TMP_ZP
2178	.$16ca	BCS ADNOPV1N1
2179	.$16cc	DEC TMP_ZP+1
2180	.$16ce	ADNOPV1N1 LDY #0
2181	.$16d0	LDA (TMP_ZP),Y
2182	.$16d2	BNE ADNOGOSUB
2183	.$16d4	RTS    
2184	.$16d5	ADNOGOSUB
2185	.$16d5	INY
2186	.$16d6	LDA TMP_ZP
2187	.$16d8	SEC
2188	.$16d9	SBC (TMP_ZP),Y
2189	.$16db	STA TMP_ZP
2190	.$16dd	BCS ADNOPV1N2
2191	.$16df	DEC TMP_ZP+1
2192	.$16e1	ADNOPV1N2 DEY
2193	.$16e2	LDA A_REG
2194	.$16e5	ADCMPFOR CMP (TMP_ZP),Y
2195	.$16e7	BNE ADSEARCHFOR
2196	.$16e9	LDA A_REG+1
2197	.$16ec	INY
2198	.$16ed	CMP (TMP_ZP),Y
2199	.$16ef	BEQ ADFOUNDFOR
2200	.$16f1	JMP ADSEARCHFOR
2201	.$16f4	ADLOW0  LDX A_REG+1
2202	.$16f7	BEQ ADFOUNDFOR
2203	.$16f9	BNE ADCMPFOR
2204	.$16fb	ADFOUNDFOR LDA TMP_ZP  
2205	.$16fd	STA FORSTACKP
2206	.$1700	LDA TMP_ZP+1
2207	.$1702	STA FORSTACKP+1
2208	.$1705	RTS
2211	.$1706	INITFOR  JSR ADJUSTSTACK
2212	.$1709	LDA FORSTACKP
2213	.$170c	STA TMP_ZP
2214	.$170e	LDA FORSTACKP+1
2215	.$1711	STA TMP_ZP+1
2216	.$1713	LDY #0
2217	.$1715	LDA A_REG
2218	.$1718	STA (TMP_ZP),Y
2219	.$171a	INY
2220	.$171b	LDA A_REG+1
2221	.$171e	STA (TMP_ZP),Y
2222	.$1720	INY
2223	.$1721	LDA JUMP_TARGET
2224	.$1723	STA (TMP_ZP),Y
2225	.$1725	INY
2226	.$1726	LDA JUMP_TARGET+1
2227	.$1728	STA (TMP_ZP),Y
2228	.$172a	INY
2229	.$172b	STY TMP3_ZP
2230	.$172d	JSR INCTMPZP
2231	.$1730	JSR POPREAL
2232	.$1733	LDX TMP_ZP
2233	.$1735	LDY TMP_ZP+1
2235	.$1737	JSR FACMEM
2236	.$173a	JSR SGNFAC
2237	.$173d	STA TMP_FLAG
2238	.$1740	LDY #5
2239	.$1742	STY TMP3_ZP
2240	.$1744	JSR INCTMPZP
2241	.$1747	JSR POPREAL
2242	.$174a	LDX TMP_ZP
2243	.$174c	LDY TMP_ZP+1
2245	.$174e	JSR FACMEM
2246	.$1751	LDY #5
2247	.$1753	STY TMP3_ZP
2248	.$1755	JSR INCTMPZP
2249	.$1758	LDY #0
2250	.$175a	LDA TMP_FLAG
2251	.$175d	STA (TMP_ZP),Y
2252	.$175f	INY
2253	.$1760	LDA #1
2254	.$1762	STA (TMP_ZP),Y
2255	.$1764	INY
2256	.$1765	LDA #15
2257	.$1767	STA (TMP_ZP),Y
2258	.$1769	LDY #3
2259	.$176b	STY TMP3_ZP
2260	.$176d	JSR INCTMPZP
2261	.$1770	LDA TMP_ZP
2262	.$1772	STA FORSTACKP
2263	.$1775	LDA TMP_ZP+1
2264	.$1777	STA FORSTACKP+1
2265	.$177a	RTS
2268	.$177b	NEXT  LDA FORSTACKP
2269	.$177e	STA TMP_ZP
2270	.$1780	LDA FORSTACKP+1
2271	.$1783	STA TMP_ZP+1
2272	.$1785	SEARCHFOR LDA TMP_ZP+1
2273	.$1787	STA TMP3_REG+1
2274	.$178a	LDA TMP_ZP
2275	.$178c	STA TMP3_REG
2276	.$178f	SEC
2277	.$1790	SBC #2
2278	.$1792	STA TMP_ZP
2279	.$1794	BCS NOPV1N1
2280	.$1796	DEC TMP_ZP+1
2281	.$1798	NOPV1N1  LDY #0
2282	.$179a	LDA (TMP_ZP),Y
2283	.$179c	BNE NOGOSUB
2284	.$179e	JMP NEXTWOFOR
2285	.$17a1	NOGOSUB
2286	.$17a1	INY
2287	.$17a2	LDA TMP_ZP
2288	.$17a4	SEC
2289	.$17a5	SBC (TMP_ZP),Y
2290	.$17a7	STA TMP_ZP
2291	.$17a9	BCS NOPV1N2
2292	.$17ab	DEC TMP_ZP+1
2293	.$17ad	NOPV1N2  DEY
2294	.$17ae	LDA A_REG
2295	.$17b1	BEQ LOW0
2296	.$17b3	CMPFOR  CMP (TMP_ZP),Y
2297	.$17b5	BNE SEARCHFOR
2298	.$17b7	LDA A_REG+1
2299	.$17ba	INY
2300	.$17bb	CMP (TMP_ZP),Y
2301	.$17bd	BEQ FOUNDFOR
2302	.$17bf	JMP SEARCHFOR
2303	.$17c2	LOW0  LDX A_REG+1
2304	.$17c5	BEQ FOUNDFOR
2305	.$17c7	BNE CMPFOR
2306	.$17c9	FOUNDFOR LDA TMP_ZP
2307	.$17cb	STA TMP2_REG
2308	.$17ce	LDA TMP_ZP+1
2309	.$17d0	STA TMP2_REG+1
2310	.$17d3	VARREAL
2311	.$17d3	LDY #0
2312	.$17d5	STY A_REG+1 
2313	.$17d8	LDA (TMP_ZP),Y
2314	.$17da	TAX
2315	.$17db	INY
2316	.$17dc	LDA (TMP_ZP),Y
2317	.$17de	TAY
2318	.$17df	TXA
2319	.$17e0	JSR REALFAC
2320	.$17e3	CALCNEXT LDA TMP_ZP
2321	.$17e5	CLC
2322	.$17e6	ADC #4
2323	.$17e8	STA TMP_ZP
2324	.$17ea	BCC NOPV2IN
2325	.$17ec	INC TMP_ZP+1
2326	.$17ee	NOPV2IN  STA TMP_REG
2327	.$17f0	LDY TMP_ZP+1
2328	.$17f2	STY TMP_REG+1
2329	.$17f4	JSR FASTFADDMEM
2331	.$17f7	LDA TMP2_REG
2332	.$17fa	STA TMP_ZP
2333	.$17fc	LDA TMP2_REG+1
2334	.$17ff	STA TMP_ZP+1
2335	.$1801	STOREREAL
2336	.$1801	LDY #0
2337	.$1803	LDA (TMP_ZP),Y
2338	.$1805	TAX
2339	.$1806	INY
2340	.$1807	LDA (TMP_ZP),Y
2341	.$1809	TAY
2342	.$180a	JSR FACMEM 
2343	.$180d	CMPFORXX LDA #5
2344	.$180f	STA TMP3_ZP
2345	.$1811	LDA TMP_REG
2346	.$1813	CLC
2347	.$1814	ADC #5
2348	.$1816	STA TMP_REG
2349	.$1818	BCC NOPV3
2350	.$181a	INC TMP_REG+1
2351	.$181c	NOPV3  LDY TMP_REG+1
2352	.$181e	JSR CMPFAC  
2353	.$1821	BEQ LOOPING
2354	.$1823	PHA
2355	.$1824	LDY #14
2356	.$1826	LDA (TMP_ZP),Y
2357	.$1828	BEQ STEPZERO
2358	.$182a	ROL
2359	.$182b	BCC STEPPOS
2360	.$182d	STEPNEG  PLA
2361	.$182e	ROL
2362	.$182f	BCC LOOPING
2363	.$1831	BCS EXITLOOP
2364	.$1833	STEPPOS  PLA
2365	.$1834	ROL
2366	.$1835	BCC EXITLOOP
2367	.$1837	LOOPING  LDA TMP3_REG
2368	.$183a	STA FORSTACKP
2369	.$183d	LDA TMP3_REG+1
2370	.$1840	STA FORSTACKP+1
2371	.$1843	LDA TMP2_REG
2372	.$1846	CLC
2373	.$1847	ADC #2
2374	.$1849	STA TMP2_REG
2375	.$184c	BCC NOPV4IN
2376	.$184e	INC TMP2_REG+1
2377	.$1851	NOPV4IN  LDY #0
2378	.$1853	STY A_REG
2379	.$1856	STA TMP_ZP
2380	.$1858	LDA TMP2_REG+1
2381	.$185b	STA TMP_ZP+1
2382	.$185d	LDA (TMP_ZP),Y
2383	.$185f	STA JUMP_TARGET
2384	.$1861	INY
2385	.$1862	LDA (TMP_ZP),Y
2386	.$1864	STA JUMP_TARGET+1
2387	.$1866	RTS
2388	.$1867	STEPZERO PLA
2389	.$1868	JMP LOOPING
2390	.$186b	EXITLOOP LDA TMP2_REG
2391	.$186e	STA FORSTACKP
2392	.$1871	LDA TMP2_REG+1
2393	.$1874	STA FORSTACKP+1
2394	.$1877	LDA #1
2395	.$1879	STA A_REG
2396	.$187c	RTS
2399	.$187d	RETURN  LDA FORSTACKP
2400	.$1880	STA TMP_ZP
2401	.$1882	LDA FORSTACKP+1
2402	.$1885	STA TMP_ZP+1
2403	.$1887	SEARCHGOSUB LDA TMP_ZP
2404	.$1889	SEC
2405	.$188a	SBC #2
2406	.$188c	STA TMP_ZP
2407	.$188e	BCS NOPV1SG
2408	.$1890	DEC TMP_ZP+1
2409	.$1892	NOPV1SG  LDY #0
2410	.$1894	LDA (TMP_ZP),Y
2411	.$1896	BEQ FOUNDGOSUB
2412	.$1898	INY
2413	.$1899	LDA (TMP_ZP),Y
2414	.$189b	STA TMP3_ZP
2415	.$189d	LDA TMP_ZP
2416	.$189f	SEC
2417	.$18a0	SBC (TMP_ZP),Y
2418	.$18a2	STA TMP_ZP
2419	.$18a4	BCS NOPV1GS
2420	.$18a6	DEC TMP_ZP+1
2421	.$18a8	NOPV1GS  JMP SEARCHGOSUB
2422	.$18ab	FOUNDGOSUB
2423	.$18ab	LDA TMP_ZP
2424	.$18ad	STA FORSTACKP
2425	.$18b0	LDA TMP_ZP+1
2426	.$18b2	STA FORSTACKP+1
2427	.$18b5	RTS
2430	.$18b6	GOSUB  LDA FORSTACKP
2431	.$18b9	STA TMP_ZP
2432	.$18bb	LDA FORSTACKP+1
2433	.$18be	STA TMP_ZP+1
2434	.$18c0	LDY #0
2435	.$18c2	TYA
2436	.$18c3	STA (TMP_ZP),Y
2437	.$18c5	INY
2438	.$18c6	STA (TMP_ZP),Y
2439	.$18c8	INY
2440	.$18c9	TYA
2441	.$18ca	CLC
2442	.$18cb	ADC TMP_ZP
2443	.$18cd	STA FORSTACKP
2444	.$18d0	BCC GOSUBNOOV
2445	.$18d2	INC FORSTACKP+1
2446	.$18d5	GOSUBNOOV RTS
2449	.$18d6	QUEUESIZE LDY INPUTQUEUEP
2450	.$18d9	LDA #0
2451	.$18db	JSR INTFAC
2452	.$18de	JMP FACXREG
2455	.$18e1	CLEARQUEUE LDA #$0
2456	.$18e3	STA INPUTQUEUEP
2457	.$18e6	RTS
2460	.$18e7	CLEANINPUT LDY #0    
2461	.$18e9	LDX #0
2462	.$18eb	STY STORE1   
2463	.$18ee	STY STORE2   
2464	.$18f1	DEY
2465	.$18f2	CILOOP  INY
2466	.$18f3	LDA $0200,Y
2467	.$18f6	BNE CINOEND
2468	.$18f8	JMP CIEND   
2469	.$18fb	CINOEND  STA STORE3   
2470	.$18fe	LDA STORE1
2471	.$1901	BEQ CINOQUOTE  
2472	.$1903	LDA STORE3
2473	.$1906	CMP #$22   
2474	.$1908	BNE CISTILLQUOTE 
2475	.$190a	LDA #0    
2476	.$190c	STA STORE1
2477	.$190f	JMP CILOOP
2478	.$1912	CISTILLQUOTE
2479	.$1912	STA $0200,X
2480	.$1915	INX
2481	.$1916	JMP CILOOP
2482	.$1919	CINOQUOTE LDA STORE3
2483	.$191c	CMP #$22
2484	.$191e	BNE CISOMECHAR  
2485	.$1920	CIFIRSTCHAR LDA #1    
2486	.$1922	STA STORE1   
2487	.$1925	STA STORE2   
2488	.$1928	JMP CILOOP
2489	.$192b	CISOMECHAR  CMP #$3A   
2490	.$192d	BNE CINOCOLON
2491	.$192f	JMP CIEND
2492	.$1932	CINOCOLON CMP #$2C   
2493	.$1934	BNE CINOCOMMA
2494	.$1936	LDA #$22   
2495	.$1938	STA $0200,X
2496	.$193b	INX
2497	.$193c	LDA #0
2498	.$193e	STA STORE2   
2499	.$1941	JMP CILOOP
2500	.$1944	CINOCOMMA CMP #$20   
2501	.$1946	BNE CINOSPACE
2502	.$1948	LDA STORE2   
2503	.$194b	BEQ CINEXT   
2504	.$194d	LDA STORE3
2505	.$1950	CINOSPACE STA $0200,X
2506	.$1953	STA STORE2   
2507	.$1956	INX
2508	.$1957	CINEXT  JMP CILOOP
2509	.$195a	CIEND  LDA #0
2510	.$195c	STA $0200,X   
2511	.$195f	RTS     
2514	.$1960	QMARKOUT1 LDA #1
2515	.$1962	STA TMP_ZP
2516	.$1964	JMP QMARKOUT
2519	.$1967	QMARKOUT2 LDA #2
2520	.$1969	STA TMP_ZP
2521	.$196b	JMP QMARKOUT
2524	.$196e	QMARKOUT LDA IOCHANNEL    
2525	.$1970	BNE NOQMARK
2526	.$1972	JSR REROUTE
2527	.$1975	LDA #63
2528	.$1977	LDY TMP_ZP
2529	.$1979	CPY #2    
2530	.$197b	BNE ONEQMARK
2531	.$197d	JSR CHROUT
2532	.$1980	ONEQMARK JSR CHROUT
2533	.$1983	LDA #32
2534	.$1985	JSR CHROUT
2535	.$1988	JMP RESETROUTE
2536	.$198b	NOQMARK  RTS
2539	.$198c	INPUTSTR LDA #$0
2540	.$198e	INPUTSTR2 STA TMP_REG+1
2541	.$1990	LDA #$0
2542	.$1992	STX INPUTLENGTH
2543	.$1995	STA TMP_REG
2544	.$1997	STA TMP_FLAG
2545	.$199a	LDX INPUTQUEUEP
2546	.$199d	BEQ INPUTNORM
2547	.$199f	LDA #LOFBUF
2548	.$19a1	LDX #$1
2549	.$19a3	CLC
2550	.$19a4	ADC INPUTQUEUE
2551	.$19a7	STA TMP_ZP
2552	.$19a9	BCC INNONO
2553	.$19ab	LDX #$2
2554	.$19ad	INNONO  STX TMP_ZP+1
2555	.$19af	DEC INPUTQUEUEP  
2556	.$19b2	LDY INPUTQUEUE  
2557	.$19b5	STY TMP_REG   
2558	.$19b7	DEY
2559	.$19b8	LDX #$0
2560	.$19ba	SHRINKQ  LDA INPUTQUEUEP
2561	.$19bd	BEQ QUEUEEMPTY
2562	.$19bf	INX
2563	.$19c0	LDA INPUTQUEUE,X 
2564	.$19c3	DEX
2565	.$19c4	STA INPUTQUEUE,X
2566	.$19c7	INX
2567	.$19c8	CPX INPUTQUEUEP
2568	.$19cb	BNE SHRINKQ
2569	.$19cd	QUEUEEMPTY JMP ISTRLOOP
2570	.$19d0	INPUTNORM AND #$FF
2571	.$19d2	JSR INPUT
2572	.$19d5	JSR CLEANINPUT
2573	.$19d8	LDA #LOFBUF
2574	.$19da	STA TMP_ZP
2575	.$19dc	LDA #$1
2576	.$19de	STA TMP_ZP+1
2577	.$19e0	LDY #0
2578	.$19e2	DEY
2579	.$19e3	ISTRLOOP INY
2580	.$19e4	LDA INPUTBUF,Y
2581	.$19e7	TAX
2582	.$19e8	CMP #$22   
2583	.$19ea	BNE ICHECK
2584	.$19ec	STA TMP_FLAG
2585	.$19ef	LDA #$0
2586	.$19f1	STA INPUTBUF,Y   
2587	.$19f4	LDX INPUTQUEUEP  
2588	.$19f7	BNE INQUEUENE  
2589	.$19f9	STA INPUTQUEUE  
2590	.$19fc	INX
2591	.$19fd	INQUEUENE INY
2592	.$19fe	TYA
2593	.$19ff	STA INPUTQUEUE,X 
2594	.$1a02	INX
2595	.$1a03	STX INPUTQUEUEP  
2596	.$1a06	JMP ISTRLOOP  
2597	.$1a09	ICHECK  TXA     
2598	.$1a0a	BNE ISTRLOOP  
2599	.$1a0c	LDA TMP_FLAG
2600	.$1a0f	BEQ ISIMPLECOPY
2601	.$1a11	JMP INPUTSTR
2602	.$1a14	ISIMPLECOPY TYA
2603	.$1a15	SEC
2604	.$1a16	SBC TMP_REG
2605	.$1a18	LDY #0
2606	.$1a1a	STA (TMP_ZP),Y
2607	.$1a1c	TAX    
2608	.$1a1d	STX INPUTLENGTH
2609	.$1a20	LDA TMP_REG+1 
2610	.$1a22	BEQ INISSTR
2611	.$1a24	RTS
2612	.$1a25	INISSTR  LDA #<A_REG
2613	.$1a27	LDY #>A_REG
2614	.$1a29	STA TMP2_ZP
2615	.$1a2b	STY TMP2_ZP+1
2616	.$1a2d	JSR COPYONLY
2617	.$1a30	RTS
2620	.$1a31	INPUTNUMBER LDA #$1
2621	.$1a33	JSR INPUTSTR2
2622	.$1a36	LDA TMP_ZP
2623	.$1a38	STA INDEX1
2624	.$1a3a	LDA TMP_ZP+1
2625	.$1a3c	STA INDEX1+1
2626	.$1a3e	LDY #0
2627	.$1a40	STY VALTYPE
2628	.$1a42	LDA (INDEX1),Y
2629	.$1a44	STA TMP_REG  
2630	.$1a46	TAY
2631	.$1a47	INC INDEX1
2632	.$1a49	BNE VALSTR2
2633	.$1a4b	INC INDEX1+1
2634	.$1a4d	VALSTR2  LDY #$0   
2635	.$1a4f	DEY
2636	.$1a50	LDX #$0   
2637	.$1a52	NUMCHKLOOP INY
2638	.$1a53	CPY TMP_REG
2639	.$1a55	BEQ NUMOK
2640	.$1a57	LDA (INDEX1),Y
2641	.$1a59	CMP #$20
2642	.$1a5b	BEQ NUMCHKLOOP 
2643	.$1a5d	CMP #43   
2644	.$1a5f	BNE NOPLUS
2645	.$1a61	TXA
2646	.$1a62	BIT VAL6  
2647	.$1a65	BNE CHECKERR
2648	.$1a67	ORA #2
2649	.$1a69	TAX
2650	.$1a6a	JMP NUMCHKLOOP
2651	.$1a6d	NOPLUS  CMP #45   
2652	.$1a6f	BNE NOMINUS
2653	.$1a71	TXA
2654	.$1a72	BIT VAL6  
2655	.$1a75	BNE CHECKERR
2656	.$1a77	ORA #4
2657	.$1a79	TAX
2658	.$1a7a	JMP NUMCHKLOOP
2659	.$1a7d	NOMINUS  CMP #69   
2660	.$1a7f	BNE NOEEE
2661	.$1a81	TXA
2662	.$1a82	BIT VAL8  
2663	.$1a85	BNE CHECKERR
2664	.$1a87	ORA #8
2665	.$1a89	AND #249  
2666	.$1a8b	TAX
2667	.$1a8c	JMP NUMCHKLOOP
2668	.$1a8f	NOEEE  CMP #46   
2669	.$1a91	BNE NOPOINT
2670	.$1a93	TXA
2671	.$1a94	BIT VAL24  
2672	.$1a97	BNE CHECKERR
2673	.$1a99	ORA #16
2674	.$1a9b	TAX
2675	.$1a9c	JMP NUMCHKLOOP
2676	.$1a9f	NOPOINT  CMP #48
2677	.$1aa1	BCC CHECKERR 
2678	.$1aa3	CMP #58
2679	.$1aa5	BCS CHECKERR 
2680	.$1aa7	TXA
2681	.$1aa8	ORA #1
2682	.$1aaa	TAX
2683	.$1aab	JMP NUMCHKLOOP
2684	.$1aae	VAL1  .BYTE 1
2685	.$1aaf	VAL6  .BYTE 6
2686	.$1ab0	VAL8  .BYTE 8
2687	.$1ab1	VAL24  .BYTE 24
2688	.$1ab2	CHECKERR LDA #<REAL_CONST_MINUS_ONE
2689	.$1ab4	STA TMP3_ZP
2690	.$1ab6	LDA #>REAL_CONST_MINUS_ONE
2691	.$1ab8	STA TMP3_ZP+1
2692	.$1aba	JMP COPY2_XY_XREG
2693	.$1abd	RTS    
2695	.$1abe	NUMOK  LDA TMP_REG
2696	.$1ac0	JSR VALS
2697	.$1ac3	LDA #$0   
2698	.$1ac5	STA X_REG
2699	.$1ac7	JMP FACYREG  
2702	.$1aca	GETSTR  LDA #8
2703	.$1acc	LDY #0
2704	.$1ace	JSR COMPACTF
2705	.$1ad1	LDY #0
2706	.$1ad3	STY CMD_NUM  
2707	.$1ad6	JSR GETIN
2708	.$1ad9	CMP #0   
2709	.$1adb	BNE SOMEKEY
2710	.$1add	NOKEY  LDA #<EMPTYSTR
2711	.$1adf	STA A_REG
2712	.$1ae2	LDA #>EMPTYSTR
2713	.$1ae4	STA A_REG+1
2714	.$1ae7	RTS
2715	.$1ae8	SOMEKEY  TAX
2716	.$1ae9	LDA STRBUFP
2717	.$1aec	STA TMP_ZP
2718	.$1aee	STA A_REG
2719	.$1af1	LDA STRBUFP+1
2720	.$1af4	STA TMP_ZP+1
2721	.$1af6	STA A_REG+1
2722	.$1af9	LDA #1
2723	.$1afb	LDY #0
2724	.$1afd	STA (TMP_ZP),Y
2725	.$1aff	TXA
2726	.$1b00	LDY #1
2727	.$1b02	STA (TMP_ZP),Y
2728	.$1b04	LDA STRBUFP
2729	.$1b07	CLC
2730	.$1b08	ADC #2
2731	.$1b0a	STA STRBUFP
2732	.$1b0d	BCC GETSTR1
2733	.$1b0f	INC STRBUFP+1
2734	.$1b12	GETSTR1  RTS
2737	.$1b13	REALFACPUSH STA TMP_ZP
2738	.$1b15	STY TMP_ZP+1
2739	.$1b17	LDX FPSTACKP
2740	.$1b1a	LDY FPSTACKP+1
2741	.$1b1d	STX TMP2_ZP
2742	.$1b1f	STY TMP2_ZP+1
2743	.$1b21	LDY #0
2744	.$1b23	LDA (TMP_ZP),Y
2745	.$1b25	STA (TMP2_ZP),Y
2746	.$1b27	INY
2747	.$1b28	LDA (TMP_ZP),Y
2748	.$1b2a	STA (TMP2_ZP),Y
2749	.$1b2c	INY
2750	.$1b2d	LDA (TMP_ZP),Y
2751	.$1b2f	STA (TMP2_ZP),Y
2752	.$1b31	INY
2753	.$1b32	LDA (TMP_ZP),Y
2754	.$1b34	STA (TMP2_ZP),Y
2755	.$1b36	INY
2756	.$1b37	LDA (TMP_ZP),Y
2757	.$1b39	STA (TMP2_ZP),Y
2758	.$1b3b	TXA    
2759	.$1b3c	CLC
2760	.$1b3d	ADC #5
2761	.$1b3f	STA FPSTACKP
2762	.$1b42	BCC NOPVRFPXX
2763	.$1b44	INC FPSTACKP+1
2764	.$1b47	NOPVRFPXX RTS
2767	.$1b48	REALFACPUSHMC
2768	.$1b48	LDX FPSTACKP
2769	.$1b4b	LDY FPSTACKP+1
2770	.$1b4e	STX TMP2_ZP
2771	.$1b50	STY TMP2_ZP+1
2772	.$1b52	LDY #0
2773	.$1b54	LDA MOSTCOMMON
2774	.$1b57	STA (TMP2_ZP),Y
2775	.$1b59	INY
2776	.$1b5a	LDA MOSTCOMMON+1
2777	.$1b5d	STA (TMP2_ZP),Y
2778	.$1b5f	INY
2779	.$1b60	LDA MOSTCOMMON+2
2780	.$1b63	STA (TMP2_ZP),Y
2781	.$1b65	INY
2782	.$1b66	LDA MOSTCOMMON+3
2783	.$1b69	STA (TMP2_ZP),Y
2784	.$1b6b	INY
2785	.$1b6c	LDA MOSTCOMMON+4
2786	.$1b6f	STA (TMP2_ZP),Y
2787	.$1b71	TXA    
2788	.$1b72	CLC
2789	.$1b73	ADC #5
2790	.$1b75	STA FPSTACKP
2791	.$1b78	BCC NOPVRFPXXMC
2792	.$1b7a	INC FPSTACKP+1
2793	.$1b7d	NOPVRFPXXMC
2794	.$1b7d	RTS
2797	.$1b7e	POPREAL  LDA FPSTACKP
2798	.$1b81	SEC
2799	.$1b82	SBC #5
2800	.$1b84	STA FPSTACKP
2801	.$1b87	BCS NOPVPR
2802	.$1b89	DEC FPSTACKP+1
2803	.$1b8c	NOPVPR  LDA FPSTACKP
2804	.$1b8f	LDY FPSTACKP+1
2805	.$1b92	JMP REALFAC
2808	.$1b95	POPREALXREG LDA FPSTACKP
2809	.$1b98	SEC
2810	.$1b99	SBC #5
2811	.$1b9b	STA FPSTACKP
2812	.$1b9e	BCS NOPVPRXR
2813	.$1ba0	DEC FPSTACKP+1
2814	.$1ba3	NOPVPRXR LDA FPSTACKP
2815	.$1ba6	LDY FPSTACKP+1
2816	.$1ba9	STA TMP_ZP
2817	.$1bab	STY TMP_ZP+1
2818	.$1bad	LDY #$4
2819	.$1baf	LDA (TMP_ZP),Y
2820	.$1bb1	STA X_REG+4
2821	.$1bb3	STA FACLO
2822	.$1bb5	DEY
2823	.$1bb6	LDA (TMP_ZP),Y
2824	.$1bb8	STA X_REG+3
2825	.$1bba	STA FACMO
2826	.$1bbc	DEY
2827	.$1bbd	LDA (TMP_ZP),Y
2828	.$1bbf	STA X_REG+2
2829	.$1bc1	STA FACMOH
2830	.$1bc3	DEY
2831	.$1bc4	LDA (TMP_ZP),Y
2832	.$1bc6	STA X_REG+1
2833	.$1bc8	STA FACSGN
2834	.$1bca	ORA #$80
2835	.$1bcc	STA FACHO
2836	.$1bce	DEY
2837	.$1bcf	LDA (TMP_ZP),Y
2838	.$1bd1	STA X_REG
2839	.$1bd3	STA FACEXP
2840	.$1bd5	STY FACOV
2841	.$1bd7	RTS
2844	.$1bd8	INCTMPZP LDA TMP_ZP
2845	.$1bda	CLC
2846	.$1bdb	ADC TMP3_ZP
2847	.$1bdd	STA TMP_ZP
2848	.$1bdf	BCC NOPV2
2849	.$1be1	INC TMP_ZP+1
2850	.$1be3	NOPV2  RTS
2853	.$1be4	COPY2_XYA STA TMP3_ZP
2854	.$1be6	COPY2_XY STX TMP_ZP
2855	.$1be8	STY TMP_ZP+1
2856	.$1bea	COPY3_XY LDY #0
2857	.$1bec	LDA (TMP3_ZP),Y
2858	.$1bee	STA (TMP_ZP),Y
2859	.$1bf0	INY
2860	.$1bf1	LDA (TMP3_ZP),Y
2861	.$1bf3	STA (TMP_ZP),Y
2862	.$1bf5	INY
2863	.$1bf6	LDA (TMP3_ZP),Y
2864	.$1bf8	STA (TMP_ZP),Y
2865	.$1bfa	INY
2866	.$1bfb	LDA (TMP3_ZP),Y
2867	.$1bfd	STA (TMP_ZP),Y
2868	.$1bff	INY
2869	.$1c00	LDA (TMP3_ZP),Y
2870	.$1c02	STA (TMP_ZP),Y
2871	.$1c04	RTS
2874	.$1c05	COPY2_XYA_XREG
2875	.$1c05	STA TMP3_ZP
2876	.$1c07	STY TMP3_ZP+1
2877	.$1c09	COPY2_XY_XREG
2878	.$1c09	LDX #<X_REG  
2879	.$1c0b	LDY #0
2880	.$1c0d	LDA (TMP3_ZP),Y
2881	.$1c0f	STA X_REG
2882	.$1c11	INY
2883	.$1c12	LDA (TMP3_ZP),Y
2884	.$1c14	STA X_REG+1
2885	.$1c16	INY
2886	.$1c17	LDA (TMP3_ZP),Y
2887	.$1c19	STA X_REG+2
2888	.$1c1b	INY
2889	.$1c1c	LDA (TMP3_ZP),Y
2890	.$1c1e	STA X_REG+3
2891	.$1c20	INY
2892	.$1c21	LDA (TMP3_ZP),Y
2893	.$1c23	STA X_REG+4
2894	.$1c25	RTS
2897	.$1c26	COPY2_XYA_CREG
2898	.$1c26	STA TMP3_ZP
2899	.$1c28	STY TMP3_ZP+1
2900	.$1c2a	COPY2_XY_CREG
2901	.$1c2a	LDX #<C_REG  
2902	.$1c2c	LDY #0
2903	.$1c2e	LDA (TMP3_ZP),Y
2904	.$1c30	STA C_REG
2905	.$1c33	INY
2906	.$1c34	LDA (TMP3_ZP),Y
2907	.$1c36	STA C_REG+1
2908	.$1c39	INY
2909	.$1c3a	LDA (TMP3_ZP),Y
2910	.$1c3c	STA C_REG+2
2911	.$1c3f	INY
2912	.$1c40	LDA (TMP3_ZP),Y
2913	.$1c42	STA C_REG+3
2914	.$1c45	INY
2915	.$1c46	LDA (TMP3_ZP),Y
2916	.$1c48	STA C_REG+4
2917	.$1c4b	RTS
2920	.$1c4c	COPY2_XYA_YREG
2921	.$1c4c	STA TMP3_ZP
2922	.$1c4e	STY TMP3_ZP+1
2923	.$1c50	COPY2_XY_YREG
2924	.$1c50	LDX #<Y_REG  
2925	.$1c52	LDY #0
2926	.$1c54	LDA (TMP3_ZP),Y
2927	.$1c56	STA Y_REG
2928	.$1c59	INY
2929	.$1c5a	LDA (TMP3_ZP),Y
2930	.$1c5c	STA Y_REG+1
2931	.$1c5f	INY
2932	.$1c60	LDA (TMP3_ZP),Y
2933	.$1c62	STA Y_REG+2
2934	.$1c65	INY
2935	.$1c66	LDA (TMP3_ZP),Y
2936	.$1c68	STA Y_REG+3
2937	.$1c6b	INY
2938	.$1c6c	LDA (TMP3_ZP),Y
2939	.$1c6e	STA Y_REG+4
2940	.$1c71	RTS
2944	.$1c72	FACWORD
2945	.$1c72	LDA FACEXP   
2946	.$1c74	BNE DOFACWORD
2947	.$1c76	STA FACSGN   
2948	.$1c78	DOFACWORD:
2949	.$1c78	JMP XFACWORD
2953	.$1c7b	LOCKCHANNEL
2954	.$1c7b	PHA
2955	.$1c7c	LDA #$FF
2956	.$1c7e	STA CHLOCKFLAG
2957	.$1c81	PLA
2958	.$1c82	RTS
2961	.$1c83	UNLOCKCHANNEL
2962	.$1c83	PHA
2963	.$1c84	LDA #0
2964	.$1c86	STA CHLOCKFLAG
2965	.$1c89	PLA
2966	.$1c8a	JMP CLRCH
2969	.$1c8d	INITOUTCHANNEL
2970	.$1c8d	LDA CHLOCKFLAG
2971	.$1c90	BEQ INITOUT2
2972	.$1c92	CMP #$FF
2973	.$1c94	BNE SKIPINITCH
2974	.$1c96	INITOUT2
2975	.$1c96	LDA #<C_REG
2976	.$1c98	LDY #>C_REG
2977	.$1c9a	JSR REALFAC
2978	.$1c9d	JSR FACWORD
2979	.$1ca0	TYA
2980	.$1ca1	TAX
2981	.$1ca2	CPX CMD_NUM
2982	.$1ca5	BNE CMDNEQUAL
2983	.$1ca7	LDY #0
2984	.$1ca9	STY CMD_NUM   
2985	.$1cac	CMDNEQUAL STA CHANNEL
2986	.$1caf	STA CHLOCKFLAG
2987	.$1cb2	JMP CHKOUT
2988	.$1cb5	SKIPINITCH
2989	.$1cb5	RTS
2992	.$1cb6	INITINCHANNEL
2993	.$1cb6	LDA IOCHANNEL
2994	.$1cb8	STA STORE1+1
2995	.$1cbb	LDA #1
2996	.$1cbd	STA IOCHANNEL  
2997	.$1cbf	LDA #<C_REG
2998	.$1cc1	LDY #>C_REG
2999	.$1cc3	JSR REALFAC
3000	.$1cc6	JSR FACWORD
3001	.$1cc9	TYA
3002	.$1cca	TAX
3003	.$1ccb	STA CHANNEL
3004	.$1cce	STA CHLOCKFLAG
3005	.$1cd1	JMP CHKIN
3006	.$1cd4	RTS
3009	.$1cd5	CLRCHNEW
3010	.$1cd5	LDA CHLOCKFLAG
3011	.$1cd8	BNE SKIPCLRCH
3012	.$1cda	JMP CLRCH
3013	.$1cdd	SKIPCLRCH
3014	.$1cdd	RTS
3017	.$1cde	REALOUTCHANNEL
3018	.$1cde	JSR INITOUTCHANNEL
3019	.$1ce1	JSR REALOUT
3020	.$1ce4	JMP CLRCHNEW
3023	.$1ce7	INTOUTCHANNEL
3024	.$1ce7	JSR INITOUTCHANNEL
3025	.$1cea	JSR INTOUT
3026	.$1ced	JMP CLRCHNEW
3029	.$1cf0	GETSTRCHANNEL
3030	.$1cf0	JSR INITINCHANNEL
3031	.$1cf3	JSR GETSTR
3032	.$1cf6	JMP CLRINCH
3035	.$1cf9	INPUTLENGTHCHECK LDA INPUTLENGTH
3036	.$1cfc	RTS
3039	.$1cfd	INPUTSTRCHANNEL
3040	.$1cfd	JSR INITINCHANNEL
3041	.$1d00	JSR INPUTSTR
3042	.$1d03	JMP CLRINCH
3045	.$1d06	INPUTNUMBERCHANNEL
3046	.$1d06	JSR INITINCHANNEL
3047	.$1d09	JSR INPUTNUMBER
3048	.$1d0c	JMP CLRINCH
3051	.$1d0f	STROUTCHANNEL
3052	.$1d0f	JSR INITOUTCHANNEL
3053	.$1d12	JSR STROUT
3054	.$1d15	JMP CLRCHNEW
3057	.$1d18	LINEBREAKCHANNEL
3058	.$1d18	JSR INITOUTCHANNEL
3059	.$1d1b	JSR LINEBREAK
3060	.$1d1e	JMP CLRCHNEW
3063	.$1d21	SPCCHANNEL
3064	.$1d21	JSR INITOUTCHANNEL
3065	.$1d24	LDA CHANNEL
3066	.$1d27	CMP #3  
3067	.$1d29	BEQ SPCSCREEN
3068	.$1d2b	JMP TABCHANNEL2
3069	.$1d2e	SPCSCREEN JSR CLRCHNEW
3070	.$1d31	JMP SPC
3073	.$1d34	TABCHANNEL
3074	.$1d34	JSR INITOUTCHANNEL
3075	.$1d37	TABCHANNELINT
3076	.$1d37	LDA CHANNEL
3077	.$1d3a	CMP #3  
3078	.$1d3c	BEQ TABSCREEN
3079	.$1d3e	TABCHANNEL2 LDA IOCHANNEL
3080	.$1d40	STA STORE1
3081	.$1d43	LDA #1
3082	.$1d45	STA IOCHANNEL  
3083	.$1d47	JSR YREGFAC
3084	.$1d4a	JSR FACWORD
3085	.$1d4d	TYA
3086	.$1d4e	TAX
3087	.$1d4f	JMP EXITCHANNEL
3088	.$1d52	TABSCREEN
3089	.$1d52	JSR CLRCHNEW
3090	.$1d55	JMP TAB
3093	.$1d58	TABOUTCHANNEL
3094	.$1d58	JSR INITOUTCHANNEL
3095	.$1d5b	LDA CHANNEL
3096	.$1d5e	CMP #3  
3097	.$1d60	BEQ TABOUTSCREEN
3098	.$1d62	TABOUTCHANNEL2
3099	.$1d62	LDA IOCHANNEL
3100	.$1d64	STA STORE1
3101	.$1d67	LDA #1
3102	.$1d69	STA IOCHANNEL  
3103	.$1d6b	LDX #10
3104	.$1d6d	JMP EXITCHANNEL
3105	.$1d70	TABOUTSCREEN
3106	.$1d70	JSR CLRCHNEW
3107	.$1d73	JMP TABOUT
3110	.$1d76	EXITCHANNEL CLC
3111	.$1d77	JSR TABSPC
3112	.$1d7a	JSR CLRCHNEW
3113	.$1d7d	LDA STORE1
3114	.$1d80	STA IOCHANNEL
3115	.$1d82	RTS
3118	.$1d83	CLRINCH  JSR CLRCH
3119	.$1d86	LDA STORE1+1
3120	.$1d89	STA IOCHANNEL
3121	.$1d8b	RTS
3124	.$1d8c	OPEN  JSR SETEMPTYSTR 
3125	.$1d8f	JSR YREGFAC
3126	.$1d92	JSR FACWORD
3127	.$1d95	STY TMP_REG  
3128	.$1d97	JSR XREGFAC
3129	.$1d9a	JSR FACWORD
3130	.$1d9d	STY LOGICADDR 
3131	.$1d9f	DEC TMP_REG
3132	.$1da1	BEQ ALLPARAMS
3133	.$1da3	LDA #<C_REG
3134	.$1da5	LDY #>C_REG
3135	.$1da7	JSR REALFAC
3136	.$1daa	JSR FACWORD
3137	.$1dad	STY DEVICENUM 
3138	.$1daf	DEC TMP_REG
3139	.$1db1	BEQ ALLPARAMS
3140	.$1db3	LDA #<D_REG
3141	.$1db5	LDY #>D_REG
3142	.$1db7	JSR REALFAC
3143	.$1dba	JSR FACWORD
3144	.$1dbd	STY SECADDR  
3145	.$1dbf	DEC TMP_REG
3146	.$1dc1	BEQ ALLPARAMS
3147	.$1dc3	JSR SETNAMEPRT
3148	.$1dc6	ALLPARAMS
3152	.$1dc6	JSR OPENCH
3153	.$1dc9	BCS OPENERR
3154	.$1dcb	RTS
3155	.$1dcc	OPENERR  STA TMP2_ZP
3156	.$1dce	LDA LOGICADDR
3157	.$1dd0	JSR CLOSECH
3161	.$1dd3	LDX TMP2_ZP
3162	.$1dd5	JMP ERRALL
3165	.$1dd8	SETEMPTYSTR
3166	.$1dd8	LDA #<EMPTYSTR
3167	.$1dda	STA FILEADDR
3168	.$1ddc	LDA #>EMPTYSTR
3169	.$1dde	STA FILEADDR+1
3170	.$1de0	LDA #0
3171	.$1de2	STA FILELEN
3172	.$1de4	STA LOGICADDR
3173	.$1de6	STA DEVICENUM
3174	.$1de8	STA SECADDR
3175	.$1dea	RTS
3178	.$1deb	SETNAMEPRT LDA G_REG
3179	.$1ded	LDY G_REG+1
3180	.$1def	STA TMP_ZP
3181	.$1df1	STY TMP_ZP+1
3182	.$1df3	LDY #0
3183	.$1df5	LDA (TMP_ZP),Y 
3184	.$1df7	STA FILELEN
3185	.$1df9	INC G_REG
3186	.$1dfb	BNE SNPNOOV
3187	.$1dfd	INC G_REG+1
3188	.$1dff	SNPNOOV  LDA G_REG
3189	.$1e01	LDY G_REG+1
3190	.$1e03	STA FILEADDR  
3191	.$1e05	STY FILEADDR+1 
3192	.$1e07	RTS
3195	.$1e08	CLOSE  JSR XREGFAC
3196	.$1e0b	JSR FACWORD
3197	.$1e0e	TYA    
3198	.$1e0f	JSR CLOSECH
3202	.$1e12	RTS
3205	.$1e13	NEXTWOFOR
3209	.$1e13	LDX #$0A
3210	.$1e15	JMP ERRALL
3213	.$1e18	OUTOFMEMORY
3217	.$1e18	LDX #$10
3218	.$1e1a	JMP ERRALL
3221	.$1e1d	STRINGTOOLONG
3225	.$1e1d	LDX #$17
3226	.$1e1f	JMP ERRALL
3229	.$1e22	ILLEGALQUANTITY
3233	.$1e22	JMP ERRIQ
3236	.$1e25	EXTRAIGNORED
3240	.$1e25	JMP ERREI
3243	.$1e28	FACXREG  LDA FACLO
3244	.$1e2a	STA X_REG+4
3245	.$1e2c	LDA FACMO
3246	.$1e2e	STA X_REG+3
3247	.$1e30	LDA FACMOH
3248	.$1e32	STA X_REG+2
3249	.$1e34	LDA FACSGN
3250	.$1e36	ORA #$7F
3251	.$1e38	AND FACHO
3252	.$1e3a	STA X_REG+1
3253	.$1e3c	LDA FACEXP
3254	.$1e3e	STA X_REG
3255	.$1e40	LDA #0   
3256	.$1e42	STA FACOV
3257	.$1e44	RTS
3260	.$1e45	FACYREG  LDA FACLO
3261	.$1e47	STA Y_REG+4
3262	.$1e4a	LDA FACMO
3263	.$1e4c	STA Y_REG+3
3264	.$1e4f	LDA FACMOH
3265	.$1e51	STA Y_REG+2
3266	.$1e54	LDA FACSGN
3267	.$1e56	ORA #$7F
3268	.$1e58	AND FACHO
3269	.$1e5a	STA Y_REG+1
3270	.$1e5d	LDA FACEXP
3271	.$1e5f	STA Y_REG
3272	.$1e62	LDA #0   
3273	.$1e64	STA FACOV
3274	.$1e66	RTS
3277	.$1e67	XREGFAC  LDA X_REG+4
3278	.$1e69	STA FACLO
3279	.$1e6b	LDA X_REG+3
3280	.$1e6d	STA FACMO
3281	.$1e6f	LDA X_REG+2
3282	.$1e71	STA FACMOH
3283	.$1e73	LDA X_REG+1
3284	.$1e75	STA FACSGN
3285	.$1e77	ORA #$80
3286	.$1e79	STA FACHO
3287	.$1e7b	LDA X_REG
3288	.$1e7d	STA FACEXP
3289	.$1e7f	LDA #0
3290	.$1e81	STA FACOV
3291	.$1e83	RTS
3294	.$1e84	YREGFAC  LDA Y_REG+4
3295	.$1e87	STA FACLO
3296	.$1e89	LDA Y_REG+3
3297	.$1e8c	STA FACMO
3298	.$1e8e	LDA Y_REG+2
3299	.$1e91	STA FACMOH
3300	.$1e93	LDA Y_REG+1
3301	.$1e96	STA FACSGN
3302	.$1e98	ORA #$80
3303	.$1e9a	STA FACHO
3304	.$1e9c	LDA Y_REG
3305	.$1e9f	STA FACEXP
3306	.$1ea1	LDA #0
3307	.$1ea3	STA FACOV
3308	.$1ea5	RTS
3422	.$1ea6	FASTFADDMEM
3423	.$1ea6	JSR MEMARG
3424	.$1ea9	FASTFADDARG
3425	.$1ea9	BNE FADDRET2     
3426	.$1eab	JMP ARGFAC
3427	.$1eae	FADDRET2 LDA ARGEXP
3428	.$1eb0	BNE FADDRET1     
3429	.$1eb2	RTS
3430	.$1eb3	FADDRET1 SEC
3431	.$1eb4	SBC FACEXP
3432	.$1eb6	BEQ FFADD_EXPEQ     
3433	.$1eb8	BCC FFADD_SHFARG1   
3437	.$1eba	LDY ARGEXP
3438	.$1ebc	STY FACEXP
3439	.$1ebe	LDY ARGSGN
3440	.$1ec0	STY FACSGN
3441	.$1ec2	LDX #0
3442	.$1ec4	STX OLDOV        
3443	.$1ec6	LDX #FAC         
3445	.$1ec8	SEC
3446	.$1ec9	SBC #$08
3447	.$1ecb	BMI FFADD_SHFFAC2
3449	.$1ecd	FFADD_SHFFAC1
3450	.$1ecd	LDY FACLO        
3451	.$1ecf	STY FACOV
3452	.$1ed1	LDY FACMO        
3453	.$1ed3	STY FACMO+1
3454	.$1ed5	LDY FACMOH       
3455	.$1ed7	STY FACMOH+1
3456	.$1ed9	LDY FACHO        
3457	.$1edb	STY FACHO+1
3458	.$1edd	LDY #0
3459	.$1edf	STY FACHO        
3460	.$1ee1	SBC #$08         
3461	.$1ee3	BPL FFADD_SHFFAC1   
3462	.$1ee5	FFADD_SHFFAC2
3463	.$1ee5	ADC #$08         
3464	.$1ee7	BEQ FFADD_SHFFAC4   
3465	.$1ee9	TAY
3466	.$1eea	LDA FACOV
3467	.$1eec	FFADD_SHFFAC3
3468	.$1eec	LSR FACHO        
3469	.$1eee	ROR FACMOH       
3470	.$1ef0	ROR FACMO        
3471	.$1ef2	ROR FACLO        
3472	.$1ef4	ROR              
3473	.$1ef5	DEY
3474	.$1ef6	BNE FFADD_SHFFAC3
3475	.$1ef8	JMP FFADD_MANADD2   
3476	.$1efb	FFADD_SHFFAC4
3477	.$1efb	LDA FACOV        
3478	.$1efd	JMP FFADD_MANADD2
3479	.$1f00	FFADD_EXPEQ
3480	.$1f00	LDX FACOV
3481	.$1f02	STX OLDOV
3484	.$1f04	JMP FFADD_MANADD1
3485	.$1f07	FFADD_SHFARG2
3486	.$1f07	LDA FACOV        
3487	.$1f09	JMP FFADD_MANADD1
3488	.$1f0c	FFADD_SHFARG1
3489	.$1f0c	LDX FACOV
3490	.$1f0e	STX OLDOV        
3491	.$1f10	LDX #$00         
3494	.$1f12	ADC #$08
3495	.$1f14	BPL FFADD_SHFARG6   
3496	.$1f16	FFADD_SHFARG3
3497	.$1f16	LDX ARGLO        
3498	.$1f18	LDY ARGMO        
3499	.$1f1a	STY ARGMO+1
3500	.$1f1c	LDY ARGMOH       
3501	.$1f1e	STY ARGMOH+1
3502	.$1f20	LDY ARGHO        
3503	.$1f22	STY ARGHO+1
3504	.$1f24	LDY #0
3505	.$1f26	STY ARGHO        
3506	.$1f28	FFADD_SHFARG4
3507	.$1f28	ADC #$08
3508	.$1f2a	BMI FFADD_SHFARG3
3509	.$1f2c	BEQ FFADD_SHFARG3
3510	.$1f2e	FFADD_SHFARG6
3511	.$1f2e	SBC #$08
3512	.$1f30	BEQ FFADD_SHFARG2   
3513	.$1f32	TAY
3514	.$1f33	TXA              
3515	.$1f34	FFADD_SHFARG5
3516	.$1f34	LSR ARGHO
3517	.$1f36	ROR ARGMOH
3518	.$1f38	ROR ARGMO
3519	.$1f3a	ROR ARGLO
3520	.$1f3c	ROR           
3521	.$1f3d	INY
3522	.$1f3e	BNE FFADD_SHFARG5
3523	.$1f40	FFADD_MANADD1
3524	.$1f40	LDX #ARGEXP      
3525	.$1f42	FFADD_MANADD2
3526	.$1f42	BIT ARISGN
3527	.$1f44	BMI FFADD_MANSUB1   
3528	.$1f46	CLC
3529	.$1f47	ADC OLDOV
3530	.$1f49	STA FACOV
3531	.$1f4b	LDA FACLO
3532	.$1f4d	ADC ARGLO
3533	.$1f4f	STA FACLO
3534	.$1f51	LDA FACMO
3535	.$1f53	ADC ARGMO
3536	.$1f55	STA FACMO
3537	.$1f57	LDA FACMOH
3538	.$1f59	ADC ARGMOH
3539	.$1f5b	STA FACMOH
3540	.$1f5d	LDA FACHO
3541	.$1f5f	ADC ARGHO
3542	.$1f61	STA FACHO
3543	.$1f63	BCC FFADD_RNDRTS
3544	.$1f65	INC FACEXP
3545	.$1f67	BEQ FFADD_OVERR
3547	.$1f69	ROR FACHO
3548	.$1f6b	ROR FACMOH
3549	.$1f6d	ROR FACMO
3550	.$1f6f	ROR FACLO
3551	.$1f71	ROR FACOV
3552	.$1f73	FFADD_RNDRTS
3553	.$1f73	RTS
3554	.$1f74	FFADD_OVERR
3555	.$1f74	JMP ILLEGALQUANTITY
3556	.$1f77	FFADD_MANSUB1
3557	.$1f77	LDY #FACEXP
3558	.$1f79	CPX #ARGEXP
3559	.$1f7b	BEQ FFADD_MANSUB2
3560	.$1f7d	LDY #ARGEXP
3561	.$1f7f	FFADD_MANSUB2
3562	.$1f7f	SEC              
3563	.$1f80	EOR #$FF
3564	.$1f82	ADC OLDOV
3565	.$1f84	STA FACOV
3566	.$1f86	LDA 4,Y
3567	.$1f89	SBC 4,X
3568	.$1f8b	STA FACLO
3569	.$1f8d	LDA 3,Y
3570	.$1f90	SBC 3,X
3571	.$1f92	STA FACMO
3572	.$1f94	LDA 2,Y
3573	.$1f97	SBC 2,X
3574	.$1f99	STA FACMOH
3575	.$1f9b	LDA 1,Y
3576	.$1f9e	SBC 1,X
3577	.$1fa0	STA FACHO
3578	.$1fa2	BCS FCNORMAL
3579	.$1fa4	LDA FACSGN
3580	.$1fa6	EOR #$FF
3581	.$1fa8	STA FACSGN
3582	.$1faa	LDA FACHO
3583	.$1fac	EOR #$FF
3584	.$1fae	STA FACHO
3585	.$1fb0	LDA FACMOH
3586	.$1fb2	EOR #$FF
3587	.$1fb4	STA FACMOH
3588	.$1fb6	LDA FACMO
3589	.$1fb8	EOR #$FF
3590	.$1fba	STA FACMO
3591	.$1fbc	LDA FACLO
3592	.$1fbe	EOR #$FF
3593	.$1fc0	STA FACLO
3594	.$1fc2	LDA FACOV
3595	.$1fc4	EOR #$FF
3596	.$1fc6	CLC
3597	.$1fc7	ADC #1
3598	.$1fc9	STA FACOV
3599	.$1fcb	BNE FCNORMAL
3600	.$1fcd	INC FACLO
3601	.$1fcf	BNE FCNORMAL
3602	.$1fd1	INC FACMO
3603	.$1fd3	BNE FCNORMAL
3604	.$1fd5	INC FACMOH
3605	.$1fd7	BNE FCNORMAL
3606	.$1fd9	INC FACHO
3607	.$1fdb	FCNORMAL   BIT FACHO
3608	.$1fdd	BMI FFADD_RET       
3609	.$1fdf	LDA #0           
3610	.$1fe1	CLC
3611	.$1fe2	FFADD_NORM3
3612	.$1fe2	LDX FACHO
3613	.$1fe4	BNE FFADD_NORM1
3614	.$1fe6	LDX FACHO+1
3615	.$1fe8	STX FACHO
3616	.$1fea	LDX FACMOH+1
3617	.$1fec	STX FACMOH
3618	.$1fee	LDX FACMO+1
3619	.$1ff0	STX FACMO
3620	.$1ff2	LDX FACOV
3621	.$1ff4	STX FACLO
3622	.$1ff6	LDX #0
3623	.$1ff8	STX FACOV
3624	.$1ffa	ADC #$08
3625	.$1ffc	CMP #$20
3626	.$1ffe	BNE FFADD_NORM3
3627	.$2000	JMP FFADD_ZEROFAC
3628	.$2003	FFADD_NORM2
3629	.$2003	CLC
3630	.$2004	ADC #1
3631	.$2006	ASL FACOV
3632	.$2008	ROL FACLO
3633	.$200a	ROL FACMO
3634	.$200c	ROL FACMOH
3635	.$200e	ROL FACHO
3636	.$2010	FFADD_NORM1
3637	.$2010	BPL FFADD_NORM2     
3638	.$2012	SEC
3639	.$2013	SBC FACEXP
3640	.$2015	BCS FFADD_ZEROFAC
3641	.$2017	EOR #$FF
3642	.$2019	CLC
3643	.$201a	ADC #1
3644	.$201c	STA FACEXP
3645	.$201e	FFADD_RET   RTS
3646	.$201f	FFADD_ZEROFAC
3647	.$201f	LDX #0
3648	.$2021	STX FACEXP
3649	.$2023	STX FACSGN
3650	.$2025	RTS
3653	.$2026	INITVARS
3654	.$2026	JSR INITSTRVARS
3655	.$2029	LDA #0
3656	.$202b	LDY #4
3657	.$202d	REALINITLOOP0:
3658	.$202d	STA VAR_A,Y
3659	.$2030	STA VAR_I,Y
3660	.$2033	STA VAR_C,Y
3661	.$2036	STA VAR_D,Y
3662	.$2039	DEY
3663	.$203a	BMI REALLOOPEXIT0
3664	.$203c	JMP REALINITLOOP0
3665	.$203f	REALLOOPEXIT0:
3666	.$203f	RTS
3670	.$2040	CONSTANTS
3672	.$2040	CONST_0 .BYTE 19
3673	.$2041	.STRG "scratching files..."
3676	.$2054	MOSTCOMMON
3677	.$2054	CONST_1R .REAL 1.0
3680	.$2059	CONST_2R .REAL 8.0
3683	.$205e	CONST_3R .REAL 15.0
3685	.$2063	CONST_4 .BYTE 7
3686	.$2064	.STRG "s:test*"
3689	.$206b	CONST_5R .REAL 4.0
3691	.$2070	CONST_6 .BYTE 0
3692	.$2071	.STRG ""
3697	.$2071	CONST_8 .BYTE 10
3698	.$2072	.STRG "writing..."
3701	.$207c	CONST_9R .REAL 10.0
3703	.$2081	CONST_10 .BYTE 11
3704	.$2082	.STRG "test2,seq,w"
3707	.$208d	CONST_11 .REAL 65.331
3709	.$2092	CONST_12 .BYTE 5
3710	.$2093	.STRG "troet"
3712	.$2098	CONST_13 .BYTE 4
3713	.$2099	.STRG "yeah"
3716	.$209d	CONST_14R .REAL 5.0
3718	.$20a2	CONST_15 .BYTE 1
3719	.$20a3	.STRG "5"
3725	.$20a4	CONST_17R .REAL 3.0
3727	.$20a9	CONST_18 .BYTE 1
3728	.$20aa	.STRG " "
3730	.$20ab	CONST_19 .BYTE 5
3731	.$20ac	.STRG "done!"
3736	.$20b1	CONST_21 .BYTE 13
3737	.$20b2	.STRG "testnum,seq,w"
3740	.$20bf	CONST_22R .REAL 12.0
3743	.$20c4	CONST_23 .REAL 12.33
3746	.$20c9	CONST_24 .REAL 33.44
3749	.$20ce	CONST_25R .REAL 223.0
3751	.$20d3	CONST_26 .BYTE 7
3752	.$20d4	.STRG "reading"
3755	.$20db	CONST_27R .REAL 2.0
3757	.$20e0	CONST_28 .BYTE 11
3758	.$20e1	.STRG "test2,seq,r"
3767	.$20ec	CONST_31 .REAL 23.33
3772	.$20f1	CONST_33 .BYTE 6
3773	.$20f2	.STRG "{down}"
3776	.$20f3	DATAS
3777	.$20f3	.BYTE $FF
3779	.$20f4	CONSTANTS_END
3782	.$20f4	VARIABLES
3784	.$20f4	VAR_A .REAL 0.0
3786	.$20f9	VAR_I .REAL 0.0
3788	.$20fe	VAR_C .REAL 0.0
3790	.$2103	VAR_D .REAL 0.0
3791	.$2108	STRINGVARS_START
3793	.$2108	VAR_A$ .WORD EMPTYSTR
3795	.$210a	VAR_B$ .WORD EMPTYSTR
3797	.$210c	VAR_C$ .WORD EMPTYSTR
3799	.$210e	VAR_D$ .WORD EMPTYSTR
3801	.$2110	VAR_TI$ .WORD EMPTYSTR
3802	.$2112	STRINGVARS_END
3803	.$2112	STRINGARRAYS_START
3804	.$2112	STRINGARRAYS_END
3805	.$2112	VARIABLES_END
3807	.$2112	Y_REG .REAL 0.0
3808	.$2117	C_REG .REAL 0.0
3809	.$211c	D_REG .REAL 0.0
3810	.$2121	E_REG .REAL 0.0
3811	.$2126	F_REG .REAL 0.0
3812	.$212b	A_REG .WORD 0
3813	.$212d	B_REG .WORD 0
3814	.$212f	CMD_NUM .BYTE 0
3815	.$2130	CHANNEL .BYTE 0
3816	.$2131	SP_SAVE .BYTE 0
3817	.$2132	TMP2_REG .WORD 0
3818	.$2134	TMP3_REG .WORD 0
3819	.$2136	TMP4_REG .WORD 0
3820	.$2138	AS_TMP .WORD 0
3821	.$213a	BPOINTER_TMP .WORD 0
3822	.$213c	BASICTEXTP .BYTE 0
3823	.$213d	STORE1 .WORD 0
3824	.$213f	STORE2 .WORD 0
3825	.$2141	STORE3 .WORD 0
3826	.$2143	STORE4 .WORD 0
3827	.$2145	GCSTART .WORD 0
3828	.$2147	GCLEN .WORD 0
3829	.$2149	GCWORK .WORD 0
3830	.$214b	INPUTLENGTH .BYTE 0
3831	.$214c	TMP_FREG .REAL 0
3832	.$2151	TMP2_FREG .REAL 0
3833	.$2156	TMP_FLAG .BYTE 0
3834	.$2157	INT_FLAG .BYTE 0
3835	.$2158	REAL_CONST_ONE .REAL 1.0
3836	.$215d	REAL_CONST_ZERO .REAL 0.0
3837	.$2162	REAL_CONST_MINUS_ONE .REAL -1.0
3838	.$2167	CHLOCKFLAG .BYTE 0
3839	.$2168	EMPTYSTR .BYTE 0
3840	.$2169	FPSTACKP .WORD FPSTACK
3841	.$216b	FORSTACKP .WORD FORSTACK
3842	.$216d	DATASP .WORD DATAS
3843	.$216f	LASTVAR .WORD 0
3844	.$2171	LASTVARP .WORD 0
3845	.$2173	HIGHP .WORD STRBUF
3846	.$2175	STRBUFP .WORD STRBUF
3847	.$2177	ENDSTRBUF .WORD 0
3848	.$2179	INPUTQUEUEP .BYTE 0
3849	.$217a	PROGRAMEND
3850	.$217a	INPUTQUEUE .ARRAY $0F
3851	.$2189	FPSTACK .ARRAY 100
3852	.$21ed	FORSTACK .ARRAY 340
3853	.$2341	STRBUF .BYTE 0
