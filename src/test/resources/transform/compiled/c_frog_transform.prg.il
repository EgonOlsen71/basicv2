PROGRAMSTART:
JSR START
0:
100:
NOP
NOP
NOP
NOP
MOV B,#000000{STRING}
MOV TI${STRING},B
110:
120:
130:
NOP
140:
NOP
150:
NOP
160:
NOP
JSR GOSUB
JSR 900
170:
NOP
MOVB 53280,#0{INTEGER}
NOP
MOVB 53281,#0{INTEGER}
NOP
MOVB 646,#2{INTEGER}
180:
NOP
MOV A,#initializing frog engine 0.01...{STRING}
JSR STROUT
JSR LINEBREAK
190:
NOP
JSR GOSUB
JSR 820
200:
NOP
JSR GOSUB
JSR 670
210:
NOP
MOVB 53280,#6{INTEGER}
NOP
MOVB 53281,#6{INTEGER}
220:
NOP
JSR GOSUB
JSR 270
230:
NOP
240:
NOP
MOV X,TI{REAL}
JSR REALOUT
JSR LINEBREAK
250:
NOP
260:
NOP
JSR END
RTS
270:
NOP
280:
NOP
MOV Y,#5{INTEGER}
MOV Y{REAL},Y
NOP
MOV Y,#22{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(Y{REAL})
JSR INITFOR
290:
NOP
MOV Y,Y{REAL}
MOV A,#5{INTEGER}
MOV X,Y
SHL X,A
MOV A,#3{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,#20000.0{REAL}
ADD X,Y
MOV YT{REAL},X
300:
NOP
MOV Y,#8{INTEGER}
MOV X{REAL},Y
310:
NOP
MOV Y,X{REAL}
MOV X,YT{REAL}
ADD X,Y
MOV VX{REAL},X
320:
NOP
MOV Y,#0{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#6.0{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
330:
NOP
MOV X,I{REAL}
MOV G,XT[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#0{INTEGER}
NEQ X,Y
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
JMP 560
NOP
SKIP0:
340:
NOP
MOV Y,VX{REAL}
MOVB X,(Y)
MOV Y,#6{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
NOP
MOV Y,#1{INTEGER}
MOV X,X{REAL}
ADD X,Y
MOV X{REAL},X
NOP
MOV Y,#1{INTEGER}
MOV X,VX{REAL}
ADD X,Y
MOV VX{REAL},X
JMP 620
NOP
SKIP1:
350:
NOP
MOV Y,I{REAL}
PUSH Y
NOP
POP X
MOV Y,X{REAL}
MOV G,XT[]{REAL}
JSR ARRAYSTORE
NOP
MOV Y,I{REAL}
PUSH Y
NOP
POP X
MOV Y,Y{REAL}
MOV G,YT[]{REAL}
JSR ARRAYSTORE
360:
NOP
MOV Y,#0{INTEGER}
RND X,Y
MOV Y,#0.4{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP2
JMP SKIP2
NSKIP2:
JMP 410
NOP
SKIP2:
370:
NOP
MOV Y,I{REAL}
PUSH Y
NOP
MOV Y,#0{INTEGER}
RND X,Y
MOV Y,#26{INTEGER}
MUL X,Y
MOV Y,X
INT X,Y
MOV Y,#6{INTEGER}
ADD X,Y
MOV Y,X
POP X
MOV G,XP[]{REAL}
JSR ARRAYSTORE
380:
NOP
MOV Y,I{REAL}
PUSH Y
NOP
POP X
MOV Y,#0{INTEGER}
MOV G,YP[]{REAL}
JSR ARRAYSTORE
390:
NOP
MOV Y,#10{INTEGER}
MOV X,Y{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP3
JMP SKIP3
NSKIP3:
NOP
MOV Y,I{REAL}
PUSH Y
NOP
POP X
MOV Y,#24{INTEGER}
MOV G,YP[]{REAL}
JSR ARRAYSTORE
NOP
SKIP3:
400:
NOP
JMP 450
410:
NOP
420:
NOP
MOV Y,I{REAL}
PUSH Y
NOP
POP X
MOV Y,#0{INTEGER}
MOV G,XP[]{REAL}
JSR ARRAYSTORE
430:
NOP
MOV Y,#20{INTEGER}
MOV X,X{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP4
JMP SKIP4
NSKIP4:
NOP
MOV Y,I{REAL}
PUSH Y
NOP
POP X
MOV Y,#39{INTEGER}
MOV G,XP[]{REAL}
JSR ARRAYSTORE
NOP
SKIP4:
440:
NOP
MOV Y,I{REAL}
PUSH Y
NOP
MOV Y,#0{INTEGER}
RND X,Y
MOV A,#4{INTEGER}
MOV Y,X
SHL X,A
MOV A,#1{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,X
INT X,Y
MOV Y,#4{INTEGER}
ADD X,Y
MOV Y,X
POP X
MOV G,YP[]{REAL}
JSR ARRAYSTORE
450:
NOP
MOV X,I{REAL}
MOV G,YP[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
PUSH X
MOV X,I{REAL}
MOV G,YT[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
POP Y
SUB X,Y
MOV Y,X
ABS X,Y
MOV LY{REAL},X
NOP
MOV X,I{REAL}
MOV G,XP[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
PUSH X
MOV X,I{REAL}
MOV G,XT[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
POP Y
SUB X,Y
MOV Y,X
ABS X,Y
MOV LX{REAL},X
460:
NOP
MOV Y,#0{INTEGER}
MOV DX{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV DY{REAL},Y
470:
NOP
MOV Y,LX{REAL}
MOV X,LY{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP5
JMP SKIP5
NSKIP5:
NOP
MOV Y,LY{REAL}
MOV LX{REAL},Y
NOP
SKIP5:
480:
NOP
MOV Y,#0{INTEGER}
MOV X,LX{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP6
JMP SKIP6
NSKIP6:
JMP 510
NOP
SKIP6:
490:
NOP
MOV X,I{REAL}
MOV G,XP[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
PUSH X
MOV X,I{REAL}
MOV G,XT[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
POP Y
SUB X,Y
MOV Y,LX{REAL}
DIV X,Y
MOV DX{REAL},X
500:
NOP
MOV X,I{REAL}
MOV G,YP[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
PUSH X
MOV X,I{REAL}
MOV G,YT[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
POP Y
SUB X,Y
MOV Y,LX{REAL}
DIV X,Y
MOV DY{REAL},X
510:
NOP
MOV Y,I{REAL}
PUSH Y
NOP
POP X
MOV Y,DX{REAL}
MOV G,XD[]{REAL}
JSR ARRAYSTORE
NOP
MOV Y,I{REAL}
PUSH Y
NOP
POP X
MOV Y,DY{REAL}
MOV G,YD[]{REAL}
JSR ARRAYSTORE
NOP
MOV Y,I{REAL}
PUSH Y
NOP
MOV X,I{REAL}
MOV G,YT[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#40.0{REAL}
MUL X,Y
PUSH X
MOV X,I{REAL}
MOV G,XT[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
POP Y
ADD X,Y
MOV Y,#20000.0{REAL}
ADD X,Y
MOV Y,X
MOVB X,(Y)
MOV Y,X
POP X
MOV G,SC[]{REAL}
JSR ARRAYSTORE
520:
NOP
MOV Y,#1{INTEGER}
MOV X,AC{REAL}
ADD X,Y
MOV AC{REAL},X
530:
NOP
MOV Y,#1{INTEGER}
MOV X,X{REAL}
ADD X,Y
MOV X{REAL},X
NOP
MOV Y,#1{INTEGER}
MOV X,VX{REAL}
ADD X,Y
MOV VX{REAL},X
540:
NOP
MOV X,I{REAL}
MOV G,XP[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV B2{REAL},X
NOP
MOV X,I{REAL}
MOV G,YP[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV B3{REAL},X
550:
NOP
JMP 580
560:
NOP
MOV X,I{REAL}
MOV G,XP[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV B2{REAL},X
NOP
MOV X,I{REAL}
MOV G,YP[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV B3{REAL},X
NOP
MOV Y,#0.5{REAL}
MOV X,B3{REAL}
ADD X,Y
MOV Y,X
INT X,Y
MOV Y,#40.0{REAL}
MUL X,Y
PUSH X
MOV Y,#0.5{REAL}
MOV X,B2{REAL}
ADD X,Y
MOV Y,X
INT X,Y
POP Y
ADD X,Y
MOV P{REAL},X
570:
NOP
MOV X,I{REAL}
MOV G,XD[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,B2{REAL}
ADD X,Y
MOV B2{REAL},X
NOP
MOV X,I{REAL}
MOV G,YD[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,B3{REAL}
ADD X,Y
MOV B3{REAL},X
NOP
MOV Y,P{REAL}
MOV X,#55296.0{REAL}
ADD X,Y
PUSH X
MOV Y,P{REAL}
MOV X,#21000.0{REAL}
ADD X,Y
MOV Y,X
MOVB X,(Y)
POP Y
MOVB (Y),X
580:
NOP
MOV Y,#0.5{REAL}
MOV X,B2{REAL}
ADD X,Y
MOV Y,X
INT X,Y
MOV P1{REAL},X
NOP
MOV Y,#0.5{REAL}
MOV X,B3{REAL}
ADD X,Y
MOV Y,X
INT X,Y
MOV P2{REAL},X
NOP
MOV Y,P2{REAL}
MOV X,#40.0{REAL}
MUL X,Y
MOV Y,P1{REAL}
ADD X,Y
MOV P{REAL},X
590:
NOP
MOV Y,P{REAL}
MOV X,#55296.0{REAL}
ADD X,Y
PUSH X
MOV X,I{REAL}
MOV G,SC[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
POP Y
MOVB (Y),X
NOP
MOV Y,I{REAL}
PUSH Y
NOP
POP X
MOV Y,B2{REAL}
MOV G,XP[]{REAL}
JSR ARRAYSTORE
NOP
MOV Y,I{REAL}
PUSH Y
NOP
POP X
MOV Y,B3{REAL}
MOV G,YP[]{REAL}
JSR ARRAYSTORE
600:
NOP
MOV X,I{REAL}
MOV G,YT[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,X
MOV X,P2{REAL}
NEQ X,Y
PUSH X
MOV X,I{REAL}
MOV G,XT[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,X
MOV X,P1{REAL}
NEQ X,Y
POP Y
OR X,Y
CMP X,#0{REAL}
JNE NSKIP7
JMP SKIP7
NSKIP7:
JMP 620
NOP
SKIP7:
610:
NOP
MOV X,I{REAL}
MOV G,YT[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#40.0{REAL}
MUL X,Y
PUSH X
MOV X,I{REAL}
MOV G,XT[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#21000.0{REAL}
ADD X,Y
POP Y
ADD X,Y
PUSH X
MOV X,I{REAL}
MOV G,SC[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
POP Y
MOVB (Y),X
NOP
MOV Y,#1{INTEGER}
MOV X,AC{REAL}
SUB X,Y
MOV AC{REAL},X
NOP
MOV Y,I{REAL}
PUSH Y
NOP
POP X
MOV Y,#0{INTEGER}
MOV G,XT[]{REAL}
JSR ARRAYSTORE
620:
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
630:
NOP
MOV Y,#33{INTEGER}
MOV X,X{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP8
JMP SKIP8
NSKIP8:
JMP 310
NOP
SKIP8:
640:
NOP
MOV Y,#8{INTEGER}
MOV X{REAL},Y
NOP
MOV Y,#0{INTEGER}
MOV X,AC{REAL}
NEQ X,Y
PUSH X
MOV Y,#22{INTEGER}
MOV X,Y{REAL}
EQ X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP9
JMP SKIP9
NSKIP9:
NOP
MOV Y,#21{INTEGER}
MOV Y{REAL},Y
NOP
SKIP9:
650:
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
660:
NOP
JMP RETURN
670:
NOP
680:
NOP
MOV Y,#0{INTEGER}
MOV CL{REAL},Y
690:
NOP
MOV Y,#5{INTEGER}
MOV Y{REAL},Y
700:
NOP
MOV Y,#0{INTEGER}
MOV X{REAL},Y
710:
NOP
720:
NOP
JSR READNUMBER
MOV C{REAL},Y
NOP
MOV Y,#-99.0{REAL}
MOV X,C{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP10
JMP SKIP10
NSKIP10:
JMP RETURN
NOP
SKIP10:
730:
NOP
MOV Y,#0{INTEGER}
MOV X,C{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP11
JMP SKIP11
NSKIP11:
NOP
MOV Y,C{REAL}
ABS X,Y
MOV CL{REAL},X
JMP 710
NOP
SKIP11:
740:
NOP
MOV Y,#100{INTEGER}
MOV X,C{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP12
JMP SKIP12
NSKIP12:
NOP
MOV Y,#0{INTEGER}
MOV CL{REAL},Y
JMP 710
NOP
SKIP12:
750:
NOP
MOV Y,#0{INTEGER}
MOV X,C{REAL}
NEQ X,Y
PUSH X
MOV Y,X{REAL}
MOV X,C{REAL}
LT X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP13
JMP SKIP13
NSKIP13:
NOP
MOV Y,#1{INTEGER}
MOV X,Y{REAL}
ADD X,Y
MOV Y{REAL},X
NOP
SKIP13:
760:
NOP
MOV Y,C{REAL}
CMP Y,#0{REAL}
JNE NSKIP14
JMP SKIP14
NSKIP14:
NOP
MOV Y,C{REAL}
MOV X{REAL},Y
NOP
SKIP14:
770:
NOP
MOV Y,Y{REAL}
MOV A,#5{INTEGER}
MOV X,Y
SHL X,A
MOV A,#3{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,#20000.0{REAL}
ADD X,Y
MOV P{REAL},X
780:
NOP
JSR READNUMBER
MOV CN{REAL},Y
790:
NOP
MOV Y,X{REAL}
MOV X,P{REAL}
ADD X,Y
MOV I{REAL},X
NOP
MOV Y,CN{REAL}
MOV X,P{REAL}
ADD X,Y
MOV Y,X{REAL}
ADD X,Y
MOV Y,#1{INTEGER}
SUB X,Y
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
MOV Y,I{REAL}
PUSH Y
MOV X,CL{REAL}
POP Y
MOVB (Y),X
NOP
MOV X,CL{REAL}
MOVB 53280,X
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
800:
NOP
MOV Y,CN{REAL}
MOV X,X{REAL}
ADD X,Y
MOV X{REAL},X
810:
NOP
JMP 710
820:
NOP
830:
NOP
JSR LINEBREAK
NOP
MOV A,#v-init: allocate screens.{STRING}
JSR STROUT
JSR LINEBREAK
840:
NOP
MOV Y,#20000{INTEGER}
MOV I{REAL},Y
MOV Y,#20999{INTEGER}
PUSH Y
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
MOV X,#6{INTEGER}
JSR FASTFOR
CMP A,#0{INTEGER}
JE ($JUMP)
850:
NOP
MOV A,#m-loaddefaults: load system defaults.{STRING}
JSR STROUT
JSR LINEBREAK
860:
NOP
MOV Y,#21000{INTEGER}
MOV I{REAL},Y
MOV Y,#21999{INTEGER}
PUSH Y
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
MOV X,#6{INTEGER}
JSR FASTFOR
CMP A,#0{INTEGER}
JE ($JUMP)
870:
NOP
MOV A,#z-init: init memory daemon.{STRING}
JSR STROUT
JSR LINEBREAK
880:
NOP
MOV Y,#0{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#999{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
MOV Y,#55296{INTEGER}
MOV X,I{REAL}
ADD X,Y
MOV Y,X
MOVB (Y),#6{INTEGER}
NOP
MOV Y,#1024{INTEGER}
MOV X,I{REAL}
ADD X,Y
MOV Y,X
MOVB (Y),#160{INTEGER}
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
890:
NOP
JMP RETURN
900:
NOP
910:
NOP
JSR COMPACTMAX
MOV Y,#147{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
920:
NOP
MOV Y,#1024{INTEGER}
MOV I{REAL},Y
MOV Y,#2023{INTEGER}
PUSH Y
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
MOV X,#160{INTEGER}
JSR FASTFOR
CMP A,#0{INTEGER}
JE ($JUMP)
930:
NOP
JMP RETURN
940:
950:
960:
970:
980:
990:
1000:
1010:
NOP
JSR END
RTS
