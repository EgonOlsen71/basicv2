117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_1:
128	.$81f	LDA #0
129	.$821	STA VAR_E
130	.$824	STA VAR_E+1
131	.$827	STA VAR_E+2
132	.$82a	STA VAR_E+3
133	.$82d	STA VAR_E+4
135	.$830	STA VAR_EZ
136	.$833	STA VAR_EZ+1
137	.$836	STA VAR_EZ+2
138	.$839	STA VAR_EZ+3
139	.$83c	STA VAR_EZ+4
141	.$83f	STA VAR_DO
142	.$842	STA VAR_DO+1
143	.$845	STA VAR_DO+2
144	.$848	STA VAR_DO+3
145	.$84b	STA VAR_DO+4
147	.$84e	LDA #147
148	.$850	JSR SINGLECHROUTBRKMAX
152	.$853	LDA #<CONST_2
153	.$855	LDY #>CONST_2
154	.$857	JSR STROUTBRKWL
157	.$85a	LDA #<CONST_3
158	.$85c	LDY #>CONST_3
159	.$85e	JSR STROUTBRKWL
163	.$861	LINE_2:
165	.$861	INPUT3:
166	.$861	JSR CLEARQUEUE
167	.$864	JSR COMPACTMAX
168	.$867	LDA #<CONST_4
169	.$869	LDY #>CONST_4
170	.$86b	JSR STROUTWL
172	.$86e	JSR QMARKOUT1
173	.$871	JSR INPUTNUMBER
174	.$874	LDA X_REG
175	.$876	COMP_SKP0:
176	.$876	BEQ INPUT3_0
178	.$878	LDA #<CONST_5
179	.$87a	LDY #>CONST_5
180	.$87c	JSR STROUTBRKWL
183	.$87f	JMP INPUT3
184	.$882	INPUT3_0:
185	.$882	JSR INPUTLENGTHCHECK
186	.$885	BEQ EMPTYINPUTSKIP4
187	.$887	JSR YREGFAC
189	.$88a	LDX #<VAR_X
190	.$88c	LDY #>VAR_X
192	.$88e	JSR FACMEM
193	.$891	EMPTYINPUTSKIP4:
194	.$891	JSR QUEUESIZE
195	.$894	LDA X_REG
196	.$896	COMP_SKP1:
197	.$896	BEQ INPUTCHECK3
199	.$898	JSR EXTRAIGNORED
200	.$89b	INPUTCHECK3:
201	.$89b	LDA #<VAR_X
202	.$89d	LDY #>VAR_X
203	.$89f	JSR REALFAC
206	.$8a2	JSR FACWORD
207	.$8a5	STY TMP_ZP
209	.$8a7	ON1SUB0:
210	.$8a7	LDX #1
211	.$8a9	CPX TMP_ZP
212	.$8ab	COMP_SKP2:
213	.$8ab	BNE AFTER1SUB0
214	.$8ad	JMP LINE_3
215	.$8b0	AFTER1SUB0:
216	.$8b0	ON1SUB1:
217	.$8b0	INX
218	.$8b1	CPX TMP_ZP
219	.$8b3	COMP_SKP3:
220	.$8b3	BNE AFTER1SUB1
221	.$8b5	JMP LINE_4
222	.$8b8	AFTER1SUB1:
234	.$8b8	GSKIPON1:
236	.$8b8	LINE_3:
238	.$8b8	INPUT4:
239	.$8b8	JSR CLEARQUEUE
240	.$8bb	JSR COMPACTMAX
241	.$8be	LDA #<CONST_8
242	.$8c0	LDY #>CONST_8
243	.$8c2	JSR STROUTWL
245	.$8c5	JSR QMARKOUT1
246	.$8c8	JSR INPUTNUMBER
247	.$8cb	LDA X_REG
248	.$8cd	COMP_SKP4:
249	.$8cd	BEQ INPUT4_0
251	.$8cf	LDA #<CONST_5
252	.$8d1	LDY #>CONST_5
253	.$8d3	JSR STROUTBRKWL
256	.$8d6	JMP INPUT4
257	.$8d9	INPUT4_0:
258	.$8d9	JSR INPUTLENGTHCHECK
259	.$8dc	BEQ EMPTYINPUTSKIP5
260	.$8de	JSR YREGFAC
262	.$8e1	LDX #<VAR_A
263	.$8e3	LDY #>VAR_A
265	.$8e5	JSR FACMEM
266	.$8e8	EMPTYINPUTSKIP5:
267	.$8e8	JSR QUEUESIZE
268	.$8eb	LDA X_REG
269	.$8ed	COMP_SKP5:
270	.$8ed	BEQ INPUTCHECK4
272	.$8ef	JSR EXTRAIGNORED
273	.$8f2	INPUTCHECK4:
274	.$8f2	JMP LINE_5
276	.$8f5	LINE_4:
278	.$8f5	INPUT5:
279	.$8f5	JSR CLEARQUEUE
280	.$8f8	JSR COMPACTMAX
281	.$8fb	LDA #<CONST_9
282	.$8fd	LDY #>CONST_9
283	.$8ff	JSR STROUTWL
285	.$902	JSR QMARKOUT1
286	.$905	JSR INPUTSTR
287	.$908	JSR INPUTLENGTHCHECK
288	.$90b	BEQ EMPTYINPUTSKIP6
289	.$90d	LDA A_REG
290	.$910	LDY A_REG+1
291	.$913	STA TMP_ZP
292	.$915	STY TMP_ZP+1
293	.$917	LDA #<VAR_A$
294	.$919	LDY #>VAR_A$
295	.$91b	JSR COPYSTRING
296	.$91e	EMPTYINPUTSKIP6:
297	.$91e	JSR QUEUESIZE
298	.$921	LDA X_REG
299	.$923	COMP_SKP6:
300	.$923	BEQ INPUTCHECK5
302	.$925	JSR EXTRAIGNORED
303	.$928	INPUTCHECK5:
304	.$928	JSR COMPACTMAX
305	.$92b	LDA VAR_A$
306	.$92e	LDY VAR_A$+1
307	.$931	STA B_REG
308	.$934	STY B_REG+1
309	.$937	LDA #<CONST_10
310	.$939	LDY #>CONST_10
311	.$93b	STA A_REG
312	.$93e	STY A_REG+1
313	.$941	JSR CONCAT
315	.$944	LDA A_REG
316	.$947	LDY A_REG+1
317	.$94a	STA TMP_ZP
318	.$94c	STY TMP_ZP+1
319	.$94e	LDA #<VAR_A$
320	.$950	LDY #>VAR_A$
321	.$952	JSR COPYSTRING
322	.$955	LDA VAR_A$
323	.$958	LDY VAR_A$+1
324	.$95b	STA B_REG
325	.$95e	STY B_REG+1
327	.$961	JSR LEN
328	.$964	LDX #<VAR_LA
329	.$966	LDY #>VAR_LA
330	.$968	JSR XREG2VAR
332	.$96b	JMP LINE_6
334	.$96e	LINE_5:
336	.$96e	JSR COMPACTMAX
337	.$971	LDA #<VAR_A
338	.$973	LDY #>VAR_A
339	.$975	JSR COPY2_XYA_YREG
344	.$978	JSR STR
346	.$97b	LDA A_REG
347	.$97e	LDY A_REG+1
348	.$981	STA TMP_ZP
349	.$983	STY TMP_ZP+1
350	.$985	LDA #<VAR_A$
351	.$987	LDY #>VAR_A$
352	.$989	JSR COPYSTRING
353	.$98c	LDA VAR_A$
354	.$98f	LDY VAR_A$+1
355	.$992	STA B_REG
356	.$995	STY B_REG+1
358	.$998	JSR LEN
359	.$99b	JSR XREGFAC
361	.$99e	LDX #<VAR_LA
362	.$9a0	LDY #>VAR_LA
364	.$9a2	JSR FACMEM
366	.$9a5	LINE_6:
368	.$9a5	LDX #4
369	.$9a7	dcloop567_1:
370	.$9a7	LDA CONST_6R,X
371	.$9aa	STA VAR_I,X
372	.$9ad	DEX
373	.$9ae	BPL dcloop567_1
375	.$9b0	LDA #<VAR_LA
376	.$9b2	LDY #>VAR_LA
377	.$9b4	JSR REALFACPUSH
381	.$9b7	JSR REALFACPUSHMC
383	.$9ba	LDA #<VAR_I
384	.$9bc	LDY #>VAR_I
385	.$9be	STA A_REG
386	.$9c1	STY A_REG+1
387	.$9c4	LDA #<FORLOOP0
388	.$9c6	STA JUMP_TARGET
389	.$9c8	LDA #>FORLOOP0
390	.$9ca	STA JUMP_TARGET+1
391	.$9cc	JSR INITFOR
392	.$9cf	FORLOOP0:
393	.$9cf	JSR COMPACTMAX
394	.$9d2	LDA #<CONST_11
395	.$9d4	LDY #>CONST_11
396	.$9d6	STA TMP_ZP
397	.$9d8	STY TMP_ZP+1
398	.$9da	JSR PUSHINT
400	.$9dd	LDA #<VAR_I
401	.$9df	LDY #>VAR_I
402	.$9e1	JSR COPY2_XYA_CREG
407	.$9e4	LDA VAR_A$
408	.$9e7	LDY VAR_A$+1
409	.$9ea	STA B_REG
410	.$9ed	STY B_REG+1
411	.$9f0	JSR CHARAT
412	.$9f3	JSR POPINT2B
415	.$9f6	JSR SEQ
416	.$9f9	LDA X_REG
417	.$9fb	COMP_SKP7:
418	.$9fb	BNE LINE_NSKIP12
420	.$9fd	JMP LINE_SKIP12
422	.$a00	LINE_NSKIP12:
423	.$a00	LDX #4
424	.$a02	dcloop733_1:
425	.$a02	LDA CONST_6R,X
426	.$a05	STA VAR_E,X
427	.$a08	LDA VAR_I,X
428	.$a0b	STA VAR_EZ,X
429	.$a0e	DEX
430	.$a0f	BPL dcloop733_1
433	.$a11	JSR COMPACTMAX
434	.$a14	JSR ONETOFAC
436	.$a17	LDA #<VAR_I
437	.$a19	LDY #>VAR_I
438	.$a1b	JSR FASTFADDMEM
443	.$a1e	JSR PUSHREAL
446	.$a21	JSR REALFACPUSHMC
449	.$a24	LDA VAR_A$
450	.$a27	LDY VAR_A$+1
451	.$a2a	STA B_REG
452	.$a2d	STY B_REG+1
453	.$a30	JSR POPREAL
454	.$a33	LDX #<D_REG
455	.$a35	LDY #>D_REG
457	.$a37	JSR FACMEM
458	.$a3a	JSR POPREAL
459	.$a3d	LDX #<C_REG
460	.$a3f	LDY #>C_REG
462	.$a41	JSR FACMEM
463	.$a44	JSR MID
465	.$a47	LDA A_REG
466	.$a4a	LDY A_REG+1
467	.$a4d	STA TMP_ZP
468	.$a4f	STY TMP_ZP+1
469	.$a51	LDA #<VAR_V$
470	.$a53	LDY #>VAR_V$
471	.$a55	JSR COPYSTRING
472	.$a58	JSR COMPACTMAX
473	.$a5b	LDA #<CONST_7R
474	.$a5d	LDY #>CONST_7R
475	.$a5f	JSR REALFAC
476	.$a62	LDA #<VAR_I
477	.$a64	LDY #>VAR_I
478	.$a66	JSR FASTFADDMEM
482	.$a69	JSR FACXREG
484	.$a6c	JSR REALFACPUSHXREG
487	.$a6f	LDA #<CONST_7R
488	.$a71	LDY #>CONST_7R
489	.$a73	JSR REALFACPUSH
492	.$a76	LDA VAR_A$
493	.$a79	LDY VAR_A$+1
494	.$a7c	STA B_REG
495	.$a7f	STY B_REG+1
496	.$a82	JSR POPREAL
497	.$a85	LDX #<D_REG
498	.$a87	LDY #>D_REG
500	.$a89	JSR FACMEM
501	.$a8c	JSR POPREAL
502	.$a8f	LDX #<C_REG
503	.$a91	LDY #>C_REG
505	.$a93	JSR FACMEM
506	.$a96	JSR MID
507	.$a99	LDY A_REG
508	.$a9c	LDA A_REG+1
509	.$a9f	STY B_REG
510	.$aa2	STA B_REG+1
512	.$aa5	JSR VAL
513	.$aa8	LDX #<VAR_Z
514	.$aaa	LDY #>VAR_Z
515	.$aac	JSR XREG2VAR
518	.$aaf	LINE_SKIP12:
521	.$aaf	LINE_7:
523	.$aaf	LDA #<VAR_I
524	.$ab1	LDY #>VAR_I
525	.$ab3	STA A_REG
526	.$ab6	STY A_REG+1
527	.$ab9	JSR NEXT
528	.$abc	LDA A_REG
529	.$abf	BNE RBEQ_0
530	.$ac1	JMP (JUMP_TARGET)
532	.$ac4	RBEQ_0:
534	.$ac4	LINE_8:
536	.$ac4	LDA VAR_E
537	.$ac7	BEQ EQ_SKIP0
538	.$ac9	EQ_EQ0:
539	.$ac9	JMP LINE_SKIP13
540	.$acc	EQ_SKIP0:
541	.$acc	COMP_SKP9:
545	.$acc	LINE_NSKIP13:
547	.$acc	LDA #<CONST_12
548	.$ace	LDY #>CONST_12
549	.$ad0	JSR STROUTBRKWL
552	.$ad3	JSR END
553	.$ad6	RTS
555	.$ad7	LINE_SKIP13:
558	.$ad7	LINE_9:
560	.$ad7	LDX #4
561	.$ad9	dceloop4152_1:
562	.$ad9	LDA CONST_7R,X
563	.$adc	CMP VAR_X,X
564	.$adf	BNE LINE_SKIP14
565	.$ae1	DEX
566	.$ae2	BPL dceloop4152_1
568	.$ae4	LINE_NSKIP14:
571	.$ae4	JMP LINE_12
573	.$ae7	LINE_SKIP14:
576	.$ae7	LINE_10:
578	.$ae7	LDA #<CONST_13
579	.$ae9	LDY #>CONST_13
580	.$aeb	STA B_REG
581	.$aee	STY B_REG+1
582	.$af1	LDA VAR_V$
583	.$af4	LDY VAR_V$+1
584	.$af7	STA A_REG
585	.$afa	STY A_REG+1
587	.$afd	JSR SEQ
588	.$b00	LDA X_REG
589	.$b02	COMP_SKP11:
590	.$b02	BEQ LINE_SKIP15
593	.$b04	LINE_NSKIP15:
595	.$b04	JSR GOSUB
596	.$b07	JSR LINE_500
597	.$b0a	LDA #<VAR_A
598	.$b0c	LDY #>VAR_A
599	.$b0e	JSR COPY2_XYA_XREG
603	.$b11	JSR REALOUTBRK
605	.$b14	LDA VAR_C$
606	.$b17	LDY VAR_C$+1
607	.$b1a	JSR STROUTBRKWL
610	.$b1d	JSR END
611	.$b20	RTS
613	.$b21	LINE_SKIP15:
616	.$b21	LINE_11:
618	.$b21	JSR GOSUB
619	.$b24	JSR LINE_800
620	.$b27	LDA #<VAR_A
621	.$b29	LDY #>VAR_A
622	.$b2b	JSR COPY2_XYA_XREG
626	.$b2e	JSR REALOUTBRK
628	.$b31	LDA VAR_C$
629	.$b34	LDY VAR_C$+1
630	.$b37	JSR STROUTBRKWL
633	.$b3a	JSR END
634	.$b3d	RTS
636	.$b3e	LINE_12:
638	.$b3e	LDA #<CONST_13
639	.$b40	LDY #>CONST_13
640	.$b42	STA B_REG
641	.$b45	STY B_REG+1
642	.$b48	LDA VAR_V$
643	.$b4b	LDY VAR_V$+1
644	.$b4e	STA A_REG
645	.$b51	STY A_REG+1
647	.$b54	JSR SEQ
648	.$b57	LDA X_REG
649	.$b59	COMP_SKP12:
650	.$b59	BEQ LINE_SKIP16
653	.$b5b	LINE_NSKIP16:
655	.$b5b	JSR GOSUB
656	.$b5e	JSR LINE_500
657	.$b61	LDA VAR_A$
658	.$b64	LDY VAR_A$+1
659	.$b67	JSR STROUTBRKWL
662	.$b6a	LDA VAR_C$
663	.$b6d	LDY VAR_C$+1
664	.$b70	JSR STROUTBRKWL
667	.$b73	JSR END
668	.$b76	RTS
670	.$b77	LINE_SKIP16:
673	.$b77	LINE_13:
675	.$b77	JSR GOSUB
676	.$b7a	JSR LINE_800
677	.$b7d	LDA VAR_A$
678	.$b80	LDY VAR_A$+1
679	.$b83	JSR STROUTBRKWL
682	.$b86	LDA VAR_C$
683	.$b89	LDY VAR_C$+1
684	.$b8c	JSR STROUTBRKWL
687	.$b8f	JSR END
688	.$b92	RTS
690	.$b93	LINE_500:
692	.$b93	JSR COMPACTMAX
695	.$b96	JSR REALFACPUSHMC
697	.$b99	JSR ONETOFAC
699	.$b9c	LDA #<VAR_EZ
700	.$b9e	LDY #>VAR_EZ
701	.$ba0	JSR FASTFSUBMEM
706	.$ba3	LDA VAR_A$
707	.$ba6	LDY VAR_A$+1
708	.$ba9	STA B_REG
709	.$bac	STY B_REG+1
711	.$baf	LDX #<D_REG
712	.$bb1	LDY #>D_REG
714	.$bb3	JSR FACMEM
715	.$bb6	JSR POPREAL
716	.$bb9	LDX #<C_REG
717	.$bbb	LDY #>C_REG
719	.$bbd	JSR FACMEM
720	.$bc0	JSR MID
722	.$bc3	LDA A_REG
723	.$bc6	LDY A_REG+1
724	.$bc9	STA TMP_ZP
725	.$bcb	STY TMP_ZP+1
726	.$bcd	LDA #<VAR_S1$
727	.$bcf	LDY #>VAR_S1$
728	.$bd1	JSR COPYSTRING
730	.$bd4	LINE_501:
732	.$bd4	LDX #4
733	.$bd6	dcloop1397_1:
734	.$bd6	LDA CONST_6R,X
735	.$bd9	STA VAR_I,X
736	.$bdc	DEX
737	.$bdd	BPL dcloop1397_1
739	.$bdf	LDA #<VAR_LA
740	.$be1	LDY #>VAR_LA
741	.$be3	JSR REALFACPUSH
745	.$be6	JSR REALFACPUSHMC
747	.$be9	LDA #<VAR_I
748	.$beb	LDY #>VAR_I
749	.$bed	STA A_REG
750	.$bf0	STY A_REG+1
751	.$bf3	LDA #<FORLOOP1
752	.$bf5	STA JUMP_TARGET
753	.$bf7	LDA #>FORLOOP1
754	.$bf9	STA JUMP_TARGET+1
755	.$bfb	JSR INITFOR
756	.$bfe	FORLOOP1:
758	.$bfe	LINE_502:
760	.$bfe	JSR COMPACTMAX
761	.$c01	LDA #<CONST_14
762	.$c03	LDY #>CONST_14
763	.$c05	STA TMP_ZP
764	.$c07	STY TMP_ZP+1
765	.$c09	JSR PUSHINT
767	.$c0c	LDA #<VAR_I
768	.$c0e	LDY #>VAR_I
769	.$c10	JSR COPY2_XYA_CREG
774	.$c13	LDA VAR_A$
775	.$c16	LDY VAR_A$+1
776	.$c19	STA B_REG
777	.$c1c	STY B_REG+1
778	.$c1f	JSR CHARAT
779	.$c22	JSR POPINT2B
782	.$c25	JSR SEQ
783	.$c28	LDA X_REG
784	.$c2a	COMP_SKP13:
785	.$c2a	BEQ LINE_SKIP17
788	.$c2c	LINE_NSKIP17:
790	.$c2c	JSR ONETOFAC
792	.$c2f	LDA #<VAR_I
793	.$c31	LDY #>VAR_I
794	.$c33	JSR FASTFADDMEM
799	.$c36	LDX #<VAR_DO
800	.$c38	LDY #>VAR_DO
802	.$c3a	JSR FACMEM
804	.$c3d	LINE_SKIP17:
807	.$c3d	LINE_503:
809	.$c3d	LDA #<VAR_I
810	.$c3f	LDY #>VAR_I
811	.$c41	STA A_REG
812	.$c44	STY A_REG+1
813	.$c47	JSR NEXT
814	.$c4a	LDA A_REG
815	.$c4d	BNE RBEQ_1
816	.$c4f	JMP (JUMP_TARGET)
818	.$c52	RBEQ_1:
820	.$c52	LINE_504:
822	.$c52	LDX #4
823	.$c54	dcloop1563_1:
824	.$c54	LDA CONST_6R,X
825	.$c57	STA VAR_I,X
826	.$c5a	DEX
827	.$c5b	BPL dcloop1563_1
829	.$c5d	LDA #<VAR_EZ
830	.$c5f	LDY #>VAR_EZ
831	.$c61	JSR REALFAC
832	.$c64	LDA #<VAR_Z
833	.$c66	LDY #>VAR_Z
834	.$c68	JSR FASTFSUBMEM
838	.$c6b	JSR FACXREG
840	.$c6e	LDA #<VAR_DO
841	.$c70	LDY #>VAR_DO
842	.$c72	JSR REALFAC
844	.$c75	LDA #<X_REG
845	.$c77	LDY #>X_REG
847	.$c79	JSR FASTFADDMEM
851	.$c7c	JSR PUSHREAL
854	.$c7f	JSR REALFACPUSHMC
856	.$c82	LDA #<VAR_I
857	.$c84	LDY #>VAR_I
858	.$c86	STA A_REG
859	.$c89	STY A_REG+1
860	.$c8c	LDA #<FORLOOP2
861	.$c8e	STA JUMP_TARGET
862	.$c90	LDA #>FORLOOP2
863	.$c92	STA JUMP_TARGET+1
864	.$c94	JSR INITFOR
865	.$c97	FORLOOP2:
866	.$c97	JSR COMPACTMAX
867	.$c9a	LDA #<CONST_15
868	.$c9c	LDY #>CONST_15
869	.$c9e	STA B_REG
870	.$ca1	STY B_REG+1
871	.$ca4	LDA VAR_S2$
872	.$ca7	LDY VAR_S2$+1
873	.$caa	STA A_REG
874	.$cad	STY A_REG+1
875	.$cb0	JSR CONCAT
877	.$cb3	LDA A_REG
878	.$cb6	LDY A_REG+1
879	.$cb9	STA TMP_ZP
880	.$cbb	STY TMP_ZP+1
881	.$cbd	LDA #<VAR_S2$
882	.$cbf	LDY #>VAR_S2$
883	.$cc1	JSR COPYSTRING
884	.$cc4	LDA #<VAR_I
885	.$cc6	LDY #>VAR_I
886	.$cc8	STA A_REG
887	.$ccb	STY A_REG+1
888	.$cce	JSR NEXT
889	.$cd1	LDA A_REG
890	.$cd4	BNE RBEQ_2
891	.$cd6	JMP (JUMP_TARGET)
893	.$cd9	RBEQ_2:
895	.$cd9	LINE_505:
897	.$cd9	JSR COMPACTMAX
898	.$cdc	LDA VAR_S2$
899	.$cdf	LDY VAR_S2$+1
900	.$ce2	STA B_REG
901	.$ce5	STY B_REG+1
902	.$ce8	LDA VAR_S1$
903	.$ceb	LDY VAR_S1$+1
904	.$cee	STA A_REG
905	.$cf1	STY A_REG+1
906	.$cf4	JSR CONCAT
908	.$cf7	LDA A_REG
909	.$cfa	LDY A_REG+1
910	.$cfd	STA TMP_ZP
911	.$cff	STY TMP_ZP+1
912	.$d01	LDA #<VAR_S3$
913	.$d03	LDY #>VAR_S3$
914	.$d05	JSR COPYSTRING
916	.$d08	LINE_506:
918	.$d08	LDA VAR_DO
919	.$d0b	COMP_SKP16:
920	.$d0b	BEQ LINE_SKIP18
924	.$d0d	LINE_NSKIP18:
926	.$d0d	JMP LINE_600
928	.$d10	LINE_SKIP18:
931	.$d10	LINE_508:
933	.$d10	JSR COMPACTMAX
934	.$d13	LDA #<CONST_16
935	.$d15	LDY #>CONST_16
936	.$d17	STA B_REG
937	.$d1a	STY B_REG+1
938	.$d1d	LDA VAR_S3$
939	.$d20	LDY VAR_S3$+1
940	.$d23	STA A_REG
941	.$d26	STY A_REG+1
942	.$d29	JSR CONCAT
944	.$d2c	LDA A_REG
945	.$d2f	LDY A_REG+1
946	.$d32	STA TMP_ZP
947	.$d34	STY TMP_ZP+1
948	.$d36	LDA #<VAR_B$
949	.$d38	LDY #>VAR_B$
950	.$d3a	JSR COPYSTRING
951	.$d3d	JMP LINE_610
953	.$d40	LINE_600:
955	.$d40	JSR COMPACTMAX
958	.$d43	JSR REALFACPUSHMC
960	.$d46	LDA #<CONST_7R
961	.$d48	LDY #>CONST_7R
962	.$d4a	JSR REALFAC
963	.$d4d	LDA #<VAR_DO
964	.$d4f	LDY #>VAR_DO
965	.$d51	JSR FASTFSUBMEM
969	.$d54	JSR FACXREG
971	.$d57	JSR REALFACPUSHXREG
975	.$d5a	LDA VAR_S3$
976	.$d5d	LDY VAR_S3$+1
977	.$d60	STA B_REG
978	.$d63	STY B_REG+1
979	.$d66	JSR POPREAL
980	.$d69	LDX #<D_REG
981	.$d6b	LDY #>D_REG
983	.$d6d	JSR FACMEM
984	.$d70	JSR POPREAL
985	.$d73	LDX #<C_REG
986	.$d75	LDY #>C_REG
988	.$d77	JSR FACMEM
989	.$d7a	JSR MID
991	.$d7d	LDA A_REG
992	.$d80	LDY A_REG+1
993	.$d83	STA TMP_ZP
994	.$d85	STY TMP_ZP+1
995	.$d87	LDA #<VAR_S4$
996	.$d89	LDY #>VAR_S4$
997	.$d8b	JSR COPYSTRING
998	.$d8e	JSR COMPACTMAX
999	.$d91	LDA #<VAR_DO
1000	.$d93	LDY #>VAR_DO
1001	.$d95	JSR COPY2_XYA_CREG
1004	.$d98	TXA
1005	.$d99	LDY #>C_REG
1008	.$d9b	JSR REALFACPUSH
1011	.$d9e	LDA VAR_S3$
1012	.$da1	LDY VAR_S3$+1
1013	.$da4	STA B_REG
1014	.$da7	STY B_REG+1
1016	.$daa	JSR LEN
1017	.$dad	JSR REALFACPUSHXREG
1021	.$db0	LDA VAR_S3$
1022	.$db3	LDY VAR_S3$+1
1023	.$db6	STA B_REG
1024	.$db9	STY B_REG+1
1025	.$dbc	JSR POPREAL
1026	.$dbf	LDX #<D_REG
1027	.$dc1	LDY #>D_REG
1029	.$dc3	JSR FACMEM
1030	.$dc6	JSR POPREAL
1031	.$dc9	LDX #<C_REG
1032	.$dcb	LDY #>C_REG
1034	.$dcd	JSR FACMEM
1035	.$dd0	JSR MID
1037	.$dd3	LDA A_REG
1038	.$dd6	LDY A_REG+1
1039	.$dd9	STA TMP_ZP
1040	.$ddb	STY TMP_ZP+1
1041	.$ddd	LDA #<VAR_S5$
1042	.$ddf	LDY #>VAR_S5$
1043	.$de1	JSR COPYSTRING
1045	.$de4	LINE_603:
1047	.$de4	JSR COMPACTMAX
1048	.$de7	LDA VAR_S5$
1049	.$dea	LDY VAR_S5$+1
1050	.$ded	STA B_REG
1051	.$df0	STY B_REG+1
1052	.$df3	LDA VAR_S4$
1053	.$df6	LDY VAR_S4$+1
1054	.$df9	STA A_REG
1055	.$dfc	STY A_REG+1
1056	.$dff	JSR CONCAT
1058	.$e02	LDA A_REG
1059	.$e05	LDY A_REG+1
1060	.$e08	STA TMP_ZP
1061	.$e0a	STY TMP_ZP+1
1062	.$e0c	LDA #<VAR_B$
1063	.$e0e	LDY #>VAR_B$
1064	.$e10	JSR COPYSTRING
1066	.$e13	LINE_610:
1068	.$e13	JSR GOSUB
1069	.$e16	JSR LINE_1000
1070	.$e19	LDA VAR_B$
1071	.$e1c	LDY VAR_B$+1
1072	.$e1f	STA B_REG
1073	.$e22	STY B_REG+1
1075	.$e25	JSR LEN
1076	.$e28	JSR XREGFAC
1078	.$e2b	LDX #<VAR_LB
1079	.$e2d	LDY #>VAR_LB
1081	.$e2f	JSR FACMEM
1083	.$e32	LINE_611:
1085	.$e32	LDA VAR_MO
1086	.$e35	BEQ EQ_SKIP2
1087	.$e37	EQ_EQ2:
1088	.$e37	JMP LINE_SKIP19
1089	.$e3a	EQ_SKIP2:
1090	.$e3a	COMP_SKP17:
1094	.$e3a	LINE_NSKIP19:
1096	.$e3a	JSR GOSUB
1097	.$e3d	JSR LINE_700
1098	.$e40	JMP RETURN
1100	.$e43	LINE_SKIP19:
1103	.$e43	LINE_612:
1105	.$e43	JSR ONETOFAC
1107	.$e46	LDA #<VAR_MO
1108	.$e48	LDY #>VAR_MO
1109	.$e4a	JSR CMPFAC
1110	.$e4d	EQ_EQ3:
1111	.$e4d	EQ_SKIP3:
1112	.$e4d	COMP_SKP18:
1113	.$e4d	BNE LINE_SKIP20
1114	.$e4f	LINE_NSKIP20:
1117	.$e4f	JSR GOSUB
1118	.$e52	JSR LINE_730
1119	.$e55	JMP RETURN
1121	.$e58	LINE_SKIP20:
1124	.$e58	LINE_613:
1126	.$e58	LDX #4
1127	.$e5a	dceloop4152_2:
1128	.$e5a	LDA CONST_7R,X
1129	.$e5d	CMP VAR_MO,X
1130	.$e60	BNE LINE_SKIP21
1131	.$e62	DEX
1132	.$e63	BPL dceloop4152_2
1134	.$e65	LINE_NSKIP21:
1137	.$e65	JSR GOSUB
1138	.$e68	JSR LINE_760
1139	.$e6b	JMP RETURN
1141	.$e6e	LINE_SKIP21:
1144	.$e6e	LINE_620:
1146	.$e6e	JMP RETURN
1148	.$e71	LINE_700:
1150	.$e71	LDX #4
1151	.$e73	dcloop2227_1:
1152	.$e73	LDA CONST_7R,X
1153	.$e76	STA VAR_I,X
1154	.$e79	DEX
1155	.$e7a	BPL dcloop2227_1
1157	.$e7c	LDA #<VAR_LB
1158	.$e7e	LDY #>VAR_LB
1159	.$e80	JSR REALFACPUSH
1161	.$e83	LDA #<CONST_17R
1162	.$e85	LDY #>CONST_17R
1163	.$e87	JSR REALFACPUSH
1165	.$e8a	LDA #<VAR_I
1166	.$e8c	LDY #>VAR_I
1167	.$e8e	STA A_REG
1168	.$e91	STY A_REG+1
1169	.$e94	LDA #<FORLOOP3
1170	.$e96	STA JUMP_TARGET
1171	.$e98	LDA #>FORLOOP3
1172	.$e9a	STA JUMP_TARGET+1
1173	.$e9c	JSR INITFOR
1174	.$e9f	FORLOOP3:
1175	.$e9f	JSR COMPACTMAX
1176	.$ea2	LDA #<VAR_I
1177	.$ea4	LDY #>VAR_I
1178	.$ea6	JSR COPY2_XYA_CREG
1182	.$ea9	LDA VAR_B$
1183	.$eac	LDY VAR_B$+1
1184	.$eaf	STA B_REG
1185	.$eb2	STY B_REG+1
1186	.$eb5	LDY #3
1187	.$eb7	JSR MIDCONST
1196	.$eba	LDY A_REG
1197	.$ebd	LDA A_REG+1
1198	.$ec0	STY B_REG
1199	.$ec3	STA B_REG+1
1200	.$ec6	LDA VAR_C$
1201	.$ec9	LDY VAR_C$+1
1202	.$ecc	STA A_REG
1203	.$ecf	STY A_REG+1
1204	.$ed2	JSR CONCAT
1205	.$ed5	LDA #<CONST_14
1206	.$ed7	LDY #>CONST_14
1207	.$ed9	STA B_REG
1208	.$edc	STY B_REG+1
1209	.$edf	JSR CONCAT
1211	.$ee2	LDA A_REG
1212	.$ee5	LDY A_REG+1
1213	.$ee8	STA TMP_ZP
1214	.$eea	STY TMP_ZP+1
1215	.$eec	LDA #<VAR_C$
1216	.$eee	LDY #>VAR_C$
1217	.$ef0	JSR COPYSTRING
1218	.$ef3	LDA #<VAR_I
1219	.$ef5	LDY #>VAR_I
1220	.$ef7	STA A_REG
1221	.$efa	STY A_REG+1
1222	.$efd	JSR NEXT
1223	.$f00	LDA A_REG
1224	.$f03	BNE RBEQ_3
1225	.$f05	JMP (JUMP_TARGET)
1227	.$f08	RBEQ_3:
1229	.$f08	LINE_701:
1231	.$f08	JSR COMPACTMAX
1234	.$f0b	JSR REALFACPUSHMC
1236	.$f0e	LDA VAR_C$
1237	.$f11	LDY VAR_C$+1
1238	.$f14	STA B_REG
1239	.$f17	STY B_REG+1
1240	.$f1a	JSR LEN
1241	.$f1d	JSR ONETOFAC
1245	.$f20	LDA #<X_REG
1246	.$f22	LDY #>X_REG
1248	.$f24	JSR FASTFSUBMEM
1252	.$f27	LDA VAR_C$
1253	.$f2a	LDY VAR_C$+1
1254	.$f2d	STA B_REG
1255	.$f30	STY B_REG+1
1257	.$f33	LDX #<D_REG
1258	.$f35	LDY #>D_REG
1260	.$f37	JSR FACMEM
1261	.$f3a	JSR POPREAL
1262	.$f3d	LDX #<C_REG
1263	.$f3f	LDY #>C_REG
1265	.$f41	JSR FACMEM
1266	.$f44	JSR MID
1268	.$f47	LDA A_REG
1269	.$f4a	LDY A_REG+1
1270	.$f4d	STA TMP_ZP
1271	.$f4f	STY TMP_ZP+1
1272	.$f51	LDA #<VAR_C$
1273	.$f53	LDY #>VAR_C$
1274	.$f55	JSR COPYSTRING
1275	.$f58	JMP RETURN
1277	.$f5b	LINE_730:
1279	.$f5b	LDX #4
1280	.$f5d	dcloop2393_1:
1281	.$f5d	LDA CONST_17R,X
1282	.$f60	STA VAR_I,X
1283	.$f63	DEX
1284	.$f64	BPL dcloop2393_1
1286	.$f66	LDA #<VAR_LB
1287	.$f68	LDY #>VAR_LB
1288	.$f6a	JSR REALFACPUSH
1290	.$f6d	LDA #<CONST_17R
1291	.$f6f	LDY #>CONST_17R
1292	.$f71	JSR REALFACPUSH
1294	.$f74	LDA #<VAR_I
1295	.$f76	LDY #>VAR_I
1296	.$f78	STA A_REG
1297	.$f7b	STY A_REG+1
1298	.$f7e	LDA #<FORLOOP4
1299	.$f80	STA JUMP_TARGET
1300	.$f82	LDA #>FORLOOP4
1301	.$f84	STA JUMP_TARGET+1
1302	.$f86	JSR INITFOR
1303	.$f89	FORLOOP4:
1304	.$f89	JSR COMPACTMAX
1305	.$f8c	LDA #<VAR_I
1306	.$f8e	LDY #>VAR_I
1307	.$f90	JSR COPY2_XYA_CREG
1311	.$f93	LDA VAR_B$
1312	.$f96	LDY VAR_B$+1
1313	.$f99	STA B_REG
1314	.$f9c	STY B_REG+1
1315	.$f9f	LDY #3
1316	.$fa1	JSR MIDCONST
1325	.$fa4	LDY A_REG
1326	.$fa7	LDA A_REG+1
1327	.$faa	STY B_REG
1328	.$fad	STA B_REG+1
1329	.$fb0	LDA VAR_C$
1330	.$fb3	LDY VAR_C$+1
1331	.$fb6	STA A_REG
1332	.$fb9	STY A_REG+1
1333	.$fbc	JSR CONCAT
1334	.$fbf	LDA #<CONST_14
1335	.$fc1	LDY #>CONST_14
1336	.$fc3	STA B_REG
1337	.$fc6	STY B_REG+1
1338	.$fc9	JSR CONCAT
1340	.$fcc	LDA A_REG
1341	.$fcf	LDY A_REG+1
1342	.$fd2	STA TMP_ZP
1343	.$fd4	STY TMP_ZP+1
1344	.$fd6	LDA #<VAR_C$
1345	.$fd8	LDY #>VAR_C$
1346	.$fda	JSR COPYSTRING
1347	.$fdd	LDA #<VAR_I
1348	.$fdf	LDY #>VAR_I
1349	.$fe1	STA A_REG
1350	.$fe4	STY A_REG+1
1351	.$fe7	JSR NEXT
1352	.$fea	LDA A_REG
1353	.$fed	BNE RBEQ_4
1354	.$fef	JMP (JUMP_TARGET)
1356	.$ff2	RBEQ_4:
1358	.$ff2	LINE_731:
1360	.$ff2	JSR COMPACTMAX
1363	.$ff5	JSR REALFACPUSHMC
1365	.$ff8	LDA VAR_C$
1366	.$ffb	LDY VAR_C$+1
1367	.$ffe	STA B_REG
1368	.$1001	STY B_REG+1
1369	.$1004	JSR LEN
1370	.$1007	JSR ONETOFAC
1374	.$100a	LDA #<X_REG
1375	.$100c	LDY #>X_REG
1377	.$100e	JSR FASTFSUBMEM
1381	.$1011	LDA VAR_C$
1382	.$1014	LDY VAR_C$+1
1383	.$1017	STA B_REG
1384	.$101a	STY B_REG+1
1386	.$101d	LDX #<D_REG
1387	.$101f	LDY #>D_REG
1389	.$1021	JSR FACMEM
1390	.$1024	JSR POPREAL
1391	.$1027	LDX #<C_REG
1392	.$1029	LDY #>C_REG
1394	.$102b	JSR FACMEM
1395	.$102e	JSR MID
1396	.$1031	LDA A_REG
1397	.$1034	LDY A_REG+1
1398	.$1037	STA TMP_ZP
1399	.$1039	STY TMP_ZP+1
1400	.$103b	JSR PUSHINT
1401	.$103e	LDA #<CONST_14
1402	.$1040	LDY #>CONST_14
1403	.$1042	STA TMP_ZP
1404	.$1044	STY TMP_ZP+1
1405	.$1046	JSR PUSHINT
1407	.$1049	LDA #<CONST_6R
1408	.$104b	LDY #>CONST_6R
1409	.$104d	JSR COPY2_XYA_CREG
1413	.$1050	LDA VAR_B$
1414	.$1053	LDY VAR_B$+1
1415	.$1056	STA B_REG
1416	.$1059	STY B_REG+1
1417	.$105c	LDY #2
1418	.$105e	JSR MIDCONST
1427	.$1061	JSR POPINT2B
1429	.$1064	JSR CONCAT
1430	.$1067	JSR POPINT2B
1432	.$106a	JSR CONCAT
1434	.$106d	LDA A_REG
1435	.$1070	LDY A_REG+1
1436	.$1073	STA TMP_ZP
1437	.$1075	STY TMP_ZP+1
1438	.$1077	LDA #<VAR_C$
1439	.$1079	LDY #>VAR_C$
1440	.$107b	JSR COPYSTRING
1441	.$107e	JMP RETURN
1443	.$1081	LINE_760:
1445	.$1081	LDX #4
1446	.$1083	dcloop2725_1:
1447	.$1083	LDA CONST_18R,X
1448	.$1086	STA VAR_I,X
1449	.$1089	DEX
1450	.$108a	BPL dcloop2725_1
1452	.$108c	LDA #<VAR_LB
1453	.$108e	LDY #>VAR_LB
1454	.$1090	JSR REALFACPUSH
1456	.$1093	LDA #<CONST_17R
1457	.$1095	LDY #>CONST_17R
1458	.$1097	JSR REALFACPUSH
1460	.$109a	LDA #<VAR_I
1461	.$109c	LDY #>VAR_I
1462	.$109e	STA A_REG
1463	.$10a1	STY A_REG+1
1464	.$10a4	LDA #<FORLOOP5
1465	.$10a6	STA JUMP_TARGET
1466	.$10a8	LDA #>FORLOOP5
1467	.$10aa	STA JUMP_TARGET+1
1468	.$10ac	JSR INITFOR
1469	.$10af	FORLOOP5:
1470	.$10af	JSR COMPACTMAX
1471	.$10b2	LDA #<VAR_I
1472	.$10b4	LDY #>VAR_I
1473	.$10b6	JSR COPY2_XYA_CREG
1477	.$10b9	LDA VAR_B$
1478	.$10bc	LDY VAR_B$+1
1479	.$10bf	STA B_REG
1480	.$10c2	STY B_REG+1
1481	.$10c5	LDY #3
1482	.$10c7	JSR MIDCONST
1491	.$10ca	LDY A_REG
1492	.$10cd	LDA A_REG+1
1493	.$10d0	STY B_REG
1494	.$10d3	STA B_REG+1
1495	.$10d6	LDA VAR_C$
1496	.$10d9	LDY VAR_C$+1
1497	.$10dc	STA A_REG
1498	.$10df	STY A_REG+1
1499	.$10e2	JSR CONCAT
1500	.$10e5	LDA #<CONST_14
1501	.$10e7	LDY #>CONST_14
1502	.$10e9	STA B_REG
1503	.$10ec	STY B_REG+1
1504	.$10ef	JSR CONCAT
1506	.$10f2	LDA A_REG
1507	.$10f5	LDY A_REG+1
1508	.$10f8	STA TMP_ZP
1509	.$10fa	STY TMP_ZP+1
1510	.$10fc	LDA #<VAR_C$
1511	.$10fe	LDY #>VAR_C$
1512	.$1100	JSR COPYSTRING
1513	.$1103	LDA #<VAR_I
1514	.$1105	LDY #>VAR_I
1515	.$1107	STA A_REG
1516	.$110a	STY A_REG+1
1517	.$110d	JSR NEXT
1518	.$1110	LDA A_REG
1519	.$1113	BNE RBEQ_5
1520	.$1115	JMP (JUMP_TARGET)
1522	.$1118	RBEQ_5:
1524	.$1118	LINE_761:
1526	.$1118	JSR COMPACTMAX
1529	.$111b	JSR REALFACPUSHMC
1531	.$111e	LDA VAR_C$
1532	.$1121	LDY VAR_C$+1
1533	.$1124	STA B_REG
1534	.$1127	STY B_REG+1
1535	.$112a	JSR LEN
1536	.$112d	JSR ONETOFAC
1540	.$1130	LDA #<X_REG
1541	.$1132	LDY #>X_REG
1543	.$1134	JSR FASTFSUBMEM
1547	.$1137	LDA VAR_C$
1548	.$113a	LDY VAR_C$+1
1549	.$113d	STA B_REG
1550	.$1140	STY B_REG+1
1552	.$1143	LDX #<D_REG
1553	.$1145	LDY #>D_REG
1555	.$1147	JSR FACMEM
1556	.$114a	JSR POPREAL
1557	.$114d	LDX #<C_REG
1558	.$114f	LDY #>C_REG
1560	.$1151	JSR FACMEM
1561	.$1154	JSR MID
1562	.$1157	LDA A_REG
1563	.$115a	LDY A_REG+1
1564	.$115d	STA TMP_ZP
1565	.$115f	STY TMP_ZP+1
1566	.$1161	JSR PUSHINT
1567	.$1164	LDA #<CONST_14
1568	.$1166	LDY #>CONST_14
1569	.$1168	STA TMP_ZP
1570	.$116a	STY TMP_ZP+1
1571	.$116c	JSR PUSHINT
1573	.$116f	LDA #<CONST_6R
1574	.$1171	LDY #>CONST_6R
1575	.$1173	JSR COPY2_XYA_CREG
1579	.$1176	LDA VAR_B$
1580	.$1179	LDY VAR_B$+1
1581	.$117c	STA B_REG
1582	.$117f	STY B_REG+1
1583	.$1182	LDY #3
1584	.$1184	JSR MIDCONST
1593	.$1187	JSR POPINT2B
1595	.$118a	JSR CONCAT
1596	.$118d	JSR POPINT2B
1598	.$1190	JSR CONCAT
1600	.$1193	LDA A_REG
1601	.$1196	LDY A_REG+1
1602	.$1199	STA TMP_ZP
1603	.$119b	STY TMP_ZP+1
1604	.$119d	LDA #<VAR_C$
1605	.$119f	LDY #>VAR_C$
1606	.$11a1	JSR COPYSTRING
1607	.$11a4	JMP RETURN
1609	.$11a7	LINE_800:
1611	.$11a7	LDA #<CONST_19
1612	.$11a9	LDY #>CONST_19
1613	.$11ab	STA TMP_ZP
1614	.$11ad	STY TMP_ZP+1
1615	.$11af	LDA #<VAR_C$
1616	.$11b1	LDY #>VAR_C$
1617	.$11b3	JSR COPYSTRING
1620	.$11b6	LINE_802:
1622	.$11b6	LDX #4
1623	.$11b8	dcloop3057_1:
1624	.$11b8	LDA CONST_6R,X
1625	.$11bb	STA VAR_I,X
1626	.$11be	DEX
1627	.$11bf	BPL dcloop3057_1
1629	.$11c1	LDA #<VAR_LA
1630	.$11c3	LDY #>VAR_LA
1631	.$11c5	JSR REALFACPUSH
1635	.$11c8	JSR REALFACPUSHMC
1637	.$11cb	LDA #<VAR_I
1638	.$11cd	LDY #>VAR_I
1639	.$11cf	STA A_REG
1640	.$11d2	STY A_REG+1
1641	.$11d5	LDA #<FORLOOP6
1642	.$11d7	STA JUMP_TARGET
1643	.$11d9	LDA #>FORLOOP6
1644	.$11db	STA JUMP_TARGET+1
1645	.$11dd	JSR INITFOR
1646	.$11e0	FORLOOP6:
1648	.$11e0	LINE_803:
1650	.$11e0	JSR COMPACTMAX
1651	.$11e3	LDA #<CONST_14
1652	.$11e5	LDY #>CONST_14
1653	.$11e7	STA TMP_ZP
1654	.$11e9	STY TMP_ZP+1
1655	.$11eb	JSR PUSHINT
1657	.$11ee	LDA #<VAR_I
1658	.$11f0	LDY #>VAR_I
1659	.$11f2	JSR COPY2_XYA_CREG
1664	.$11f5	LDA VAR_A$
1665	.$11f8	LDY VAR_A$+1
1666	.$11fb	STA B_REG
1667	.$11fe	STY B_REG+1
1668	.$1201	JSR CHARAT
1669	.$1204	JSR POPINT2B
1672	.$1207	JSR SEQ
1673	.$120a	LDA X_REG
1674	.$120c	COMP_SKP23:
1675	.$120c	BEQ LINE_SKIP22
1678	.$120e	LINE_NSKIP22:
1680	.$120e	JSR ONETOFAC
1682	.$1211	LDA #<VAR_I
1683	.$1213	LDY #>VAR_I
1684	.$1215	JSR FASTFADDMEM
1689	.$1218	LDX #<VAR_DO
1690	.$121a	LDY #>VAR_DO
1692	.$121c	JSR FACMEM
1694	.$121f	LINE_SKIP22:
1697	.$121f	LINE_804:
1699	.$121f	LDA #<VAR_I
1700	.$1221	LDY #>VAR_I
1701	.$1223	STA A_REG
1702	.$1226	STY A_REG+1
1703	.$1229	JSR NEXT
1704	.$122c	LDA A_REG
1705	.$122f	BNE RBEQ_6
1706	.$1231	JMP (JUMP_TARGET)
1708	.$1234	RBEQ_6:
1710	.$1234	LINE_805:
1712	.$1234	LDA VAR_DO
1713	.$1237	COMP_SKP25:
1714	.$1237	BEQ LINE_SKIP23
1718	.$1239	LINE_NSKIP23:
1720	.$1239	JMP LINE_810
1722	.$123c	LINE_SKIP23:
1725	.$123c	LINE_806:
1727	.$123c	JSR COMPACTMAX
1728	.$123f	LDA #<CONST_7R
1729	.$1241	LDY #>CONST_7R
1730	.$1243	JSR REALFACPUSH
1732	.$1246	LDA #<CONST_7R
1733	.$1248	LDY #>CONST_7R
1734	.$124a	JSR REALFAC
1735	.$124d	LDA #<VAR_EZ
1736	.$124f	LDY #>VAR_EZ
1737	.$1251	JSR FASTFSUBMEM
1742	.$1254	LDA VAR_A$
1743	.$1257	LDY VAR_A$+1
1744	.$125a	STA B_REG
1745	.$125d	STY B_REG+1
1747	.$1260	LDX #<D_REG
1748	.$1262	LDY #>D_REG
1750	.$1264	JSR FACMEM
1751	.$1267	JSR POPREAL
1752	.$126a	LDX #<C_REG
1753	.$126c	LDY #>C_REG
1755	.$126e	JSR FACMEM
1756	.$1271	JSR MID
1758	.$1274	LDA A_REG
1759	.$1277	LDY A_REG+1
1760	.$127a	STA TMP_ZP
1761	.$127c	STY TMP_ZP+1
1762	.$127e	LDA #<VAR_S1$
1763	.$1280	LDY #>VAR_S1$
1764	.$1282	JSR COPYSTRING
1766	.$1285	LINE_807:
1768	.$1285	LDX #4
1769	.$1287	dcloop3389_1:
1770	.$1287	LDA CONST_6R,X
1771	.$128a	STA VAR_I,X
1772	.$128d	DEX
1773	.$128e	BPL dcloop3389_1
1775	.$1290	JSR ONETOFAC
1777	.$1293	LDA #<VAR_Z
1778	.$1295	LDY #>VAR_Z
1779	.$1297	JSR FASTFSUBMEM
1784	.$129a	JSR PUSHREAL
1787	.$129d	JSR REALFACPUSHMC
1789	.$12a0	LDA #<VAR_I
1790	.$12a2	LDY #>VAR_I
1791	.$12a4	STA A_REG
1792	.$12a7	STY A_REG+1
1793	.$12aa	LDA #<FORLOOP7
1794	.$12ac	STA JUMP_TARGET
1795	.$12ae	LDA #>FORLOOP7
1796	.$12b0	STA JUMP_TARGET+1
1797	.$12b2	JSR INITFOR
1798	.$12b5	FORLOOP7:
1799	.$12b5	JSR COMPACTMAX
1800	.$12b8	LDA #<CONST_15
1801	.$12ba	LDY #>CONST_15
1802	.$12bc	STA B_REG
1803	.$12bf	STY B_REG+1
1804	.$12c2	LDA VAR_S2$
1805	.$12c5	LDY VAR_S2$+1
1806	.$12c8	STA A_REG
1807	.$12cb	STY A_REG+1
1808	.$12ce	JSR CONCAT
1810	.$12d1	LDA A_REG
1811	.$12d4	LDY A_REG+1
1812	.$12d7	STA TMP_ZP
1813	.$12d9	STY TMP_ZP+1
1814	.$12db	LDA #<VAR_S2$
1815	.$12dd	LDY #>VAR_S2$
1816	.$12df	JSR COPYSTRING
1817	.$12e2	LDA #<VAR_I
1818	.$12e4	LDY #>VAR_I
1819	.$12e6	STA A_REG
1820	.$12e9	STY A_REG+1
1821	.$12ec	JSR NEXT
1822	.$12ef	LDA A_REG
1823	.$12f2	BNE RBEQ_7
1824	.$12f4	JMP (JUMP_TARGET)
1826	.$12f7	RBEQ_7:
1828	.$12f7	LINE_808:
1830	.$12f7	JSR COMPACTMAX
1831	.$12fa	LDA VAR_S2$
1832	.$12fd	LDY VAR_S2$+1
1833	.$1300	STA B_REG
1834	.$1303	STY B_REG+1
1835	.$1306	LDA VAR_C$
1836	.$1309	LDY VAR_C$+1
1837	.$130c	STA A_REG
1838	.$130f	STY A_REG+1
1839	.$1312	JSR CONCAT
1840	.$1315	LDA VAR_S1$
1841	.$1318	LDY VAR_S1$+1
1842	.$131b	STA B_REG
1843	.$131e	STY B_REG+1
1844	.$1321	JSR CONCAT
1846	.$1324	LDA A_REG
1847	.$1327	LDY A_REG+1
1848	.$132a	STA TMP_ZP
1849	.$132c	STY TMP_ZP+1
1850	.$132e	LDA #<VAR_C$
1851	.$1330	LDY #>VAR_C$
1852	.$1332	JSR COPYSTRING
1853	.$1335	JMP RETURN
1855	.$1338	LINE_810:
1857	.$1338	JSR COMPACTMAX
1858	.$133b	LDA #<VAR_DO
1859	.$133d	LDY #>VAR_DO
1860	.$133f	JSR COPY2_XYA_CREG
1863	.$1342	TXA
1864	.$1343	LDY #>C_REG
1867	.$1345	JSR REALFACPUSH
1869	.$1348	LDA #<CONST_18R
1870	.$134a	LDY #>CONST_18R
1871	.$134c	JSR REALFAC
1872	.$134f	LDA #<VAR_EZ
1873	.$1351	LDY #>VAR_EZ
1874	.$1353	JSR FASTFSUBMEM
1879	.$1356	LDA VAR_A$
1880	.$1359	LDY VAR_A$+1
1881	.$135c	STA B_REG
1882	.$135f	STY B_REG+1
1884	.$1362	LDX #<D_REG
1885	.$1364	LDY #>D_REG
1887	.$1366	JSR FACMEM
1888	.$1369	JSR POPREAL
1889	.$136c	LDX #<C_REG
1890	.$136e	LDY #>C_REG
1892	.$1370	JSR FACMEM
1893	.$1373	JSR MID
1894	.$1376	LDA A_REG
1895	.$1379	LDY A_REG+1
1896	.$137c	STA TMP_ZP
1897	.$137e	STY TMP_ZP+1
1898	.$1380	JSR PUSHINT
1900	.$1383	LDA #<CONST_7R
1901	.$1385	LDY #>CONST_7R
1902	.$1387	JSR REALFACPUSH
1904	.$138a	LDA #<CONST_17R
1905	.$138c	LDY #>CONST_17R
1906	.$138e	JSR REALFAC
1907	.$1391	LDA #<VAR_DO
1908	.$1393	LDY #>VAR_DO
1909	.$1395	JSR FASTFSUBMEM
1914	.$1398	LDA VAR_A$
1915	.$139b	LDY VAR_A$+1
1916	.$139e	STA B_REG
1917	.$13a1	STY B_REG+1
1919	.$13a4	LDX #<D_REG
1920	.$13a6	LDY #>D_REG
1922	.$13a8	JSR FACMEM
1923	.$13ab	JSR POPREAL
1924	.$13ae	LDX #<C_REG
1925	.$13b0	LDY #>C_REG
1927	.$13b2	JSR FACMEM
1928	.$13b5	JSR MID
1929	.$13b8	JSR POPINT2B
1931	.$13bb	JSR CONCAT
1933	.$13be	LDA A_REG
1934	.$13c1	LDY A_REG+1
1935	.$13c4	STA TMP_ZP
1936	.$13c6	STY TMP_ZP+1
1937	.$13c8	LDA #<VAR_S1$
1938	.$13ca	LDY #>VAR_S1$
1939	.$13cc	JSR COPYSTRING
1941	.$13cf	LINE_811:
1943	.$13cf	LDX #4
1944	.$13d1	dcloop3721_1:
1945	.$13d1	LDA CONST_6R,X
1946	.$13d4	STA VAR_I,X
1947	.$13d7	DEX
1948	.$13d8	BPL dcloop3721_1
1950	.$13da	JSR ONETOFAC
1952	.$13dd	LDA #<VAR_Z
1953	.$13df	LDY #>VAR_Z
1954	.$13e1	JSR FASTFSUBMEM
1959	.$13e4	JSR PUSHREAL
1962	.$13e7	JSR REALFACPUSHMC
1964	.$13ea	LDA #<VAR_I
1965	.$13ec	LDY #>VAR_I
1966	.$13ee	STA A_REG
1967	.$13f1	STY A_REG+1
1968	.$13f4	LDA #<FORLOOP8
1969	.$13f6	STA JUMP_TARGET
1970	.$13f8	LDA #>FORLOOP8
1971	.$13fa	STA JUMP_TARGET+1
1972	.$13fc	JSR INITFOR
1973	.$13ff	FORLOOP8:
1974	.$13ff	JSR COMPACTMAX
1975	.$1402	LDA #<CONST_15
1976	.$1404	LDY #>CONST_15
1977	.$1406	STA B_REG
1978	.$1409	STY B_REG+1
1979	.$140c	LDA VAR_S2$
1980	.$140f	LDY VAR_S2$+1
1981	.$1412	STA A_REG
1982	.$1415	STY A_REG+1
1983	.$1418	JSR CONCAT
1985	.$141b	LDA A_REG
1986	.$141e	LDY A_REG+1
1987	.$1421	STA TMP_ZP
1988	.$1423	STY TMP_ZP+1
1989	.$1425	LDA #<VAR_S2$
1990	.$1427	LDY #>VAR_S2$
1991	.$1429	JSR COPYSTRING
1992	.$142c	LDA #<VAR_I
1993	.$142e	LDY #>VAR_I
1994	.$1430	STA A_REG
1995	.$1433	STY A_REG+1
1996	.$1436	JSR NEXT
1997	.$1439	LDA A_REG
1998	.$143c	BNE RBEQ_8
1999	.$143e	JMP (JUMP_TARGET)
2001	.$1441	RBEQ_8:
2003	.$1441	LINE_812:
2005	.$1441	JSR COMPACTMAX
2006	.$1444	LDA VAR_S2$
2007	.$1447	LDY VAR_S2$+1
2008	.$144a	STA B_REG
2009	.$144d	STY B_REG+1
2010	.$1450	LDA VAR_C$
2011	.$1453	LDY VAR_C$+1
2012	.$1456	STA A_REG
2013	.$1459	STY A_REG+1
2014	.$145c	JSR CONCAT
2015	.$145f	LDA VAR_S1$
2016	.$1462	LDY VAR_S1$+1
2017	.$1465	STA B_REG
2018	.$1468	STY B_REG+1
2019	.$146b	JSR CONCAT
2021	.$146e	LDA A_REG
2022	.$1471	LDY A_REG+1
2023	.$1474	STA TMP_ZP
2024	.$1476	STY TMP_ZP+1
2025	.$1478	LDA #<VAR_C$
2026	.$147a	LDY #>VAR_C$
2027	.$147c	JSR COPYSTRING
2029	.$147f	LINE_1000:
2031	.$147f	LDA VAR_B$
2032	.$1482	LDY VAR_B$+1
2033	.$1485	STA B_REG
2034	.$1488	STY B_REG+1
2035	.$148b	JSR LEN
2036	.$148e	JSR ONETOFAC
2040	.$1491	LDA #<X_REG
2041	.$1493	LDY #>X_REG
2043	.$1495	JSR FASTFSUBMEM
2047	.$1498	LDX #<VAR_LB
2048	.$149a	LDY #>VAR_LB
2050	.$149c	JSR FACMEM
2052	.$149f	LINE_1001:
2054	.$149f	LDA #<CONST_17R
2055	.$14a1	LDY #>CONST_17R
2056	.$14a3	JSR REALFAC
2057	.$14a6	LDA #<VAR_LB
2058	.$14a8	LDY #>VAR_LB
2059	.$14aa	JSR FACDIV
2065	.$14ad	JSR BASINT
2066	.$14b0	JSR FACXREG
2067	.$14b3	LDY #1
2068	.$14b5	STY A_REG
2070	.$14b8	JSR SHL
2073	.$14bb	LDA #<X_REG
2074	.$14bd	LDY #>X_REG
2076	.$14bf	JSR FASTFADDMEM
2080	.$14c2	LDA #<VAR_LB
2081	.$14c4	LDY #>VAR_LB
2082	.$14c6	JSR COPY2_XYA_XREG
2085	.$14c9	LDA #<X_REG
2086	.$14cb	LDY #>X_REG
2088	.$14cd	JSR FASTFSUBMEM
2092	.$14d0	LDX #<VAR_MO
2093	.$14d2	LDY #>VAR_MO
2095	.$14d4	JSR FACMEM
2097	.$14d7	LINE_1002:
2099	.$14d7	JMP RETURN
2100	.$14da	JSR END
2101	.$14dd	RTS
2104	.$14de	END   LDX SP_SAVE
2105	.$14e1	TXS
2112	.$14e2	RTS
2115	.$14e3	START  LDA ENDSTRBUF+1
2116	.$14e6	BNE ENDGIVEN
2117	.$14e8	LDA BASICEND
2118	.$14ea	STA ENDSTRBUF
2119	.$14ed	LDA BASICEND+1
2120	.$14ef	STA ENDSTRBUF+1
2121	.$14f2	ENDGIVEN LDA #<FPSTACK
2122	.$14f4	LDY #>FPSTACK
2123	.$14f6	STA FPSTACKP
2124	.$14f9	STY FPSTACKP+1
2125	.$14fc	LDA #<FORSTACK
2126	.$14fe	LDY #>FORSTACK
2127	.$1500	STA FORSTACKP
2128	.$1503	STY FORSTACKP+1
2129	.$1506	LDA #<STRBUF
2130	.$1508	LDY #>STRBUF
2131	.$150a	STA STRBUFP
2132	.$150d	STY STRBUFP+1
2133	.$1510	STA HIGHP
2134	.$1513	STY HIGHP+1
2135	.$1516	LDA #0
2136	.$1518	STA CHLOCKFLAG
2137	.$151b	STA LASTVAR
2138	.$151e	STA LASTVAR+1
2139	.$1521	JSR INITVARS
2140	.$1524	LDA #0
2141	.$1526	STA CMD_NUM
2142	.$1529	STA CHANNEL
2143	.$152c	TAY
2144	.$152d	TAX
2148	.$152e	STA KEYNDX
2154	.$1530	JSR RESTORE
2155	.$1533	CLC
2159	.$1534	RTS
2162	.$1535	INITNARRAY
2163	.$1535	STA TMP_ZP
2164	.$1537	STY TMP_ZP+1
2165	.$1539	LDY #0
2166	.$153b	TYA
2167	.$153c	NINITLOOP STA (TMP_ZP),Y
2168	.$153e	INC TMP_ZP
2169	.$1540	BNE NLOOPNOV
2170	.$1542	INC TMP_ZP+1
2171	.$1544	NLOOPNOV LDX TMP2_ZP
2172	.$1546	BNE NLOOPNOV2
2173	.$1548	DEC TMP2_ZP+1
2174	.$154a	NLOOPNOV2 DEC TMP2_ZP
2175	.$154c	BNE NINITLOOP
2176	.$154e	LDX TMP2_ZP+1
2177	.$1550	BNE NINITLOOP
2178	.$1552	RTS
2181	.$1553	INITSTRARRAY
2182	.$1553	STA TMP_ZP
2183	.$1555	STY TMP_ZP+1
2184	.$1557	SINITLOOP LDY #0
2185	.$1559	LDA #<EMPTYSTR
2186	.$155b	STA (TMP_ZP),Y
2187	.$155d	LDA #>EMPTYSTR
2188	.$155f	INY
2189	.$1560	STA (TMP_ZP),Y
2190	.$1562	CLC
2191	.$1563	LDA TMP_ZP
2192	.$1565	ADC #2
2193	.$1567	STA TMP_ZP
2194	.$1569	BCC SLOOPNOV1
2195	.$156b	INC TMP_ZP+1
2196	.$156d	SLOOPNOV1 SEC
2197	.$156e	LDA TMP2_ZP
2198	.$1570	SBC #2
2199	.$1572	STA TMP2_ZP
2200	.$1574	BCS SLOOPNOV2
2201	.$1576	DEC TMP2_ZP+1
2202	.$1578	SLOOPNOV2 LDA TMP2_ZP
2203	.$157a	BNE SINITLOOP
2204	.$157c	LDA TMP2_ZP+1
2205	.$157e	BNE SINITLOOP
2206	.$1580	RTS
2209	.$1581	INITSPARAMS STA TMP3_ZP
2210	.$1583	STY TMP3_ZP+1
2211	.$1585	SEC
2212	.$1586	SBC #2
2213	.$1588	STA TMP_ZP
2214	.$158a	TYA
2215	.$158b	SBC #0
2216	.$158d	STA TMP_ZP+1
2217	.$158f	LDY #0
2218	.$1591	LDA (TMP_ZP),Y
2219	.$1593	STA TMP2_ZP
2220	.$1595	INY
2221	.$1596	LDA (TMP_ZP),Y
2222	.$1598	STA TMP2_ZP+1
2223	.$159a	LDA TMP3_ZP
2224	.$159c	LDY TMP3_ZP+1
2225	.$159e	RTS
2228	.$159f	INITSTRVARS LDA #<STRINGVARS_START  
2229	.$15a1	LDY #>STRINGVARS_START
2230	.$15a3	CMP #<STRINGVARS_END
2231	.$15a5	BNE INITIT1
2232	.$15a7	CPY #>STRINGVARS_END
2233	.$15a9	BNE INITIT1
2234	.$15ab	JMP INITSA2     
2235	.$15ae	INITIT1  STA TMP_ZP
2236	.$15b0	STY TMP_ZP+1
2237	.$15b2	LDY #0
2238	.$15b4	INITSTRLOOP LDA #<EMPTYSTR
2239	.$15b6	STA (TMP_ZP),Y
2240	.$15b8	INY
2241	.$15b9	LDA #>EMPTYSTR
2242	.$15bb	STA (TMP_ZP),Y
2243	.$15bd	DEY
2244	.$15be	LDA TMP_ZP
2245	.$15c0	CLC
2246	.$15c1	ADC #2
2247	.$15c3	STA TMP_ZP
2248	.$15c5	LDA TMP_ZP+1
2249	.$15c7	ADC #0
2250	.$15c9	STA TMP_ZP+1
2251	.$15cb	CMP #>STRINGVARS_END
2252	.$15cd	BNE INITSTRLOOP
2253	.$15cf	LDA TMP_ZP
2254	.$15d1	CMP #<STRINGVARS_END
2255	.$15d3	BNE INITSTRLOOP
2256	.$15d5	INITSA2  LDA #<STRINGARRAYS_START 
2257	.$15d7	LDY #>STRINGARRAYS_START
2258	.$15d9	CMP #<STRINGARRAYS_END
2259	.$15db	BNE ARRAYLOOP
2260	.$15dd	CPY #>STRINGARRAYS_END
2261	.$15df	BNE ARRAYLOOP
2262	.$15e1	RTS       
2263	.$15e2	ARRAYLOOP CLC
2264	.$15e3	ADC #3
2265	.$15e5	BCC ARRAYSKIP1
2266	.$15e7	INY
2267	.$15e8	ARRAYSKIP1 CPY #>STRINGARRAYS_END
2268	.$15ea	BEQ ARRAYSC
2269	.$15ec	BCC ARRAYSKIP2
2270	.$15ee	JMP ARRAYQUIT
2271	.$15f1	ARRAYSC  CMP #<STRINGARRAYS_END
2272	.$15f3	BCS ARRAYQUIT
2273	.$15f5	ARRAYSKIP2 STA TMP_REG
2274	.$15f7	STY TMP_REG+1
2275	.$15f9	JSR INITSPARAMS
2276	.$15fc	LDA TMP_REG
2277	.$15fe	LDY TMP_REG+1
2278	.$1600	JSR INITSTRARRAY
2279	.$1603	LDA TMP_ZP
2280	.$1605	LDY TMP_ZP+1
2281	.$1607	JMP ARRAYLOOP
2282	.$160a	ARRAYQUIT RTS
2285	.$160b	RESTORE  LDA #<DATAS
2286	.$160d	LDY #>DATAS
2287	.$160f	STA DATASP
2288	.$1612	STY DATASP+1
2289	.$1615	RTS
2292	.$1616	MID   LDA #<D_REG
2293	.$1618	LDY #>D_REG
2294	.$161a	JSR REALFAC
2295	.$161d	JSR SGNFAC
2296	.$1620	ROL
2297	.$1621	BCC MIDLENGTH  
2298	.$1623	MIDNEGC  JSR STRFUNCINT  
2299	.$1626	LDA TMP_REG   
2300	.$1628	STA TMP_REG+1
2301	.$162a	BNE MIDOK2
2302	.$162c	JMP ILLEGALQUANTITY 
2303	.$162f	MIDOK2  DEC TMP_REG+1  
2304	.$1631	LDA (TMP_ZP),Y
2305	.$1633	SEC
2306	.$1634	SBC TMP_REG+1
2307	.$1636	STA TMP_REG   
2308	.$1638	BCS MIDNOV2
2309	.$163a	STY TMP_REG   
2310	.$163c	JMP MIDNOV2
2311	.$163f	MIDLENGTH JSR FACWORD
2312	.$1642	MIDCONST STY TMP2_REG  
2313	.$1645	JSR STRFUNCINT
2314	.$1648	LDA TMP_REG   
2315	.$164a	BNE MIDOK
2316	.$164c	JMP ILLEGALQUANTITY 
2317	.$164f	MIDOK  LDX TMP2_REG
2318	.$1652	STX TMP_REG   
2319	.$1654	STA TMP_REG+1
2320	.$1656	DEC TMP_REG+1  
2321	.$1658	MIDNOV
2322	.$1658	MIDNOV2  LDA TMP_REG+1  
2323	.$165a	CLC
2324	.$165b	ADC TMP_REG   
2325	.$165d	BCS MIDCLAMP
2326	.$165f	CMP (TMP_ZP),Y
2327	.$1661	BCS MIDCLAMP
2328	.$1663	MIDCOPY  JMP STRFUNC
2329	.$1666	MIDCLAMP LDA (TMP_ZP),Y  
2330	.$1668	SEC
2331	.$1669	SBC TMP_REG+1
2332	.$166b	STA TMP_REG
2333	.$166d	BCS MIDCOPY
2334	.$166f	STY TMP_REG
2335	.$1671	JMP MIDCOPY
2338	.$1674	CHARAT  JSR STRFUNCINT
2339	.$1677	LDA TMP_REG
2340	.$1679	BNE CHARATOK
2341	.$167b	JMP ILLEGALQUANTITY 
2342	.$167e	CHARATOK LDY #0
2343	.$1680	LDA (TMP_ZP),Y
2344	.$1682	STA TMP_REG+1  
2345	.$1684	LDX TMP_REG
2346	.$1686	CPX TMP_REG+1
2347	.$1688	BEQ CHARATOK3
2348	.$168a	BCC CHARATOK3
2349	.$168c	JMP CHARATOOR
2350	.$168f	CHARATOK3
2351	.$168f	CLC
2352	.$1690	LDA TMP_ZP
2353	.$1692	ADC TMP_REG
2354	.$1694	STA TMP_ZP
2355	.$1696	BCC CHARATOK2
2356	.$1698	INC TMP_ZP+1
2357	.$169a	CHARATOK2 LDY #0
2358	.$169c	LDA (TMP_ZP),Y
2359	.$169e	STA CHARSTORE+1
2360	.$16a1	LDA #<CHARSTORE
2361	.$16a3	STA A_REG
2362	.$16a6	LDA #>CHARSTORE
2363	.$16a8	STA A_REG+1
2364	.$16ab	RTS
2365	.$16ac	CHARATOOR LDA #<EMPTYSTR
2366	.$16ae	STA A_REG
2367	.$16b1	LDA #>EMPTYSTR
2368	.$16b3	STA A_REG+1
2369	.$16b6	RTS
2370	.$16b7	CHARSTORE .WORD 1
2373	.$16b9	STRFUNCINT  LDA B_REG   
2374	.$16bc	STA TMP_ZP
2375	.$16be	LDA B_REG+1
2376	.$16c1	STA TMP_ZP+1
2377	.$16c3	LDA #<C_REG
2378	.$16c5	LDY #>C_REG
2379	.$16c7	JSR REALFAC
2380	.$16ca	JSR FACWORD
2381	.$16cd	STY TMP_REG   
2382	.$16cf	LDY #0
2383	.$16d1	RTS
2390	.$16d2	STRFUNC  LDA TMP_REG+1
2391	.$16d4	BEQ STARTATZERO
2392	.$16d6	LDA TMP_ZP
2393	.$16d8	CLC
2394	.$16d9	ADC TMP_REG+1
2395	.$16db	STA TMP_ZP
2396	.$16dd	BCC STARTATZERO
2397	.$16df	INC TMP_ZP+1
2398	.$16e1	STARTATZERO LDY #0
2399	.$16e3	LDA (TMP_ZP),Y
2400	.$16e5	PHA     
2401	.$16e6	LDA TMP_REG
2402	.$16e8	BNE STRFUNCNZ
2403	.$16ea	LDA #<EMPTYSTR
2404	.$16ec	STA A_REG
2405	.$16ef	LDA #>EMPTYSTR
2406	.$16f1	STA A_REG+1
2407	.$16f4	PLA     
2410	.$16f5	JMP EXITSTRFUNC
2411	.$16f8	STRFUNCNZ STA (TMP_ZP),Y
2412	.$16fa	LDA #<A_REG
2413	.$16fc	LDY #>A_REG
2414	.$16fe	STA TMP2_ZP
2415	.$1700	STY TMP2_ZP+1
2416	.$1702	LDX TMP_REG   
2417	.$1704	JSR COPYONLY
2418	.$1707	PLA
2419	.$1708	LDY #0
2420	.$170a	STA (TMP_ZP),Y  
2421	.$170c	EXITSTRFUNC RTS
2424	.$170d	CONCAT  LDA A_REG
2425	.$1710	STA TMP_ZP
2426	.$1712	LDA A_REG+1
2427	.$1715	STA TMP_ZP+1
2428	.$1717	LDA STRBUFP  
2429	.$171a	STA A_REG
2430	.$171d	STA TMP3_ZP
2431	.$171f	LDA STRBUFP+1
2432	.$1722	STA A_REG+1
2433	.$1725	STA TMP3_ZP+1
2434	.$1727	LDY #0
2435	.$1729	LDA (TMP_ZP),Y
2436	.$172b	TAX
2437	.$172c	LDA B_REG
2438	.$172f	STA TMP2_ZP
2439	.$1731	LDA B_REG+1
2440	.$1734	STA TMP2_ZP+1
2441	.$1736	TXA
2442	.$1737	CLC
2443	.$1738	ADC (TMP2_ZP),Y
2444	.$173a	BCC CCSTRFITS
2445	.$173c	JMP STRINGTOOLONG
2446	.$173f	CCSTRFITS STA (TMP3_ZP),Y
2447	.$1741	INC TMP3_ZP
2448	.$1743	BNE CCNOOV2
2449	.$1745	INC TMP3_ZP+1
2450	.$1747	CCNOOV2  CLC
2451	.$1748	ADC STRBUFP
2452	.$174b	PHP
2453	.$174c	CLC
2454	.$174d	ADC #3
2455	.$174f	STA STRBUFP
2456	.$1752	BCC CCNOCS1
2457	.$1754	INC STRBUFP+1
2458	.$1757	CCNOCS1  PLP
2459	.$1758	BCC CCSTRFITS2
2460	.$175a	INC STRBUFP+1
2461	.$175d	CCSTRFITS2 JSR COPY2CONCAT  
2462	.$1760	LDA B_REG   
2463	.$1763	STA TMP_ZP
2464	.$1765	LDA B_REG+1
2465	.$1768	STA TMP_ZP+1
2466	.$176a	JMP COPY2CONCAT  
2469	.$176d	COPY2CONCAT LDY #0
2470	.$176f	LDA (TMP_ZP),Y
2471	.$1771	BEQ NOC2C   
2472	.$1773	STA TMP2_ZP
2473	.$1775	INC TMP_ZP
2474	.$1777	BNE COPY2LOOP
2475	.$1779	INC TMP_ZP+1
2476	.$177b	COPY2LOOP LDA (TMP_ZP),Y
2477	.$177d	STA (TMP3_ZP),Y
2478	.$177f	INY
2479	.$1780	CPY TMP2_ZP
2480	.$1782	BNE COPY2LOOP
2481	.$1784	TYA
2482	.$1785	CLC
2483	.$1786	ADC TMP3_ZP   
2484	.$1788	STA TMP3_ZP
2485	.$178a	BCC NOC2C
2486	.$178c	INC TMP3_ZP+1
2487	.$178e	NOC2C  RTS
2490	.$178f	STR   JSR YREGFAC
2491	.$1792	STRINT  LDY #1
2492	.$1794	JSR FACSTR
2493	.$1797	LDY #0
2494	.$1799	STY TMP_ZP+1
2495	.$179b	LDA #LOFBUF
2496	.$179d	STA TMP_ZP
2497	.$179f	DEY
2498	.$17a0	STRLOOP  INY
2499	.$17a1	LDA LOFBUFH,Y
2500	.$17a4	BNE STRLOOP
2501	.$17a6	STY LOFBUF
2502	.$17a8	TYA
2503	.$17a9	TAX   
2504	.$17aa	LDA #<A_REG
2505	.$17ac	LDY #>A_REG
2506	.$17ae	STA TMP2_ZP
2507	.$17b0	STY TMP2_ZP+1
2508	.$17b2	JMP COPYONLY
2511	.$17b5	VAL   LDA B_REG
2512	.$17b8	STA INDEX1
2513	.$17ba	LDA B_REG+1
2514	.$17bd	STA INDEX1+1
2515	.$17bf	LDY #0
2516	.$17c1	STY VALTYPE
2517	.$17c3	LDA (INDEX1),Y
2518	.$17c5	BNE DOACVAL
2519	.$17c7	JMP ZEROSET
2520	.$17ca	DOACVAL  TAY
2521	.$17cb	INC INDEX1
2522	.$17cd	BNE VALSTR
2523	.$17cf	INC INDEX1+1
2524	.$17d1	VALSTR  JSR VALS
2525	.$17d4	JMP FACXREG 
2528	.$17d7	LEN   LDA B_REG
2529	.$17da	STA TMP_ZP
2530	.$17dc	LDA B_REG+1
2531	.$17df	STA TMP_ZP+1
2532	.$17e1	LDY #0
2533	.$17e3	LDA (TMP_ZP),Y
2534	.$17e5	STA TMP2_ZP  
2535	.$17e7	BEQ ZEROLEN
2536	.$17e9	TAY
2537	.$17ea	LDA #0
2538	.$17ec	JSR INTFAC
2539	.$17ef	JMP FACXREG 
2540	.$17f2	ZEROLEN  JMP ZEROSET
2543	.$17f5	SAVEPOINTERS
2544	.$17f5	LDA TMP_ZP   
2545	.$17f7	STA STORE1
2546	.$17fa	LDA TMP_ZP+1
2547	.$17fc	STA STORE1+1
2548	.$17ff	LDA TMP2_ZP
2549	.$1801	STA STORE2
2550	.$1804	LDA TMP2_ZP+1
2551	.$1806	STA STORE2+1
2552	.$1809	LDA TMP3_ZP
2553	.$180b	STA STORE3
2554	.$180e	LDA TMP3_ZP+1
2555	.$1810	STA STORE3+1
2556	.$1813	RTS
2559	.$1814	RESTOREPOINTERS
2560	.$1814	LDA STORE3+1  
2561	.$1817	STA TMP3_ZP+1
2562	.$1819	LDA STORE3
2563	.$181c	STA TMP3_ZP
2564	.$181e	LDA STORE2+1
2565	.$1821	STA TMP2_ZP+1
2566	.$1823	LDA STORE2
2567	.$1826	STA TMP2_ZP
2568	.$1828	LDA STORE1+1
2569	.$182b	STA TMP_ZP+1
2570	.$182d	LDA STORE1
2571	.$1830	STA TMP_ZP
2572	.$1832	RTS
2579	.$1833	COMPACTMAX
2580	.$1833	LDA #$FF
2581	.$1835	LDY #$0
2582	.$1837	JMP COMPACTF
2585	.$183a	COMPACT
2586	.$183a	LDY #0
2587	.$183c	GCBUFNE  LDA (TMP_ZP),Y  
2588	.$183e	COMPACTF STA TMP4_REG  
2589	.$1841	LDY STRBUFP+1  
2590	.$1844	STY TMP4_REG+1  
2591	.$1847	INY     
2592	.$1848	BEQ ENDMEM   
2593	.$184a	CPY ENDSTRBUF+1  
2594	.$184d	BCC RGCEXIT   
2595	.$184f	ENDMEM  LDA STRBUFP
2596	.$1852	CLC
2597	.$1853	ADC TMP4_REG
2598	.$1856	STA TMP4_REG
2599	.$1859	BCC RGCNOOV1
2600	.$185b	INC TMP4_REG+1
2601	.$185e	RGCNOOV1 CLC
2602	.$185f	LDA TMP4_REG
2603	.$1862	ADC #3
2604	.$1864	STA TMP4_REG
2605	.$1867	BCC RGCNOOV2
2606	.$1869	INC TMP4_REG+1
2607	.$186c	RGCNOOV2 LDA TMP4_REG+1  
2608	.$186f	CMP ENDSTRBUF+1
2609	.$1872	BEQ RGCLOW1
2610	.$1874	BCS GCEXECOMP  
2611	.$1876	JMP RGCEXIT
2612	.$1879	RGCLOW1  LDA TMP4_REG
2613	.$187c	CMP ENDSTRBUF
2614	.$187f	BCS GCEXECOMP  
2615	.$1881	RGCEXIT  RTS     
2616	.$1882	GCEXECOMP LDA STRBUFP
2617	.$1885	STA STORE4
2618	.$1888	LDA STRBUFP+1
2619	.$188b	STA STORE4+1
2620	.$188e	JSR GCEXE
2621	.$1891	JMP CHECKMEMORY
2624	.$1894	GCEXE  JSR SAVEPOINTERS
2625	.$1897	LDA #0
2626	.$1899	STA LASTVAR
2627	.$189c	STA LASTVAR+1  
2628	.$189f	LDA #<STRBUF
2629	.$18a1	STA TMP_ZP
2630	.$18a3	STA GCSTART
2631	.$18a6	LDA #>STRBUF
2632	.$18a8	STA TMP_ZP+1  
2633	.$18aa	STA GCSTART+1
2634	.$18ad	GCLOOP  LDY #0
2635	.$18af	LDA TMP_ZP
2636	.$18b1	STA GCWORK
2637	.$18b4	LDA TMP_ZP+1
2638	.$18b6	STA GCWORK+1  
2639	.$18b9	LDA (TMP_ZP),Y
2640	.$18bb	STA GCLEN   
2641	.$18be	INC TMP_ZP
2642	.$18c0	BNE GCLOOPNOOV
2643	.$18c2	INC TMP_ZP+1
2644	.$18c4	GCLOOPNOOV LDA TMP_ZP
2645	.$18c6	CLC
2646	.$18c7	ADC GCLEN
2647	.$18ca	STA TMP_ZP
2648	.$18cc	BCC GCLOOPNOOV2
2649	.$18ce	INC TMP_ZP+1  
2650	.$18d0	GCLOOPNOOV2 LDY #0
2651	.$18d2	LDA (TMP_ZP),Y
2652	.$18d4	STA TMP2_ZP
2653	.$18d6	INY
2654	.$18d7	LDA (TMP_ZP),Y
2655	.$18d9	STA TMP2_ZP+1  
2656	.$18db	LDA TMP_ZP
2657	.$18dd	CLC
2658	.$18de	ADC #2
2659	.$18e0	STA TMP_ZP
2660	.$18e2	BCC GCLOOPNOOV3
2661	.$18e4	INC TMP_ZP+1  
2662	.$18e6	GCLOOPNOOV3 LDY #0
2663	.$18e8	LDA (TMP2_ZP),Y
2664	.$18ea	CMP GCWORK
2665	.$18ed	BNE GCKLOOP
2666	.$18ef	INY
2667	.$18f0	LDA (TMP2_ZP),Y
2668	.$18f2	CMP GCWORK+1
2669	.$18f5	BEQ MEMFREE
2670	.$18f7	GCKLOOP  LDA TMP_ZP+1  
2671	.$18f9	CMP HIGHP+1
2672	.$18fc	BEQ GCHECKLOW
2673	.$18fe	BCC GCLOOP
2674	.$1900	JMP GCDONE
2675	.$1903	GCHECKLOW LDA TMP_ZP
2676	.$1905	CMP HIGHP
2677	.$1908	BCS GCDONE
2678	.$190a	JMP GCLOOP
2679	.$190d	MEMFREE  LDA GCSTART   
2680	.$1910	CMP GCWORK   
2681	.$1913	BNE COPYDOWN
2682	.$1915	LDA GCSTART+1
2683	.$1918	CMP GCWORK+1
2684	.$191b	BNE COPYDOWN
2685	.$191d	LDA TMP_ZP   
2686	.$191f	STA GCSTART
2687	.$1922	LDA TMP_ZP+1
2688	.$1924	STA GCSTART+1
2689	.$1927	JMP GCKLOOP   
2690	.$192a	COPYDOWN LDA GCSTART   
2691	.$192d	STA TMP_REG
2692	.$192f	LDA GCSTART+1
2693	.$1932	STA TMP_REG+1  
2694	.$1934	LDA GCWORK
2695	.$1937	STA TMP2_REG
2696	.$193a	LDA GCWORK+1
2697	.$193d	STA TMP2_REG+1  
2698	.$1940	LDA TMP_ZP
2699	.$1942	SEC
2700	.$1943	SBC GCWORK
2701	.$1946	STA TMP3_REG
2702	.$1949	LDA TMP_ZP+1
2703	.$194b	SBC GCWORK+1
2704	.$194e	STA TMP3_REG+1  
2705	.$1951	LDA GCSTART
2706	.$1954	CLC
2707	.$1955	ADC TMP3_REG
2708	.$1958	STA GCSTART
2709	.$195b	LDA GCSTART+1
2710	.$195e	ADC TMP3_REG+1
2711	.$1961	STA GCSTART+1  
2712	.$1964	JSR QUICKCOPY  
2713	.$1967	LDY #0
2714	.$1969	LDA TMP_REG
2715	.$196b	STA (TMP2_ZP),Y
2716	.$196d	INY
2717	.$196e	LDA TMP_REG+1
2718	.$1970	STA (TMP2_ZP),Y  
2719	.$1972	JMP GCKLOOP
2720	.$1975	GCDONE  LDA GCSTART
2721	.$1978	STA HIGHP
2722	.$197b	STA STRBUFP
2723	.$197e	LDA GCSTART+1
2724	.$1981	STA HIGHP+1
2725	.$1984	STA STRBUFP+1  
2726	.$1987	GCSKIP  JSR RESTOREPOINTERS
2727	.$198a	RTS     
2730	.$198b	CHECKMEMORY
2731	.$198b	LDA STRBUFP+1  
2732	.$198e	CMP STORE4+1  
2733	.$1991	BCC STILLFITSCM  
2737	.$1993	BEQ CHECKMEMLOWCM
2738	.$1995	JMP OUTOFMEMORY  
2739	.$1998	CHECKMEMLOWCM
2740	.$1998	LDA STRBUFP   
2741	.$199b	CMP STORE4
2742	.$199e	BCC STILLFITSCM
2743	.$19a0	JMP OUTOFMEMORY  
2744	.$19a3	STILLFITSCM RTS
2747	.$19a4	QUICKCOPY LDA TMP_REG  
2748	.$19a6	STA TMEM+1
2749	.$19a9	LDA TMP_REG+1
2750	.$19ab	STA TMEM+2
2751	.$19ae	LDA TMP2_REG
2752	.$19b1	STA SMEM+1
2753	.$19b4	LDA TMP2_REG+1
2754	.$19b7	STA SMEM+2
2755	.$19ba	LDY #$0
2756	.$19bc	LDX TMP3_REG
2757	.$19bf	BNE QCLOOP
2758	.$19c1	LDA TMP3_REG+1
2759	.$19c4	BEQ QCEXIT  
2760	.$19c6	QCLOOP
2761	.$19c6	SMEM  LDA $0000,Y
2762	.$19c9	TMEM  STA $0000,Y
2763	.$19cc	INY
2764	.$19cd	BNE YNOOV
2765	.$19cf	INC TMEM+2
2766	.$19d2	INC SMEM+2
2767	.$19d5	YNOOV  DEX
2768	.$19d6	BNE QCLOOP
2769	.$19d8	LDA TMP3_REG+1
2770	.$19db	BEQ QCEXIT
2771	.$19dd	DEC TMP3_REG+1
2772	.$19e0	JMP QCLOOP
2773	.$19e3	QCEXIT  RTS
2776	.$19e4	COPYSTRING STA TMP2_ZP
2777	.$19e6	STY TMP2_ZP+1
2778	.$19e8	CPY TMP_ZP+1
2779	.$19ea	BNE CONTCOPY
2780	.$19ec	LDA TMP2_ZP
2781	.$19ee	CMP TMP_ZP
2782	.$19f0	BNE CONTCOPY
2783	.$19f2	RTS     
2784	.$19f3	CONTCOPY JSR COMPACT   
2785	.$19f6	LDY #0
2786	.$19f8	STY TMP_FLAG
2787	.$19fb	LDA (TMP_ZP),Y
2788	.$19fd	BNE NOTEMPTYSTR
2789	.$19ff	LDA #<EMPTYSTR  
2790	.$1a01	STA TMP_ZP
2791	.$1a03	LDA #>EMPTYSTR
2792	.$1a05	STA TMP_ZP+1
2793	.$1a07	JMP ISCONST
2794	.$1a0a	NOTEMPTYSTR TAX     
2795	.$1a0b	LDA (TMP2_ZP),Y
2796	.$1a0d	STA TMP3_ZP
2797	.$1a0f	INY
2798	.$1a10	LDA (TMP2_ZP),Y
2799	.$1a12	STA TMP3_ZP+1
2800	.$1a14	DEY
2801	.$1a15	LDA TMP_ZP+1  
2802	.$1a17	CMP #>CONSTANTS_END
2803	.$1a19	BEQ CHECKLOW1
2804	.$1a1b	BCS INVAR
2805	.$1a1d	JMP CHECKNEXT
2806	.$1a20	CHECKLOW1 LDA TMP_ZP
2807	.$1a22	CMP #<CONSTANTS_END
2808	.$1a24	BCS INVAR
2809	.$1a26	CHECKNEXT LDA TMP_ZP+1  
2810	.$1a28	CMP #>CONSTANTS
2811	.$1a2a	BEQ CHECKLOW3
2812	.$1a2c	BCC INVAR
2813	.$1a2e	JMP ISCONST
2814	.$1a31	CHECKLOW3 LDA TMP_ZP
2815	.$1a33	CMP #<CONSTANTS
2816	.$1a35	BCC INVAR   
2817	.$1a37	ISCONST  JSR CHECKLASTVAR 
2818	.$1a3a	LDA TMP_ZP
2819	.$1a3c	STA (TMP2_ZP),Y  
2820	.$1a3e	INY
2821	.$1a3f	LDA TMP_ZP+1
2822	.$1a41	STA (TMP2_ZP),Y
2823	.$1a43	LDA HIGHP   
2824	.$1a46	STA STRBUFP
2825	.$1a49	LDA HIGHP+1
2826	.$1a4c	STA STRBUFP+1
2827	.$1a4f	RTS
2828	.$1a50	INVAR  INY
2829	.$1a51	LDA (TMP2_ZP),Y  
2830	.$1a53	CMP #>CONSTANTS_END
2831	.$1a55	BEQ CHECKLOW2
2832	.$1a57	BCS INVAR2
2833	.$1a59	JMP PUPDATEPTR
2834	.$1a5c	CHECKLOW2 DEY
2835	.$1a5d	LDA (TMP2_ZP),Y
2836	.$1a5f	CMP #<CONSTANTS_END
2837	.$1a61	BCS INVAR2
2838	.$1a63	JMP PUPDATEPTR
2839	.$1a66	INVAR2  LDY #0   
2840	.$1a68	LDA (TMP3_ZP),Y
2841	.$1a6a	STA TMP_REG
2842	.$1a6c	TXA
2843	.$1a6d	CMP TMP_REG  
2844	.$1a6f	BEQ UPDATEHP2 
2847	.$1a71	PUPDATEPTR JSR CHECKLASTVAR
2848	.$1a74	LDY #1   
2849	.$1a76	STY TMP_FLAG 
2850	.$1a79	JMP UPDATEPTR 
2851	.$1a7c	UPDATEHP2 LDA HIGHP  
2852	.$1a7f	STA STRBUFP
2853	.$1a82	LDA HIGHP+1
2854	.$1a85	STA STRBUFP+1
2855	.$1a88	JMP STRFITS
2856	.$1a8b	COPYONLY LDY #0
2857	.$1a8d	STY TMP_FLAG
2858	.$1a90	JMP CHECKMEM
2859	.$1a93	ALTCOPY  JMP COPYSTRING2
2860	.$1a96	UPDATEPTR LDA TMP_ZP+1 
2861	.$1a98	CMP HIGHP+1  
2862	.$1a9b	BEQ CHECKXT1
2863	.$1a9d	BCS ALTCOPY
2864	.$1a9f	JMP CHECKMEM
2865	.$1aa2	CHECKXT1 LDA TMP_ZP
2866	.$1aa4	CMP HIGHP
2867	.$1aa7	BCS ALTCOPY
2868	.$1aa9	CHECKMEM
2869	.$1aa9	MEMOK  LDY #0
2870	.$1aab	LDA STRBUFP  
2871	.$1aae	STA (TMP2_ZP),Y 
2872	.$1ab0	STA TMP3_ZP
2873	.$1ab2	LDA STRBUFP+1
2874	.$1ab5	INY
2875	.$1ab6	STA (TMP2_ZP),Y
2876	.$1ab8	STA TMP3_ZP+1
2877	.$1aba	TXA
2878	.$1abb	CLC
2879	.$1abc	ADC STRBUFP
2880	.$1abf	PHP
2881	.$1ac0	CLC
2882	.$1ac1	ADC #3
2883	.$1ac3	STA STRBUFP
2884	.$1ac6	BCC NOCS1
2885	.$1ac8	INC STRBUFP+1
2886	.$1acb	NOCS1  PLP
2887	.$1acc	BCC STRFITS
2888	.$1ace	INC STRBUFP+1
2889	.$1ad1	STRFITS  LDY TMP_FLAG 
2890	.$1ad4	BEQ NOHPUPDATE 
2891	.$1ad6	LDA HIGHP+1
2892	.$1ad9	CMP STRBUFP+1
2893	.$1adc	BCC UPDATEHIGHP
2894	.$1ade	BEQ CHECKNEXTHP
2895	.$1ae0	JMP NOHPUPDATE
2896	.$1ae3	CHECKNEXTHP LDA HIGHP
2897	.$1ae6	CMP STRBUFP
2898	.$1ae9	BCC UPDATEHIGHP
2899	.$1aeb	JMP NOHPUPDATE
2900	.$1aee	UPDATEHIGHP LDA STRBUFP
2901	.$1af1	STA HIGHP
2902	.$1af4	LDA STRBUFP+1
2903	.$1af7	STA HIGHP+1  
2904	.$1afa	JSR REMEMBERLASTVAR
2905	.$1afd	JSR STOREVARREF
2906	.$1b00	NOHPUPDATE LDY #0
2907	.$1b02	LDA (TMP_ZP),Y 
2908	.$1b04	STA (TMP3_ZP),Y
2909	.$1b06	TAY    
2910	.$1b07	BEQ EXITCOPY 
2911	.$1b09	LOOP  LDA (TMP_ZP),Y 
2912	.$1b0b	STA (TMP3_ZP),Y
2913	.$1b0d	DEY
2914	.$1b0e	BNE LOOP
2915	.$1b10	EXITCOPY RTS
2920	.$1b11	COPYSTRING2 LDY #0
2921	.$1b13	LDA (TMP_ZP),Y
2922	.$1b15	STA TMP_REG
2923	.$1b17	TAX
2924	.$1b18	LDA HIGHP
2925	.$1b1b	STA TMP3_ZP
2926	.$1b1d	STA (TMP2_ZP),Y
2927	.$1b1f	LDA HIGHP+1
2928	.$1b22	STA TMP3_ZP+1
2929	.$1b24	INY
2930	.$1b25	STA (TMP2_ZP),Y
2931	.$1b27	JSR REMEMBERLASTVAR
2934	.$1b2a	LDA TMP_ZP
2935	.$1b2c	CMP TMP3_ZP
2936	.$1b2e	BNE DOLOOP
2937	.$1b30	LDA TMP_ZP+1
2938	.$1b32	CMP TMP3_ZP+1
2939	.$1b34	BEQ SKIPCP2
2940	.$1b36	DOLOOP  DEY
2941	.$1b37	TXA
2942	.$1b38	STA (TMP3_ZP),Y
2943	.$1b3a	INY
2944	.$1b3b	ASLOOP  LDA (TMP_ZP),Y
2945	.$1b3d	STA (TMP3_ZP),Y
2946	.$1b3f	INY
2947	.$1b40	DEX
2948	.$1b41	BNE ASLOOP
2949	.$1b43	SKIPCP2  LDA HIGHP
2950	.$1b46	CLC
2951	.$1b47	ADC TMP_REG
2952	.$1b49	PHP
2953	.$1b4a	CLC
2954	.$1b4b	ADC #3
2955	.$1b4d	STA HIGHP
2956	.$1b50	STA STRBUFP
2957	.$1b53	BCC SKIPLOWAS1
2958	.$1b55	INC HIGHP+1
2959	.$1b58	SKIPLOWAS1 PLP
2960	.$1b59	BCC SKIPLOWAS2
2961	.$1b5b	INC HIGHP+1
2962	.$1b5e	SKIPLOWAS2 LDA HIGHP+1
2963	.$1b61	STA STRBUFP+1
2964	.$1b64	JSR STOREVARREF
2965	.$1b67	RTS
2969	.$1b68	CHECKLASTVAR
2970	.$1b68	LDA TMP2_ZP
2971	.$1b6a	CMP LASTVAR
2972	.$1b6d	BNE NOTSAMEVAR
2973	.$1b6f	LDA TMP2_ZP+1
2974	.$1b71	CMP LASTVAR+1
2975	.$1b74	BNE NOTSAMEVAR
2976	.$1b76	LDA LASTVARP   
2977	.$1b79	STA HIGHP
2978	.$1b7c	STA STRBUFP
2979	.$1b7f	LDA LASTVARP+1
2980	.$1b82	STA HIGHP+1
2981	.$1b85	STA STRBUFP+1
2982	.$1b88	NOTSAMEVAR RTS
2986	.$1b89	REMEMBERLASTVAR
2987	.$1b89	LDA TMP2_ZP
2988	.$1b8b	STA LASTVAR
2989	.$1b8e	LDA TMP2_ZP+1
2990	.$1b90	STA LASTVAR+1
2991	.$1b93	LDA TMP3_ZP
2992	.$1b95	STA LASTVARP
2993	.$1b98	LDA TMP3_ZP+1
2994	.$1b9a	STA LASTVARP+1 
2995	.$1b9d	RTS
3000	.$1b9e	STOREVARREF
3001	.$1b9e	TYA
3002	.$1b9f	PHA    
3003	.$1ba0	LDA TMP_ZP
3004	.$1ba2	PHA
3005	.$1ba3	LDA TMP_ZP+1
3006	.$1ba5	PHA
3007	.$1ba6	LDA HIGHP+1
3008	.$1ba9	STA TMP_ZP+1
3009	.$1bab	LDA HIGHP
3010	.$1bae	SEC
3011	.$1baf	SBC #2
3012	.$1bb1	STA TMP_ZP
3013	.$1bb3	BCS RLVNOOV
3014	.$1bb5	DEC TMP_ZP+1
3015	.$1bb7	RLVNOOV  LDA TMP2_ZP
3016	.$1bb9	LDY #0
3017	.$1bbb	STA (TMP_ZP),Y
3018	.$1bbd	LDA TMP2_ZP+1
3019	.$1bbf	INY
3020	.$1bc0	STA (TMP_ZP),Y 
3021	.$1bc2	PLA
3022	.$1bc3	STA TMP_ZP+1
3023	.$1bc5	PLA
3024	.$1bc6	STA TMP_ZP  
3025	.$1bc8	PLA
3026	.$1bc9	TAY    
3027	.$1bca	RTS
3030	.$1bcb	REROUTE  LDA CMD_NUM  
3031	.$1bce	BEQ REROUTECMD
3032	.$1bd0	TAX
3033	.$1bd1	STA CHANNEL
3034	.$1bd4	JMP CHKOUT
3035	.$1bd7	REROUTECMD RTS
3038	.$1bd8	RESETROUTE LDA CMD_NUM  
3039	.$1bdb	BEQ RESETROUTECMD
3040	.$1bdd	JMP CLRCHNEW
3041	.$1be0	RESETROUTECMD
3042	.$1be0	RTS
3045	.$1be1	INTOUTFASTZ LDX #32    
3046	.$1be3	LDA TMP_ZP+1
3047	.$1be5	BPL INTISPOS
3048	.$1be7	CLC
3049	.$1be8	LDA TMP_ZP
3050	.$1bea	EOR #$FF
3051	.$1bec	ADC #1
3052	.$1bee	STA TMP_ZP
3053	.$1bf0	LDA TMP_ZP+1
3054	.$1bf2	EOR #$FF
3055	.$1bf4	ADC #0
3056	.$1bf6	STA TMP_ZP+1
3057	.$1bf8	LDX #45    
3058	.$1bfa	INTISPOS
3059	.$1bfa	TXA
3060	.$1bfb	JSR CHROUT
3061	.$1bfe	JSR CONVPOSINT
3062	.$1c01	LDA NUMFLAG
3063	.$1c04	BNE ALLINTOUTDONE
3064	.$1c06	LDA #48
3065	.$1c08	JSR CHROUT
3066	.$1c0b	ALLINTOUTDONE
3067	.$1c0b	RTS
3070	.$1c0c	NUMBEROUT
3071	.$1c0c	BEQ NUMZERO
3072	.$1c0e	ORA #$30
3073	.$1c10	STA NUMFLAG
3074	.$1c13	JMP CHROUT
3075	.$1c16	NUMZERO
3076	.$1c16	LDX NUMFLAG
3077	.$1c19	BEQ STILLZERO
3078	.$1c1b	ORA #$30
3079	.$1c1d	JMP CHROUT
3080	.$1c20	STILLZERO
3081	.$1c20	RTS
3084	.$1c21	CONVPOSINT
3085	.$1c21	JSR INT2BCD
3086	.$1c24	LDX #0
3087	.$1c26	STX NUMFLAG
3088	.$1c29	AND #$0F
3089	.$1c2b	JSR NUMBEROUT
3090	.$1c2e	LDA BCD+1
3091	.$1c31	LSR
3092	.$1c32	LSR
3093	.$1c33	LSR
3094	.$1c34	LSR
3095	.$1c35	JSR NUMBEROUT
3096	.$1c38	LDA BCD+1
3097	.$1c3b	AND #$0F
3098	.$1c3d	TAY
3099	.$1c3e	JSR NUMBEROUT
3100	.$1c41	LDA BCD
3101	.$1c44	LSR
3102	.$1c45	LSR
3103	.$1c46	LSR
3104	.$1c47	LSR
3105	.$1c48	JSR NUMBEROUT
3106	.$1c4b	LDA BCD
3107	.$1c4e	AND #$0F
3108	.$1c50	JSR NUMBEROUT
3109	.$1c53	RTS
3112	.$1c54	INT2BCD
3113	.$1c54	SED
3114	.$1c55	LDA #0
3115	.$1c57	STA BCD
3116	.$1c5a	STA BCD+1
3117	.$1c5d	STA BCD+2
3118	.$1c60	ASL TMP_ZP
3119	.$1c62	ROL TMP_ZP+1
3120	.$1c64	LDA BCD
3121	.$1c67	ADC BCD
3122	.$1c6a	STA BCD
3123	.$1c6d	ASL TMP_ZP
3124	.$1c6f	ROL TMP_ZP+1
3125	.$1c71	ADC BCD
3126	.$1c74	STA BCD
3127	.$1c77	ASL TMP_ZP
3128	.$1c79	ROL TMP_ZP+1
3129	.$1c7b	ADC BCD
3130	.$1c7e	STA BCD
3131	.$1c81	ASL TMP_ZP
3132	.$1c83	ROL TMP_ZP+1
3133	.$1c85	ADC BCD
3134	.$1c88	STA BCD
3135	.$1c8b	ASL TMP_ZP
3136	.$1c8d	ROL TMP_ZP+1
3137	.$1c8f	ADC BCD
3138	.$1c92	STA BCD
3139	.$1c95	ASL TMP_ZP
3140	.$1c97	ROL TMP_ZP+1
3141	.$1c99	ADC BCD
3142	.$1c9c	STA BCD
3143	.$1c9f	LDX #7
3144	.$1ca1	BCDBIT1
3145	.$1ca1	ASL TMP_ZP
3146	.$1ca3	ROL TMP_ZP+1
3147	.$1ca5	LDA BCD
3148	.$1ca8	ADC BCD
3149	.$1cab	STA BCD
3150	.$1cae	LDA BCD+1
3151	.$1cb1	ADC BCD+1
3152	.$1cb4	STA BCD+1
3153	.$1cb7	DEX
3154	.$1cb8	BNE BCDBIT1
3155	.$1cba	LDX #3
3156	.$1cbc	BCDBIT2
3157	.$1cbc	ASL TMP_ZP
3158	.$1cbe	ROL TMP_ZP+1
3159	.$1cc0	LDA BCD
3160	.$1cc3	ADC BCD
3161	.$1cc6	STA BCD
3162	.$1cc9	LDA BCD+1
3163	.$1ccc	ADC BCD+1
3164	.$1ccf	STA BCD+1
3165	.$1cd2	LDA BCD+2
3166	.$1cd5	ADC BCD+2
3167	.$1cd8	STA BCD+2
3168	.$1cdb	DEX
3169	.$1cdc	BNE BCDBIT2
3170	.$1cde	CLD
3171	.$1cdf	RTS
3172	.$1ce0	BCD
3173	.$1ce0	.WORD 0 0
3174	.$1ce4	NUMFLAG
3175	.$1ce4	.BYTE 0
3178	.$1ce5	REALOUTFAST JSR FACINT
3179	.$1ce8	STA TMP_ZP+1
3180	.$1cea	STY TMP_ZP
3181	.$1cec	JMP INTOUTFASTZ
3184	.$1cef	CHECKFORFASTOUT
3185	.$1cef	JSR REROUTE
3186	.$1cf2	JSR XREGFAC
3187	.$1cf5	LDA FACEXP
3188	.$1cf7	CMP #$90
3189	.$1cf9	BCS REALOUTINT
3190	.$1cfb	CMP #$81
3191	.$1cfd	BCC REALOUTINT
3192	.$1cff	MAYBEREALOUTFAST
3193	.$1cff	LDA FACEXP+3
3194	.$1d01	BNE REALOUTINT
3195	.$1d03	LDA FACEXP+4
3196	.$1d05	BNE REALOUTINT
3197	.$1d07	LDA FACEXP
3198	.$1d09	SEC
3199	.$1d0a	SBC #129
3200	.$1d0c	ASL
3201	.$1d0d	TAX
3202	.$1d0e	LDA FACEXP+1
3203	.$1d10	AND MANTMASK,X
3204	.$1d13	BNE REALOUTINT
3205	.$1d15	INX
3206	.$1d16	LDA FACEXP+2
3207	.$1d18	AND MANTMASK,X
3208	.$1d1b	BNE REALOUTINT
3209	.$1d1d	JMP REALOUTFAST
3210	.$1d20	REALOUTINT LDY #0
3211	.$1d22	JSR FACSTR
3212	.$1d25	LDY #0
3213	.$1d27	LDA LOFBUF,Y
3214	.$1d2a	STRLOOPRO JSR CHROUT
3215	.$1d2d	INY
3216	.$1d2e	LDA LOFBUF,Y
3217	.$1d31	BNE STRLOOPRO
3218	.$1d33	RTS
3219	.$1d34	MANTMASK
3220	.$1d34	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
3223	.$1d52	REALOUTBRK  LDA X_REG
3224	.$1d54	BNE RNOTNULLBRK
3225	.$1d56	JMP PRINTNULLBRK
3226	.$1d59	RNOTNULLBRK JSR CHECKFORFASTOUT
3227	.$1d5c	LDA #$0D
3228	.$1d5e	JSR CHROUT
3229	.$1d61	JMP RESETROUTE
3232	.$1d64	PRINTNULLBRK
3233	.$1d64	JSR REROUTE
3234	.$1d67	LDA #$20
3235	.$1d69	JSR CHROUT
3236	.$1d6c	LDA #$30
3237	.$1d6e	JSR CHROUT
3238	.$1d71	LDA #$0D
3239	.$1d73	JSR CHROUT
3240	.$1d76	JMP RESETROUTE
3243	.$1d79	STROUTWL STA A_REG
3244	.$1d7c	STY A_REG+1
3245	.$1d7f	STROUT  JSR REROUTE
3246	.$1d82	LDA A_REG
3247	.$1d85	STA INDEX1
3248	.$1d87	LDA A_REG+1
3249	.$1d8a	STA INDEX1+1
3250	.$1d8c	LDY #0
3251	.$1d8e	LDA (INDEX1),Y
3252	.$1d90	TAX
3253	.$1d91	INC INDEX1
3254	.$1d93	BNE PRINTSTR
3255	.$1d95	INC INDEX1+1
3256	.$1d97	PRINTSTR JSR PRINTSTRS
3257	.$1d9a	LDA HIGHP   
3258	.$1d9d	STA STRBUFP
3259	.$1da0	LDA HIGHP+1
3260	.$1da3	STA STRBUFP+1
3261	.$1da6	JSR RESETROUTE
3262	.$1da9	RTS
3265	.$1daa	SINGLECHROUTBRKMAX
3266	.$1daa	JSR SINGLECHROUTBRK
3267	.$1dad	JMP COMPACTMAX
3270	.$1db0	SINGLECHROUTBRK
3271	.$1db0	STA TMP_ZP
3272	.$1db2	JSR REROUTE
3273	.$1db5	LDA TMP_ZP
3274	.$1db7	JSR CHROUT
3275	.$1dba	LDA #$0D
3276	.$1dbc	JSR CHROUT
3277	.$1dbf	JMP RESETROUTE
3280	.$1dc2	STROUTBRKWL STA A_REG
3281	.$1dc5	STY A_REG+1
3282	.$1dc8	STROUTBRK JSR REROUTE
3283	.$1dcb	LDA A_REG
3284	.$1dce	STA INDEX1
3285	.$1dd0	LDA A_REG+1
3286	.$1dd3	STA INDEX1+1
3287	.$1dd5	LDY #0
3288	.$1dd7	LDA (INDEX1),Y
3289	.$1dd9	TAX
3290	.$1dda	INC INDEX1
3291	.$1ddc	BNE PRINTSTR2
3292	.$1dde	INC INDEX1+1
3293	.$1de0	PRINTSTR2 JSR PRINTSTRS
3294	.$1de3	LDA HIGHP   
3295	.$1de6	STA STRBUFP
3296	.$1de9	LDA HIGHP+1
3297	.$1dec	STA STRBUFP+1
3298	.$1def	LDA #$0D
3299	.$1df1	JSR CHROUT
3300	.$1df4	JMP RESETROUTE  
3303	.$1df7	ADJUSTSTACK LDA FORSTACKP 
3304	.$1dfa	STA TMP_ZP
3305	.$1dfc	LDA FORSTACKP+1
3306	.$1dff	STA TMP_ZP+1
3307	.$1e01	ADSEARCHFOR LDA TMP_ZP
3308	.$1e03	CMP #<FORSTACK
3309	.$1e05	BNE ADJUST2
3310	.$1e07	LDA TMP_ZP+1
3311	.$1e09	CMP #>FORSTACK
3312	.$1e0b	BNE ADJUST2
3313	.$1e0d	RTS    
3314	.$1e0e	ADJUST2  LDA TMP_ZP
3315	.$1e10	SEC
3316	.$1e11	SBC #2
3317	.$1e13	STA TMP_ZP
3318	.$1e15	BCS ADNOPV1N1
3319	.$1e17	DEC TMP_ZP+1
3320	.$1e19	ADNOPV1N1 LDY #0
3321	.$1e1b	LDA (TMP_ZP),Y
3322	.$1e1d	BNE ADNOGOSUB
3323	.$1e1f	RTS    
3324	.$1e20	ADNOGOSUB
3325	.$1e20	INY
3326	.$1e21	LDA TMP_ZP
3327	.$1e23	SEC
3328	.$1e24	SBC (TMP_ZP),Y
3329	.$1e26	STA TMP_ZP
3330	.$1e28	BCS ADNOPV1N2
3331	.$1e2a	DEC TMP_ZP+1
3332	.$1e2c	ADNOPV1N2 DEY
3333	.$1e2d	LDA A_REG
3334	.$1e30	ADCMPFOR CMP (TMP_ZP),Y
3335	.$1e32	BNE ADSEARCHFOR
3336	.$1e34	LDA A_REG+1
3337	.$1e37	INY
3338	.$1e38	CMP (TMP_ZP),Y
3339	.$1e3a	BEQ ADFOUNDFOR
3340	.$1e3c	JMP ADSEARCHFOR
3341	.$1e3f	ADLOW0  LDX A_REG+1
3342	.$1e42	BEQ ADFOUNDFOR
3343	.$1e44	BNE ADCMPFOR
3344	.$1e46	ADFOUNDFOR LDA TMP_ZP  
3345	.$1e48	STA FORSTACKP
3346	.$1e4b	LDA TMP_ZP+1
3347	.$1e4d	STA FORSTACKP+1
3348	.$1e50	RTS
3351	.$1e51	INITFOR  JSR ADJUSTSTACK
3352	.$1e54	LDA FORSTACKP
3353	.$1e57	STA TMP_ZP
3354	.$1e59	LDA FORSTACKP+1
3355	.$1e5c	STA TMP_ZP+1
3356	.$1e5e	LDY #0
3357	.$1e60	LDA A_REG
3358	.$1e63	STA (TMP_ZP),Y
3359	.$1e65	INY
3360	.$1e66	LDA A_REG+1
3361	.$1e69	STA (TMP_ZP),Y
3362	.$1e6b	INY
3363	.$1e6c	LDA JUMP_TARGET
3364	.$1e6e	STA (TMP_ZP),Y
3365	.$1e70	INY
3366	.$1e71	LDA JUMP_TARGET+1
3367	.$1e73	STA (TMP_ZP),Y
3368	.$1e75	INY
3369	.$1e76	STY TMP3_ZP
3370	.$1e78	JSR INCTMPZP
3371	.$1e7b	JSR POPREAL
3372	.$1e7e	LDX TMP_ZP
3373	.$1e80	LDY TMP_ZP+1
3375	.$1e82	JSR FACMEM
3376	.$1e85	JSR SGNFAC
3377	.$1e88	STA TMP_FLAG
3378	.$1e8b	LDY #5
3379	.$1e8d	STY TMP3_ZP
3380	.$1e8f	JSR INCTMPZP
3381	.$1e92	JSR POPREAL
3382	.$1e95	LDX TMP_ZP
3383	.$1e97	LDY TMP_ZP+1
3385	.$1e99	JSR FACMEM
3386	.$1e9c	LDY #5
3387	.$1e9e	STY TMP3_ZP
3388	.$1ea0	JSR INCTMPZP
3389	.$1ea3	LDY #0
3390	.$1ea5	LDA TMP_FLAG
3391	.$1ea8	STA (TMP_ZP),Y
3392	.$1eaa	INY
3393	.$1eab	LDA #1
3394	.$1ead	STA (TMP_ZP),Y
3395	.$1eaf	INY
3396	.$1eb0	LDA #15
3397	.$1eb2	STA (TMP_ZP),Y
3398	.$1eb4	LDY #3
3399	.$1eb6	STY TMP3_ZP
3400	.$1eb8	JSR INCTMPZP
3401	.$1ebb	LDA TMP_ZP
3402	.$1ebd	STA FORSTACKP
3403	.$1ec0	LDA TMP_ZP+1
3404	.$1ec2	STA FORSTACKP+1
3405	.$1ec5	RTS
3408	.$1ec6	NEXT  LDA FORSTACKP
3409	.$1ec9	STA TMP_ZP
3410	.$1ecb	LDA FORSTACKP+1
3411	.$1ece	STA TMP_ZP+1
3412	.$1ed0	SEARCHFOR LDA TMP_ZP+1
3413	.$1ed2	STA TMP3_REG+1
3414	.$1ed5	LDA TMP_ZP
3415	.$1ed7	STA TMP3_REG
3416	.$1eda	SEC
3417	.$1edb	SBC #2
3418	.$1edd	STA TMP_ZP
3419	.$1edf	BCS NOPV1N1
3420	.$1ee1	DEC TMP_ZP+1
3421	.$1ee3	NOPV1N1  LDY #0
3422	.$1ee5	LDA (TMP_ZP),Y
3423	.$1ee7	BNE NOGOSUB
3424	.$1ee9	JMP NEXTWOFOR
3425	.$1eec	NOGOSUB
3426	.$1eec	INY
3427	.$1eed	LDA TMP_ZP
3428	.$1eef	SEC
3429	.$1ef0	SBC (TMP_ZP),Y
3430	.$1ef2	STA TMP_ZP
3431	.$1ef4	BCS NOPV1N2
3432	.$1ef6	DEC TMP_ZP+1
3433	.$1ef8	NOPV1N2  DEY
3434	.$1ef9	LDA A_REG
3435	.$1efc	BEQ LOW0
3436	.$1efe	CMPFOR  CMP (TMP_ZP),Y
3437	.$1f00	BNE SEARCHFOR
3438	.$1f02	LDA A_REG+1
3439	.$1f05	INY
3440	.$1f06	CMP (TMP_ZP),Y
3441	.$1f08	BEQ FOUNDFOR
3442	.$1f0a	JMP SEARCHFOR
3443	.$1f0d	LOW0  LDX A_REG+1
3444	.$1f10	BEQ FOUNDFOR
3445	.$1f12	BNE CMPFOR
3446	.$1f14	FOUNDFOR LDA TMP_ZP
3447	.$1f16	STA TMP2_REG
3448	.$1f19	LDA TMP_ZP+1
3449	.$1f1b	STA TMP2_REG+1
3450	.$1f1e	VARREAL
3451	.$1f1e	LDY #0
3452	.$1f20	STY A_REG+1 
3453	.$1f23	LDA (TMP_ZP),Y
3454	.$1f25	TAX
3455	.$1f26	INY
3456	.$1f27	LDA (TMP_ZP),Y
3457	.$1f29	TAY
3458	.$1f2a	TXA
3459	.$1f2b	JSR REALFAC
3460	.$1f2e	CALCNEXT LDA TMP_ZP
3461	.$1f30	CLC
3462	.$1f31	ADC #4
3463	.$1f33	STA TMP_ZP
3464	.$1f35	BCC NOPV2IN
3465	.$1f37	INC TMP_ZP+1
3466	.$1f39	NOPV2IN  STA TMP_REG
3467	.$1f3b	LDY TMP_ZP+1
3468	.$1f3d	STY TMP_REG+1
3469	.$1f3f	JSR FASTFADDMEM
3471	.$1f42	LDA TMP2_REG
3472	.$1f45	STA TMP_ZP
3473	.$1f47	LDA TMP2_REG+1
3474	.$1f4a	STA TMP_ZP+1
3475	.$1f4c	STOREREAL
3476	.$1f4c	LDY #0
3477	.$1f4e	LDA (TMP_ZP),Y
3478	.$1f50	TAX
3479	.$1f51	INY
3480	.$1f52	LDA (TMP_ZP),Y
3481	.$1f54	TAY
3482	.$1f55	JSR FACMEM 
3483	.$1f58	CMPFORXX LDA #5
3484	.$1f5a	STA TMP3_ZP
3485	.$1f5c	LDA TMP_REG
3486	.$1f5e	CLC
3487	.$1f5f	ADC #5
3488	.$1f61	STA TMP_REG
3489	.$1f63	BCC NOPV3
3490	.$1f65	INC TMP_REG+1
3491	.$1f67	NOPV3  LDY TMP_REG+1
3492	.$1f69	JSR CMPFAC  
3493	.$1f6c	BEQ LOOPING
3494	.$1f6e	PHA
3495	.$1f6f	LDY #14
3496	.$1f71	LDA (TMP_ZP),Y
3497	.$1f73	BEQ STEPZERO
3498	.$1f75	ROL
3499	.$1f76	BCC STEPPOS
3500	.$1f78	STEPNEG  PLA
3501	.$1f79	ROL
3502	.$1f7a	BCC LOOPING
3503	.$1f7c	BCS EXITLOOP
3504	.$1f7e	STEPPOS  PLA
3505	.$1f7f	ROL
3506	.$1f80	BCC EXITLOOP
3507	.$1f82	LOOPING  LDA TMP3_REG
3508	.$1f85	STA FORSTACKP
3509	.$1f88	LDA TMP3_REG+1
3510	.$1f8b	STA FORSTACKP+1
3511	.$1f8e	LDA TMP2_REG
3512	.$1f91	CLC
3513	.$1f92	ADC #2
3514	.$1f94	STA TMP2_REG
3515	.$1f97	BCC NOPV4IN
3516	.$1f99	INC TMP2_REG+1
3517	.$1f9c	NOPV4IN  LDY #0
3518	.$1f9e	STY A_REG
3519	.$1fa1	STA TMP_ZP
3520	.$1fa3	LDA TMP2_REG+1
3521	.$1fa6	STA TMP_ZP+1
3522	.$1fa8	LDA (TMP_ZP),Y
3523	.$1faa	STA JUMP_TARGET
3524	.$1fac	INY
3525	.$1fad	LDA (TMP_ZP),Y
3526	.$1faf	STA JUMP_TARGET+1
3527	.$1fb1	RTS
3528	.$1fb2	STEPZERO PLA
3529	.$1fb3	JMP LOOPING
3530	.$1fb6	EXITLOOP LDA TMP2_REG
3531	.$1fb9	STA FORSTACKP
3532	.$1fbc	LDA TMP2_REG+1
3533	.$1fbf	STA FORSTACKP+1
3534	.$1fc2	LDA #1
3535	.$1fc4	STA A_REG
3536	.$1fc7	RTS
3539	.$1fc8	RETURN  LDA FORSTACKP
3540	.$1fcb	STA TMP_ZP
3541	.$1fcd	LDA FORSTACKP+1
3542	.$1fd0	STA TMP_ZP+1
3543	.$1fd2	SEARCHGOSUB LDA TMP_ZP
3544	.$1fd4	SEC
3545	.$1fd5	SBC #2
3546	.$1fd7	STA TMP_ZP
3547	.$1fd9	BCS NOPV1SG
3548	.$1fdb	DEC TMP_ZP+1
3549	.$1fdd	NOPV1SG  LDY #0
3550	.$1fdf	LDA (TMP_ZP),Y
3551	.$1fe1	BEQ FOUNDGOSUB
3552	.$1fe3	INY
3553	.$1fe4	LDA (TMP_ZP),Y
3554	.$1fe6	STA TMP3_ZP
3555	.$1fe8	LDA TMP_ZP
3556	.$1fea	SEC
3557	.$1feb	SBC (TMP_ZP),Y
3558	.$1fed	STA TMP_ZP
3559	.$1fef	BCS NOPV1GS
3560	.$1ff1	DEC TMP_ZP+1
3561	.$1ff3	NOPV1GS  JMP SEARCHGOSUB
3562	.$1ff6	FOUNDGOSUB
3563	.$1ff6	LDA TMP_ZP
3564	.$1ff8	STA FORSTACKP
3565	.$1ffb	LDA TMP_ZP+1
3566	.$1ffd	STA FORSTACKP+1
3567	.$2000	RTS
3570	.$2001	GOSUB  LDA FORSTACKP
3571	.$2004	STA TMP_ZP
3572	.$2006	LDA FORSTACKP+1
3573	.$2009	STA TMP_ZP+1
3574	.$200b	LDY #0
3575	.$200d	TYA
3576	.$200e	STA (TMP_ZP),Y
3577	.$2010	INY
3578	.$2011	STA (TMP_ZP),Y
3579	.$2013	INY
3580	.$2014	TYA
3581	.$2015	CLC
3582	.$2016	ADC TMP_ZP
3583	.$2018	STA FORSTACKP
3584	.$201b	BCC GOSUBNOOV
3585	.$201d	INC FORSTACKP+1
3586	.$2020	GOSUBNOOV RTS
3589	.$2021	QUEUESIZE LDY INPUTQUEUEP
3590	.$2024	LDA #0
3591	.$2026	JSR INTFAC
3592	.$2029	JMP FACXREG
3595	.$202c	CLEARQUEUE LDA #$0
3596	.$202e	STA INPUTQUEUEP
3597	.$2031	RTS
3600	.$2032	CLEANINPUT LDY #0    
3601	.$2034	LDX #0
3602	.$2036	STY STORE1   
3603	.$2039	STY STORE2   
3604	.$203c	DEY
3605	.$203d	CILOOP  INY
3606	.$203e	LDA $0200,Y
3607	.$2041	BNE CINOEND
3608	.$2043	JMP CIEND   
3609	.$2046	CINOEND  STA STORE3   
3610	.$2049	LDA STORE1
3611	.$204c	BEQ CINOQUOTE  
3612	.$204e	LDA STORE3
3613	.$2051	CMP #$22   
3614	.$2053	BNE CISTILLQUOTE 
3615	.$2055	LDA #0    
3616	.$2057	STA STORE1
3617	.$205a	JMP CILOOP
3618	.$205d	CISTILLQUOTE
3619	.$205d	STA $0200,X
3620	.$2060	INX
3621	.$2061	JMP CILOOP
3622	.$2064	CINOQUOTE LDA STORE3
3623	.$2067	CMP #$22
3624	.$2069	BNE CISOMECHAR  
3625	.$206b	CIFIRSTCHAR LDA #1    
3626	.$206d	STA STORE1   
3627	.$2070	STA STORE2   
3628	.$2073	JMP CILOOP
3629	.$2076	CISOMECHAR  CMP #$3A   
3630	.$2078	BNE CINOCOLON
3631	.$207a	JMP CIEND
3632	.$207d	CINOCOLON CMP #$2C   
3633	.$207f	BNE CINOCOMMA
3634	.$2081	LDA #$22   
3635	.$2083	STA $0200,X
3636	.$2086	INX
3637	.$2087	LDA #0
3638	.$2089	STA STORE2   
3639	.$208c	JMP CILOOP
3640	.$208f	CINOCOMMA CMP #$20   
3641	.$2091	BNE CINOSPACE
3642	.$2093	LDA STORE2   
3643	.$2096	BEQ CINEXT   
3644	.$2098	LDA STORE3
3645	.$209b	CINOSPACE STA $0200,X
3646	.$209e	STA STORE2   
3647	.$20a1	INX
3648	.$20a2	CINEXT  JMP CILOOP
3649	.$20a5	CIEND  LDA #0
3650	.$20a7	STA $0200,X   
3651	.$20aa	RTS     
3654	.$20ab	QMARKOUT1 LDA #1
3655	.$20ad	STA TMP_ZP
3656	.$20af	JMP QMARKOUT
3659	.$20b2	QMARKOUT LDA IOCHANNEL    
3660	.$20b4	BNE NOQMARK
3661	.$20b6	JSR REROUTE
3662	.$20b9	LDA #63
3663	.$20bb	LDY TMP_ZP
3664	.$20bd	CPY #2    
3665	.$20bf	BNE ONEQMARK
3666	.$20c1	JSR CHROUT
3667	.$20c4	ONEQMARK JSR CHROUT
3668	.$20c7	LDA #32
3669	.$20c9	JSR CHROUT
3670	.$20cc	JMP RESETROUTE
3671	.$20cf	NOQMARK  RTS
3674	.$20d0	INPUTSTR LDA #$0
3675	.$20d2	INPUTSTR2 STA TMP_REG+1
3676	.$20d4	LDA #$0
3677	.$20d6	STX INPUTLENGTH
3678	.$20d9	STA TMP_REG
3679	.$20db	STA TMP_FLAG
3680	.$20de	LDX INPUTQUEUEP
3681	.$20e1	BEQ INPUTNORM
3682	.$20e3	LDA #LOFBUF
3683	.$20e5	LDX #$1
3684	.$20e7	CLC
3685	.$20e8	ADC INPUTQUEUE
3686	.$20eb	STA TMP_ZP
3687	.$20ed	BCC INNONO
3688	.$20ef	LDX #$2
3689	.$20f1	INNONO  STX TMP_ZP+1
3690	.$20f3	DEC INPUTQUEUEP  
3691	.$20f6	LDY INPUTQUEUE  
3692	.$20f9	STY TMP_REG   
3693	.$20fb	DEY
3694	.$20fc	LDX #$0
3695	.$20fe	SHRINKQ  LDA INPUTQUEUEP
3696	.$2101	BEQ QUEUEEMPTY
3697	.$2103	INX
3698	.$2104	LDA INPUTQUEUE,X 
3699	.$2107	DEX
3700	.$2108	STA INPUTQUEUE,X
3701	.$210b	INX
3702	.$210c	CPX INPUTQUEUEP
3703	.$210f	BNE SHRINKQ
3704	.$2111	QUEUEEMPTY JMP ISTRLOOP
3705	.$2114	INPUTNORM AND #$FF
3706	.$2116	JSR INPUT
3707	.$2119	JSR CLEANINPUT
3708	.$211c	LDA #LOFBUF
3709	.$211e	STA TMP_ZP
3710	.$2120	LDA #$1
3711	.$2122	STA TMP_ZP+1
3712	.$2124	LDY #0
3713	.$2126	DEY
3714	.$2127	ISTRLOOP INY
3715	.$2128	LDA INPUTBUF,Y
3716	.$212b	TAX
3717	.$212c	CMP #$22   
3718	.$212e	BNE ICHECK
3719	.$2130	STA TMP_FLAG
3720	.$2133	LDA #$0
3721	.$2135	STA INPUTBUF,Y   
3722	.$2138	LDX INPUTQUEUEP  
3723	.$213b	BNE INQUEUENE  
3724	.$213d	STA INPUTQUEUE  
3725	.$2140	INX
3726	.$2141	INQUEUENE INY
3727	.$2142	TYA
3728	.$2143	STA INPUTQUEUE,X 
3729	.$2146	INX
3730	.$2147	STX INPUTQUEUEP  
3731	.$214a	JMP ISTRLOOP  
3732	.$214d	ICHECK  TXA     
3733	.$214e	BNE ISTRLOOP  
3734	.$2150	LDA TMP_FLAG
3735	.$2153	BEQ ISIMPLECOPY
3736	.$2155	JMP INPUTSTR
3737	.$2158	ISIMPLECOPY TYA
3738	.$2159	SEC
3739	.$215a	SBC TMP_REG
3740	.$215c	LDY #0
3741	.$215e	STA (TMP_ZP),Y
3742	.$2160	TAX    
3743	.$2161	STX INPUTLENGTH
3744	.$2164	LDA TMP_REG+1 
3745	.$2166	BEQ INISSTR
3746	.$2168	RTS
3747	.$2169	INISSTR  LDA #<A_REG
3748	.$216b	LDY #>A_REG
3749	.$216d	STA TMP2_ZP
3750	.$216f	STY TMP2_ZP+1
3751	.$2171	JSR COPYONLY
3752	.$2174	RTS
3755	.$2175	INPUTNUMBER LDA #$1
3756	.$2177	JSR INPUTSTR2
3757	.$217a	LDA TMP_ZP
3758	.$217c	STA INDEX1
3759	.$217e	LDA TMP_ZP+1
3760	.$2180	STA INDEX1+1
3761	.$2182	LDY #0
3762	.$2184	STY VALTYPE
3763	.$2186	LDA (INDEX1),Y
3764	.$2188	STA TMP_REG  
3765	.$218a	TAY
3766	.$218b	INC INDEX1
3767	.$218d	BNE VALSTR2
3768	.$218f	INC INDEX1+1
3769	.$2191	VALSTR2  LDY #$0   
3770	.$2193	DEY
3771	.$2194	LDX #$0   
3772	.$2196	NUMCHKLOOP INY
3773	.$2197	CPY TMP_REG
3774	.$2199	BEQ NUMOK
3775	.$219b	LDA (INDEX1),Y
3776	.$219d	CMP #$20
3777	.$219f	BEQ NUMCHKLOOP 
3778	.$21a1	CMP #43   
3779	.$21a3	BNE NOPLUS
3780	.$21a5	TXA
3781	.$21a6	BIT VAL6  
3782	.$21a9	BNE CHECKERR
3783	.$21ab	ORA #2
3784	.$21ad	TAX
3785	.$21ae	JMP NUMCHKLOOP
3786	.$21b1	NOPLUS  CMP #45   
3787	.$21b3	BNE NOMINUS
3788	.$21b5	TXA
3789	.$21b6	BIT VAL6  
3790	.$21b9	BNE CHECKERR
3791	.$21bb	ORA #4
3792	.$21bd	TAX
3793	.$21be	JMP NUMCHKLOOP
3794	.$21c1	NOMINUS  CMP #69   
3795	.$21c3	BNE NOEEE
3796	.$21c5	TXA
3797	.$21c6	BIT VAL8  
3798	.$21c9	BNE CHECKERR
3799	.$21cb	ORA #8
3800	.$21cd	AND #249  
3801	.$21cf	TAX
3802	.$21d0	JMP NUMCHKLOOP
3803	.$21d3	NOEEE  CMP #46   
3804	.$21d5	BNE NOPOINT
3805	.$21d7	TXA
3806	.$21d8	BIT VAL24  
3807	.$21db	BNE CHECKERR
3808	.$21dd	ORA #16
3809	.$21df	TAX
3810	.$21e0	JMP NUMCHKLOOP
3811	.$21e3	NOPOINT  CMP #48
3812	.$21e5	BCC CHECKERR 
3813	.$21e7	CMP #58
3814	.$21e9	BCS CHECKERR 
3815	.$21eb	TXA
3816	.$21ec	ORA #1
3817	.$21ee	TAX
3818	.$21ef	JMP NUMCHKLOOP
3819	.$21f2	VAL1  .BYTE 1
3820	.$21f3	VAL6  .BYTE 6
3821	.$21f4	VAL8  .BYTE 8
3822	.$21f5	VAL24  .BYTE 24
3823	.$21f6	CHECKERR LDA #<REAL_CONST_MINUS_ONE
3824	.$21f8	STA TMP3_ZP
3825	.$21fa	LDA #>REAL_CONST_MINUS_ONE
3826	.$21fc	STA TMP3_ZP+1
3827	.$21fe	JMP COPY2_XY_XREG
3828	.$2201	RTS    
3830	.$2202	NUMOK  LDA TMP_REG
3831	.$2204	JSR VALS
3832	.$2207	LDA #$0   
3833	.$2209	STA X_REG
3834	.$220b	JMP FACYREG  
3837	.$220e	ZEROSET  LDA #0
3838	.$2210	STA X_REG
3839	.$2212	STA X_REG+1
3840	.$2214	STA X_REG+2
3841	.$2216	STA X_REG+3
3842	.$2218	STA X_REG+4
3843	.$221a	RTS
3846	.$221b	SEQ   JSR CMPSTR
3847	.$221e	LDA TMP3_ZP
3848	.$2220	BNE NOTSEQ
3849	.$2222	LDA #<REAL_CONST_MINUS_ONE
3850	.$2224	STA TMP3_ZP
3851	.$2226	LDA #>REAL_CONST_MINUS_ONE
3852	.$2228	STA TMP3_ZP+1
3853	.$222a	JMP COPY2_XY_XREG
3854	.$222d	NOTSEQ  JMP ZEROSET
3857	.$2230	CMPSTR  LDY #0   
3858	.$2232	LDX #1
3859	.$2234	LDA A_REG
3860	.$2237	STA TMP_ZP
3861	.$2239	LDA A_REG+1
3862	.$223c	STA TMP_ZP+1
3863	.$223e	LDA B_REG
3864	.$2241	STA TMP2_ZP
3865	.$2243	LDA B_REG+1
3866	.$2246	STA TMP2_ZP+1
3867	.$2248	CMP TMP_ZP+1
3868	.$224a	BNE CMPSTRSK1
3869	.$224c	LDA TMP2_ZP
3870	.$224e	CMP TMP_ZP
3871	.$2250	BNE CMPSTRSK1
3872	.$2252	LDX #0
3873	.$2254	JMP STRCMPRES
3874	.$2257	CMPSTRSK1 LDA (TMP_ZP),Y
3875	.$2259	CMP (TMP2_ZP),Y
3876	.$225b	BNE STRCMPRES
3877	.$225d	TAX
3878	.$225e	BNE NOTZCTR
3879	.$2260	LDX #0
3880	.$2262	JMP STRCMPRES
3881	.$2265	NOTZCTR  INC TMP_ZP
3882	.$2267	BNE SCSKP1
3883	.$2269	INC TMP_ZP+1
3884	.$226b	SCSKP1  INC TMP2_ZP
3885	.$226d	BNE CMPSTRLOOP
3886	.$226f	INC TMP2_ZP+1
3887	.$2271	CMPSTRLOOP LDA (TMP_ZP),Y
3888	.$2273	CMP (TMP2_ZP),Y
3889	.$2275	BNE STRCMPRES
3890	.$2277	INY
3891	.$2278	DEX
3892	.$2279	BNE CMPSTRLOOP
3893	.$227b	STRCMPRES STX TMP3_ZP
3894	.$227d	RTS
3897	.$227e	PUSHINT  LDX FPSTACKP
3898	.$2281	STX TMP2_ZP
3899	.$2283	LDX FPSTACKP+1
3900	.$2286	STX TMP2_ZP+1
3901	.$2288	LDA TMP_ZP
3902	.$228a	LDY #0
3903	.$228c	STA (TMP2_ZP),Y
3904	.$228e	LDA TMP_ZP+1
3905	.$2290	INY
3906	.$2291	STA (TMP2_ZP),Y
3907	.$2293	LDA TMP2_ZP
3908	.$2295	CLC
3909	.$2296	ADC #2
3910	.$2298	STA FPSTACKP
3911	.$229b	LDA TMP2_ZP+1
3912	.$229d	ADC #0
3913	.$229f	STA FPSTACKP+1
3914	.$22a2	RTS
3917	.$22a3	POPINT2B LDA FPSTACKP
3918	.$22a6	SEC
3919	.$22a7	SBC #2
3920	.$22a9	STA FPSTACKP
3921	.$22ac	LDA FPSTACKP+1
3922	.$22af	SBC #0
3923	.$22b1	STA FPSTACKP+1
3924	.$22b4	LDX FPSTACKP
3925	.$22b7	STX TMP2_ZP
3926	.$22b9	LDX FPSTACKP+1
3927	.$22bc	STX TMP2_ZP+1
3928	.$22be	LDY #0
3929	.$22c0	LDA (TMP2_ZP),Y
3930	.$22c2	STA B_REG
3931	.$22c5	INY
3932	.$22c6	LDA (TMP2_ZP),Y
3933	.$22c8	STA B_REG+1
3934	.$22cb	RTS
3937	.$22cc	REALFACPUSH STA TMP_ZP
3938	.$22ce	STY TMP_ZP+1
3939	.$22d0	LDX FPSTACKP
3940	.$22d3	LDY FPSTACKP+1
3941	.$22d6	STX TMP2_ZP
3942	.$22d8	STY TMP2_ZP+1
3943	.$22da	LDY #0
3944	.$22dc	LDA (TMP_ZP),Y
3945	.$22de	STA (TMP2_ZP),Y
3946	.$22e0	INY
3947	.$22e1	LDA (TMP_ZP),Y
3948	.$22e3	STA (TMP2_ZP),Y
3949	.$22e5	INY
3950	.$22e6	LDA (TMP_ZP),Y
3951	.$22e8	STA (TMP2_ZP),Y
3952	.$22ea	INY
3953	.$22eb	LDA (TMP_ZP),Y
3954	.$22ed	STA (TMP2_ZP),Y
3955	.$22ef	INY
3956	.$22f0	LDA (TMP_ZP),Y
3957	.$22f2	STA (TMP2_ZP),Y
3958	.$22f4	TXA    
3959	.$22f5	CLC
3960	.$22f6	ADC #5
3961	.$22f8	STA FPSTACKP
3962	.$22fb	BCC NOPVRFPXX
3963	.$22fd	INC FPSTACKP+1
3964	.$2300	NOPVRFPXX RTS
3967	.$2301	REALFACPUSHMC
3968	.$2301	LDX FPSTACKP
3969	.$2304	LDY FPSTACKP+1
3970	.$2307	STX TMP2_ZP
3971	.$2309	STY TMP2_ZP+1
3972	.$230b	LDY #0
3973	.$230d	LDA MOSTCOMMON
3974	.$2310	STA (TMP2_ZP),Y
3975	.$2312	INY
3976	.$2313	LDA MOSTCOMMON+1
3977	.$2316	STA (TMP2_ZP),Y
3978	.$2318	INY
3979	.$2319	LDA MOSTCOMMON+2
3980	.$231c	STA (TMP2_ZP),Y
3981	.$231e	INY
3982	.$231f	LDA MOSTCOMMON+3
3983	.$2322	STA (TMP2_ZP),Y
3984	.$2324	INY
3985	.$2325	LDA MOSTCOMMON+4
3986	.$2328	STA (TMP2_ZP),Y
3987	.$232a	TXA    
3988	.$232b	CLC
3989	.$232c	ADC #5
3990	.$232e	STA FPSTACKP
3991	.$2331	BCC NOPVRFPXXMC
3992	.$2333	INC FPSTACKP+1
3993	.$2336	NOPVRFPXXMC
3994	.$2336	RTS
3997	.$2337	REALFACPUSHXREG
3998	.$2337	LDX FPSTACKP
3999	.$233a	LDY FPSTACKP+1
4000	.$233d	STX TMP2_ZP
4001	.$233f	STY TMP2_ZP+1
4002	.$2341	LDY #0
4003	.$2343	LDA X_REG
4004	.$2345	STA (TMP2_ZP),Y
4005	.$2347	INY
4006	.$2348	LDA X_REG+1
4007	.$234a	STA (TMP2_ZP),Y
4008	.$234c	INY
4009	.$234d	LDA X_REG+2
4010	.$234f	STA (TMP2_ZP),Y
4011	.$2351	INY
4012	.$2352	LDA X_REG+3
4013	.$2354	STA (TMP2_ZP),Y
4014	.$2356	INY
4015	.$2357	LDA X_REG+4
4016	.$2359	STA (TMP2_ZP),Y
4017	.$235b	TXA    
4018	.$235c	CLC
4019	.$235d	ADC #5
4020	.$235f	STA FPSTACKP
4021	.$2362	BCC NOPVRFPXXXREG
4022	.$2364	INC FPSTACKP+1
4023	.$2367	NOPVRFPXXXREG
4024	.$2367	RTS
4027	.$2368	PUSHREAL LDX FPSTACKP
4028	.$236b	LDY FPSTACKP+1
4029	.$236e	JSR FACMEM
4030	.$2371	LDA FPSTACKP
4031	.$2374	CLC
4032	.$2375	ADC #5
4033	.$2377	STA FPSTACKP
4034	.$237a	BCC NOPVPUR
4035	.$237c	INC FPSTACKP+1
4036	.$237f	NOPVPUR  RTS
4039	.$2380	POPREAL  LDA FPSTACKP
4040	.$2383	SEC
4041	.$2384	SBC #5
4042	.$2386	STA FPSTACKP
4043	.$2389	BCS NOPVPR
4044	.$238b	DEC FPSTACKP+1
4045	.$238e	NOPVPR  LDA FPSTACKP
4046	.$2391	LDY FPSTACKP+1
4047	.$2394	JMP REALFAC
4050	.$2397	SHL   LDA FACEXP
4051	.$2399	BEQ SHLOK
4052	.$239b	CLC
4053	.$239c	ADC A_REG
4054	.$239f	BCC SHLOK
4055	.$23a1	LDA #0
4056	.$23a3	STA FACSGN
4057	.$23a5	STA FACLO
4058	.$23a7	STA FACMO
4059	.$23a9	STA FACMOH
4060	.$23ab	STA FACHO
4061	.$23ad	LDA #$FF
4062	.$23af	SHLOK  STA FACEXP
4063	.$23b1	RTS
4066	.$23b2	INCTMPZP LDA TMP_ZP
4067	.$23b4	CLC
4068	.$23b5	ADC TMP3_ZP
4069	.$23b7	STA TMP_ZP
4070	.$23b9	BCC NOPV2
4071	.$23bb	INC TMP_ZP+1
4072	.$23bd	NOPV2  RTS
4075	.$23be	COPY2_XYA_XREG
4076	.$23be	STA TMP3_ZP
4077	.$23c0	STY TMP3_ZP+1
4078	.$23c2	COPY2_XY_XREG
4079	.$23c2	LDX #<X_REG  
4080	.$23c4	LDY #0
4081	.$23c6	LDA (TMP3_ZP),Y
4082	.$23c8	STA X_REG
4083	.$23ca	INY
4084	.$23cb	LDA (TMP3_ZP),Y
4085	.$23cd	STA X_REG+1
4086	.$23cf	INY
4087	.$23d0	LDA (TMP3_ZP),Y
4088	.$23d2	STA X_REG+2
4089	.$23d4	INY
4090	.$23d5	LDA (TMP3_ZP),Y
4091	.$23d7	STA X_REG+3
4092	.$23d9	INY
4093	.$23da	LDA (TMP3_ZP),Y
4094	.$23dc	STA X_REG+4
4095	.$23de	RTS
4098	.$23df	COPY2_XYA_CREG
4099	.$23df	STA TMP3_ZP
4100	.$23e1	STY TMP3_ZP+1
4101	.$23e3	COPY2_XY_CREG
4102	.$23e3	LDX #<C_REG  
4103	.$23e5	LDY #0
4104	.$23e7	LDA (TMP3_ZP),Y
4105	.$23e9	STA C_REG
4106	.$23ec	INY
4107	.$23ed	LDA (TMP3_ZP),Y
4108	.$23ef	STA C_REG+1
4109	.$23f2	INY
4110	.$23f3	LDA (TMP3_ZP),Y
4111	.$23f5	STA C_REG+2
4112	.$23f8	INY
4113	.$23f9	LDA (TMP3_ZP),Y
4114	.$23fb	STA C_REG+3
4115	.$23fe	INY
4116	.$23ff	LDA (TMP3_ZP),Y
4117	.$2401	STA C_REG+4
4118	.$2404	RTS
4121	.$2405	COPY2_XYA_YREG
4122	.$2405	STA TMP3_ZP
4123	.$2407	STY TMP3_ZP+1
4124	.$2409	COPY2_XY_YREG
4125	.$2409	LDX #<Y_REG  
4126	.$240b	LDY #0
4127	.$240d	LDA (TMP3_ZP),Y
4128	.$240f	STA Y_REG
4129	.$2412	INY
4130	.$2413	LDA (TMP3_ZP),Y
4131	.$2415	STA Y_REG+1
4132	.$2418	INY
4133	.$2419	LDA (TMP3_ZP),Y
4134	.$241b	STA Y_REG+2
4135	.$241e	INY
4136	.$241f	LDA (TMP3_ZP),Y
4137	.$2421	STA Y_REG+3
4138	.$2424	INY
4139	.$2425	LDA (TMP3_ZP),Y
4140	.$2427	STA Y_REG+4
4141	.$242a	RTS
4145	.$242b	FACWORD
4146	.$242b	LDA FACEXP   
4147	.$242d	BNE DOFACWORD
4148	.$242f	STA FACSGN   
4149	.$2431	DOFACWORD:
4150	.$2431	JMP XFACWORD
4154	.$2434	ONETOFAC    LDX #129
4155	.$2436	STX FAC
4156	.$2438	DEX
4157	.$2439	STX FAC+1
4158	.$243b	LDX #0
4159	.$243d	STX FAC+2
4160	.$243f	STX FAC+3
4161	.$2441	STX FAC+4
4162	.$2443	STX FAC+5
4163	.$2445	STX FAC+15
4164	.$2447	RTS
4167	.$2448	CLRCHNEW
4168	.$2448	LDA CHLOCKFLAG
4169	.$244b	BNE SKIPCLRCH
4170	.$244d	JMP CLRCH
4171	.$2450	SKIPCLRCH
4172	.$2450	RTS
4175	.$2451	INPUTLENGTHCHECK LDA INPUTLENGTH
4176	.$2454	RTS
4179	.$2455	NEXTWOFOR
4183	.$2455	LDX #$0A
4184	.$2457	JMP ERRALL
4187	.$245a	OUTOFMEMORY
4191	.$245a	LDX #$10
4192	.$245c	JMP ERRALL
4195	.$245f	STRINGTOOLONG
4199	.$245f	LDX #$17
4200	.$2461	JMP ERRALL
4203	.$2464	ILLEGALQUANTITY
4207	.$2464	JMP ERRIQ
4210	.$2467	EXTRAIGNORED
4214	.$2467	JMP ERREI
4217	.$246a	FACXREG  LDA FACLO
4218	.$246c	STA X_REG+4
4219	.$246e	LDA FACMO
4220	.$2470	STA X_REG+3
4221	.$2472	LDA FACMOH
4222	.$2474	STA X_REG+2
4223	.$2476	LDA FACSGN
4224	.$2478	ORA #$7F
4225	.$247a	AND FACHO
4226	.$247c	STA X_REG+1
4227	.$247e	LDA FACEXP
4228	.$2480	STA X_REG
4229	.$2482	LDA #0   
4230	.$2484	STA FACOV
4231	.$2486	RTS
4234	.$2487	FACYREG  LDA FACLO
4235	.$2489	STA Y_REG+4
4236	.$248c	LDA FACMO
4237	.$248e	STA Y_REG+3
4238	.$2491	LDA FACMOH
4239	.$2493	STA Y_REG+2
4240	.$2496	LDA FACSGN
4241	.$2498	ORA #$7F
4242	.$249a	AND FACHO
4243	.$249c	STA Y_REG+1
4244	.$249f	LDA FACEXP
4245	.$24a1	STA Y_REG
4246	.$24a4	LDA #0   
4247	.$24a6	STA FACOV
4248	.$24a8	RTS
4251	.$24a9	XREG2VAR
4252	.$24a9	STX TMP_ZP
4253	.$24ab	STY TMP_ZP+1
4254	.$24ad	LDY #0
4255	.$24af	LDA X_REG
4256	.$24b1	STA (TMP_ZP),Y
4257	.$24b3	INY
4258	.$24b4	LDA X_REG+1
4259	.$24b6	STA (TMP_ZP),Y
4260	.$24b8	INY
4261	.$24b9	LDA X_REG+2
4262	.$24bb	STA (TMP_ZP),Y
4263	.$24bd	INY
4264	.$24be	LDA X_REG+3
4265	.$24c0	STA (TMP_ZP),Y
4266	.$24c2	INY
4267	.$24c3	LDA X_REG+4
4268	.$24c5	STA (TMP_ZP),Y
4269	.$24c7	RTS
4272	.$24c8	XREGFAC  LDA X_REG+4
4273	.$24ca	STA FACLO
4274	.$24cc	LDA X_REG+3
4275	.$24ce	STA FACMO
4276	.$24d0	LDA X_REG+2
4277	.$24d2	STA FACMOH
4278	.$24d4	LDA X_REG+1
4279	.$24d6	STA FACSGN
4280	.$24d8	ORA #$80
4281	.$24da	STA FACHO
4282	.$24dc	LDA X_REG
4283	.$24de	STA FACEXP
4284	.$24e0	LDA #0
4285	.$24e2	STA FACOV
4286	.$24e4	RTS
4289	.$24e5	YREGFAC  LDA Y_REG+4
4290	.$24e8	STA FACLO
4291	.$24ea	LDA Y_REG+3
4292	.$24ed	STA FACMO
4293	.$24ef	LDA Y_REG+2
4294	.$24f2	STA FACMOH
4295	.$24f4	LDA Y_REG+1
4296	.$24f7	STA FACSGN
4297	.$24f9	ORA #$80
4298	.$24fb	STA FACHO
4299	.$24fd	LDA Y_REG
4300	.$2500	STA FACEXP
4301	.$2502	LDA #0
4302	.$2504	STA FACOV
4303	.$2506	RTS
4417	.$2507	FASTFSUBMEM
4418	.$2507	JSR MEMARG
4419	.$250a	FASTFSUBARG
4420	.$250a	LDA FACSGN
4421	.$250c	EOR #$FF
4422	.$250e	STA FACSGN
4423	.$2510	EOR ARGSGN
4424	.$2512	STA ARISGN
4425	.$2514	LDA FACEXP
4426	.$2516	JMP FASTFADDARG
4429	.$2519	FASTFADDMEM
4430	.$2519	JSR MEMARG
4431	.$251c	FASTFADDARG
4432	.$251c	BNE FADDRET2     
4433	.$251e	JMP ARGFAC
4434	.$2521	FADDRET2 LDA ARGEXP
4435	.$2523	BNE FADDRET1     
4436	.$2525	RTS
4437	.$2526	FADDRET1 SEC
4438	.$2527	SBC FACEXP
4439	.$2529	BEQ FFADD_EXPEQ     
4440	.$252b	BCC FFADD_SHFARG1   
4444	.$252d	LDY ARGEXP
4445	.$252f	STY FACEXP
4446	.$2531	LDY ARGSGN
4447	.$2533	STY FACSGN
4448	.$2535	LDX #0
4449	.$2537	STX OLDOV        
4450	.$2539	LDX #FAC         
4452	.$253b	SEC
4453	.$253c	SBC #$08
4454	.$253e	BMI FFADD_SHFFAC2
4456	.$2540	FFADD_SHFFAC1
4457	.$2540	LDY FACLO        
4458	.$2542	STY FACOV
4459	.$2544	LDY FACMO        
4460	.$2546	STY FACMO+1
4461	.$2548	LDY FACMOH       
4462	.$254a	STY FACMOH+1
4463	.$254c	LDY FACHO        
4464	.$254e	STY FACHO+1
4465	.$2550	LDY #0
4466	.$2552	STY FACHO        
4467	.$2554	SBC #$08         
4468	.$2556	BPL FFADD_SHFFAC1   
4469	.$2558	FFADD_SHFFAC2
4470	.$2558	ADC #$08         
4471	.$255a	BEQ FFADD_SHFFAC4   
4472	.$255c	TAY
4473	.$255d	LDA FACOV
4474	.$255f	FFADD_SHFFAC3
4475	.$255f	LSR FACHO        
4476	.$2561	ROR FACMOH       
4477	.$2563	ROR FACMO        
4478	.$2565	ROR FACLO        
4479	.$2567	ROR              
4480	.$2568	DEY
4481	.$2569	BNE FFADD_SHFFAC3
4482	.$256b	JMP FFADD_MANADD2   
4483	.$256e	FFADD_SHFFAC4
4484	.$256e	LDA FACOV        
4485	.$2570	JMP FFADD_MANADD2
4486	.$2573	FFADD_EXPEQ
4487	.$2573	LDX FACOV
4488	.$2575	STX OLDOV
4491	.$2577	JMP FFADD_MANADD1
4492	.$257a	FFADD_SHFARG2
4493	.$257a	LDA FACOV        
4494	.$257c	JMP FFADD_MANADD1
4495	.$257f	FFADD_SHFARG1
4496	.$257f	LDX FACOV
4497	.$2581	STX OLDOV        
4498	.$2583	LDX #$00         
4501	.$2585	ADC #$08
4502	.$2587	BPL FFADD_SHFARG6   
4503	.$2589	FFADD_SHFARG3
4504	.$2589	LDX ARGLO        
4505	.$258b	LDY ARGMO        
4506	.$258d	STY ARGMO+1
4507	.$258f	LDY ARGMOH       
4508	.$2591	STY ARGMOH+1
4509	.$2593	LDY ARGHO        
4510	.$2595	STY ARGHO+1
4511	.$2597	LDY #0
4512	.$2599	STY ARGHO        
4513	.$259b	FFADD_SHFARG4
4514	.$259b	ADC #$08
4515	.$259d	BMI FFADD_SHFARG3
4516	.$259f	BEQ FFADD_SHFARG3
4517	.$25a1	FFADD_SHFARG6
4518	.$25a1	SBC #$08
4519	.$25a3	BEQ FFADD_SHFARG2   
4520	.$25a5	TAY
4521	.$25a6	TXA              
4522	.$25a7	FFADD_SHFARG5
4523	.$25a7	LSR ARGHO
4524	.$25a9	ROR ARGMOH
4525	.$25ab	ROR ARGMO
4526	.$25ad	ROR ARGLO
4527	.$25af	ROR           
4528	.$25b0	INY
4529	.$25b1	BNE FFADD_SHFARG5
4530	.$25b3	FFADD_MANADD1
4531	.$25b3	LDX #ARGEXP      
4532	.$25b5	FFADD_MANADD2
4533	.$25b5	BIT ARISGN
4534	.$25b7	BMI FFADD_MANSUB1   
4535	.$25b9	CLC
4536	.$25ba	ADC OLDOV
4537	.$25bc	STA FACOV
4538	.$25be	LDA FACLO
4539	.$25c0	ADC ARGLO
4540	.$25c2	STA FACLO
4541	.$25c4	LDA FACMO
4542	.$25c6	ADC ARGMO
4543	.$25c8	STA FACMO
4544	.$25ca	LDA FACMOH
4545	.$25cc	ADC ARGMOH
4546	.$25ce	STA FACMOH
4547	.$25d0	LDA FACHO
4548	.$25d2	ADC ARGHO
4549	.$25d4	STA FACHO
4550	.$25d6	BCC FFADD_RNDRTS
4551	.$25d8	INC FACEXP
4552	.$25da	BEQ FFADD_OVERR
4554	.$25dc	ROR FACHO
4555	.$25de	ROR FACMOH
4556	.$25e0	ROR FACMO
4557	.$25e2	ROR FACLO
4558	.$25e4	ROR FACOV
4559	.$25e6	FFADD_RNDRTS
4560	.$25e6	RTS
4561	.$25e7	FFADD_OVERR
4562	.$25e7	JMP ILLEGALQUANTITY
4563	.$25ea	FFADD_MANSUB1
4564	.$25ea	LDY #FACEXP
4565	.$25ec	CPX #ARGEXP
4566	.$25ee	BEQ FFADD_MANSUB2
4567	.$25f0	LDY #ARGEXP
4568	.$25f2	FFADD_MANSUB2
4569	.$25f2	SEC              
4570	.$25f3	EOR #$FF
4571	.$25f5	ADC OLDOV
4572	.$25f7	STA FACOV
4573	.$25f9	LDA 4,Y
4574	.$25fc	SBC 4,X
4575	.$25fe	STA FACLO
4576	.$2600	LDA 3,Y
4577	.$2603	SBC 3,X
4578	.$2605	STA FACMO
4579	.$2607	LDA 2,Y
4580	.$260a	SBC 2,X
4581	.$260c	STA FACMOH
4582	.$260e	LDA 1,Y
4583	.$2611	SBC 1,X
4584	.$2613	STA FACHO
4585	.$2615	BCS FCNORMAL
4586	.$2617	LDA FACSGN
4587	.$2619	EOR #$FF
4588	.$261b	STA FACSGN
4589	.$261d	LDA FACHO
4590	.$261f	EOR #$FF
4591	.$2621	STA FACHO
4592	.$2623	LDA FACMOH
4593	.$2625	EOR #$FF
4594	.$2627	STA FACMOH
4595	.$2629	LDA FACMO
4596	.$262b	EOR #$FF
4597	.$262d	STA FACMO
4598	.$262f	LDA FACLO
4599	.$2631	EOR #$FF
4600	.$2633	STA FACLO
4601	.$2635	LDA FACOV
4602	.$2637	EOR #$FF
4603	.$2639	CLC
4604	.$263a	ADC #1
4605	.$263c	STA FACOV
4606	.$263e	BNE FCNORMAL
4607	.$2640	INC FACLO
4608	.$2642	BNE FCNORMAL
4609	.$2644	INC FACMO
4610	.$2646	BNE FCNORMAL
4611	.$2648	INC FACMOH
4612	.$264a	BNE FCNORMAL
4613	.$264c	INC FACHO
4614	.$264e	FCNORMAL   BIT FACHO
4615	.$2650	BMI FFADD_RET       
4616	.$2652	LDA #0           
4617	.$2654	CLC
4618	.$2655	FFADD_NORM3
4619	.$2655	LDX FACHO
4620	.$2657	BNE FFADD_NORM1
4621	.$2659	LDX FACHO+1
4622	.$265b	STX FACHO
4623	.$265d	LDX FACMOH+1
4624	.$265f	STX FACMOH
4625	.$2661	LDX FACMO+1
4626	.$2663	STX FACMO
4627	.$2665	LDX FACOV
4628	.$2667	STX FACLO
4629	.$2669	LDX #0
4630	.$266b	STX FACOV
4631	.$266d	ADC #$08
4632	.$266f	CMP #$20
4633	.$2671	BNE FFADD_NORM3
4634	.$2673	JMP FFADD_ZEROFAC
4635	.$2676	FFADD_NORM2
4636	.$2676	CLC
4637	.$2677	ADC #1
4638	.$2679	ASL FACOV
4639	.$267b	ROL FACLO
4640	.$267d	ROL FACMO
4641	.$267f	ROL FACMOH
4642	.$2681	ROL FACHO
4643	.$2683	FFADD_NORM1
4644	.$2683	BPL FFADD_NORM2     
4645	.$2685	SEC
4646	.$2686	SBC FACEXP
4647	.$2688	BCS FFADD_ZEROFAC
4648	.$268a	EOR #$FF
4649	.$268c	CLC
4650	.$268d	ADC #1
4651	.$268f	STA FACEXP
4652	.$2691	FFADD_RET   RTS
4653	.$2692	FFADD_ZEROFAC
4654	.$2692	LDX #0
4655	.$2694	STX FACEXP
4656	.$2696	STX FACSGN
4657	.$2698	RTS
4660	.$2699	INITVARS
4661	.$2699	JSR INITSTRVARS
4662	.$269c	LDA #0
4663	.$269e	LDY #4
4664	.$26a0	REALINITLOOP0:
4665	.$26a0	STA VAR_E,Y
4666	.$26a3	STA VAR_EZ,Y
4667	.$26a6	STA VAR_DO,Y
4668	.$26a9	STA VAR_X,Y
4669	.$26ac	STA VAR_A,Y
4670	.$26af	STA VAR_LA,Y
4671	.$26b2	STA VAR_I,Y
4672	.$26b5	STA VAR_Z,Y
4673	.$26b8	STA VAR_LB,Y
4674	.$26bb	STA VAR_MO,Y
4675	.$26be	DEY
4676	.$26bf	BMI REALLOOPEXIT0
4677	.$26c1	JMP REALINITLOOP0
4678	.$26c4	REALLOOPEXIT0:
4679	.$26c4	RTS
4683	.$26c5	CONSTANTS
4691	.$26c5	CONST_2 .BYTE 24
4692	.$26c6	.STRG "1 - dezimalzahl eingeben"
4694	.$26de	CONST_3 .BYTE 19
4695	.$26df	.STRG "2 - e-zahl eingeben"
4697	.$26f2	CONST_4 .BYTE 0
4698	.$26f3	.STRG ""
4700	.$26f3	CONST_5 .BYTE 16
4701	.$26f4	.STRG "?redo from start"
4704	.$2704	MOSTCOMMON
4705	.$2704	CONST_6R .REAL 1.0
4708	.$2709	CONST_7R .REAL 2.0
4710	.$270e	CONST_8 .BYTE 4
4711	.$270f	.STRG "zahl"
4713	.$2713	CONST_9 .BYTE 6
4714	.$2714	.STRG "e-zahl"
4716	.$271a	CONST_10 .BYTE 1
4717	.$271b	.STRG " "
4719	.$271c	CONST_11 .BYTE 1
4720	.$271d	.STRG "e"
4722	.$271e	CONST_12 .BYTE 22
4723	.$271f	.STRG "zahl ist keine e-zahl."
4725	.$2735	CONST_13 .BYTE 1
4726	.$2736	.STRG "+"
4728	.$2737	CONST_14 .BYTE 1
4729	.$2738	.STRG "."
4731	.$2739	CONST_15 .BYTE 1
4732	.$273a	.STRG "0"
4734	.$273b	CONST_16 .BYTE 3
4735	.$273c	.STRG "000"
4738	.$273f	CONST_17R .REAL 3.0
4741	.$2744	CONST_18R .REAL 4.0
4743	.$2749	CONST_19 .BYTE 2
4744	.$274a	.STRG "0."
4747	.$274c	DATAS
4748	.$274c	.BYTE $FF
4750	.$274d	CONSTANTS_END
4753	.$274d	VARIABLES
4755	.$274d	VAR_E .REAL 0.0
4757	.$2752	VAR_EZ .REAL 0.0
4759	.$2757	VAR_DO .REAL 0.0
4761	.$275c	VAR_X .REAL 0.0
4763	.$2761	VAR_A .REAL 0.0
4765	.$2766	VAR_LA .REAL 0.0
4767	.$276b	VAR_I .REAL 0.0
4769	.$2770	VAR_Z .REAL 0.0
4771	.$2775	VAR_LB .REAL 0.0
4773	.$277a	VAR_MO .REAL 0.0
4774	.$277f	STRINGVARS_START
4776	.$277f	VAR_A$ .WORD EMPTYSTR
4778	.$2781	VAR_V$ .WORD EMPTYSTR
4780	.$2783	VAR_C$ .WORD EMPTYSTR
4782	.$2785	VAR_S1$ .WORD EMPTYSTR
4784	.$2787	VAR_S2$ .WORD EMPTYSTR
4786	.$2789	VAR_S3$ .WORD EMPTYSTR
4788	.$278b	VAR_B$ .WORD EMPTYSTR
4790	.$278d	VAR_S4$ .WORD EMPTYSTR
4792	.$278f	VAR_S5$ .WORD EMPTYSTR
4794	.$2791	VAR_TI$ .WORD EMPTYSTR
4795	.$2793	STRINGVARS_END
4796	.$2793	STRINGARRAYS_START
4797	.$2793	STRINGARRAYS_END
4798	.$2793	VARIABLES_END
4800	.$2793	Y_REG .REAL 0.0
4801	.$2798	C_REG .REAL 0.0
4802	.$279d	D_REG .REAL 0.0
4803	.$27a2	E_REG .REAL 0.0
4804	.$27a7	F_REG .REAL 0.0
4805	.$27ac	A_REG .WORD 0
4806	.$27ae	B_REG .WORD 0
4807	.$27b0	CMD_NUM .BYTE 0
4808	.$27b1	CHANNEL .BYTE 0
4809	.$27b2	SP_SAVE .BYTE 0
4810	.$27b3	TMP2_REG .WORD 0
4811	.$27b5	TMP3_REG .WORD 0
4812	.$27b7	TMP4_REG .WORD 0
4813	.$27b9	AS_TMP .WORD 0
4814	.$27bb	BPOINTER_TMP .WORD 0
4815	.$27bd	BASICTEXTP .BYTE 0
4816	.$27be	STORE1 .WORD 0
4817	.$27c0	STORE2 .WORD 0
4818	.$27c2	STORE3 .WORD 0
4819	.$27c4	STORE4 .WORD 0
4820	.$27c6	GCSTART .WORD 0
4821	.$27c8	GCLEN .WORD 0
4822	.$27ca	GCWORK .WORD 0
4823	.$27cc	INPUTLENGTH .BYTE 0
4824	.$27cd	TMP_FREG .REAL 0
4825	.$27d2	TMP2_FREG .REAL 0
4826	.$27d7	TMP_FLAG .BYTE 0
4827	.$27d8	INT_FLAG .BYTE 0
4828	.$27d9	REAL_CONST_ONE .REAL 1.0
4829	.$27de	REAL_CONST_ZERO .REAL 0.0
4830	.$27e3	REAL_CONST_MINUS_ONE .REAL -1.0
4831	.$27e8	CHLOCKFLAG .BYTE 0
4832	.$27e9	EMPTYSTR .BYTE 0
4833	.$27ea	FPSTACKP .WORD FPSTACK
4834	.$27ec	FORSTACKP .WORD FORSTACK
4835	.$27ee	DATASP .WORD DATAS
4836	.$27f0	LASTVAR .WORD 0
4837	.$27f2	LASTVARP .WORD 0
4838	.$27f4	HIGHP .WORD STRBUF
4839	.$27f6	STRBUFP .WORD STRBUF
4840	.$27f8	ENDSTRBUF .WORD 0
4841	.$27fa	INPUTQUEUEP .BYTE 0
4842	.$27fb	PROGRAMEND
4843	.$27fb	INPUTQUEUE .ARRAY $0F
4844	.$280a	FPSTACK .ARRAY 100
4845	.$286e	FORSTACK .ARRAY 340
4846	.$29c2	STRBUF .BYTE 0
