117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
128	.$81f	LDA #147
129	.$821	JSR SINGLECHROUTMAX
132	.$824	LDY #15
133	.$826	STY 53280
135	.$829	STY 53281
137	.$82c	LDY #0
138	.$82e	STY 646
141	.$831	LINE_20:
143	.$831	LDA #0
144	.$833	STA VAR_CN
145	.$836	STA VAR_CN+1
146	.$839	STA VAR_CN+2
147	.$83c	STA VAR_CN+3
148	.$83f	STA VAR_CN+4
150	.$842	STA VAR_X
151	.$845	STA VAR_X+1
152	.$848	STA VAR_X+2
153	.$84b	STA VAR_X+3
154	.$84e	STA VAR_X+4
157	.$851	LINE_25:
159	.$851	LDA #<CONST_3
160	.$853	LDY #>CONST_3
161	.$855	STA A_REG
162	.$858	STY A_REG+1
163	.$85b	LDA #<CONST_2R
164	.$85d	LDY #>CONST_2R
165	.$85f	JSR COPY2_XYA_XREG
169	.$862	LDA #<VAR_OP$[]
170	.$864	LDY #>VAR_OP$[]
171	.$866	STA G_REG
172	.$868	STY G_REG+1
173	.$86a	JSR ARRAYSTORE_STRING
174	.$86d	LDA #<CONST_5
175	.$86f	LDY #>CONST_5
176	.$871	STA A_REG
177	.$874	STY A_REG+1
178	.$877	LDA #<CONST_4R
179	.$879	LDY #>CONST_4R
180	.$87b	JSR COPY2_XYA_XREG
184	.$87e	LDA #<VAR_OP$[]
185	.$880	LDY #>VAR_OP$[]
186	.$882	STA G_REG
187	.$884	STY G_REG+1
188	.$886	JSR ARRAYSTORE_STRING
190	.$889	LINE_30:
192	.$889	JSR GOSUB
193	.$88c	JSR LINE_1000
195	.$88f	LINE_40:
197	.$88f	LDA VAR_X
198	.$892	BEQ EQ_SKIP0
199	.$894	EQ_EQ0:
200	.$894	JMP LINE_SKIP29
201	.$897	EQ_SKIP0:
202	.$897	COMP_SKP0:
206	.$897	LINE_NSKIP29:
208	.$897	JSR GOSUB
209	.$89a	JSR LINE_1200
211	.$89d	LINE_SKIP29:
214	.$89d	LINE_45:
216	.$89d	LDA #<CONST_2R
217	.$89f	LDY #>CONST_2R
218	.$8a1	JSR REALFAC
219	.$8a4	LDA #<VAR_CN
220	.$8a6	LDY #>VAR_CN
221	.$8a8	JSR CMPFAC
223	.$8ab	BCC LTEQ_LTEQ1
224	.$8ad	BEQ LTEQ_LTEQ1
225	.$8af	LDA #0
226	.$8b1	JMP LTEQ_SKIP1
227	.$8b4	LTEQ_LTEQ1:
228	.$8b4	LDA #$1
229	.$8b6	LTEQ_SKIP1:
230	.$8b6	COMP_SKP1:
231	.$8b6	BEQ LINE_SKIP30
234	.$8b8	LINE_NSKIP30:
236	.$8b8	JSR RUN
238	.$8bb	LINE_SKIP30:
241	.$8bb	LINE_50:
243	.$8bb	LDA #<CONST_6R
244	.$8bd	LDY #>CONST_6R
245	.$8bf	JSR REALFAC
246	.$8c2	LDA #<VAR_CN
247	.$8c4	LDY #>VAR_CN
248	.$8c6	JSR CMPFAC
250	.$8c9	BEQ GTEQ_GTEQ2
251	.$8cb	BCS GTEQ_GTEQ2
252	.$8cd	LDA #0
253	.$8cf	JMP GTEQ_SKIP2
254	.$8d2	GTEQ_GTEQ2:
255	.$8d2	LDA #$1
256	.$8d4	GTEQ_SKIP2:
257	.$8d4	COMP_SKP2:
258	.$8d4	BEQ LINE_SKIP31
261	.$8d6	LINE_NSKIP31:
263	.$8d6	LDX #4
264	.$8d8	dcloop401_1:
265	.$8d8	LDA CONST_4R,X
266	.$8db	STA VAR_X,X
267	.$8de	DEX
268	.$8df	BPL dcloop401_1
271	.$8e1	LINE_SKIP31:
274	.$8e1	LINE_60:
276	.$8e1	JSR ONETOFAC
278	.$8e4	LDA #<VAR_X
279	.$8e6	LDY #>VAR_X
280	.$8e8	JSR CMPFAC
281	.$8eb	EQ_EQ3:
282	.$8eb	EQ_SKIP3:
283	.$8eb	COMP_SKP3:
284	.$8eb	BNE LINE_SKIP32
285	.$8ed	LINE_NSKIP32:
288	.$8ed	JMP LINE_100
290	.$8f0	LINE_SKIP32:
293	.$8f0	LINE_70:
295	.$8f0	JSR GOSUB
296	.$8f3	JSR LINE_2000
297	.$8f6	JMP LINE_30
299	.$8f9	LINE_100:
301	.$8f9	LDA #<CONST_7
302	.$8fb	LDY #>CONST_7
303	.$8fd	STA TMP_ZP
304	.$8ff	STY TMP_ZP+1
306	.$901	JSR WRITETID
307	.$904	JSR GOSUB
308	.$907	JSR LINE_2000
310	.$90a	LINE_110:
312	.$90a	LDA #<CONST_8
313	.$90c	LDY #>CONST_8
314	.$90e	STA TMP_ZP
315	.$910	STY TMP_ZP+1
316	.$912	LDA #<VAR_MG$
317	.$914	LDY #>VAR_MG$
318	.$916	JSR COPYSTRING
320	.$919	JSR GOSUB
321	.$91c	JSR LINE_10000
323	.$91f	LINE_120:
325	.$91f	LDA #0
326	.$921	STA VAR_DC
327	.$924	STA VAR_DC+1
328	.$927	STA VAR_DC+2
329	.$92a	STA VAR_DC+3
330	.$92d	STA VAR_DC+4
332	.$930	JSR GOSUB
333	.$933	JSR LINE_1500
334	.$936	LDY #15
335	.$938	STY 53280
338	.$93b	LINE_130:
340	.$93b	JSR ONETOFAC
342	.$93e	LDA #<VAR_DC
343	.$940	LDY #>VAR_DC
344	.$942	JSR CMPFAC
345	.$945	EQ_EQ4:
346	.$945	EQ_SKIP4:
347	.$945	COMP_SKP4:
348	.$945	BNE LINE_SKIP33
349	.$947	LINE_NSKIP33:
352	.$947	JSR GOSUB
353	.$94a	JSR LINE_2000
354	.$94d	LDA #<CONST_9
355	.$94f	LDY #>CONST_9
356	.$951	STA TMP_ZP
357	.$953	STY TMP_ZP+1
358	.$955	LDA #<VAR_MG$
359	.$957	LDY #>VAR_MG$
360	.$959	JSR COPYSTRING
362	.$95c	JSR GOSUB
363	.$95f	JSR LINE_10000
365	.$962	LINE_SKIP33:
368	.$962	LINE_140:
370	.$962	LDA #0
371	.$964	STA VAR_DC
372	.$967	STA VAR_DC+1
373	.$96a	STA VAR_DC+2
374	.$96d	STA VAR_DC+3
375	.$970	STA VAR_DC+4
377	.$973	JSR GOSUB
378	.$976	JSR LINE_1600
380	.$979	LINE_150:
382	.$979	JSR ONETOFAC
384	.$97c	LDA #<VAR_DC
385	.$97e	LDY #>VAR_DC
386	.$980	JSR CMPFAC
387	.$983	EQ_EQ5:
388	.$983	EQ_SKIP5:
389	.$983	COMP_SKP5:
390	.$983	BNE LINE_SKIP34
391	.$985	LINE_NSKIP34:
394	.$985	JSR GOSUB
395	.$988	JSR LINE_2000
396	.$98b	LDA #<CONST_10
397	.$98d	LDY #>CONST_10
398	.$98f	STA TMP_ZP
399	.$991	STY TMP_ZP+1
400	.$993	LDA #<VAR_MG$
401	.$995	LDY #>VAR_MG$
402	.$997	JSR COPYSTRING
404	.$99a	JSR GOSUB
405	.$99d	JSR LINE_10000
407	.$9a0	LINE_SKIP34:
410	.$9a0	LINE_160:
412	.$9a0	LDA #0
413	.$9a2	STA VAR_DC
414	.$9a5	STA VAR_DC+1
415	.$9a8	STA VAR_DC+2
416	.$9ab	STA VAR_DC+3
417	.$9ae	STA VAR_DC+4
419	.$9b1	JSR GOSUB
420	.$9b4	JSR LINE_1900
421	.$9b7	LDY #15
422	.$9b9	STY 53280
425	.$9bc	LINE_170:
427	.$9bc	JSR ONETOFAC
429	.$9bf	LDA #<VAR_DC
430	.$9c1	LDY #>VAR_DC
431	.$9c3	JSR CMPFAC
432	.$9c6	EQ_EQ6:
433	.$9c6	EQ_SKIP6:
434	.$9c6	COMP_SKP6:
435	.$9c6	BNE LINE_SKIP35
436	.$9c8	LINE_NSKIP35:
439	.$9c8	JSR GOSUB
440	.$9cb	JSR LINE_2000
441	.$9ce	LDA #<CONST_11
442	.$9d0	LDY #>CONST_11
443	.$9d2	STA TMP_ZP
444	.$9d4	STY TMP_ZP+1
445	.$9d6	LDA #<VAR_MG$
446	.$9d8	LDY #>VAR_MG$
447	.$9da	JSR COPYSTRING
449	.$9dd	JSR GOSUB
450	.$9e0	JSR LINE_10000
452	.$9e3	LINE_SKIP35:
455	.$9e3	LINE_180:
457	.$9e3	JSR GOSUB
458	.$9e6	JSR LINE_4000
460	.$9e9	LINE_200:
462	.$9e9	LDA #<CONST_12
463	.$9eb	LDY #>CONST_12
464	.$9ed	JSR STROUTWL
466	.$9f0	JSR END
467	.$9f3	RTS
469	.$9f4	LINE_1000:
471	.$9f4	LDA #<CONST_13
472	.$9f6	LDY #>CONST_13
473	.$9f8	JSR STROUTWL
476	.$9fb	LINE_1010:
478	.$9fb	LDA #<CONST_14
479	.$9fd	LDY #>CONST_14
480	.$9ff	JSR STROUTWL
483	.$a02	LINE_1015:
485	.$a02	LDA #<CONST_15
486	.$a04	LDY #>CONST_15
487	.$a06	JSR STROUTWL
490	.$a09	LINE_1020:
492	.$a09	LDY #0
493	.$a0b	TYA
495	.$a0c	STY VAR_Z%
496	.$a0f	STA VAR_Z%+1
497	.$a12	LDA #<CONST_16
498	.$a14	LDY #>CONST_16
499	.$a16	JSR STROUTWL
501	.$a19	LDY #1
502	.$a1b	LDA #0
503	.$a1d	STY A_REG
504	.$a20	STA A_REG+1
505	.$a23	LDA #<VAR_CN
506	.$a25	LDY #>VAR_CN
507	.$a27	JSR COPY2_XYA_XREG
510	.$a2a	JSR XREGFAC
513	.$a2d	JSR SHR
514	.$a30	JSR FACXREG
516	.$a33	JSR ONETOFAC
520	.$a36	LDA #<X_REG
521	.$a38	LDY #>X_REG
523	.$a3a	JSR FASTFADDMEM
526	.$a3d	JSR FACXREG
528	.$a40	JSR REALOUT
529	.$a43	JSR CRSRRIGHT
530	.$a46	INPUT3:
531	.$a46	JSR CLEARQUEUE
532	.$a49	JSR COMPACTMAX
533	.$a4c	LDA #<CONST_17
534	.$a4e	LDY #>CONST_17
535	.$a50	JSR STROUTWL
537	.$a53	JSR QMARKOUT1
538	.$a56	JSR INPUTNUMBER
539	.$a59	LDA X_REG
540	.$a5b	COMP_SKP7:
541	.$a5b	BEQ INPUT3_0
543	.$a5d	LDA #<CONST_18
544	.$a5f	LDY #>CONST_18
545	.$a61	JSR STROUTBRKWL
548	.$a64	JMP INPUT3
549	.$a67	INPUT3_0:
550	.$a67	JSR INPUTLENGTHCHECK
551	.$a6a	BEQ EMPTYINPUTSKIP4
552	.$a6c	JSR YREGFAC
555	.$a6f	JSR FACINT
556	.$a72	STY VAR_Z%
557	.$a75	STA VAR_Z%+1
558	.$a78	EMPTYINPUTSKIP4:
559	.$a78	JSR QUEUESIZE
560	.$a7b	LDA X_REG
561	.$a7d	COMP_SKP8:
562	.$a7d	BEQ INPUTCHECK3
564	.$a7f	JSR EXTRAIGNORED
565	.$a82	INPUTCHECK3:
567	.$a82	LINE_1030:
569	.$a82	LDA #$00
570	.$a84	LDY #$00
571	.$a86	STA TMP_ZP
572	.$a88	STY TMP_ZP+1
573	.$a8a	LDY VAR_Z%
574	.$a8d	LDA VAR_Z%+1
575	.$a90	JSR ICMP
587	.$a93	BEQ EQ_EQ7
588	.$a95	LDA #0
589	.$a97	JMP EQ_SKIP7
590	.$a9a	EQ_EQ7:
591	.$a9a	LDA #$1
592	.$a9c	EQ_SKIP7:
593	.$a9c	COMP_SKP9:
594	.$a9c	BNE LINE_NSKIP36
596	.$a9e	JMP LINE_SKIP36
598	.$aa1	LINE_NSKIP36:
600	.$aa1	LDX #4
601	.$aa3	dcloop899_1:
602	.$aa3	LDA CONST_4R,X
603	.$aa6	STA VAR_X,X
604	.$aa9	DEX
605	.$aaa	BPL dcloop899_1
607	.$aac	LDA #<CONST_19R
608	.$aae	LDY #>CONST_19R
609	.$ab0	JSR REALFAC
610	.$ab3	LDA #<VAR_CN
611	.$ab5	LDY #>VAR_CN
612	.$ab7	JSR FASTFSUBMEM
617	.$aba	LDX #<VAR_CN
618	.$abc	LDY #>VAR_CN
620	.$abe	JSR FACMEM
621	.$ac1	JMP RETURN
623	.$ac4	LINE_SKIP36:
626	.$ac4	LINE_1040:
628	.$ac4	LDY #0
629	.$ac6	TYA
631	.$ac7	STY VAR_N%
632	.$aca	STA VAR_N%+1
633	.$acd	LDA #<CONST_20
634	.$acf	LDY #>CONST_20
635	.$ad1	JSR STROUTWL
637	.$ad4	LDY #1
638	.$ad6	LDA #0
639	.$ad8	STY A_REG
640	.$adb	STA A_REG+1
641	.$ade	LDA #<VAR_CN
642	.$ae0	LDY #>VAR_CN
643	.$ae2	JSR COPY2_XYA_XREG
646	.$ae5	JSR XREGFAC
649	.$ae8	JSR SHR
650	.$aeb	JSR FACXREG
652	.$aee	JSR ONETOFAC
656	.$af1	LDA #<X_REG
657	.$af3	LDY #>X_REG
659	.$af5	JSR FASTFADDMEM
662	.$af8	JSR FACXREG
664	.$afb	JSR REALOUT
665	.$afe	JSR CRSRRIGHT
666	.$b01	INPUT4:
667	.$b01	JSR CLEARQUEUE
668	.$b04	JSR COMPACTMAX
669	.$b07	LDA #<CONST_17
670	.$b09	LDY #>CONST_17
671	.$b0b	JSR STROUTWL
673	.$b0e	JSR QMARKOUT1
674	.$b11	JSR INPUTNUMBER
675	.$b14	LDA X_REG
676	.$b16	COMP_SKP10:
677	.$b16	BEQ INPUT4_0
679	.$b18	LDA #<CONST_18
680	.$b1a	LDY #>CONST_18
681	.$b1c	JSR STROUTBRKWL
684	.$b1f	JMP INPUT4
685	.$b22	INPUT4_0:
686	.$b22	JSR INPUTLENGTHCHECK
687	.$b25	BEQ EMPTYINPUTSKIP5
688	.$b27	JSR YREGFAC
691	.$b2a	JSR FACINT
692	.$b2d	STY VAR_N%
693	.$b30	STA VAR_N%+1
694	.$b33	EMPTYINPUTSKIP5:
695	.$b33	JSR QUEUESIZE
696	.$b36	LDA X_REG
697	.$b38	COMP_SKP11:
698	.$b38	BEQ INPUTCHECK4
700	.$b3a	JSR EXTRAIGNORED
701	.$b3d	INPUTCHECK4:
703	.$b3d	LINE_1050:
705	.$b3d	LDA #$00
706	.$b3f	LDY #$00
707	.$b41	STA TMP_ZP
708	.$b43	STY TMP_ZP+1
709	.$b45	LDY VAR_N%
710	.$b48	LDA VAR_N%+1
711	.$b4b	JSR ICMP
723	.$b4e	EQ_EQ8:
724	.$b4e	EQ_SKIP8:
725	.$b4e	COMP_SKP12:
726	.$b4e	BNE LINE_SKIP37
727	.$b50	LINE_NSKIP37:
730	.$b50	LDY #1
731	.$b52	LDA #0
733	.$b54	STY VAR_N%
734	.$b57	STA VAR_N%+1
736	.$b5a	LINE_SKIP37:
739	.$b5a	LINE_1060:
741	.$b5a	LDA #<VAR_CN
742	.$b5c	LDY #>VAR_CN
743	.$b5e	JSR COPY2_XYA_XREG
747	.$b61	LDY VAR_Z%
748	.$b64	LDA VAR_Z%+1
749	.$b67	STY AS_TMP
750	.$b6a	STA AS_TMP+1
751	.$b6d	LDA #<VAR_FR%[]
752	.$b6f	LDY #>VAR_FR%[]
753	.$b71	STA G_REG
754	.$b73	STY G_REG+1
755	.$b75	JSR ARRAYSTORE_INT_INTEGER
757	.$b78	JSR ONETOFAC
759	.$b7b	LDA #<VAR_CN
760	.$b7d	LDY #>VAR_CN
761	.$b7f	JSR FASTFADDMEM
765	.$b82	JSR FACXREG
767	.$b85	LDY VAR_N%
768	.$b88	LDA VAR_N%+1
769	.$b8b	STY AS_TMP
770	.$b8e	STA AS_TMP+1
771	.$b91	LDA #<VAR_FR%[]
772	.$b93	LDY #>VAR_FR%[]
773	.$b95	STA G_REG
774	.$b97	STY G_REG+1
775	.$b99	JSR ARRAYSTORE_INT_INTEGER
778	.$b9c	LINE_1070:
780	.$b9c	JMP RETURN
782	.$b9f	LINE_1200:
784	.$b9f	LDX #4
785	.$ba1	dceloop4816_1:
786	.$ba1	LDA CONST_21R,X
787	.$ba4	CMP VAR_CN,X
788	.$ba7	BNE LINE_SKIP38
789	.$ba9	DEX
790	.$baa	BPL dceloop4816_1
792	.$bac	LINE_NSKIP38:
795	.$bac	LDX #4
796	.$bae	dcloop1231_1:
797	.$bae	LDA CONST_4R,X
798	.$bb1	STA VAR_X,X
799	.$bb4	DEX
800	.$bb5	BPL dcloop1231_1
802	.$bb7	JMP RETURN
804	.$bba	LINE_SKIP38:
807	.$bba	LINE_1205:
809	.$bba	LDA #<CONST_15
810	.$bbc	LDY #>CONST_15
811	.$bbe	JSR STROUTWL
814	.$bc1	LINE_1210:
816	.$bc1	LDA #<CONST_22
817	.$bc3	LDY #>CONST_22
818	.$bc5	JSR STROUTWL
821	.$bc8	LINE_1220:
823	.$bc8	INPUT5:
824	.$bc8	JSR CLEARQUEUE
825	.$bcb	JSR COMPACTMAX
826	.$bce	LDA #<CONST_17
827	.$bd0	LDY #>CONST_17
828	.$bd2	JSR STROUTWL
830	.$bd5	JSR QMARKOUT1
831	.$bd8	JSR INPUTSTR
832	.$bdb	JSR INPUTLENGTHCHECK
833	.$bde	BEQ EMPTYINPUTSKIP6
834	.$be0	LDA A_REG
835	.$be3	LDY A_REG+1
836	.$be6	STA TMP_ZP
837	.$be8	STY TMP_ZP+1
838	.$bea	LDA #<VAR_A$
839	.$bec	LDY #>VAR_A$
840	.$bee	JSR COPYSTRING
841	.$bf1	EMPTYINPUTSKIP6:
842	.$bf1	JSR QUEUESIZE
843	.$bf4	LDA X_REG
844	.$bf6	COMP_SKP14:
845	.$bf6	BEQ INPUTCHECK5
847	.$bf8	JSR EXTRAIGNORED
848	.$bfb	INPUTCHECK5:
849	.$bfb	LDA #<CONST_17
850	.$bfd	LDY #>CONST_17
851	.$bff	STA B_REG
852	.$c02	STY B_REG+1
853	.$c05	LDA VAR_A$
854	.$c08	LDY VAR_A$+1
855	.$c0b	STA A_REG
856	.$c0e	STY A_REG+1
858	.$c11	JSR SEQ
859	.$c14	LDA X_REG
860	.$c16	COMP_SKP15:
861	.$c16	BEQ LINE_SKIP39
864	.$c18	LINE_NSKIP39:
866	.$c18	LDX #4
867	.$c1a	dcloop1231_2:
868	.$c1a	LDA CONST_4R,X
869	.$c1d	STA VAR_X,X
870	.$c20	DEX
871	.$c21	BPL dcloop1231_2
873	.$c23	JMP RETURN
875	.$c26	LINE_SKIP39:
878	.$c26	LINE_1230:
880	.$c26	LDA #<CONST_5
881	.$c28	LDY #>CONST_5
882	.$c2a	STA B_REG
883	.$c2d	STY B_REG+1
884	.$c30	LDA VAR_A$
885	.$c33	LDY VAR_A$+1
886	.$c36	STA A_REG
887	.$c39	STY A_REG+1
889	.$c3c	JSR SNEQ
890	.$c3f	LDY #>X_REG
891	.$c41	LDA #<X_REG
893	.$c43	JSR REALFACPUSH
896	.$c46	LDA #<CONST_3
897	.$c48	LDY #>CONST_3
898	.$c4a	STA B_REG
899	.$c4d	STY B_REG+1
900	.$c50	LDA VAR_A$
901	.$c53	LDY VAR_A$+1
902	.$c56	STA A_REG
903	.$c59	STY A_REG+1
905	.$c5c	JSR SNEQ
906	.$c5f	JSR POPREAL2X
908	.$c62	JSR FASTAND
911	.$c65	JSR FACXREG
913	.$c68	LDA X_REG
914	.$c6a	COMP_SKP16:
915	.$c6a	BEQ LINE_SKIP40
918	.$c6c	LINE_NSKIP40:
920	.$c6c	JMP LINE_1200
922	.$c6f	LINE_SKIP40:
925	.$c6f	LINE_1240:
927	.$c6f	LDY #0
928	.$c71	TYA
930	.$c72	STY VAR_OP%
931	.$c75	STA VAR_OP%+1
932	.$c78	LDA #<CONST_5
933	.$c7a	LDY #>CONST_5
934	.$c7c	STA B_REG
935	.$c7f	STY B_REG+1
936	.$c82	LDA VAR_A$
937	.$c85	LDY VAR_A$+1
938	.$c88	STA A_REG
939	.$c8b	STY A_REG+1
941	.$c8e	JSR SEQ
942	.$c91	LDA X_REG
943	.$c93	COMP_SKP17:
944	.$c93	BEQ LINE_SKIP41
947	.$c95	LINE_NSKIP41:
949	.$c95	LDY #1
950	.$c97	LDA #0
952	.$c99	STY VAR_OP%
953	.$c9c	STA VAR_OP%+1
955	.$c9f	LINE_SKIP41:
958	.$c9f	LINE_1250:
960	.$c9f	LDY #1
961	.$ca1	LDA #0
962	.$ca3	STY A_REG
963	.$ca6	STA A_REG+1
964	.$ca9	LDA #<VAR_CN
965	.$cab	LDY #>VAR_CN
966	.$cad	JSR COPY2_XYA_XREG
969	.$cb0	JSR XREGFAC
972	.$cb3	JSR SHR
973	.$cb6	JSR FACXREG
975	.$cb9	LDY VAR_OP%
976	.$cbc	LDA VAR_OP%+1
977	.$cbf	STY AS_TMP
978	.$cc2	STA AS_TMP+1
979	.$cc5	LDA #<VAR_OP%[]
980	.$cc7	LDY #>VAR_OP%[]
981	.$cc9	STA G_REG
982	.$ccb	STY G_REG+1
983	.$ccd	JSR ARRAYSTORE_INT_INTEGER
985	.$cd0	LDA #<CONST_19R
986	.$cd2	LDY #>CONST_19R
987	.$cd4	JSR REALFAC
988	.$cd7	LDA #<VAR_CN
989	.$cd9	LDY #>VAR_CN
990	.$cdb	JSR FASTFADDMEM
995	.$cde	LDX #<VAR_CN
996	.$ce0	LDY #>VAR_CN
998	.$ce2	JSR FACMEM
999	.$ce5	JMP RETURN
1001	.$ce8	LINE_1499:
1004	.$ce8	LINE_1500:
1006	.$ce8	LDA #0
1007	.$cea	STA VAR_I
1008	.$ced	STA VAR_I+1
1009	.$cf0	STA VAR_I+2
1010	.$cf3	STA VAR_I+3
1011	.$cf6	STA VAR_I+4
1013	.$cf9	LDA #<VAR_CN
1014	.$cfb	LDY #>VAR_CN
1015	.$cfd	JSR REALFACPUSH
1017	.$d00	LDA #<CONST_19R
1018	.$d02	LDY #>CONST_19R
1019	.$d04	JSR REALFACPUSH
1021	.$d07	LDA #<VAR_I
1022	.$d09	LDY #>VAR_I
1023	.$d0b	STA A_REG
1024	.$d0e	STY A_REG+1
1025	.$d11	LDA #<FORLOOP0
1026	.$d13	STA JUMP_TARGET
1027	.$d15	LDA #>FORLOOP0
1028	.$d17	STA JUMP_TARGET+1
1029	.$d19	JSR INITFOR
1030	.$d1c	FORLOOP0:
1032	.$d1c	LINE_1510:
1034	.$d1c	LDA #<VAR_I
1035	.$d1e	LDY #>VAR_I
1036	.$d20	JSR COPY2_XYA_XREG
1040	.$d23	LDA #<VAR_FR%[]
1041	.$d25	LDY #>VAR_FR%[]
1042	.$d27	JSR ARRAYACCESS_INTEGER_SI
1043	.$d2a	STY VAR_Z%
1044	.$d2d	STA VAR_Z%+1
1046	.$d30	JSR ONETOFAC
1048	.$d33	LDA #<VAR_I
1049	.$d35	LDY #>VAR_I
1050	.$d37	JSR FASTFADDMEM
1054	.$d3a	JSR FACXREG
1056	.$d3d	LDA #<VAR_FR%[]
1057	.$d3f	LDY #>VAR_FR%[]
1058	.$d41	JSR ARRAYACCESS_INTEGER_SI
1059	.$d44	STY VAR_N%
1060	.$d47	STA VAR_N%+1
1063	.$d4a	LINE_1520:
1065	.$d4a	JSR GOSUB
1066	.$d4d	JSR LINE_1800
1068	.$d50	LINE_1530:
1070	.$d50	LDA #<VAR_I
1071	.$d52	LDY #>VAR_I
1072	.$d54	JSR COPY2_XYA_XREG
1076	.$d57	LDY VAR_Z%
1077	.$d5a	LDA VAR_Z%+1
1078	.$d5d	STY AS_TMP
1079	.$d60	STA AS_TMP+1
1080	.$d63	LDA #<VAR_FR%[]
1081	.$d65	LDY #>VAR_FR%[]
1082	.$d67	STA G_REG
1083	.$d69	STY G_REG+1
1084	.$d6b	JSR ARRAYSTORE_INT_INTEGER
1086	.$d6e	JSR ONETOFAC
1088	.$d71	LDA #<VAR_I
1089	.$d73	LDY #>VAR_I
1090	.$d75	JSR FASTFADDMEM
1094	.$d78	JSR FACXREG
1096	.$d7b	LDY VAR_N%
1097	.$d7e	LDA VAR_N%+1
1098	.$d81	STY AS_TMP
1099	.$d84	STA AS_TMP+1
1100	.$d87	LDA #<VAR_FR%[]
1101	.$d89	LDY #>VAR_FR%[]
1102	.$d8b	STA G_REG
1103	.$d8d	STY G_REG+1
1104	.$d8f	JSR ARRAYSTORE_INT_INTEGER
1107	.$d92	LINE_1540:
1109	.$d92	LDA #0
1110	.$d94	STA A_REG
1111	.$d97	STA A_REG+1
1112	.$d9a	JSR NEXT
1114	.$d9d	LDA A_REG
1115	.$da0	BNE RBEQ_0
1116	.$da2	JMP (JUMP_TARGET)
1118	.$da5	RBEQ_0:
1119	.$da5	JMP RETURN
1121	.$da8	LINE_1599:
1124	.$da8	LINE_1600:
1126	.$da8	LDX #4
1127	.$daa	dcloop1729_1:
1128	.$daa	LDA CONST_19R,X
1129	.$dad	STA VAR_I,X
1130	.$db0	DEX
1131	.$db1	BPL dcloop1729_1
1133	.$db3	LDA #<VAR_CN
1134	.$db5	LDY #>VAR_CN
1135	.$db7	JSR REALFACPUSH
1137	.$dba	LDA #<CONST_19R
1138	.$dbc	LDY #>CONST_19R
1139	.$dbe	JSR REALFACPUSH
1141	.$dc1	LDA #<VAR_I
1142	.$dc3	LDY #>VAR_I
1143	.$dc5	STA A_REG
1144	.$dc8	STY A_REG+1
1145	.$dcb	LDA #<FORLOOP1
1146	.$dcd	STA JUMP_TARGET
1147	.$dcf	LDA #>FORLOOP1
1148	.$dd1	STA JUMP_TARGET+1
1149	.$dd3	JSR INITFOR
1150	.$dd6	FORLOOP1:
1152	.$dd6	LINE_1610:
1154	.$dd6	LDA #<CONST_19R
1155	.$dd8	LDY #>CONST_19R
1156	.$dda	JSR REALFAC
1157	.$ddd	LDA #<VAR_I
1158	.$ddf	LDY #>VAR_I
1159	.$de1	JSR FASTFSUBMEM
1163	.$de4	JSR FACXREG
1164	.$de7	LDY #1
1165	.$de9	STY A_REG
1167	.$dec	JSR SHR
1169	.$def	JSR FACXREG
1171	.$df2	LDA #<VAR_OP%[]
1172	.$df4	LDY #>VAR_OP%[]
1173	.$df6	JSR ARRAYACCESS_INTEGER_SI
1174	.$df9	STY VAR_OP%
1175	.$dfc	STA VAR_OP%+1
1178	.$dff	LINE_1620:
1180	.$dff	LDA #$01
1181	.$e01	LDY #$00
1182	.$e03	STA TMP_ZP
1183	.$e05	STY TMP_ZP+1
1184	.$e07	LDY VAR_OP%
1185	.$e0a	LDA VAR_OP%+1
1186	.$e0d	JSR ICMP
1198	.$e10	EQ_EQ10:
1199	.$e10	EQ_SKIP10:
1200	.$e10	COMP_SKP19:
1201	.$e10	BNE LINE_SKIP42
1202	.$e12	LINE_NSKIP42:
1205	.$e12	JSR GOSUB
1206	.$e15	JSR LINE_1650
1208	.$e18	LINE_SKIP42:
1211	.$e18	LINE_1630:
1213	.$e18	LDA #0
1214	.$e1a	STA A_REG
1215	.$e1d	STA A_REG+1
1216	.$e20	JSR NEXT
1218	.$e23	LDA A_REG
1219	.$e26	BNE RBEQ_1
1220	.$e28	JMP (JUMP_TARGET)
1222	.$e2b	RBEQ_1:
1223	.$e2b	JMP RETURN
1225	.$e2e	LINE_1650:
1227	.$e2e	LDA #<CONST_19R
1228	.$e30	LDY #>CONST_19R
1229	.$e32	JSR REALFAC
1230	.$e35	LDA #<VAR_I
1231	.$e37	LDY #>VAR_I
1232	.$e39	JSR FASTFSUBMEM
1236	.$e3c	JSR FACXREG
1237	.$e3f	LDY #1
1238	.$e41	STY A_REG
1240	.$e44	JSR SHR
1242	.$e47	JSR FACXREG
1244	.$e4a	LDY #0
1245	.$e4c	TYA
1246	.$e4d	STY AS_TMP
1247	.$e50	STA AS_TMP+1
1248	.$e53	LDA #<VAR_OP%[]
1249	.$e55	LDY #>VAR_OP%[]
1250	.$e57	STA G_REG
1251	.$e59	STY G_REG+1
1252	.$e5b	JSR ARRAYSTORE_INT_INTEGER
1254	.$e5e	LDA #<VAR_I
1255	.$e60	LDY #>VAR_I
1256	.$e62	JSR COPY2_XYA_XREG
1260	.$e65	LDA #<VAR_FR%[]
1261	.$e67	LDY #>VAR_FR%[]
1262	.$e69	JSR ARRAYACCESS_INTEGER_SI
1263	.$e6c	STY VAR_T%
1264	.$e6f	STA VAR_T%+1
1266	.$e72	LDA #<VAR_I
1267	.$e74	LDY #>VAR_I
1268	.$e76	JSR REALFACPUSH
1270	.$e79	JSR ONETOFAC
1272	.$e7c	LDA #<VAR_I
1273	.$e7e	LDY #>VAR_I
1274	.$e80	JSR FASTFADDMEM
1278	.$e83	JSR FACXREG
1279	.$e86	LDA #<VAR_FR%[]
1280	.$e88	LDY #>VAR_FR%[]
1281	.$e8a	JSR ARRAYACCESS_INTEGER_SNX
1284	.$e8d	JSR COPY_XREG2YREG
1288	.$e90	JSR POPREALXREG
1290	.$e93	LDA #<VAR_FR%[]
1291	.$e95	LDY #>VAR_FR%[]
1292	.$e97	STA G_REG
1293	.$e99	STY G_REG+1
1294	.$e9b	JSR ARRAYSTORE_INTEGER_NX
1297	.$e9e	LINE_1660:
1299	.$e9e	JSR ONETOFAC
1301	.$ea1	LDA #<VAR_I
1302	.$ea3	LDY #>VAR_I
1303	.$ea5	JSR FASTFADDMEM
1307	.$ea8	JSR FACXREG
1309	.$eab	LDY VAR_T%
1310	.$eae	LDA VAR_T%+1
1311	.$eb1	STY AS_TMP
1312	.$eb4	STA AS_TMP+1
1313	.$eb7	LDA #<VAR_FR%[]
1314	.$eb9	LDY #>VAR_FR%[]
1315	.$ebb	STA G_REG
1316	.$ebd	STY G_REG+1
1317	.$ebf	JSR ARRAYSTORE_INT_INTEGER
1319	.$ec2	LDX #4
1320	.$ec4	dcloop1895_1:
1321	.$ec4	LDA CONST_4R,X
1322	.$ec7	STA VAR_DC,X
1323	.$eca	DEX
1324	.$ecb	BPL dcloop1895_1
1326	.$ecd	JMP RETURN
1328	.$ed0	LINE_1800:
1330	.$ed0	LDY VAR_Z%
1331	.$ed3	LDA VAR_Z%+1
1333	.$ed6	STY VAR_MX%
1334	.$ed9	STA VAR_MX%+1
1337	.$edc	JSR INTFAC
1338	.$edf	JSR FACYREG
1340	.$ee2	LDY VAR_N%
1341	.$ee5	LDA VAR_N%+1
1343	.$ee8	JSR INTFAC
1344	.$eeb	JSR FACXREG
1346	.$eee	JSR YREGFAC
1348	.$ef1	LDA #<X_REG
1349	.$ef3	LDY #>X_REG
1351	.$ef5	JSR CMPFAC
1352	.$ef8	BEQ LT_LT_EQ11
1353	.$efa	ROL
1354	.$efb	BCC LT_LT11
1355	.$efd	LT_LT_EQ11:
1356	.$efd	LDA #0
1357	.$eff	JMP LT_SKIP11
1358	.$f02	LT_LT11:
1359	.$f02	LDA #$1
1360	.$f04	LT_SKIP11:
1361	.$f04	COMP_SKP21:
1362	.$f04	BEQ LINE_SKIP43
1365	.$f06	LINE_NSKIP43:
1367	.$f06	LDY VAR_N%
1368	.$f09	LDA VAR_N%+1
1370	.$f0c	STY VAR_MX%
1371	.$f0f	STA VAR_MX%+1
1373	.$f12	LINE_SKIP43:
1376	.$f12	LINE_1805:
1378	.$f12	LDA #$01
1379	.$f14	LDY #$00
1380	.$f16	STA TMP_ZP
1381	.$f18	STY TMP_ZP+1
1382	.$f1a	LDY VAR_MX%
1383	.$f1d	LDA VAR_MX%+1
1384	.$f20	JSR ICMP
1396	.$f23	BCC LTEQ_LTEQ12
1397	.$f25	BEQ LTEQ_LTEQ12
1398	.$f27	LDA #0
1399	.$f29	JMP LTEQ_SKIP12
1400	.$f2c	LTEQ_LTEQ12:
1401	.$f2c	LDA #$1
1402	.$f2e	LTEQ_SKIP12:
1403	.$f2e	COMP_SKP22:
1404	.$f2e	BEQ LINE_SKIP44
1407	.$f30	LINE_NSKIP44:
1409	.$f30	JMP RETURN
1411	.$f33	LINE_SKIP44:
1414	.$f33	LINE_1810:
1416	.$f33	LDY VAR_MX%
1417	.$f36	LDA VAR_MX%+1
1419	.$f39	JSR INTFAC
1421	.$f3c	LDX #<VAR_M
1422	.$f3e	LDY #>VAR_M
1424	.$f40	JSR FACMEM
1425	.$f43	LDA #<CONST_19R
1426	.$f45	LDY #>CONST_19R
1427	.$f47	JSR REALFACPUSH
1429	.$f4a	LDA #<CONST_23
1430	.$f4c	LDY #>CONST_23
1431	.$f4e	JSR REALFACPUSH
1433	.$f51	LDA #<VAR_M
1434	.$f53	LDY #>VAR_M
1435	.$f55	STA A_REG
1436	.$f58	STY A_REG+1
1437	.$f5b	LDA #<FORLOOP2
1438	.$f5d	STA JUMP_TARGET
1439	.$f5f	LDA #>FORLOOP2
1440	.$f61	STA JUMP_TARGET+1
1441	.$f63	JSR INITFOR
1442	.$f66	FORLOOP2:
1443	.$f66	LDA #<CONST_1R
1444	.$f68	LDY #>CONST_1R
1445	.$f6a	JSR REALFAC
1446	.$f6d	LDA #<VAR_M
1447	.$f6f	LDY #>VAR_M
1448	.$f71	JSR MEMARG
1449	.$f74	JSR FASTAND
1454	.$f77	JSR FACWORD
1455	.$f7a	STY 53280
1457	.$f7d	LINE_1820:
1459	.$f7d	LDA #<VAR_M
1460	.$f7f	LDY #>VAR_M
1461	.$f81	JSR COPY2_XYA_YREG
1465	.$f84	LDY VAR_Z%
1466	.$f87	LDA VAR_Z%+1
1468	.$f8a	JSR INTFAC
1469	.$f8d	JSR FACXREG
1471	.$f90	JSR YREGFAC
1473	.$f93	LDA #<X_REG
1474	.$f95	LDY #>X_REG
1476	.$f97	JSR FACDIV
1479	.$f9a	LDX #<VAR_K
1480	.$f9c	LDY #>VAR_K
1481	.$f9e	JSR FACMEM
1485	.$fa1	JSR BASINT
1487	.$fa4	LDA #<VAR_K
1488	.$fa6	LDY #>VAR_K
1489	.$fa8	JSR COPY2_XYA_XREG
1492	.$fab	LDA #<X_REG
1493	.$fad	LDY #>X_REG
1495	.$faf	JSR CMPFAC
1496	.$fb2	BEQ EQ_EQ13
1497	.$fb4	LDA #0
1498	.$fb6	JMP EQ_SKIP13
1499	.$fb9	EQ_EQ13:
1500	.$fb9	LDA #$1
1501	.$fbb	EQ_SKIP13:
1502	.$fbb	COMP_SKP23:
1503	.$fbb	BNE LINE_NSKIP45
1505	.$fbd	JMP LINE_SKIP45
1507	.$fc0	LINE_NSKIP45:
1509	.$fc0	LDA #<VAR_M
1510	.$fc2	LDY #>VAR_M
1511	.$fc4	JSR COPY2_XYA_YREG
1515	.$fc7	LDY VAR_N%
1516	.$fca	LDA VAR_N%+1
1518	.$fcd	JSR INTFAC
1519	.$fd0	JSR FACXREG
1521	.$fd3	JSR YREGFAC
1523	.$fd6	LDA #<X_REG
1524	.$fd8	LDY #>X_REG
1526	.$fda	JSR FACDIV
1529	.$fdd	LDX #<VAR_K
1530	.$fdf	LDY #>VAR_K
1531	.$fe1	JSR FACMEM
1535	.$fe4	JSR BASINT
1537	.$fe7	LDA #<VAR_K
1538	.$fe9	LDY #>VAR_K
1539	.$feb	JSR COPY2_XYA_XREG
1542	.$fee	LDA #<X_REG
1543	.$ff0	LDY #>X_REG
1545	.$ff2	JSR CMPFAC
1546	.$ff5	EQ_EQ14:
1547	.$ff5	EQ_SKIP14:
1548	.$ff5	COMP_SKP24:
1549	.$ff5	BNE LINE_SKIP46
1550	.$ff7	LINE_NSKIP46:
1553	.$ff7	JSR GOSUB
1554	.$ffa	JSR LINE_1840
1556	.$ffd	LINE_SKIP46:
1559	.$ffd	LINE_SKIP45:
1562	.$ffd	LINE_1825:
1564	.$ffd	LDY VAR_MX%
1565	.$1000	LDA VAR_MX%+1
1566	.$1003	JSR INTFAC
1567	.$1006	LDA #<VAR_M
1568	.$1008	LDY #>VAR_M
1569	.$100a	JSR COPY2_XYA_XREG
1572	.$100d	LDA #<X_REG
1573	.$100f	LDY #>X_REG
1575	.$1011	JSR CMPFAC
1576	.$1014	EQ_EQ15:
1577	.$1014	EQ_SKIP15:
1578	.$1014	COMP_SKP25:
1579	.$1014	BNE LINE_SKIP47
1580	.$1016	LINE_NSKIP47:
1583	.$1016	LDY #1
1584	.$1018	LDA #0
1585	.$101a	STY A_REG
1586	.$101d	STA A_REG+1
1587	.$1020	LDY VAR_MX%
1588	.$1023	LDA VAR_MX%+1
1590	.$1026	JSR INTFAC
1593	.$1029	JSR SHR
1597	.$102c	JSR BASINT
1599	.$102f	LDX #<VAR_M
1600	.$1031	LDY #>VAR_M
1602	.$1033	JSR FACMEM
1604	.$1036	LINE_SKIP47:
1607	.$1036	LINE_1830:
1609	.$1036	LDA #0
1610	.$1038	STA A_REG
1611	.$103b	STA A_REG+1
1612	.$103e	JSR NEXT
1614	.$1041	LDA A_REG
1615	.$1044	BNE RBEQ_2
1616	.$1046	JMP (JUMP_TARGET)
1618	.$1049	RBEQ_2:
1619	.$1049	JMP RETURN
1621	.$104c	LINE_1840:
1623	.$104c	LDA #<VAR_M
1624	.$104e	LDY #>VAR_M
1625	.$1050	JSR COPY2_XYA_YREG
1629	.$1053	LDY VAR_Z%
1630	.$1056	LDA VAR_Z%+1
1632	.$1059	JSR INTFAC
1633	.$105c	JSR FACXREG
1635	.$105f	JSR YREGFAC
1637	.$1062	LDA #<X_REG
1638	.$1064	LDY #>X_REG
1640	.$1066	JSR FACDIV
1644	.$1069	JSR FACINT
1645	.$106c	STY VAR_Z%
1646	.$106f	STA VAR_Z%+1
1647	.$1072	LDA #<VAR_M
1648	.$1074	LDY #>VAR_M
1649	.$1076	JSR COPY2_XYA_YREG
1653	.$1079	LDY VAR_N%
1654	.$107c	LDA VAR_N%+1
1656	.$107f	JSR INTFAC
1657	.$1082	JSR FACXREG
1659	.$1085	JSR YREGFAC
1661	.$1088	LDA #<X_REG
1662	.$108a	LDY #>X_REG
1664	.$108c	JSR FACDIV
1668	.$108f	JSR FACINT
1669	.$1092	STY VAR_N%
1670	.$1095	STA VAR_N%+1
1671	.$1098	LDX #4
1672	.$109a	dcloop2393_1:
1673	.$109a	LDA CONST_4R,X
1674	.$109d	STA VAR_DC,X
1675	.$10a0	DEX
1676	.$10a1	BPL dcloop2393_1
1678	.$10a3	JMP RETURN
1680	.$10a6	LINE_1899:
1683	.$10a6	LINE_1900:
1685	.$10a6	LDA #0
1686	.$10a8	STA VAR_I
1687	.$10ab	STA VAR_I+1
1688	.$10ae	STA VAR_I+2
1689	.$10b1	STA VAR_I+3
1690	.$10b4	STA VAR_I+4
1692	.$10b7	LDA #<CONST_19R
1693	.$10b9	LDY #>CONST_19R
1694	.$10bb	JSR REALFAC
1695	.$10be	LDA #<VAR_CN
1696	.$10c0	LDY #>VAR_CN
1697	.$10c2	JSR FASTFSUBMEM
1702	.$10c5	JSR PUSHREAL
1703	.$10c8	LDA #<CONST_19R
1704	.$10ca	LDY #>CONST_19R
1705	.$10cc	JSR REALFACPUSH
1707	.$10cf	LDA #<VAR_I
1708	.$10d1	LDY #>VAR_I
1709	.$10d3	STA A_REG
1710	.$10d6	STY A_REG+1
1711	.$10d9	LDA #<FORLOOP3
1712	.$10db	STA JUMP_TARGET
1713	.$10dd	LDA #>FORLOOP3
1714	.$10df	STA JUMP_TARGET+1
1715	.$10e1	JSR INITFOR
1716	.$10e4	FORLOOP3:
1718	.$10e4	LINE_1910:
1720	.$10e4	LDA #<CONST_19R
1721	.$10e6	LDY #>CONST_19R
1722	.$10e8	JSR REALFAC
1723	.$10eb	LDA #<VAR_I
1724	.$10ed	LDY #>VAR_I
1725	.$10ef	JSR FASTFADDMEM
1730	.$10f2	LDX #<VAR_P
1731	.$10f4	LDY #>VAR_P
1733	.$10f6	JSR FACMEM
1734	.$10f9	LDA #<VAR_CN
1735	.$10fb	LDY #>VAR_CN
1736	.$10fd	JSR REALFACPUSH
1738	.$1100	LDA #<CONST_19R
1739	.$1102	LDY #>CONST_19R
1740	.$1104	JSR REALFACPUSH
1742	.$1107	LDA #<VAR_P
1743	.$1109	LDY #>VAR_P
1744	.$110b	STA A_REG
1745	.$110e	STY A_REG+1
1746	.$1111	LDA #<FORLOOP4
1747	.$1113	STA JUMP_TARGET
1748	.$1115	LDA #>FORLOOP4
1749	.$1117	STA JUMP_TARGET+1
1750	.$1119	JSR INITFOR
1751	.$111c	FORLOOP4:
1753	.$111c	LINE_1920:
1755	.$111c	LDA #<VAR_I
1756	.$111e	LDY #>VAR_I
1757	.$1120	JSR COPY2_XYA_XREG
1761	.$1123	LDA #<VAR_FR%[]
1762	.$1125	LDY #>VAR_FR%[]
1763	.$1127	JSR ARRAYACCESS_INTEGER_SI
1764	.$112a	STY VAR_Z%
1765	.$112d	STA VAR_Z%+1
1767	.$1130	JSR ONETOFAC
1769	.$1133	LDA #<VAR_P
1770	.$1135	LDY #>VAR_P
1771	.$1137	JSR FASTFADDMEM
1775	.$113a	JSR FACXREG
1777	.$113d	LDA #<VAR_FR%[]
1778	.$113f	LDY #>VAR_FR%[]
1779	.$1141	JSR ARRAYACCESS_INTEGER_SI
1780	.$1144	STY VAR_N%
1781	.$1147	STA VAR_N%+1
1784	.$114a	LINE_1930:
1786	.$114a	JSR GOSUB
1787	.$114d	JSR LINE_1800
1789	.$1150	LINE_1940:
1791	.$1150	LDA #<VAR_I
1792	.$1152	LDY #>VAR_I
1793	.$1154	JSR COPY2_XYA_XREG
1797	.$1157	LDY VAR_Z%
1798	.$115a	LDA VAR_Z%+1
1799	.$115d	STY AS_TMP
1800	.$1160	STA AS_TMP+1
1801	.$1163	LDA #<VAR_FR%[]
1802	.$1165	LDY #>VAR_FR%[]
1803	.$1167	STA G_REG
1804	.$1169	STY G_REG+1
1805	.$116b	JSR ARRAYSTORE_INT_INTEGER
1807	.$116e	JSR ONETOFAC
1809	.$1171	LDA #<VAR_P
1810	.$1173	LDY #>VAR_P
1811	.$1175	JSR FASTFADDMEM
1815	.$1178	JSR FACXREG
1817	.$117b	LDY VAR_N%
1818	.$117e	LDA VAR_N%+1
1819	.$1181	STY AS_TMP
1820	.$1184	STA AS_TMP+1
1821	.$1187	LDA #<VAR_FR%[]
1822	.$1189	LDY #>VAR_FR%[]
1823	.$118b	STA G_REG
1824	.$118d	STY G_REG+1
1825	.$118f	JSR ARRAYSTORE_INT_INTEGER
1828	.$1192	LINE_1950:
1830	.$1192	LDA #<VAR_P
1831	.$1194	LDY #>VAR_P
1832	.$1196	JSR COPY2_XYA_XREG
1836	.$1199	LDA #<VAR_FR%[]
1837	.$119b	LDY #>VAR_FR%[]
1838	.$119d	JSR ARRAYACCESS_INTEGER_SI
1839	.$11a0	STY VAR_Z%
1840	.$11a3	STA VAR_Z%+1
1842	.$11a6	JSR ONETOFAC
1844	.$11a9	LDA #<VAR_I
1845	.$11ab	LDY #>VAR_I
1846	.$11ad	JSR FASTFADDMEM
1850	.$11b0	JSR FACXREG
1852	.$11b3	LDA #<VAR_FR%[]
1853	.$11b5	LDY #>VAR_FR%[]
1854	.$11b7	JSR ARRAYACCESS_INTEGER_SI
1855	.$11ba	STY VAR_N%
1856	.$11bd	STA VAR_N%+1
1859	.$11c0	LINE_1960:
1861	.$11c0	JSR GOSUB
1862	.$11c3	JSR LINE_1800
1864	.$11c6	LINE_1970:
1866	.$11c6	LDA #<VAR_P
1867	.$11c8	LDY #>VAR_P
1868	.$11ca	JSR COPY2_XYA_XREG
1872	.$11cd	LDY VAR_Z%
1873	.$11d0	LDA VAR_Z%+1
1874	.$11d3	STY AS_TMP
1875	.$11d6	STA AS_TMP+1
1876	.$11d9	LDA #<VAR_FR%[]
1877	.$11db	LDY #>VAR_FR%[]
1878	.$11dd	STA G_REG
1879	.$11df	STY G_REG+1
1880	.$11e1	JSR ARRAYSTORE_INT_INTEGER
1882	.$11e4	JSR ONETOFAC
1884	.$11e7	LDA #<VAR_I
1885	.$11e9	LDY #>VAR_I
1886	.$11eb	JSR FASTFADDMEM
1890	.$11ee	JSR FACXREG
1892	.$11f1	LDY VAR_N%
1893	.$11f4	LDA VAR_N%+1
1894	.$11f7	STY AS_TMP
1895	.$11fa	STA AS_TMP+1
1896	.$11fd	LDA #<VAR_FR%[]
1897	.$11ff	LDY #>VAR_FR%[]
1898	.$1201	STA G_REG
1899	.$1203	STY G_REG+1
1900	.$1205	JSR ARRAYSTORE_INT_INTEGER
1903	.$1208	LINE_1980:
1905	.$1208	LDA #<VAR_P
1906	.$120a	LDY #>VAR_P
1907	.$120c	STA A_REG
1908	.$120f	STY A_REG+1
1909	.$1212	JSR NEXT
1910	.$1215	LDA A_REG
1911	.$1218	BNE RBEQ_3
1912	.$121a	JMP (JUMP_TARGET)
1914	.$121d	RBEQ_3:
1915	.$121d	LDA #<VAR_I
1916	.$121f	LDY #>VAR_I
1917	.$1221	STA A_REG
1918	.$1224	STY A_REG+1
1919	.$1227	JSR NEXT
1920	.$122a	LDA A_REG
1921	.$122d	BNE RBEQ_4
1922	.$122f	JMP (JUMP_TARGET)
1924	.$1232	RBEQ_4:
1925	.$1232	JMP RETURN
1927	.$1235	LINE_1999:
1930	.$1235	LINE_2000:
1932	.$1235	LDA #147
1933	.$1237	JSR SINGLECHROUTMAX
1937	.$123a	LINE_2010:
1939	.$123a	LDA #0
1940	.$123c	STA VAR_I
1941	.$123f	STA VAR_I+1
1942	.$1242	STA VAR_I+2
1943	.$1245	STA VAR_I+3
1944	.$1248	STA VAR_I+4
1946	.$124b	LDA #<VAR_CN
1947	.$124d	LDY #>VAR_CN
1948	.$124f	JSR REALFACPUSH
1950	.$1252	LDA #<CONST_19R
1951	.$1254	LDY #>CONST_19R
1952	.$1256	JSR REALFACPUSH
1954	.$1259	LDA #<VAR_I
1955	.$125b	LDY #>VAR_I
1956	.$125d	STA A_REG
1957	.$1260	STY A_REG+1
1958	.$1263	LDA #<FORLOOP5
1959	.$1265	STA JUMP_TARGET
1960	.$1267	LDA #>FORLOOP5
1961	.$1269	STA JUMP_TARGET+1
1962	.$126b	JSR INITFOR
1963	.$126e	FORLOOP5:
1965	.$126e	LINE_2020:
1967	.$126e	LDA #<VAR_I
1968	.$1270	LDY #>VAR_I
1969	.$1272	JSR COPY2_XYA_XREG
1973	.$1275	LDA #<VAR_FR%[]
1974	.$1277	LDY #>VAR_FR%[]
1975	.$1279	JSR ARRAYACCESS_INTEGER_SI
1976	.$127c	STY VAR_Z%
1977	.$127f	STA VAR_Z%+1
1979	.$1282	JSR ONETOFAC
1981	.$1285	LDA #<VAR_I
1982	.$1287	LDY #>VAR_I
1983	.$1289	JSR FASTFADDMEM
1987	.$128c	JSR FACXREG
1989	.$128f	LDA #<VAR_FR%[]
1990	.$1291	LDY #>VAR_FR%[]
1991	.$1293	JSR ARRAYACCESS_INTEGER_SI
1992	.$1296	STY VAR_N%
1993	.$1299	STA VAR_N%+1
1995	.$129c	LDY #255
1996	.$129e	LDA #255
1997	.$12a0	STY VAR_OP%
1998	.$12a3	STA VAR_OP%+1
2004	.$12a6	LINE_2030:
2006	.$12a6	LDA #<CONST_2R
2007	.$12a8	LDY #>CONST_2R
2008	.$12aa	JSR REALFAC
2009	.$12ad	LDA #<VAR_I
2010	.$12af	LDY #>VAR_I
2011	.$12b1	JSR CMPFAC
2013	.$12b4	ROL
2014	.$12b5	BCS GT_GT16
2015	.$12b7	LDA #0
2016	.$12b9	JMP GT_SKIP16
2017	.$12bc	GT_GT16:
2018	.$12bc	LDA #$1
2019	.$12be	GT_SKIP16:
2020	.$12be	COMP_SKP29:
2021	.$12be	BNE LINE_NSKIP48
2023	.$12c0	JMP LINE_SKIP48
2025	.$12c3	LINE_NSKIP48:
2027	.$12c3	LDA #<CONST_19R
2028	.$12c5	LDY #>CONST_19R
2029	.$12c7	JSR REALFAC
2030	.$12ca	LDA #<VAR_I
2031	.$12cc	LDY #>VAR_I
2032	.$12ce	JSR FASTFSUBMEM
2036	.$12d1	JSR FACXREG
2037	.$12d4	LDY #1
2038	.$12d6	STY A_REG
2040	.$12d9	JSR SHR
2042	.$12dc	JSR FACXREG
2044	.$12df	LDA #<VAR_OP%[]
2045	.$12e1	LDY #>VAR_OP%[]
2046	.$12e3	JSR ARRAYACCESS_INTEGER_SI
2047	.$12e6	STY VAR_OP%
2048	.$12e9	STA VAR_OP%+1
2051	.$12ec	LINE_SKIP48:
2054	.$12ec	LINE_2040:
2056	.$12ec	LDY #1
2057	.$12ee	LDA #0
2058	.$12f0	STY A_REG
2059	.$12f3	STA A_REG+1
2060	.$12f6	LDA #<VAR_I
2061	.$12f8	LDY #>VAR_I
2062	.$12fa	JSR COPY2_XYA_XREG
2065	.$12fd	JSR XREGFAC
2068	.$1300	JSR SHR
2071	.$1303	JSR FACINT
2072	.$1306	STY VAR_PP%
2073	.$1309	STA VAR_PP%+1
2074	.$130c	LDA #0
2075	.$130e	STA VAR_EO
2076	.$1311	STA VAR_EO+1
2077	.$1314	STA VAR_EO+2
2078	.$1317	STA VAR_EO+3
2079	.$131a	STA VAR_EO+4
2081	.$131d	JSR GOSUB
2082	.$1320	JSR LINE_3000
2084	.$1323	LINE_2050:
2086	.$1323	LDA #0
2087	.$1325	STA A_REG
2088	.$1328	STA A_REG+1
2089	.$132b	JSR NEXT
2091	.$132e	LDA A_REG
2092	.$1331	BNE RBEQ_5
2093	.$1333	JMP (JUMP_TARGET)
2095	.$1336	RBEQ_5:
2097	.$1336	LINE_2060:
2099	.$1336	LDA #<CONST_2R
2100	.$1338	LDY #>CONST_2R
2101	.$133a	JSR REALFAC
2102	.$133d	LDA #<VAR_CN
2103	.$133f	LDY #>VAR_CN
2104	.$1341	JSR CMPFAC
2106	.$1344	ROL
2107	.$1345	BCS GT_GT17
2108	.$1347	LDA #<REAL_CONST_ZERO
2109	.$1349	LDY #>REAL_CONST_ZERO
2110	.$134b	JMP GT_SKIP17
2111	.$134e	GT_GT17:
2112	.$134e	LDA #<REAL_CONST_MINUS_ONE
2113	.$1350	LDY #>REAL_CONST_MINUS_ONE
2114	.$1352	GT_SKIP17:
2116	.$1352	JSR REALFACPUSH
2118	.$1355	LDA #<CONST_2R
2119	.$1357	LDY #>CONST_2R
2120	.$1359	JSR REALFAC
2121	.$135c	LDA #<VAR_EO
2122	.$135e	LDY #>VAR_EO
2123	.$1360	JSR CMPFAC
2125	.$1363	BEQ EQ_EQ18
2126	.$1365	LDA #<REAL_CONST_ZERO
2127	.$1367	LDY #>REAL_CONST_ZERO
2128	.$1369	JMP EQ_SKIP18
2129	.$136c	EQ_EQ18:
2130	.$136c	LDA #<REAL_CONST_MINUS_ONE
2131	.$136e	LDY #>REAL_CONST_MINUS_ONE
2132	.$1370	EQ_SKIP18:
2134	.$1370	JSR REALFAC
2135	.$1373	JSR FACXREG
2137	.$1376	JSR POPREAL2X
2139	.$1379	JSR FASTAND
2142	.$137c	JSR FACXREG
2144	.$137f	LDA X_REG
2145	.$1381	COMP_SKP31:
2146	.$1381	BNE LINE_NSKIP49
2148	.$1383	JMP LINE_SKIP49
2150	.$1386	LINE_NSKIP49:
2152	.$1386	LDA #<CONST_24
2153	.$1388	LDY #>CONST_24
2154	.$138a	JSR STROUTWL
2156	.$138d	JSR ONETOFAC
2158	.$1390	LDA #<VAR_I
2159	.$1392	LDY #>VAR_I
2160	.$1394	JSR FASTFSUBMEM
2164	.$1397	JSR FACXREG
2165	.$139a	LDY #2
2166	.$139c	STY A_REG
2168	.$139f	JSR SHL
2170	.$13a2	JSR FACXREG
2172	.$13a5	LDA #<CONST_19R
2173	.$13a7	LDY #>CONST_19R
2174	.$13a9	JSR REALFAC
2177	.$13ac	LDA #<X_REG
2178	.$13ae	LDY #>X_REG
2180	.$13b0	JSR FASTFADDMEM
2184	.$13b3	JSR FACYREG
2187	.$13b6	JSR SPC
2188	.$13b9	LDA #<CONST_25
2189	.$13bb	LDY #>CONST_25
2190	.$13bd	JSR STROUTWL
2193	.$13c0	LINE_SKIP49:
2196	.$13c0	LINE_2070:
2198	.$13c0	JMP RETURN
2200	.$13c3	LINE_3000:
2203	.$13c3	LINE_3010:
2205	.$13c3	LDY VAR_PP%
2206	.$13c6	LDA VAR_PP%+1
2208	.$13c9	JSR INTFAC
2209	.$13cc	JSR FACXREG
2210	.$13cf	LDY #3
2211	.$13d1	STY A_REG
2213	.$13d4	JSR SHL
2217	.$13d7	JSR FACINT
2218	.$13da	STY VAR_P%
2219	.$13dd	STA VAR_P%+1
2220	.$13e0	LDA #$00
2221	.$13e2	LDY #$00
2222	.$13e4	STA TMP_ZP
2223	.$13e6	STY TMP_ZP+1
2224	.$13e8	LDY VAR_N%
2225	.$13eb	LDA VAR_N%+1
2226	.$13ee	JSR ICMP
2238	.$13f1	EQ_EQ19:
2239	.$13f1	EQ_SKIP19:
2240	.$13f1	COMP_SKP32:
2241	.$13f1	BNE LINE_SKIP50
2242	.$13f3	LINE_NSKIP50:
2245	.$13f3	LDX #4
2246	.$13f5	dcloop3389_1:
2247	.$13f5	LDA CONST_4R,X
2248	.$13f8	STA VAR_EO,X
2249	.$13fb	DEX
2250	.$13fc	BPL dcloop3389_1
2252	.$13fe	JMP LINE_3110
2254	.$1401	LINE_SKIP50:
2257	.$1401	LINE_3020:
2259	.$1401	LDA #<CONST_27
2260	.$1403	LDY #>CONST_27
2261	.$1405	JSR STROUTWL
2264	.$1408	LINE_3030:
2266	.$1408	LDY VAR_P%
2267	.$140b	LDA VAR_P%+1
2269	.$140e	JSR INTFAC
2270	.$1411	JSR FACYREG
2273	.$1414	JSR SPC
2275	.$1417	LINE_3040:
2277	.$1417	LDA #$0f
2278	.$1419	LDY #$27
2279	.$141b	STA TMP_ZP
2280	.$141d	STY TMP_ZP+1
2281	.$141f	LDY VAR_Z%
2282	.$1422	LDA VAR_Z%+1
2283	.$1425	JSR ICMP
2295	.$1428	BEQ LT_LT_EQ20
2296	.$142a	ROL
2297	.$142b	BCC LT_LT20
2298	.$142d	LT_LT_EQ20:
2299	.$142d	LDA #0
2300	.$142f	JMP LT_SKIP20
2301	.$1432	LT_LT20:
2302	.$1432	LDA #$1
2303	.$1434	LT_SKIP20:
2304	.$1434	COMP_SKP33:
2305	.$1434	BNE LINE_NSKIP51
2307	.$1436	JMP LINE_SKIP51
2309	.$1439	LINE_NSKIP51:
2311	.$1439	JSR COMPACTMAX
2312	.$143c	LDY VAR_Z%
2313	.$143f	LDA VAR_Z%+1
2315	.$1442	JSR INTFAC
2316	.$1445	JSR FACYREG
2319	.$1448	JSR STR
2320	.$144b	LDY A_REG
2321	.$144e	LDA A_REG+1
2322	.$1451	STY B_REG
2323	.$1454	STA B_REG+1
2325	.$1457	JSR LEN
2326	.$145a	JSR XREGFAC
2327	.$145d	LDA #<CONST_29R
2328	.$145f	LDY #>CONST_29R
2329	.$1461	JSR COPY2_XYA_XREG
2332	.$1464	LDA #<X_REG
2333	.$1466	LDY #>X_REG
2335	.$1468	JSR FASTFSUBMEM
2339	.$146b	JSR FACYREG
2342	.$146e	JSR SPC
2344	.$1471	LINE_SKIP51:
2347	.$1471	LINE_3050:
2349	.$1471	LDY VAR_Z%
2350	.$1474	STY TMP_ZP
2351	.$1476	LDA VAR_Z%+1
2352	.$1479	STA TMP_ZP+1
2353	.$147b	JSR INTOUTFAST
2356	.$147e	JSR CRSRRIGHT
2358	.$1481	LINE_3060:
2360	.$1481	LDA #<CONST_24
2361	.$1483	LDY #>CONST_24
2362	.$1485	JSR STROUTWL
2364	.$1488	LDY VAR_P%
2365	.$148b	LDA VAR_P%+1
2367	.$148e	JSR INTFAC
2368	.$1491	JSR FACYREG
2371	.$1494	JSR SPC
2372	.$1497	LDA #<CONST_30
2373	.$1499	LDY #>CONST_30
2374	.$149b	JSR STROUTWL
2377	.$149e	LINE_3070:
2379	.$149e	LDA #<CONST_31
2380	.$14a0	LDY #>CONST_31
2381	.$14a2	JSR STROUTWL
2384	.$14a5	LINE_3080:
2386	.$14a5	LDY VAR_P%
2387	.$14a8	LDA VAR_P%+1
2389	.$14ab	JSR INTFAC
2390	.$14ae	JSR FACYREG
2393	.$14b1	JSR SPC
2395	.$14b4	LINE_3090:
2397	.$14b4	LDA #$0f
2398	.$14b6	LDY #$27
2399	.$14b8	STA TMP_ZP
2400	.$14ba	STY TMP_ZP+1
2401	.$14bc	LDY VAR_N%
2402	.$14bf	LDA VAR_N%+1
2403	.$14c2	JSR ICMP
2415	.$14c5	BEQ LT_LT_EQ21
2416	.$14c7	ROL
2417	.$14c8	BCC LT_LT21
2418	.$14ca	LT_LT_EQ21:
2419	.$14ca	LDA #0
2420	.$14cc	JMP LT_SKIP21
2421	.$14cf	LT_LT21:
2422	.$14cf	LDA #$1
2423	.$14d1	LT_SKIP21:
2424	.$14d1	COMP_SKP34:
2425	.$14d1	BNE LINE_NSKIP52
2427	.$14d3	JMP LINE_SKIP52
2429	.$14d6	LINE_NSKIP52:
2431	.$14d6	JSR COMPACTMAX
2432	.$14d9	LDY VAR_N%
2433	.$14dc	LDA VAR_N%+1
2435	.$14df	JSR INTFAC
2436	.$14e2	JSR FACYREG
2439	.$14e5	JSR STR
2440	.$14e8	LDY A_REG
2441	.$14eb	LDA A_REG+1
2442	.$14ee	STY B_REG
2443	.$14f1	STA B_REG+1
2445	.$14f4	JSR LEN
2446	.$14f7	JSR XREGFAC
2447	.$14fa	LDA #<CONST_29R
2448	.$14fc	LDY #>CONST_29R
2449	.$14fe	JSR COPY2_XYA_XREG
2452	.$1501	LDA #<X_REG
2453	.$1503	LDY #>X_REG
2455	.$1505	JSR FASTFSUBMEM
2459	.$1508	JSR FACYREG
2462	.$150b	JSR SPC
2464	.$150e	LINE_SKIP52:
2467	.$150e	LINE_3100:
2469	.$150e	LDY VAR_N%
2470	.$1511	STY TMP_ZP
2471	.$1513	LDA VAR_N%+1
2472	.$1516	STA TMP_ZP+1
2473	.$1518	JSR INTOUTFAST
2476	.$151b	JSR CRSRRIGHT
2478	.$151e	LINE_3110:
2480	.$151e	LDA #$ff
2481	.$1520	LDY #$ff
2482	.$1522	STA TMP_ZP
2483	.$1524	STY TMP_ZP+1
2484	.$1526	LDY VAR_OP%
2485	.$1529	LDA VAR_OP%+1
2486	.$152c	JSR ICMP
2498	.$152f	BNE NEQ_NEQ22
2499	.$1531	LDA #0
2500	.$1533	JMP NEQ_SKIP22
2501	.$1536	NEQ_NEQ22:
2502	.$1536	LDA #$1
2503	.$1538	NEQ_SKIP22:
2504	.$1538	COMP_SKP35:
2505	.$1538	BNE LINE_NSKIP53
2507	.$153a	JMP LINE_SKIP53
2509	.$153d	LINE_NSKIP53:
2511	.$153d	LDA #<CONST_24
2512	.$153f	LDY #>CONST_24
2513	.$1541	JSR STROUTWL
2515	.$1544	LDY #$00
2516	.$1546	LDA #$02
2517	.$1548	STA TMP3_ZP
2518	.$154a	STY TMP3_ZP+1
2519	.$154c	LDY VAR_P%
2520	.$154f	LDA VAR_P%+1
2521	.$1552	JSR INTSUB
2536	.$1555	JSR FACYREG
2539	.$1558	JSR SPC
2540	.$155b	LDA #<VAR_OP$[]
2541	.$155d	LDY #>VAR_OP$[]
2542	.$155f	STA G_REG
2543	.$1561	STY G_REG+1
2544	.$1563	LDY VAR_OP%
2545	.$1566	LDA VAR_OP%+1
2546	.$1569	JSR ARRAYACCESS_STRING_INT
2548	.$156c	JSR STROUT
2550	.$156f	LINE_SKIP53:
2553	.$156f	LINE_3120:
2555	.$156f	JMP RETURN
2557	.$1572	LINE_4000:
2559	.$1572	LDX #4
2560	.$1574	dcloop3887_1:
2561	.$1574	LDA CONST_4R,X
2562	.$1577	STA VAR_SP,X
2563	.$157a	DEX
2564	.$157b	BPL dcloop3887_1
2567	.$157d	LINE_4010:
2569	.$157d	LDA #<VAR_FR%[]
2570	.$157f	LDY #>VAR_FR%[]
2571	.$1581	STA G_REG
2572	.$1583	STY G_REG+1
2573	.$1585	LDY #0
2574	.$1587	TYA
2575	.$1588	JSR ARRAYACCESS_INTEGER_INT_SI
2576	.$158b	STY VAR_Z1%
2577	.$158e	STA VAR_Z1%+1
2579	.$1591	LDA #<VAR_FR%[]
2580	.$1593	LDY #>VAR_FR%[]
2581	.$1595	STA G_REG
2582	.$1597	STY G_REG+1
2583	.$1599	LDY #1
2584	.$159b	LDA #0
2585	.$159d	JSR ARRAYACCESS_INTEGER_INT_SI
2586	.$15a0	STY VAR_N1%
2587	.$15a3	STA VAR_N1%+1
2589	.$15a6	LDA #<VAR_FR%[]
2590	.$15a8	LDY #>VAR_FR%[]
2591	.$15aa	STA G_REG
2592	.$15ac	STY G_REG+1
2593	.$15ae	LDY #2
2594	.$15b0	LDA #0
2595	.$15b2	JSR ARRAYACCESS_INTEGER_INT_SI
2596	.$15b5	STY VAR_Z2%
2597	.$15b8	STA VAR_Z2%+1
2599	.$15bb	LDA #<VAR_FR%[]
2600	.$15bd	LDY #>VAR_FR%[]
2601	.$15bf	STA G_REG
2602	.$15c1	STY G_REG+1
2603	.$15c3	LDY #3
2604	.$15c5	LDA #0
2605	.$15c7	JSR ARRAYACCESS_INTEGER_INT_SI
2606	.$15ca	STY VAR_N2%
2607	.$15cd	STA VAR_N2%+1
2610	.$15d0	LINE_4020:
2612	.$15d0	LDA #<VAR_OP%[]
2613	.$15d2	LDY #>VAR_OP%[]
2614	.$15d4	STA G_REG
2615	.$15d6	STY G_REG+1
2616	.$15d8	LDY #0
2617	.$15da	TYA
2618	.$15db	JSR ARRAYACCESS_INTEGER_INT_SI
2619	.$15de	STY VAR_OP%
2620	.$15e1	STA VAR_OP%+1
2623	.$15e4	LINE_4030:
2625	.$15e4	LDY #0
2626	.$15e6	TYA
2627	.$15e7	STY VAR_Z%
2628	.$15ea	STA VAR_Z%+1
2629	.$15ed	STY VAR_N%
2630	.$15f0	STA VAR_N%+1
2633	.$15f3	LINE_4040:
2635	.$15f3	LDA VAR_OP
2636	.$15f6	COMP_SKP36:
2637	.$15f6	BEQ LINE_SKIP54
2641	.$15f8	LINE_NSKIP54:
2643	.$15f8	LDA #<CONST_32
2644	.$15fa	LDY #>CONST_32
2645	.$15fc	JSR STROUTWL
2647	.$15ff	LDA #<VAR_OP
2648	.$1601	LDY #>VAR_OP
2649	.$1603	JSR COPY2_XYA_XREG
2653	.$1606	JSR REALOUTBRK
2655	.$1609	JSR END
2656	.$160c	RTS
2658	.$160d	LINE_SKIP54:
2661	.$160d	LINE_4050:
2663	.$160d	LDY VAR_Z2%
2664	.$1610	LDA VAR_Z2%+1
2666	.$1613	JSR INTFAC
2667	.$1616	JSR FACYREG
2669	.$1619	LDY VAR_Z1%
2670	.$161c	LDA VAR_Z1%+1
2672	.$161f	JSR INTFAC
2673	.$1622	JSR FACXREG
2675	.$1625	JSR YREGFAC
2677	.$1628	LDA #<X_REG
2678	.$162a	LDY #>X_REG
2680	.$162c	JSR FASTFMULMEM
2684	.$162f	JSR FACINT
2685	.$1632	STY VAR_Z%
2686	.$1635	STA VAR_Z%+1
2687	.$1638	LDY VAR_N2%
2688	.$163b	LDA VAR_N2%+1
2690	.$163e	JSR INTFAC
2691	.$1641	JSR FACYREG
2693	.$1644	LDY VAR_N1%
2694	.$1647	LDA VAR_N1%+1
2696	.$164a	JSR INTFAC
2697	.$164d	JSR FACXREG
2699	.$1650	JSR YREGFAC
2701	.$1653	LDA #<X_REG
2702	.$1655	LDY #>X_REG
2704	.$1657	JSR FASTFMULMEM
2708	.$165a	JSR FACINT
2709	.$165d	STY VAR_N%
2710	.$1660	STA VAR_N%+1
2711	.$1663	JSR GOSUB
2712	.$1666	JSR LINE_1800
2713	.$1669	LDY #15
2714	.$166b	STY 53280
2717	.$166e	LINE_4060:
2719	.$166e	LDX #4
2720	.$1670	dcloop4053_1:
2721	.$1670	LDA CONST_33R,X
2722	.$1673	STA VAR_I,X
2723	.$1676	DEX
2724	.$1677	BPL dcloop4053_1
2726	.$1679	LDA #<VAR_CN
2727	.$167b	LDY #>VAR_CN
2728	.$167d	JSR REALFACPUSH
2730	.$1680	LDA #<CONST_19R
2731	.$1682	LDY #>CONST_19R
2732	.$1684	JSR REALFACPUSH
2734	.$1687	LDA #<VAR_I
2735	.$1689	LDY #>VAR_I
2736	.$168b	STA A_REG
2737	.$168e	STY A_REG+1
2738	.$1691	LDA #<FORLOOP6
2739	.$1693	STA JUMP_TARGET
2740	.$1695	LDA #>FORLOOP6
2741	.$1697	STA JUMP_TARGET+1
2742	.$1699	JSR INITFOR
2743	.$169c	FORLOOP6:
2745	.$169c	LINE_4070:
2747	.$169c	LDA #<CONST_19R
2748	.$169e	LDY #>CONST_19R
2749	.$16a0	JSR REALFAC
2750	.$16a3	LDA #<VAR_I
2751	.$16a5	LDY #>VAR_I
2752	.$16a7	JSR FASTFSUBMEM
2757	.$16aa	JSR PUSHREAL
2758	.$16ad	LDA #<VAR_I
2759	.$16af	LDY #>VAR_I
2760	.$16b1	JSR COPY2_XYA_XREG
2764	.$16b4	LDA #<VAR_FR%[]
2765	.$16b6	LDY #>VAR_FR%[]
2766	.$16b8	JSR ARRAYACCESS_INTEGER_S
2768	.$16bb	JSR COPY_XREG2YREG
2772	.$16be	JSR POPREALXREG
2774	.$16c1	LDA #<VAR_FR%[]
2775	.$16c3	LDY #>VAR_FR%[]
2776	.$16c5	STA G_REG
2777	.$16c7	STY G_REG+1
2778	.$16c9	JSR ARRAYSTORE_INTEGER_NX
2780	.$16cc	JSR ONETOFAC
2782	.$16cf	LDA #<VAR_I
2783	.$16d1	LDY #>VAR_I
2784	.$16d3	JSR FASTFSUBMEM
2789	.$16d6	JSR PUSHREAL
2790	.$16d9	JSR ONETOFAC
2792	.$16dc	LDA #<VAR_I
2793	.$16de	LDY #>VAR_I
2794	.$16e0	JSR FASTFADDMEM
2798	.$16e3	JSR FACXREG
2799	.$16e6	LDA #<VAR_FR%[]
2800	.$16e8	LDY #>VAR_FR%[]
2801	.$16ea	JSR ARRAYACCESS_INTEGER_SNX
2804	.$16ed	JSR COPY_XREG2YREG
2808	.$16f0	JSR POPREALXREG
2810	.$16f3	LDA #<VAR_FR%[]
2811	.$16f5	LDY #>VAR_FR%[]
2812	.$16f7	STA G_REG
2813	.$16f9	STY G_REG+1
2814	.$16fb	JSR ARRAYSTORE_INTEGER_NX
2817	.$16fe	LINE_4080:
2819	.$16fe	LDA #<CONST_19R
2820	.$1700	LDY #>CONST_19R
2821	.$1702	JSR REALFAC
2822	.$1705	LDA #<VAR_I
2823	.$1707	LDY #>VAR_I
2824	.$1709	JSR FASTFSUBMEM
2828	.$170c	JSR FACXREG
2829	.$170f	LDY #1
2830	.$1711	STY A_REG
2832	.$1714	JSR SHR
2836	.$1717	JSR FACINT
2837	.$171a	STY VAR_OP%
2838	.$171d	STA VAR_OP%+1
2840	.$1720	JSR FIDEX
2842	.$1723	JSR REALFACPUSHXREG
2845	.$1726	LDA #<VAR_OP%[]
2846	.$1728	LDY #>VAR_OP%[]
2847	.$172a	STA G_REG
2848	.$172c	STY G_REG+1
2849	.$172e	LDY VAR_OP%
2850	.$1731	LDA VAR_OP%+1
2851	.$1734	JSR ARRAYACCESS_INTEGER_INT
2853	.$1737	JSR COPY_XREG2YREG
2857	.$173a	JSR POPREALXREG
2859	.$173d	LDA #<VAR_OP%[]
2860	.$173f	LDY #>VAR_OP%[]
2861	.$1741	STA G_REG
2862	.$1743	STY G_REG+1
2863	.$1745	JSR ARRAYSTORE_INTEGER_NX
2866	.$1748	LINE_4090:
2868	.$1748	LDA #0
2869	.$174a	STA A_REG
2870	.$174d	STA A_REG+1
2871	.$1750	JSR NEXT
2873	.$1753	LDA A_REG
2874	.$1756	BNE RBEQ_6
2875	.$1758	JMP (JUMP_TARGET)
2877	.$175b	RBEQ_6:
2879	.$175b	LINE_4100:
2881	.$175b	LDY VAR_Z%
2882	.$175e	LDA VAR_Z%+1
2883	.$1761	STY AS_TMP
2884	.$1764	STA AS_TMP+1
2885	.$1767	LDA #<VAR_FR%[]
2886	.$1769	LDY #>VAR_FR%[]
2887	.$176b	STA G_REG
2888	.$176d	STY G_REG+1
2889	.$176f	LDY #0
2890	.$1771	LDA #0
2891	.$1773	JSR ARRAYSTORE_INT_INTEGER_AC
2897	.$1776	LDY VAR_N%
2898	.$1779	LDA VAR_N%+1
2899	.$177c	STY AS_TMP
2900	.$177f	STA AS_TMP+1
2901	.$1782	LDA #<VAR_FR%[]
2902	.$1784	LDY #>VAR_FR%[]
2903	.$1786	STA G_REG
2904	.$1788	STY G_REG+1
2905	.$178a	LDY #1
2906	.$178c	LDA #0
2907	.$178e	JSR ARRAYSTORE_INT_INTEGER_AC
2914	.$1791	LINE_4110:
2916	.$1791	LDA #<CONST_19R
2917	.$1793	LDY #>CONST_19R
2918	.$1795	JSR REALFAC
2919	.$1798	LDA #<VAR_CN
2920	.$179a	LDY #>VAR_CN
2921	.$179c	JSR FASTFSUBMEM
2926	.$179f	LDX #<VAR_CN
2927	.$17a1	LDY #>VAR_CN
2929	.$17a3	JSR FACMEM
2931	.$17a6	LINE_4120:
2933	.$17a6	LDA VAR_CN
2934	.$17a9	BEQ EQ_SKIP23
2935	.$17ab	EQ_EQ23:
2936	.$17ab	JMP LINE_SKIP55
2937	.$17ae	EQ_SKIP23:
2938	.$17ae	COMP_SKP38:
2942	.$17ae	LINE_NSKIP55:
2944	.$17ae	LDA #<CONST_34
2945	.$17b0	LDY #>CONST_34
2946	.$17b2	STA TMP_ZP
2947	.$17b4	STY TMP_ZP+1
2948	.$17b6	LDA #<VAR_MG$
2949	.$17b8	LDY #>VAR_MG$
2950	.$17ba	JSR COPYSTRING
2953	.$17bd	LINE_SKIP55:
2956	.$17bd	LINE_4130:
2958	.$17bd	LDA #<VAR_CN
2959	.$17bf	LDY #>VAR_CN
2960	.$17c1	JSR COPY2_XYA_YREG
2964	.$17c4	LDA Y_REG
2965	.$17c7	COMP_SKP39:
2966	.$17c7	BNE LINE_NSKIP56
2968	.$17c9	JMP LINE_SKIP56
2970	.$17cc	LINE_NSKIP56:
2972	.$17cc	JSR COMPACTMAX
2973	.$17cf	LDA #<VAR_SP
2974	.$17d1	LDY #>VAR_SP
2975	.$17d3	JSR COPY2_XYA_YREG
2980	.$17d6	JSR STR
2981	.$17d9	LDY A_REG
2982	.$17dc	LDA A_REG+1
2983	.$17df	STY B_REG
2984	.$17e2	STA B_REG+1
2985	.$17e5	LDA #<CONST_35
2986	.$17e7	LDY #>CONST_35
2987	.$17e9	STA A_REG
2988	.$17ec	STY A_REG+1
2989	.$17ef	JSR CONCAT
2991	.$17f2	LDA A_REG
2992	.$17f5	LDY A_REG+1
2993	.$17f8	STA TMP_ZP
2994	.$17fa	STY TMP_ZP+1
2995	.$17fc	LDA #<VAR_MG$
2996	.$17fe	LDY #>VAR_MG$
2997	.$1800	JSR COPYSTRING
2998	.$1803	JSR ONETOFAC
3000	.$1806	LDA #<VAR_SP
3001	.$1808	LDY #>VAR_SP
3002	.$180a	JSR FASTFADDMEM
3007	.$180d	LDX #<VAR_SP
3008	.$180f	LDY #>VAR_SP
3010	.$1811	JSR FACMEM
3012	.$1814	LINE_SKIP56:
3015	.$1814	LINE_4140:
3017	.$1814	JSR GOSUB
3018	.$1817	JSR LINE_2000
3019	.$181a	JSR GOSUB
3020	.$181d	JSR LINE_10000
3022	.$1820	LINE_4150:
3024	.$1820	LDA VAR_CN
3025	.$1823	BEQ EQ_SKIP24
3026	.$1825	EQ_EQ24:
3027	.$1825	JMP LINE_SKIP57
3028	.$1828	EQ_SKIP24:
3029	.$1828	COMP_SKP40:
3033	.$1828	LINE_NSKIP57:
3035	.$1828	JMP LINE_5000
3037	.$182b	LINE_SKIP57:
3040	.$182b	LINE_4160:
3042	.$182b	JMP LINE_4010
3044	.$182e	LINE_5000:
3046	.$182e	JSR GOSUB
3047	.$1831	JSR LINE_2000
3048	.$1834	LDA #<CONST_36
3049	.$1836	LDY #>CONST_36
3050	.$1838	JSR STROUTWL
3053	.$183b	SEI
3054	.$183c	LDY TIMEADDR
3055	.$183e	LDX TIMEADDR+1
3056	.$1840	LDA TIMEADDR+2
3057	.$1842	CLI
3059	.$1843	SEC
3060	.$1844	JSR COPYTIME
3061	.$1847	JSR GETTIME
3062	.$184a	LDX #<VAR_TI
3063	.$184c	LDY #>VAR_TI
3064	.$184e	JSR FACMEM
3065	.$1851	LDA #<VAR_TI
3066	.$1853	LDY #>VAR_TI
3067	.$1855	JSR COPY2_XYA_XREG
3071	.$1858	JSR REALOUTBRK
3073	.$185b	JSR END
3074	.$185e	RTS
3076	.$185f	LINE_10000:
3078	.$185f	LDA #<CONST_37
3079	.$1861	LDY #>CONST_37
3080	.$1863	JSR STROUTWL
3082	.$1866	LDA VAR_MG$
3083	.$1869	LDY VAR_MG$+1
3084	.$186c	JSR STROUTBRKWL
3087	.$186f	JSR LINEBREAK
3089	.$1872	LINE_10020:
3091	.$1872	JMP RETURN
3092	.$1875	JSR END
3093	.$1878	RTS
3096	.$1879	END   LDX SP_SAVE
3097	.$187c	TXS
3104	.$187d	RTS
3107	.$187e	START  LDA ENDSTRBUF+1
3108	.$1881	BNE ENDGIVEN
3109	.$1883	LDA BASICEND
3110	.$1885	STA ENDSTRBUF
3111	.$1888	LDA BASICEND+1
3112	.$188a	STA ENDSTRBUF+1
3113	.$188d	ENDGIVEN LDA #<FPSTACK
3114	.$188f	LDY #>FPSTACK
3115	.$1891	STA FPSTACKP
3116	.$1894	STY FPSTACKP+1
3117	.$1897	LDA #<FORSTACK
3118	.$1899	LDY #>FORSTACK
3119	.$189b	STA FORSTACKP
3120	.$189e	STY FORSTACKP+1
3121	.$18a1	LDA #<STRBUF
3122	.$18a3	LDY #>STRBUF
3123	.$18a5	STA STRBUFP
3124	.$18a8	STY STRBUFP+1
3125	.$18ab	STA HIGHP
3126	.$18ae	STY HIGHP+1
3127	.$18b1	LDA #0
3128	.$18b3	STA CHLOCKFLAG
3129	.$18b6	STA LASTVAR
3130	.$18b9	STA LASTVAR+1
3131	.$18bc	JSR INITVARS
3132	.$18bf	LDA #0
3133	.$18c1	STA CMD_NUM
3134	.$18c4	STA CHANNEL
3135	.$18c7	TAY
3136	.$18c8	TAX
3140	.$18c9	STA KEYNDX
3146	.$18cb	JSR RESTORE
3147	.$18ce	CLC
3151	.$18cf	RTS
3154	.$18d0	INITNARRAY
3155	.$18d0	STA TMP_ZP
3156	.$18d2	STY TMP_ZP+1
3157	.$18d4	LDY #0
3158	.$18d6	TYA
3159	.$18d7	NINITLOOP STA (TMP_ZP),Y
3160	.$18d9	INC TMP_ZP
3161	.$18db	BNE NLOOPNOV
3162	.$18dd	INC TMP_ZP+1
3163	.$18df	NLOOPNOV LDX TMP2_ZP
3164	.$18e1	BNE NLOOPNOV2
3165	.$18e3	DEC TMP2_ZP+1
3166	.$18e5	NLOOPNOV2 DEC TMP2_ZP
3167	.$18e7	BNE NINITLOOP
3168	.$18e9	LDX TMP2_ZP+1
3169	.$18eb	BNE NINITLOOP
3170	.$18ed	RTS
3173	.$18ee	INITSTRARRAY
3174	.$18ee	STA TMP_ZP
3175	.$18f0	STY TMP_ZP+1
3176	.$18f2	SINITLOOP LDY #0
3177	.$18f4	LDA #<EMPTYSTR
3178	.$18f6	STA (TMP_ZP),Y
3179	.$18f8	LDA #>EMPTYSTR
3180	.$18fa	INY
3181	.$18fb	STA (TMP_ZP),Y
3182	.$18fd	CLC
3183	.$18fe	LDA TMP_ZP
3184	.$1900	ADC #2
3185	.$1902	STA TMP_ZP
3186	.$1904	BCC SLOOPNOV1
3187	.$1906	INC TMP_ZP+1
3188	.$1908	SLOOPNOV1 SEC
3189	.$1909	LDA TMP2_ZP
3190	.$190b	SBC #2
3191	.$190d	STA TMP2_ZP
3192	.$190f	BCS SLOOPNOV2
3193	.$1911	DEC TMP2_ZP+1
3194	.$1913	SLOOPNOV2 LDA TMP2_ZP
3195	.$1915	BNE SINITLOOP
3196	.$1917	LDA TMP2_ZP+1
3197	.$1919	BNE SINITLOOP
3198	.$191b	RTS
3201	.$191c	INITSPARAMS STA TMP3_ZP
3202	.$191e	STY TMP3_ZP+1
3203	.$1920	SEC
3204	.$1921	SBC #2
3205	.$1923	STA TMP_ZP
3206	.$1925	TYA
3207	.$1926	SBC #0
3208	.$1928	STA TMP_ZP+1
3209	.$192a	LDY #0
3210	.$192c	LDA (TMP_ZP),Y
3211	.$192e	STA TMP2_ZP
3212	.$1930	INY
3213	.$1931	LDA (TMP_ZP),Y
3214	.$1933	STA TMP2_ZP+1
3215	.$1935	LDA TMP3_ZP
3216	.$1937	LDY TMP3_ZP+1
3217	.$1939	RTS
3220	.$193a	INITSTRVARS LDA #<STRINGVARS_START  
3221	.$193c	LDY #>STRINGVARS_START
3222	.$193e	CMP #<STRINGVARS_END
3223	.$1940	BNE INITIT1
3224	.$1942	CPY #>STRINGVARS_END
3225	.$1944	BNE INITIT1
3226	.$1946	JMP INITSA2     
3227	.$1949	INITIT1  STA TMP_ZP
3228	.$194b	STY TMP_ZP+1
3229	.$194d	LDY #0
3230	.$194f	INITSTRLOOP LDA #<EMPTYSTR
3231	.$1951	STA (TMP_ZP),Y
3232	.$1953	INY
3233	.$1954	LDA #>EMPTYSTR
3234	.$1956	STA (TMP_ZP),Y
3235	.$1958	DEY
3236	.$1959	LDA TMP_ZP
3237	.$195b	CLC
3238	.$195c	ADC #2
3239	.$195e	STA TMP_ZP
3240	.$1960	LDA TMP_ZP+1
3241	.$1962	ADC #0
3242	.$1964	STA TMP_ZP+1
3243	.$1966	CMP #>STRINGVARS_END
3244	.$1968	BNE INITSTRLOOP
3245	.$196a	LDA TMP_ZP
3246	.$196c	CMP #<STRINGVARS_END
3247	.$196e	BNE INITSTRLOOP
3248	.$1970	INITSA2  LDA #<STRINGARRAYS_START 
3249	.$1972	LDY #>STRINGARRAYS_START
3250	.$1974	CMP #<STRINGARRAYS_END
3251	.$1976	BNE ARRAYLOOP
3252	.$1978	CPY #>STRINGARRAYS_END
3253	.$197a	BNE ARRAYLOOP
3254	.$197c	RTS       
3255	.$197d	ARRAYLOOP CLC
3256	.$197e	ADC #3
3257	.$1980	BCC ARRAYSKIP1
3258	.$1982	INY
3259	.$1983	ARRAYSKIP1 CPY #>STRINGARRAYS_END
3260	.$1985	BEQ ARRAYSC
3261	.$1987	BCC ARRAYSKIP2
3262	.$1989	JMP ARRAYQUIT
3263	.$198c	ARRAYSC  CMP #<STRINGARRAYS_END
3264	.$198e	BCS ARRAYQUIT
3265	.$1990	ARRAYSKIP2 STA TMP_REG
3266	.$1992	STY TMP_REG+1
3267	.$1994	JSR INITSPARAMS
3268	.$1997	LDA TMP_REG
3269	.$1999	LDY TMP_REG+1
3270	.$199b	JSR INITSTRARRAY
3271	.$199e	LDA TMP_ZP
3272	.$19a0	LDY TMP_ZP+1
3273	.$19a2	JMP ARRAYLOOP
3274	.$19a5	ARRAYQUIT RTS
3277	.$19a6	RUN   LDX SP_SAVE
3278	.$19a9	TXS
3279	.$19aa	JMP PROGRAMSTART
3282	.$19ad	RESTORE  LDA #<DATAS
3283	.$19af	LDY #>DATAS
3284	.$19b1	STA DATASP
3285	.$19b4	STY DATASP+1
3286	.$19b7	RTS
3289	.$19b8	CONCAT  LDA A_REG
3290	.$19bb	STA TMP_ZP
3291	.$19bd	LDA A_REG+1
3292	.$19c0	STA TMP_ZP+1
3293	.$19c2	LDA STRBUFP  
3294	.$19c5	STA A_REG
3295	.$19c8	STA TMP3_ZP
3296	.$19ca	LDA STRBUFP+1
3297	.$19cd	STA A_REG+1
3298	.$19d0	STA TMP3_ZP+1
3299	.$19d2	LDY #0
3300	.$19d4	LDA (TMP_ZP),Y
3301	.$19d6	TAX
3302	.$19d7	LDA B_REG
3303	.$19da	STA TMP2_ZP
3304	.$19dc	LDA B_REG+1
3305	.$19df	STA TMP2_ZP+1
3306	.$19e1	TXA
3307	.$19e2	CLC
3308	.$19e3	ADC (TMP2_ZP),Y
3309	.$19e5	BCC CCSTRFITS
3310	.$19e7	JMP STRINGTOOLONG
3311	.$19ea	CCSTRFITS STA (TMP3_ZP),Y
3312	.$19ec	INC TMP3_ZP
3313	.$19ee	BNE CCNOOV2
3314	.$19f0	INC TMP3_ZP+1
3315	.$19f2	CCNOOV2  CLC
3316	.$19f3	ADC STRBUFP
3317	.$19f6	PHP
3318	.$19f7	CLC
3319	.$19f8	ADC #3
3320	.$19fa	STA STRBUFP
3321	.$19fd	BCC CCNOCS1
3322	.$19ff	INC STRBUFP+1
3323	.$1a02	CCNOCS1  PLP
3324	.$1a03	BCC CCSTRFITS2
3325	.$1a05	INC STRBUFP+1
3326	.$1a08	CCSTRFITS2 JSR COPY2CONCAT  
3327	.$1a0b	LDA B_REG   
3328	.$1a0e	STA TMP_ZP
3329	.$1a10	LDA B_REG+1
3330	.$1a13	STA TMP_ZP+1
3331	.$1a15	JMP COPY2CONCAT  
3334	.$1a18	COPY2CONCAT LDY #0
3335	.$1a1a	LDA (TMP_ZP),Y
3336	.$1a1c	BEQ NOC2C   
3337	.$1a1e	STA TMP2_ZP
3338	.$1a20	INC TMP_ZP
3339	.$1a22	BNE COPY2LOOP
3340	.$1a24	INC TMP_ZP+1
3341	.$1a26	COPY2LOOP LDA (TMP_ZP),Y
3342	.$1a28	STA (TMP3_ZP),Y
3343	.$1a2a	INY
3344	.$1a2b	CPY TMP2_ZP
3345	.$1a2d	BNE COPY2LOOP
3346	.$1a2f	TYA
3347	.$1a30	CLC
3348	.$1a31	ADC TMP3_ZP   
3349	.$1a33	STA TMP3_ZP
3350	.$1a35	BCC NOC2C
3351	.$1a37	INC TMP3_ZP+1
3352	.$1a39	NOC2C  RTS
3355	.$1a3a	STR   JSR YREGFAC
3356	.$1a3d	STRINT  LDY #1
3357	.$1a3f	JSR FACSTR
3358	.$1a42	LDY #0
3359	.$1a44	STY TMP_ZP+1
3360	.$1a46	LDA #LOFBUF
3361	.$1a48	STA TMP_ZP
3362	.$1a4a	DEY
3363	.$1a4b	STRLOOP  INY
3364	.$1a4c	LDA LOFBUFH,Y
3365	.$1a4f	BNE STRLOOP
3366	.$1a51	STY LOFBUF
3367	.$1a53	TYA
3368	.$1a54	TAX   
3369	.$1a55	LDA #<A_REG
3370	.$1a57	LDY #>A_REG
3371	.$1a59	STA TMP2_ZP
3372	.$1a5b	STY TMP2_ZP+1
3373	.$1a5d	JMP COPYONLY
3376	.$1a60	TAB   JSR TABSPCINIT
3377	.$1a63	JSR REROUTE
3378	.$1a66	LDA CMD_NUM
3379	.$1a69	BEQ NORMALTAB  
3380	.$1a6b	CMP #3
3381	.$1a6d	BEQ NORMALTAB2  
3382	.$1a6f	JMP TABCHANNEL2
3383	.$1a72	NORMALTAB2 JSR CLRCHNEW
3384	.$1a75	NORMALTAB SEC
3385	.$1a76	JMP TABSPC
3388	.$1a79	SPC   JSR TABSPCINIT
3389	.$1a7c	JSR REROUTE
3390	.$1a7f	LDA CMD_NUM
3391	.$1a82	BEQ NORMALSPC  
3392	.$1a84	CMP #3
3393	.$1a86	BEQ NORMALSPC2  
3394	.$1a88	JMP TABCHANNEL2
3395	.$1a8b	NORMALSPC2 JSR CLRCHNEW
3396	.$1a8e	NORMALSPC CLC
3397	.$1a8f	JMP TABSPC
3400	.$1a92	TABSPCINIT SEC
3401	.$1a93	JSR CRSRPOS
3402	.$1a96	STY $09
3403	.$1a98	JSR YREGFAC
3404	.$1a9b	JSR FACWORD
3405	.$1a9e	TYA
3406	.$1a9f	TAX
3407	.$1aa0	RTS
3410	.$1aa1	TABSPC     BCC DOSPC
3411	.$1aa3	TXA
3412	.$1aa4	SBC $09
3413	.$1aa6	BCC TABSPCQUIT
3414	.$1aa8	TAX
3415	.$1aa9	DOSPC  INX
3416	.$1aaa	TABSPCLOOP  DEX
3417	.$1aab	BNE TABSPCRIGHT
3418	.$1aad	TABSPCQUIT RTS
3419	.$1aae	TABSPCRIGHT JSR CRSRRIGHT
3420	.$1ab1	JMP TABSPCLOOP
3423	.$1ab4	LEN   LDA B_REG
3424	.$1ab7	STA TMP_ZP
3425	.$1ab9	LDA B_REG+1
3426	.$1abc	STA TMP_ZP+1
3427	.$1abe	LDY #0
3428	.$1ac0	LDA (TMP_ZP),Y
3429	.$1ac2	STA TMP2_ZP  
3430	.$1ac4	BEQ ZEROLEN
3431	.$1ac6	TAY
3432	.$1ac7	LDA #0
3433	.$1ac9	JSR INTFAC
3434	.$1acc	JMP FACXREG 
3435	.$1acf	ZEROLEN  JMP ZEROSET
3438	.$1ad2	WRITETID LDY #0
3439	.$1ad4	LDA (TMP_ZP),Y
3440	.$1ad6	CMP #$6
3441	.$1ad8	BEQ FORMATOK
3442	.$1ada	JMP ILLEGALQUANTITY
3443	.$1add	FORMATOK INC TMP_ZP
3444	.$1adf	BNE WRITE2
3445	.$1ae1	INC TMP_ZP+1
3446	.$1ae3	WRITE2  LDA TMP_ZP
3447	.$1ae5	STA INDEX1
3448	.$1ae7	LDA TMP_ZP+1
3449	.$1ae9	STA INDEX1+1
3451	.$1aeb	JMP WRITETIS
3458	.$1aee	SAVEPOINTERS
3459	.$1aee	LDA TMP_ZP   
3460	.$1af0	STA STORE1
3461	.$1af3	LDA TMP_ZP+1
3462	.$1af5	STA STORE1+1
3463	.$1af8	LDA TMP2_ZP
3464	.$1afa	STA STORE2
3465	.$1afd	LDA TMP2_ZP+1
3466	.$1aff	STA STORE2+1
3467	.$1b02	LDA TMP3_ZP
3468	.$1b04	STA STORE3
3469	.$1b07	LDA TMP3_ZP+1
3470	.$1b09	STA STORE3+1
3471	.$1b0c	RTS
3474	.$1b0d	RESTOREPOINTERS
3475	.$1b0d	LDA STORE3+1  
3476	.$1b10	STA TMP3_ZP+1
3477	.$1b12	LDA STORE3
3478	.$1b15	STA TMP3_ZP
3479	.$1b17	LDA STORE2+1
3480	.$1b1a	STA TMP2_ZP+1
3481	.$1b1c	LDA STORE2
3482	.$1b1f	STA TMP2_ZP
3483	.$1b21	LDA STORE1+1
3484	.$1b24	STA TMP_ZP+1
3485	.$1b26	LDA STORE1
3486	.$1b29	STA TMP_ZP
3487	.$1b2b	RTS
3494	.$1b2c	COMPACTMAX
3495	.$1b2c	LDA #$FF
3496	.$1b2e	LDY #$0
3497	.$1b30	JMP COMPACTF
3500	.$1b33	COMPACT
3501	.$1b33	LDY #0
3502	.$1b35	GCBUFNE  LDA (TMP_ZP),Y  
3503	.$1b37	COMPACTF STA TMP4_REG  
3504	.$1b3a	LDY STRBUFP+1  
3505	.$1b3d	STY TMP4_REG+1  
3506	.$1b40	INY     
3507	.$1b41	BEQ ENDMEM   
3508	.$1b43	CPY ENDSTRBUF+1  
3509	.$1b46	BCC RGCEXIT   
3510	.$1b48	ENDMEM  LDA STRBUFP
3511	.$1b4b	CLC
3512	.$1b4c	ADC TMP4_REG
3513	.$1b4f	STA TMP4_REG
3514	.$1b52	BCC RGCNOOV1
3515	.$1b54	INC TMP4_REG+1
3516	.$1b57	RGCNOOV1 CLC
3517	.$1b58	LDA TMP4_REG
3518	.$1b5b	ADC #3
3519	.$1b5d	STA TMP4_REG
3520	.$1b60	BCC RGCNOOV2
3521	.$1b62	INC TMP4_REG+1
3522	.$1b65	RGCNOOV2 LDA TMP4_REG+1  
3523	.$1b68	CMP ENDSTRBUF+1
3524	.$1b6b	BEQ RGCLOW1
3525	.$1b6d	BCS GCEXECOMP  
3526	.$1b6f	JMP RGCEXIT
3527	.$1b72	RGCLOW1  LDA TMP4_REG
3528	.$1b75	CMP ENDSTRBUF
3529	.$1b78	BCS GCEXECOMP  
3530	.$1b7a	RGCEXIT  RTS     
3531	.$1b7b	GCEXECOMP LDA STRBUFP
3532	.$1b7e	STA STORE4
3533	.$1b81	LDA STRBUFP+1
3534	.$1b84	STA STORE4+1
3535	.$1b87	JSR GCEXE
3536	.$1b8a	JMP CHECKMEMORY
3539	.$1b8d	GCEXE  JSR SAVEPOINTERS
3540	.$1b90	LDA #0
3541	.$1b92	STA LASTVAR
3542	.$1b95	STA LASTVAR+1  
3543	.$1b98	LDA #<STRBUF
3544	.$1b9a	STA TMP_ZP
3545	.$1b9c	STA GCSTART
3546	.$1b9f	LDA #>STRBUF
3547	.$1ba1	STA TMP_ZP+1  
3548	.$1ba3	STA GCSTART+1
3549	.$1ba6	GCLOOP  LDY #0
3550	.$1ba8	LDA TMP_ZP
3551	.$1baa	STA GCWORK
3552	.$1bad	LDA TMP_ZP+1
3553	.$1baf	STA GCWORK+1  
3554	.$1bb2	LDA (TMP_ZP),Y
3555	.$1bb4	STA GCLEN   
3556	.$1bb7	INC TMP_ZP
3557	.$1bb9	BNE GCLOOPNOOV
3558	.$1bbb	INC TMP_ZP+1
3559	.$1bbd	GCLOOPNOOV LDA TMP_ZP
3560	.$1bbf	CLC
3561	.$1bc0	ADC GCLEN
3562	.$1bc3	STA TMP_ZP
3563	.$1bc5	BCC GCLOOPNOOV2
3564	.$1bc7	INC TMP_ZP+1  
3565	.$1bc9	GCLOOPNOOV2 LDY #0
3566	.$1bcb	LDA (TMP_ZP),Y
3567	.$1bcd	STA TMP2_ZP
3568	.$1bcf	INY
3569	.$1bd0	LDA (TMP_ZP),Y
3570	.$1bd2	STA TMP2_ZP+1  
3571	.$1bd4	LDA TMP_ZP
3572	.$1bd6	CLC
3573	.$1bd7	ADC #2
3574	.$1bd9	STA TMP_ZP
3575	.$1bdb	BCC GCLOOPNOOV3
3576	.$1bdd	INC TMP_ZP+1  
3577	.$1bdf	GCLOOPNOOV3 LDY #0
3578	.$1be1	LDA (TMP2_ZP),Y
3579	.$1be3	CMP GCWORK
3580	.$1be6	BNE GCKLOOP
3581	.$1be8	INY
3582	.$1be9	LDA (TMP2_ZP),Y
3583	.$1beb	CMP GCWORK+1
3584	.$1bee	BEQ MEMFREE
3585	.$1bf0	GCKLOOP  LDA TMP_ZP+1  
3586	.$1bf2	CMP HIGHP+1
3587	.$1bf5	BEQ GCHECKLOW
3588	.$1bf7	BCC GCLOOP
3589	.$1bf9	JMP GCDONE
3590	.$1bfc	GCHECKLOW LDA TMP_ZP
3591	.$1bfe	CMP HIGHP
3592	.$1c01	BCS GCDONE
3593	.$1c03	JMP GCLOOP
3594	.$1c06	MEMFREE  LDA GCSTART   
3595	.$1c09	CMP GCWORK   
3596	.$1c0c	BNE COPYDOWN
3597	.$1c0e	LDA GCSTART+1
3598	.$1c11	CMP GCWORK+1
3599	.$1c14	BNE COPYDOWN
3600	.$1c16	LDA TMP_ZP   
3601	.$1c18	STA GCSTART
3602	.$1c1b	LDA TMP_ZP+1
3603	.$1c1d	STA GCSTART+1
3604	.$1c20	JMP GCKLOOP   
3605	.$1c23	COPYDOWN LDA GCSTART   
3606	.$1c26	STA TMP_REG
3607	.$1c28	LDA GCSTART+1
3608	.$1c2b	STA TMP_REG+1  
3609	.$1c2d	LDA GCWORK
3610	.$1c30	STA TMP2_REG
3611	.$1c33	LDA GCWORK+1
3612	.$1c36	STA TMP2_REG+1  
3613	.$1c39	LDA TMP_ZP
3614	.$1c3b	SEC
3615	.$1c3c	SBC GCWORK
3616	.$1c3f	STA TMP3_REG
3617	.$1c42	LDA TMP_ZP+1
3618	.$1c44	SBC GCWORK+1
3619	.$1c47	STA TMP3_REG+1  
3620	.$1c4a	LDA GCSTART
3621	.$1c4d	CLC
3622	.$1c4e	ADC TMP3_REG
3623	.$1c51	STA GCSTART
3624	.$1c54	LDA GCSTART+1
3625	.$1c57	ADC TMP3_REG+1
3626	.$1c5a	STA GCSTART+1  
3627	.$1c5d	JSR QUICKCOPY  
3628	.$1c60	LDY #0
3629	.$1c62	LDA TMP_REG
3630	.$1c64	STA (TMP2_ZP),Y
3631	.$1c66	INY
3632	.$1c67	LDA TMP_REG+1
3633	.$1c69	STA (TMP2_ZP),Y  
3634	.$1c6b	JMP GCKLOOP
3635	.$1c6e	GCDONE  LDA GCSTART
3636	.$1c71	STA HIGHP
3637	.$1c74	STA STRBUFP
3638	.$1c77	LDA GCSTART+1
3639	.$1c7a	STA HIGHP+1
3640	.$1c7d	STA STRBUFP+1  
3641	.$1c80	GCSKIP  JSR RESTOREPOINTERS
3642	.$1c83	RTS     
3645	.$1c84	CHECKMEMORY
3646	.$1c84	LDA STRBUFP+1  
3647	.$1c87	CMP STORE4+1  
3648	.$1c8a	BCC STILLFITSCM  
3652	.$1c8c	BEQ CHECKMEMLOWCM
3653	.$1c8e	JMP OUTOFMEMORY  
3654	.$1c91	CHECKMEMLOWCM
3655	.$1c91	LDA STRBUFP   
3656	.$1c94	CMP STORE4
3657	.$1c97	BCC STILLFITSCM
3658	.$1c99	JMP OUTOFMEMORY  
3659	.$1c9c	STILLFITSCM RTS
3662	.$1c9d	QUICKCOPY LDA TMP_REG  
3663	.$1c9f	STA TMEM+1
3664	.$1ca2	LDA TMP_REG+1
3665	.$1ca4	STA TMEM+2
3666	.$1ca7	LDA TMP2_REG
3667	.$1caa	STA SMEM+1
3668	.$1cad	LDA TMP2_REG+1
3669	.$1cb0	STA SMEM+2
3670	.$1cb3	LDY #$0
3671	.$1cb5	LDX TMP3_REG
3672	.$1cb8	BNE QCLOOP
3673	.$1cba	LDA TMP3_REG+1
3674	.$1cbd	BEQ QCEXIT  
3675	.$1cbf	QCLOOP
3676	.$1cbf	SMEM  LDA $0000,Y
3677	.$1cc2	TMEM  STA $0000,Y
3678	.$1cc5	INY
3679	.$1cc6	BNE YNOOV
3680	.$1cc8	INC TMEM+2
3681	.$1ccb	INC SMEM+2
3682	.$1cce	YNOOV  DEX
3683	.$1ccf	BNE QCLOOP
3684	.$1cd1	LDA TMP3_REG+1
3685	.$1cd4	BEQ QCEXIT
3686	.$1cd6	DEC TMP3_REG+1
3687	.$1cd9	JMP QCLOOP
3688	.$1cdc	QCEXIT  RTS
3691	.$1cdd	COPYSTRING STA TMP2_ZP
3692	.$1cdf	STY TMP2_ZP+1
3693	.$1ce1	CPY TMP_ZP+1
3694	.$1ce3	BNE CONTCOPY
3695	.$1ce5	LDA TMP2_ZP
3696	.$1ce7	CMP TMP_ZP
3697	.$1ce9	BNE CONTCOPY
3698	.$1ceb	RTS     
3699	.$1cec	CONTCOPY JSR COMPACT   
3700	.$1cef	LDY #0
3701	.$1cf1	STY TMP_FLAG
3702	.$1cf4	LDA (TMP_ZP),Y
3703	.$1cf6	BNE NOTEMPTYSTR
3704	.$1cf8	LDA #<EMPTYSTR  
3705	.$1cfa	STA TMP_ZP
3706	.$1cfc	LDA #>EMPTYSTR
3707	.$1cfe	STA TMP_ZP+1
3708	.$1d00	JMP ISCONST
3709	.$1d03	NOTEMPTYSTR TAX     
3710	.$1d04	LDA (TMP2_ZP),Y
3711	.$1d06	STA TMP3_ZP
3712	.$1d08	INY
3713	.$1d09	LDA (TMP2_ZP),Y
3714	.$1d0b	STA TMP3_ZP+1
3715	.$1d0d	DEY
3716	.$1d0e	LDA TMP_ZP+1  
3717	.$1d10	CMP #>CONSTANTS_END
3718	.$1d12	BEQ CHECKLOW1
3719	.$1d14	BCS INVAR
3720	.$1d16	JMP CHECKNEXT
3721	.$1d19	CHECKLOW1 LDA TMP_ZP
3722	.$1d1b	CMP #<CONSTANTS_END
3723	.$1d1d	BCS INVAR
3724	.$1d1f	CHECKNEXT LDA TMP_ZP+1  
3725	.$1d21	CMP #>CONSTANTS
3726	.$1d23	BEQ CHECKLOW3
3727	.$1d25	BCC INVAR
3728	.$1d27	JMP ISCONST
3729	.$1d2a	CHECKLOW3 LDA TMP_ZP
3730	.$1d2c	CMP #<CONSTANTS
3731	.$1d2e	BCC INVAR   
3732	.$1d30	ISCONST  JSR CHECKLASTVAR 
3733	.$1d33	LDA TMP_ZP
3734	.$1d35	STA (TMP2_ZP),Y  
3735	.$1d37	INY
3736	.$1d38	LDA TMP_ZP+1
3737	.$1d3a	STA (TMP2_ZP),Y
3738	.$1d3c	LDA HIGHP   
3739	.$1d3f	STA STRBUFP
3740	.$1d42	LDA HIGHP+1
3741	.$1d45	STA STRBUFP+1
3742	.$1d48	RTS
3743	.$1d49	INVAR  INY
3744	.$1d4a	LDA (TMP2_ZP),Y  
3745	.$1d4c	CMP #>CONSTANTS_END
3746	.$1d4e	BEQ CHECKLOW2
3747	.$1d50	BCS INVAR2
3748	.$1d52	JMP PUPDATEPTR
3749	.$1d55	CHECKLOW2 DEY
3750	.$1d56	LDA (TMP2_ZP),Y
3751	.$1d58	CMP #<CONSTANTS_END
3752	.$1d5a	BCS INVAR2
3753	.$1d5c	JMP PUPDATEPTR
3754	.$1d5f	INVAR2  LDY #0   
3755	.$1d61	LDA (TMP3_ZP),Y
3756	.$1d63	STA TMP_REG
3757	.$1d65	TXA
3758	.$1d66	CMP TMP_REG  
3759	.$1d68	BEQ UPDATEHP2 
3762	.$1d6a	PUPDATEPTR JSR CHECKLASTVAR
3763	.$1d6d	LDY #1   
3764	.$1d6f	STY TMP_FLAG 
3765	.$1d72	JMP UPDATEPTR 
3766	.$1d75	UPDATEHP2 LDA HIGHP  
3767	.$1d78	STA STRBUFP
3768	.$1d7b	LDA HIGHP+1
3769	.$1d7e	STA STRBUFP+1
3770	.$1d81	JMP STRFITS
3771	.$1d84	COPYONLY LDY #0
3772	.$1d86	STY TMP_FLAG
3773	.$1d89	JMP CHECKMEM
3774	.$1d8c	ALTCOPY  JMP COPYSTRING2
3775	.$1d8f	UPDATEPTR LDA TMP_ZP+1 
3776	.$1d91	CMP HIGHP+1  
3777	.$1d94	BEQ CHECKXT1
3778	.$1d96	BCS ALTCOPY
3779	.$1d98	JMP CHECKMEM
3780	.$1d9b	CHECKXT1 LDA TMP_ZP
3781	.$1d9d	CMP HIGHP
3782	.$1da0	BCS ALTCOPY
3783	.$1da2	CHECKMEM
3784	.$1da2	MEMOK  LDY #0
3785	.$1da4	LDA STRBUFP  
3786	.$1da7	STA (TMP2_ZP),Y 
3787	.$1da9	STA TMP3_ZP
3788	.$1dab	LDA STRBUFP+1
3789	.$1dae	INY
3790	.$1daf	STA (TMP2_ZP),Y
3791	.$1db1	STA TMP3_ZP+1
3792	.$1db3	TXA
3793	.$1db4	CLC
3794	.$1db5	ADC STRBUFP
3795	.$1db8	PHP
3796	.$1db9	CLC
3797	.$1dba	ADC #3
3798	.$1dbc	STA STRBUFP
3799	.$1dbf	BCC NOCS1
3800	.$1dc1	INC STRBUFP+1
3801	.$1dc4	NOCS1  PLP
3802	.$1dc5	BCC STRFITS
3803	.$1dc7	INC STRBUFP+1
3804	.$1dca	STRFITS  LDY TMP_FLAG 
3805	.$1dcd	BEQ NOHPUPDATE 
3806	.$1dcf	LDA HIGHP+1
3807	.$1dd2	CMP STRBUFP+1
3808	.$1dd5	BCC UPDATEHIGHP
3809	.$1dd7	BEQ CHECKNEXTHP
3810	.$1dd9	JMP NOHPUPDATE
3811	.$1ddc	CHECKNEXTHP LDA HIGHP
3812	.$1ddf	CMP STRBUFP
3813	.$1de2	BCC UPDATEHIGHP
3814	.$1de4	JMP NOHPUPDATE
3815	.$1de7	UPDATEHIGHP LDA STRBUFP
3816	.$1dea	STA HIGHP
3817	.$1ded	LDA STRBUFP+1
3818	.$1df0	STA HIGHP+1  
3819	.$1df3	JSR REMEMBERLASTVAR
3820	.$1df6	JSR STOREVARREF
3821	.$1df9	NOHPUPDATE LDY #0
3822	.$1dfb	LDA (TMP_ZP),Y 
3823	.$1dfd	STA (TMP3_ZP),Y
3824	.$1dff	TAY    
3825	.$1e00	BEQ EXITCOPY 
3826	.$1e02	LOOP  LDA (TMP_ZP),Y 
3827	.$1e04	STA (TMP3_ZP),Y
3828	.$1e06	DEY
3829	.$1e07	BNE LOOP
3830	.$1e09	EXITCOPY RTS
3835	.$1e0a	COPYSTRING2 LDY #0
3836	.$1e0c	LDA (TMP_ZP),Y
3837	.$1e0e	STA TMP_REG
3838	.$1e10	TAX
3839	.$1e11	LDA HIGHP
3840	.$1e14	STA TMP3_ZP
3841	.$1e16	STA (TMP2_ZP),Y
3842	.$1e18	LDA HIGHP+1
3843	.$1e1b	STA TMP3_ZP+1
3844	.$1e1d	INY
3845	.$1e1e	STA (TMP2_ZP),Y
3846	.$1e20	JSR REMEMBERLASTVAR
3849	.$1e23	LDA TMP_ZP
3850	.$1e25	CMP TMP3_ZP
3851	.$1e27	BNE DOLOOP
3852	.$1e29	LDA TMP_ZP+1
3853	.$1e2b	CMP TMP3_ZP+1
3854	.$1e2d	BEQ SKIPCP2
3855	.$1e2f	DOLOOP  DEY
3856	.$1e30	TXA
3857	.$1e31	STA (TMP3_ZP),Y
3858	.$1e33	INY
3859	.$1e34	ASLOOP  LDA (TMP_ZP),Y
3860	.$1e36	STA (TMP3_ZP),Y
3861	.$1e38	INY
3862	.$1e39	DEX
3863	.$1e3a	BNE ASLOOP
3864	.$1e3c	SKIPCP2  LDA HIGHP
3865	.$1e3f	CLC
3866	.$1e40	ADC TMP_REG
3867	.$1e42	PHP
3868	.$1e43	CLC
3869	.$1e44	ADC #3
3870	.$1e46	STA HIGHP
3871	.$1e49	STA STRBUFP
3872	.$1e4c	BCC SKIPLOWAS1
3873	.$1e4e	INC HIGHP+1
3874	.$1e51	SKIPLOWAS1 PLP
3875	.$1e52	BCC SKIPLOWAS2
3876	.$1e54	INC HIGHP+1
3877	.$1e57	SKIPLOWAS2 LDA HIGHP+1
3878	.$1e5a	STA STRBUFP+1
3879	.$1e5d	JSR STOREVARREF
3880	.$1e60	RTS
3884	.$1e61	CHECKLASTVAR
3885	.$1e61	LDA TMP2_ZP
3886	.$1e63	CMP LASTVAR
3887	.$1e66	BNE NOTSAMEVAR
3888	.$1e68	LDA TMP2_ZP+1
3889	.$1e6a	CMP LASTVAR+1
3890	.$1e6d	BNE NOTSAMEVAR
3891	.$1e6f	LDA LASTVARP   
3892	.$1e72	STA HIGHP
3893	.$1e75	STA STRBUFP
3894	.$1e78	LDA LASTVARP+1
3895	.$1e7b	STA HIGHP+1
3896	.$1e7e	STA STRBUFP+1
3897	.$1e81	NOTSAMEVAR RTS
3901	.$1e82	REMEMBERLASTVAR
3902	.$1e82	LDA TMP2_ZP
3903	.$1e84	STA LASTVAR
3904	.$1e87	LDA TMP2_ZP+1
3905	.$1e89	STA LASTVAR+1
3906	.$1e8c	LDA TMP3_ZP
3907	.$1e8e	STA LASTVARP
3908	.$1e91	LDA TMP3_ZP+1
3909	.$1e93	STA LASTVARP+1 
3910	.$1e96	RTS
3915	.$1e97	STOREVARREF
3916	.$1e97	TYA
3917	.$1e98	PHA    
3918	.$1e99	LDA TMP_ZP
3919	.$1e9b	PHA
3920	.$1e9c	LDA TMP_ZP+1
3921	.$1e9e	PHA
3922	.$1e9f	LDA HIGHP+1
3923	.$1ea2	STA TMP_ZP+1
3924	.$1ea4	LDA HIGHP
3925	.$1ea7	SEC
3926	.$1ea8	SBC #2
3927	.$1eaa	STA TMP_ZP
3928	.$1eac	BCS RLVNOOV
3929	.$1eae	DEC TMP_ZP+1
3930	.$1eb0	RLVNOOV  LDA TMP2_ZP
3931	.$1eb2	LDY #0
3932	.$1eb4	STA (TMP_ZP),Y
3933	.$1eb6	LDA TMP2_ZP+1
3934	.$1eb8	INY
3935	.$1eb9	STA (TMP_ZP),Y 
3936	.$1ebb	PLA
3937	.$1ebc	STA TMP_ZP+1
3938	.$1ebe	PLA
3939	.$1ebf	STA TMP_ZP  
3940	.$1ec1	PLA
3941	.$1ec2	TAY    
3942	.$1ec3	RTS
3945	.$1ec4	REROUTE  LDA CMD_NUM  
3946	.$1ec7	BEQ REROUTECMD
3947	.$1ec9	TAX
3948	.$1eca	STA CHANNEL
3949	.$1ecd	JMP CHKOUT
3950	.$1ed0	REROUTECMD RTS
3953	.$1ed1	RESETROUTE LDA CMD_NUM  
3954	.$1ed4	BEQ RESETROUTECMD
3955	.$1ed6	JMP CLRCHNEW
3956	.$1ed9	RESETROUTECMD
3957	.$1ed9	RTS
3960	.$1eda	INTOUTFAST JSR REROUTE
3961	.$1edd	JSR INTOUTFASTZ
3962	.$1ee0	JMP RESETROUTE
3965	.$1ee3	INTOUTFASTZ LDX #32    
3966	.$1ee5	LDA TMP_ZP+1
3967	.$1ee7	BPL INTISPOS
3968	.$1ee9	CLC
3969	.$1eea	LDA TMP_ZP
3970	.$1eec	EOR #$FF
3971	.$1eee	ADC #1
3972	.$1ef0	STA TMP_ZP
3973	.$1ef2	LDA TMP_ZP+1
3974	.$1ef4	EOR #$FF
3975	.$1ef6	ADC #0
3976	.$1ef8	STA TMP_ZP+1
3977	.$1efa	LDX #45    
3978	.$1efc	INTISPOS
3979	.$1efc	TXA
3980	.$1efd	JSR CHROUT
3981	.$1f00	JSR CONVPOSINT
3982	.$1f03	LDA NUMFLAG
3983	.$1f06	BNE ALLINTOUTDONE
3984	.$1f08	LDA #48
3985	.$1f0a	JSR CHROUT
3986	.$1f0d	ALLINTOUTDONE
3987	.$1f0d	RTS
3990	.$1f0e	NUMBEROUT
3991	.$1f0e	BEQ NUMZERO
3992	.$1f10	ORA #$30
3993	.$1f12	STA NUMFLAG
3994	.$1f15	JMP CHROUT
3995	.$1f18	NUMZERO
3996	.$1f18	LDX NUMFLAG
3997	.$1f1b	BEQ STILLZERO
3998	.$1f1d	ORA #$30
3999	.$1f1f	JMP CHROUT
4000	.$1f22	STILLZERO
4001	.$1f22	RTS
4004	.$1f23	CONVPOSINT
4005	.$1f23	JSR INT2BCD
4006	.$1f26	LDX #0
4007	.$1f28	STX NUMFLAG
4008	.$1f2b	AND #$0F
4009	.$1f2d	JSR NUMBEROUT
4010	.$1f30	LDA BCD+1
4011	.$1f33	LSR
4012	.$1f34	LSR
4013	.$1f35	LSR
4014	.$1f36	LSR
4015	.$1f37	JSR NUMBEROUT
4016	.$1f3a	LDA BCD+1
4017	.$1f3d	AND #$0F
4018	.$1f3f	TAY
4019	.$1f40	JSR NUMBEROUT
4020	.$1f43	LDA BCD
4021	.$1f46	LSR
4022	.$1f47	LSR
4023	.$1f48	LSR
4024	.$1f49	LSR
4025	.$1f4a	JSR NUMBEROUT
4026	.$1f4d	LDA BCD
4027	.$1f50	AND #$0F
4028	.$1f52	JSR NUMBEROUT
4029	.$1f55	RTS
4032	.$1f56	INT2BCD
4033	.$1f56	SED
4034	.$1f57	LDA #0
4035	.$1f59	STA BCD
4036	.$1f5c	STA BCD+1
4037	.$1f5f	STA BCD+2
4038	.$1f62	ASL TMP_ZP
4039	.$1f64	ROL TMP_ZP+1
4040	.$1f66	LDA BCD
4041	.$1f69	ADC BCD
4042	.$1f6c	STA BCD
4043	.$1f6f	ASL TMP_ZP
4044	.$1f71	ROL TMP_ZP+1
4045	.$1f73	ADC BCD
4046	.$1f76	STA BCD
4047	.$1f79	ASL TMP_ZP
4048	.$1f7b	ROL TMP_ZP+1
4049	.$1f7d	ADC BCD
4050	.$1f80	STA BCD
4051	.$1f83	ASL TMP_ZP
4052	.$1f85	ROL TMP_ZP+1
4053	.$1f87	ADC BCD
4054	.$1f8a	STA BCD
4055	.$1f8d	ASL TMP_ZP
4056	.$1f8f	ROL TMP_ZP+1
4057	.$1f91	ADC BCD
4058	.$1f94	STA BCD
4059	.$1f97	ASL TMP_ZP
4060	.$1f99	ROL TMP_ZP+1
4061	.$1f9b	ADC BCD
4062	.$1f9e	STA BCD
4063	.$1fa1	LDX #7
4064	.$1fa3	BCDBIT1
4065	.$1fa3	ASL TMP_ZP
4066	.$1fa5	ROL TMP_ZP+1
4067	.$1fa7	LDA BCD
4068	.$1faa	ADC BCD
4069	.$1fad	STA BCD
4070	.$1fb0	LDA BCD+1
4071	.$1fb3	ADC BCD+1
4072	.$1fb6	STA BCD+1
4073	.$1fb9	DEX
4074	.$1fba	BNE BCDBIT1
4075	.$1fbc	LDX #3
4076	.$1fbe	BCDBIT2
4077	.$1fbe	ASL TMP_ZP
4078	.$1fc0	ROL TMP_ZP+1
4079	.$1fc2	LDA BCD
4080	.$1fc5	ADC BCD
4081	.$1fc8	STA BCD
4082	.$1fcb	LDA BCD+1
4083	.$1fce	ADC BCD+1
4084	.$1fd1	STA BCD+1
4085	.$1fd4	LDA BCD+2
4086	.$1fd7	ADC BCD+2
4087	.$1fda	STA BCD+2
4088	.$1fdd	DEX
4089	.$1fde	BNE BCDBIT2
4090	.$1fe0	CLD
4091	.$1fe1	RTS
4092	.$1fe2	BCD
4093	.$1fe2	.WORD 0 0
4094	.$1fe6	NUMFLAG
4095	.$1fe6	.BYTE 0
4098	.$1fe7	REALOUTFAST JSR FACINT
4099	.$1fea	STA TMP_ZP+1
4100	.$1fec	STY TMP_ZP
4101	.$1fee	JMP INTOUTFASTZ
4104	.$1ff1	CHECKFORFASTOUT
4105	.$1ff1	JSR REROUTE
4106	.$1ff4	JSR XREGFAC
4107	.$1ff7	LDA FACEXP
4108	.$1ff9	CMP #$90
4109	.$1ffb	BCS REALOUTINT
4110	.$1ffd	CMP #$81
4111	.$1fff	BCC REALOUTINT
4112	.$2001	MAYBEREALOUTFAST
4113	.$2001	LDA FACEXP+3
4114	.$2003	BNE REALOUTINT
4115	.$2005	LDA FACEXP+4
4116	.$2007	BNE REALOUTINT
4117	.$2009	LDA FACEXP
4118	.$200b	SEC
4119	.$200c	SBC #129
4120	.$200e	ASL
4121	.$200f	TAX
4122	.$2010	LDA FACEXP+1
4123	.$2012	AND MANTMASK,X
4124	.$2015	BNE REALOUTINT
4125	.$2017	INX
4126	.$2018	LDA FACEXP+2
4127	.$201a	AND MANTMASK,X
4128	.$201d	BNE REALOUTINT
4129	.$201f	JMP REALOUTFAST
4130	.$2022	REALOUTINT LDY #0
4131	.$2024	JSR FACSTR
4132	.$2027	LDY #0
4133	.$2029	LDA LOFBUF,Y
4134	.$202c	STRLOOPRO JSR CHROUT
4135	.$202f	INY
4136	.$2030	LDA LOFBUF,Y
4137	.$2033	BNE STRLOOPRO
4138	.$2035	RTS
4139	.$2036	MANTMASK
4140	.$2036	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
4143	.$2054	REALOUT  LDA X_REG
4144	.$2056	BNE RNOTNULL
4145	.$2058	JMP PRINTNULL
4146	.$205b	RNOTNULL JSR CHECKFORFASTOUT
4147	.$205e	JMP RESETROUTE
4150	.$2061	REALOUTBRK  LDA X_REG
4151	.$2063	BNE RNOTNULLBRK
4152	.$2065	JMP PRINTNULLBRK
4153	.$2068	RNOTNULLBRK JSR CHECKFORFASTOUT
4154	.$206b	LDA #$0D
4155	.$206d	JSR CHROUT
4156	.$2070	JMP RESETROUTE
4159	.$2073	LINEBREAK JSR REROUTE
4160	.$2076	LDA #$0D
4161	.$2078	JSR CHROUT
4162	.$207b	JMP RESETROUTE
4165	.$207e	PRINTNULL JSR REROUTE
4166	.$2081	LDA #$20
4167	.$2083	JSR CHROUT
4168	.$2086	LDA #$30
4169	.$2088	JSR CHROUT
4170	.$208b	JMP RESETROUTE
4173	.$208e	PRINTNULLBRK
4174	.$208e	JSR REROUTE
4175	.$2091	LDA #$20
4176	.$2093	JSR CHROUT
4177	.$2096	LDA #$30
4178	.$2098	JSR CHROUT
4179	.$209b	LDA #$0D
4180	.$209d	JSR CHROUT
4181	.$20a0	JMP RESETROUTE
4184	.$20a3	STROUTWL STA A_REG
4185	.$20a6	STY A_REG+1
4186	.$20a9	STROUT  JSR REROUTE
4187	.$20ac	LDA A_REG
4188	.$20af	STA INDEX1
4189	.$20b1	LDA A_REG+1
4190	.$20b4	STA INDEX1+1
4191	.$20b6	LDY #0
4192	.$20b8	LDA (INDEX1),Y
4193	.$20ba	TAX
4194	.$20bb	INC INDEX1
4195	.$20bd	BNE PRINTSTR
4196	.$20bf	INC INDEX1+1
4197	.$20c1	PRINTSTR JSR PRINTSTRS
4198	.$20c4	LDA HIGHP   
4199	.$20c7	STA STRBUFP
4200	.$20ca	LDA HIGHP+1
4201	.$20cd	STA STRBUFP+1
4202	.$20d0	JSR RESETROUTE
4203	.$20d3	RTS
4206	.$20d4	SINGLECHROUTMAX
4207	.$20d4	JSR SINGLECHROUT
4208	.$20d7	JMP COMPACTMAX
4211	.$20da	SINGLECHROUT
4212	.$20da	STA TMP_ZP
4213	.$20dc	JSR REROUTE
4214	.$20df	LDA TMP_ZP
4215	.$20e1	JSR CHROUT
4216	.$20e4	JMP RESETROUTE
4219	.$20e7	STROUTBRKWL STA A_REG
4220	.$20ea	STY A_REG+1
4221	.$20ed	STROUTBRK JSR REROUTE
4222	.$20f0	LDA A_REG
4223	.$20f3	STA INDEX1
4224	.$20f5	LDA A_REG+1
4225	.$20f8	STA INDEX1+1
4226	.$20fa	LDY #0
4227	.$20fc	LDA (INDEX1),Y
4228	.$20fe	TAX
4229	.$20ff	INC INDEX1
4230	.$2101	BNE PRINTSTR2
4231	.$2103	INC INDEX1+1
4232	.$2105	PRINTSTR2 JSR PRINTSTRS
4233	.$2108	LDA HIGHP   
4234	.$210b	STA STRBUFP
4235	.$210e	LDA HIGHP+1
4236	.$2111	STA STRBUFP+1
4237	.$2114	LDA #$0D
4238	.$2116	JSR CHROUT
4239	.$2119	JMP RESETROUTE  
4242	.$211c	ARRAYACCESS_STRING
4243	.$211c	JSR XREGFAC
4244	.$211f	JSR FACINT
4245	.$2122	ARRAYACCESS_STRING_INT
4246	.$2122	LDX G_REG
4247	.$2124	STX TMP_ZP
4248	.$2126	LDX G_REG+1
4249	.$2128	STX TMP_ZP+1
4250	.$212a	TAX
4251	.$212b	TYA
4252	.$212c	ASL
4253	.$212d	STA TMP2_ZP
4254	.$212f	TXA
4255	.$2130	ROL
4256	.$2131	STA TMP2_ZP+1
4257	.$2133	LDA TMP_ZP
4258	.$2135	CLC
4259	.$2136	ADC TMP2_ZP
4260	.$2138	STA TMP_ZP
4261	.$213a	LDA TMP_ZP+1
4262	.$213c	ADC TMP2_ZP+1
4263	.$213e	STA TMP_ZP+1
4264	.$2140	LDY #0
4265	.$2142	LDA (TMP_ZP),Y
4266	.$2144	STA A_REG
4267	.$2147	INY
4268	.$2148	LDA (TMP_ZP),Y
4269	.$214a	STA A_REG+1
4270	.$214d	RTS
4273	.$214e	ARRAYACCESS_INTEGER_SI
4274	.$214e	STA G_REG
4275	.$2150	STY G_REG+1
4276	.$2152	JSR XREGFAC
4277	.$2155	JSR FACINT
4278	.$2158	ARRAYACCESS_INTEGER_INT_SI
4279	.$2158	TAX
4280	.$2159	TYA
4281	.$215a	ASL
4282	.$215b	STA TMP2_ZP
4283	.$215d	TXA
4284	.$215e	ROL
4285	.$215f	STA TMP2_ZP+1
4286	.$2161	LDA TMP2_ZP
4287	.$2163	CLC
4288	.$2164	ADC G_REG
4289	.$2166	STA TMP_ZP
4290	.$2168	LDA G_REG+1
4291	.$216a	ADC TMP2_ZP+1
4292	.$216c	STA TMP_ZP+1
4293	.$216e	LDY #1
4294	.$2170	LDA (TMP_ZP),Y
4295	.$2172	TAX
4296	.$2173	DEY
4297	.$2174	LDA (TMP_ZP),Y
4298	.$2176	TAY
4299	.$2177	TXA
4300	.$2178	RTS
4303	.$2179	ARRAYACCESS_INTEGER_SNX
4304	.$2179	STA G_REG
4305	.$217b	STY G_REG+1
4306	.$217d	JMP ARRAYACCESS_INTEGER_NX
4309	.$2180	ARRAYACCESS_INTEGER_S
4310	.$2180	STA G_REG
4311	.$2182	STY G_REG+1
4312	.$2184	ARRAYACCESS_INTEGER
4313	.$2184	JSR XREGFAC
4314	.$2187	ARRAYACCESS_INTEGER_NX
4315	.$2187	JSR FACINT
4316	.$218a	ARRAYACCESS_INTEGER_INT
4317	.$218a	LDX G_REG
4318	.$218c	STX TMP_ZP
4319	.$218e	LDX G_REG+1
4320	.$2190	STX TMP_ZP+1
4321	.$2192	TAX
4322	.$2193	TYA
4323	.$2194	ASL
4324	.$2195	STA TMP2_ZP
4325	.$2197	TXA
4326	.$2198	ROL
4327	.$2199	STA TMP2_ZP+1
4328	.$219b	LDA TMP_ZP
4329	.$219d	CLC
4330	.$219e	ADC TMP2_ZP
4331	.$21a0	STA TMP_ZP
4332	.$21a2	LDA TMP_ZP+1
4333	.$21a4	ADC TMP2_ZP+1
4334	.$21a6	STA TMP_ZP+1
4335	.$21a8	AIIDI  LDY #1
4336	.$21aa	LDA (TMP_ZP),Y
4337	.$21ac	TAX
4338	.$21ad	DEY
4339	.$21ae	LDA (TMP_ZP),Y
4340	.$21b0	TAY
4341	.$21b1	TXA
4342	.$21b2	STY TMP2_ZP  
4343	.$21b4	STA TMP2_ZP+1
4344	.$21b6	JSR INTFAC
4345	.$21b9	JMP FACXREG 
4348	.$21bc	ARRAYSTORE_STRING
4349	.$21bc	JSR XREGFAC
4350	.$21bf	JSR FACINT
4351	.$21c2	ARRAYSTORE_STRING_INT
4352	.$21c2	LDX G_REG
4353	.$21c4	STX TMP_ZP
4354	.$21c6	LDX G_REG+1
4355	.$21c8	STX TMP_ZP+1
4356	.$21ca	TAX
4357	.$21cb	TYA
4358	.$21cc	ASL
4359	.$21cd	STA TMP2_ZP
4360	.$21cf	TXA
4361	.$21d0	ROL
4362	.$21d1	STA TMP2_ZP+1
4363	.$21d3	LDA TMP_ZP
4364	.$21d5	CLC
4365	.$21d6	ADC TMP2_ZP
4366	.$21d8	TAX
4367	.$21d9	LDA TMP_ZP+1
4368	.$21db	ADC TMP2_ZP+1
4369	.$21dd	TAY
4370	.$21de	LDA A_REG
4371	.$21e1	STA TMP_ZP
4372	.$21e3	LDA A_REG+1
4373	.$21e6	STA TMP_ZP+1
4374	.$21e8	TXA
4375	.$21e9	JMP COPYSTRING 
4378	.$21ec	ARRAYSTORE_INT_INTEGER
4379	.$21ec	JSR XREGFAC
4380	.$21ef	JSR FACINT
4381	.$21f2	ARRAYSTORE_INT_INTEGER_AC
4382	.$21f2	LDX G_REG
4383	.$21f4	STX TMP_ZP
4384	.$21f6	LDX G_REG+1
4385	.$21f8	STX TMP_ZP+1
4386	.$21fa	TAX
4387	.$21fb	TYA
4388	.$21fc	ASL
4389	.$21fd	STA TMP2_ZP
4390	.$21ff	TXA
4391	.$2200	ROL
4392	.$2201	STA TMP2_ZP+1
4393	.$2203	LDA TMP_ZP
4394	.$2205	CLC
4395	.$2206	ADC TMP2_ZP
4396	.$2208	STA TMP_ZP
4397	.$220a	LDA TMP_ZP+1
4398	.$220c	ADC TMP2_ZP+1
4399	.$220e	STA TMP_ZP+1
4400	.$2210	LDY #1
4401	.$2212	LDA AS_TMP+1
4402	.$2215	STA (TMP_ZP),Y
4403	.$2217	DEY
4404	.$2218	LDA AS_TMP
4405	.$221b	STA (TMP_ZP),Y
4406	.$221d	RTS
4409	.$221e	ARRAYSTORE_INTEGER
4410	.$221e	JSR XREGFAC
4411	.$2221	ARRAYSTORE_INTEGER_NX
4412	.$2221	JSR FACINT
4413	.$2224	ARRAYSTORE_INTEGER_INT
4414	.$2224	LDX G_REG
4415	.$2226	STX TMP_ZP
4416	.$2228	LDX G_REG+1
4417	.$222a	STX TMP_ZP+1
4418	.$222c	TAX
4419	.$222d	TYA
4420	.$222e	ASL
4421	.$222f	STA TMP2_ZP
4422	.$2231	TXA
4423	.$2232	ROL
4424	.$2233	STA TMP2_ZP+1
4425	.$2235	LDA TMP_ZP
4426	.$2237	CLC
4427	.$2238	ADC TMP2_ZP
4428	.$223a	STA TMP_ZP
4429	.$223c	LDA TMP_ZP+1
4430	.$223e	ADC TMP2_ZP+1
4431	.$2240	STA TMP_ZP+1
4432	.$2242	JSR YREGFAC
4433	.$2245	JSR FACINT
4434	.$2248	STY TMP3_ZP
4435	.$224a	LDY #1
4436	.$224c	STA (TMP_ZP),Y
4437	.$224e	DEY
4438	.$224f	LDA TMP3_ZP
4439	.$2251	STA (TMP_ZP),Y
4440	.$2253	RTS
4443	.$2254	ADJUSTSTACK LDA FORSTACKP 
4444	.$2257	STA TMP_ZP
4445	.$2259	LDA FORSTACKP+1
4446	.$225c	STA TMP_ZP+1
4447	.$225e	ADSEARCHFOR LDA TMP_ZP
4448	.$2260	CMP #<FORSTACK
4449	.$2262	BNE ADJUST2
4450	.$2264	LDA TMP_ZP+1
4451	.$2266	CMP #>FORSTACK
4452	.$2268	BNE ADJUST2
4453	.$226a	RTS    
4454	.$226b	ADJUST2  LDA TMP_ZP
4455	.$226d	SEC
4456	.$226e	SBC #2
4457	.$2270	STA TMP_ZP
4458	.$2272	BCS ADNOPV1N1
4459	.$2274	DEC TMP_ZP+1
4460	.$2276	ADNOPV1N1 LDY #0
4461	.$2278	LDA (TMP_ZP),Y
4462	.$227a	BNE ADNOGOSUB
4463	.$227c	RTS    
4464	.$227d	ADNOGOSUB
4465	.$227d	INY
4466	.$227e	LDA TMP_ZP
4467	.$2280	SEC
4468	.$2281	SBC (TMP_ZP),Y
4469	.$2283	STA TMP_ZP
4470	.$2285	BCS ADNOPV1N2
4471	.$2287	DEC TMP_ZP+1
4472	.$2289	ADNOPV1N2 DEY
4473	.$228a	LDA A_REG
4474	.$228d	ADCMPFOR CMP (TMP_ZP),Y
4475	.$228f	BNE ADSEARCHFOR
4476	.$2291	LDA A_REG+1
4477	.$2294	INY
4478	.$2295	CMP (TMP_ZP),Y
4479	.$2297	BEQ ADFOUNDFOR
4480	.$2299	JMP ADSEARCHFOR
4481	.$229c	ADLOW0  LDX A_REG+1
4482	.$229f	BEQ ADFOUNDFOR
4483	.$22a1	BNE ADCMPFOR
4484	.$22a3	ADFOUNDFOR LDA TMP_ZP  
4485	.$22a5	STA FORSTACKP
4486	.$22a8	LDA TMP_ZP+1
4487	.$22aa	STA FORSTACKP+1
4488	.$22ad	RTS
4491	.$22ae	INITFOR  JSR ADJUSTSTACK
4492	.$22b1	LDA FORSTACKP
4493	.$22b4	STA TMP_ZP
4494	.$22b6	LDA FORSTACKP+1
4495	.$22b9	STA TMP_ZP+1
4496	.$22bb	LDY #0
4497	.$22bd	LDA A_REG
4498	.$22c0	STA (TMP_ZP),Y
4499	.$22c2	INY
4500	.$22c3	LDA A_REG+1
4501	.$22c6	STA (TMP_ZP),Y
4502	.$22c8	INY
4503	.$22c9	LDA JUMP_TARGET
4504	.$22cb	STA (TMP_ZP),Y
4505	.$22cd	INY
4506	.$22ce	LDA JUMP_TARGET+1
4507	.$22d0	STA (TMP_ZP),Y
4508	.$22d2	INY
4509	.$22d3	STY TMP3_ZP
4510	.$22d5	JSR INCTMPZP
4511	.$22d8	JSR POPREAL
4512	.$22db	LDX TMP_ZP
4513	.$22dd	LDY TMP_ZP+1
4515	.$22df	JSR FACMEM
4516	.$22e2	JSR SGNFAC
4517	.$22e5	STA TMP_FLAG
4518	.$22e8	LDY #5
4519	.$22ea	STY TMP3_ZP
4520	.$22ec	JSR INCTMPZP
4521	.$22ef	JSR POPREAL
4522	.$22f2	LDX TMP_ZP
4523	.$22f4	LDY TMP_ZP+1
4525	.$22f6	JSR FACMEM
4526	.$22f9	LDY #5
4527	.$22fb	STY TMP3_ZP
4528	.$22fd	JSR INCTMPZP
4529	.$2300	LDY #0
4530	.$2302	LDA TMP_FLAG
4531	.$2305	STA (TMP_ZP),Y
4532	.$2307	INY
4533	.$2308	LDA #1
4534	.$230a	STA (TMP_ZP),Y
4535	.$230c	INY
4536	.$230d	LDA #15
4537	.$230f	STA (TMP_ZP),Y
4538	.$2311	LDY #3
4539	.$2313	STY TMP3_ZP
4540	.$2315	JSR INCTMPZP
4541	.$2318	LDA TMP_ZP
4542	.$231a	STA FORSTACKP
4543	.$231d	LDA TMP_ZP+1
4544	.$231f	STA FORSTACKP+1
4545	.$2322	RTS
4548	.$2323	NEXT  LDA FORSTACKP
4549	.$2326	STA TMP_ZP
4550	.$2328	LDA FORSTACKP+1
4551	.$232b	STA TMP_ZP+1
4552	.$232d	SEARCHFOR LDA TMP_ZP+1
4553	.$232f	STA TMP3_REG+1
4554	.$2332	LDA TMP_ZP
4555	.$2334	STA TMP3_REG
4556	.$2337	SEC
4557	.$2338	SBC #2
4558	.$233a	STA TMP_ZP
4559	.$233c	BCS NOPV1N1
4560	.$233e	DEC TMP_ZP+1
4561	.$2340	NOPV1N1  LDY #0
4562	.$2342	LDA (TMP_ZP),Y
4563	.$2344	BNE NOGOSUB
4564	.$2346	JMP NEXTWOFOR
4565	.$2349	NOGOSUB
4566	.$2349	INY
4567	.$234a	LDA TMP_ZP
4568	.$234c	SEC
4569	.$234d	SBC (TMP_ZP),Y
4570	.$234f	STA TMP_ZP
4571	.$2351	BCS NOPV1N2
4572	.$2353	DEC TMP_ZP+1
4573	.$2355	NOPV1N2  DEY
4574	.$2356	LDA A_REG
4575	.$2359	BEQ LOW0
4576	.$235b	CMPFOR  CMP (TMP_ZP),Y
4577	.$235d	BNE SEARCHFOR
4578	.$235f	LDA A_REG+1
4579	.$2362	INY
4580	.$2363	CMP (TMP_ZP),Y
4581	.$2365	BEQ FOUNDFOR
4582	.$2367	JMP SEARCHFOR
4583	.$236a	LOW0  LDX A_REG+1
4584	.$236d	BEQ FOUNDFOR
4585	.$236f	BNE CMPFOR
4586	.$2371	FOUNDFOR LDA TMP_ZP
4587	.$2373	STA TMP2_REG
4588	.$2376	LDA TMP_ZP+1
4589	.$2378	STA TMP2_REG+1
4590	.$237b	VARREAL
4591	.$237b	LDY #0
4592	.$237d	STY A_REG+1 
4593	.$2380	LDA (TMP_ZP),Y
4594	.$2382	TAX
4595	.$2383	INY
4596	.$2384	LDA (TMP_ZP),Y
4597	.$2386	TAY
4598	.$2387	TXA
4599	.$2388	JSR REALFAC
4600	.$238b	CALCNEXT LDA TMP_ZP
4601	.$238d	CLC
4602	.$238e	ADC #4
4603	.$2390	STA TMP_ZP
4604	.$2392	BCC NOPV2IN
4605	.$2394	INC TMP_ZP+1
4606	.$2396	NOPV2IN  STA TMP_REG
4607	.$2398	LDY TMP_ZP+1
4608	.$239a	STY TMP_REG+1
4609	.$239c	JSR FASTFADDMEM
4611	.$239f	LDA TMP2_REG
4612	.$23a2	STA TMP_ZP
4613	.$23a4	LDA TMP2_REG+1
4614	.$23a7	STA TMP_ZP+1
4615	.$23a9	STOREREAL
4616	.$23a9	LDY #0
4617	.$23ab	LDA (TMP_ZP),Y
4618	.$23ad	TAX
4619	.$23ae	INY
4620	.$23af	LDA (TMP_ZP),Y
4621	.$23b1	TAY
4622	.$23b2	JSR FACMEM 
4623	.$23b5	CMPFORXX LDA #5
4624	.$23b7	STA TMP3_ZP
4625	.$23b9	LDA TMP_REG
4626	.$23bb	CLC
4627	.$23bc	ADC #5
4628	.$23be	STA TMP_REG
4629	.$23c0	BCC NOPV3
4630	.$23c2	INC TMP_REG+1
4631	.$23c4	NOPV3  LDY TMP_REG+1
4632	.$23c6	JSR CMPFAC  
4633	.$23c9	BEQ LOOPING
4634	.$23cb	PHA
4635	.$23cc	LDY #14
4636	.$23ce	LDA (TMP_ZP),Y
4637	.$23d0	BEQ STEPZERO
4638	.$23d2	ROL
4639	.$23d3	BCC STEPPOS
4640	.$23d5	STEPNEG  PLA
4641	.$23d6	ROL
4642	.$23d7	BCC LOOPING
4643	.$23d9	BCS EXITLOOP
4644	.$23db	STEPPOS  PLA
4645	.$23dc	ROL
4646	.$23dd	BCC EXITLOOP
4647	.$23df	LOOPING  LDA TMP3_REG
4648	.$23e2	STA FORSTACKP
4649	.$23e5	LDA TMP3_REG+1
4650	.$23e8	STA FORSTACKP+1
4651	.$23eb	LDA TMP2_REG
4652	.$23ee	CLC
4653	.$23ef	ADC #2
4654	.$23f1	STA TMP2_REG
4655	.$23f4	BCC NOPV4IN
4656	.$23f6	INC TMP2_REG+1
4657	.$23f9	NOPV4IN  LDY #0
4658	.$23fb	STY A_REG
4659	.$23fe	STA TMP_ZP
4660	.$2400	LDA TMP2_REG+1
4661	.$2403	STA TMP_ZP+1
4662	.$2405	LDA (TMP_ZP),Y
4663	.$2407	STA JUMP_TARGET
4664	.$2409	INY
4665	.$240a	LDA (TMP_ZP),Y
4666	.$240c	STA JUMP_TARGET+1
4667	.$240e	RTS
4668	.$240f	STEPZERO PLA
4669	.$2410	JMP LOOPING
4670	.$2413	EXITLOOP LDA TMP2_REG
4671	.$2416	STA FORSTACKP
4672	.$2419	LDA TMP2_REG+1
4673	.$241c	STA FORSTACKP+1
4674	.$241f	LDA #1
4675	.$2421	STA A_REG
4676	.$2424	RTS
4679	.$2425	RETURN  LDA FORSTACKP
4680	.$2428	STA TMP_ZP
4681	.$242a	LDA FORSTACKP+1
4682	.$242d	STA TMP_ZP+1
4683	.$242f	SEARCHGOSUB LDA TMP_ZP
4684	.$2431	SEC
4685	.$2432	SBC #2
4686	.$2434	STA TMP_ZP
4687	.$2436	BCS NOPV1SG
4688	.$2438	DEC TMP_ZP+1
4689	.$243a	NOPV1SG  LDY #0
4690	.$243c	LDA (TMP_ZP),Y
4691	.$243e	BEQ FOUNDGOSUB
4692	.$2440	INY
4693	.$2441	LDA (TMP_ZP),Y
4694	.$2443	STA TMP3_ZP
4695	.$2445	LDA TMP_ZP
4696	.$2447	SEC
4697	.$2448	SBC (TMP_ZP),Y
4698	.$244a	STA TMP_ZP
4699	.$244c	BCS NOPV1GS
4700	.$244e	DEC TMP_ZP+1
4701	.$2450	NOPV1GS  JMP SEARCHGOSUB
4702	.$2453	FOUNDGOSUB
4703	.$2453	LDA TMP_ZP
4704	.$2455	STA FORSTACKP
4705	.$2458	LDA TMP_ZP+1
4706	.$245a	STA FORSTACKP+1
4707	.$245d	RTS
4710	.$245e	GOSUB  LDA FORSTACKP
4711	.$2461	STA TMP_ZP
4712	.$2463	LDA FORSTACKP+1
4713	.$2466	STA TMP_ZP+1
4714	.$2468	LDY #0
4715	.$246a	TYA
4716	.$246b	STA (TMP_ZP),Y
4717	.$246d	INY
4718	.$246e	STA (TMP_ZP),Y
4719	.$2470	INY
4720	.$2471	TYA
4721	.$2472	CLC
4722	.$2473	ADC TMP_ZP
4723	.$2475	STA FORSTACKP
4724	.$2478	BCC GOSUBNOOV
4725	.$247a	INC FORSTACKP+1
4726	.$247d	GOSUBNOOV RTS
4729	.$247e	QUEUESIZE LDY INPUTQUEUEP
4730	.$2481	LDA #0
4731	.$2483	JSR INTFAC
4732	.$2486	JMP FACXREG
4735	.$2489	CLEARQUEUE LDA #$0
4736	.$248b	STA INPUTQUEUEP
4737	.$248e	RTS
4741	.$248f	FLOATINTSUBSW
4742	.$248f	JSR INTFAC
4743	.$2492	JSR FACXREG
4744	.$2495	LDA #0
4745	.$2497	STA TMP_FLAG 
4746	.$249a	LDY TMP3_ZP
4747	.$249c	LDA TMP3_ZP+1
4748	.$249e	JSR INTFAC
4749	.$24a1	JSR XREGARG
4750	.$24a4	JMP FASTFSUBARG
4753	.$24a7	INTSUBOPT LDX #0   
4754	.$24a9	BEQ INTSUBSUB2
4755	.$24ab	INTSUB  LDX #1
4756	.$24ad	INTSUBSUB2 STX INT_FLAG
4757	.$24b0	LDX #128  
4758	.$24b2	STX TMP_REG
4759	.$24b4	BIT TMP_REG
4760	.$24b6	BEQ INTINTSUB
4761	.$24b8	JMP FLOATINTSUBSW
4762	.$24bb	INTINTSUB LDX #1   
4763	.$24bd	STX TMP_FLAG
4764	.$24c0	PHA
4765	.$24c1	TYA
4766	.$24c2	SEC
4767	.$24c3	SBC TMP3_ZP
4768	.$24c5	TAY
4769	.$24c6	PLA
4770	.$24c7	SBC TMP3_ZP+1
4771	.$24c9	STY TMP2_ZP
4772	.$24cb	STA TMP2_ZP+1
4773	.$24cd	LDX INT_FLAG
4774	.$24d0	BNE INTSUBEND
4775	.$24d2	RTS
4776	.$24d3	INTSUBEND
4777	.$24d3	JMP INTFAC
4780	.$24d6	CLEANINPUT LDY #0    
4781	.$24d8	LDX #0
4782	.$24da	STY STORE1   
4783	.$24dd	STY STORE2   
4784	.$24e0	DEY
4785	.$24e1	CILOOP  INY
4786	.$24e2	LDA $0200,Y
4787	.$24e5	BNE CINOEND
4788	.$24e7	JMP CIEND   
4789	.$24ea	CINOEND  STA STORE3   
4790	.$24ed	LDA STORE1
4791	.$24f0	BEQ CINOQUOTE  
4792	.$24f2	LDA STORE3
4793	.$24f5	CMP #$22   
4794	.$24f7	BNE CISTILLQUOTE 
4795	.$24f9	LDA #0    
4796	.$24fb	STA STORE1
4797	.$24fe	JMP CILOOP
4798	.$2501	CISTILLQUOTE
4799	.$2501	STA $0200,X
4800	.$2504	INX
4801	.$2505	JMP CILOOP
4802	.$2508	CINOQUOTE LDA STORE3
4803	.$250b	CMP #$22
4804	.$250d	BNE CISOMECHAR  
4805	.$250f	CIFIRSTCHAR LDA #1    
4806	.$2511	STA STORE1   
4807	.$2514	STA STORE2   
4808	.$2517	JMP CILOOP
4809	.$251a	CISOMECHAR  CMP #$3A   
4810	.$251c	BNE CINOCOLON
4811	.$251e	JMP CIEND
4812	.$2521	CINOCOLON CMP #$2C   
4813	.$2523	BNE CINOCOMMA
4814	.$2525	LDA #$22   
4815	.$2527	STA $0200,X
4816	.$252a	INX
4817	.$252b	LDA #0
4818	.$252d	STA STORE2   
4819	.$2530	JMP CILOOP
4820	.$2533	CINOCOMMA CMP #$20   
4821	.$2535	BNE CINOSPACE
4822	.$2537	LDA STORE2   
4823	.$253a	BEQ CINEXT   
4824	.$253c	LDA STORE3
4825	.$253f	CINOSPACE STA $0200,X
4826	.$2542	STA STORE2   
4827	.$2545	INX
4828	.$2546	CINEXT  JMP CILOOP
4829	.$2549	CIEND  LDA #0
4830	.$254b	STA $0200,X   
4831	.$254e	RTS     
4834	.$254f	QMARKOUT1 LDA #1
4835	.$2551	STA TMP_ZP
4836	.$2553	JMP QMARKOUT
4839	.$2556	QMARKOUT LDA IOCHANNEL    
4840	.$2558	BNE NOQMARK
4841	.$255a	JSR REROUTE
4842	.$255d	LDA #63
4843	.$255f	LDY TMP_ZP
4844	.$2561	CPY #2    
4845	.$2563	BNE ONEQMARK
4846	.$2565	JSR CHROUT
4847	.$2568	ONEQMARK JSR CHROUT
4848	.$256b	LDA #32
4849	.$256d	JSR CHROUT
4850	.$2570	JMP RESETROUTE
4851	.$2573	NOQMARK  RTS
4854	.$2574	INPUTSTR LDA #$0
4855	.$2576	INPUTSTR2 STA TMP_REG+1
4856	.$2578	LDA #$0
4857	.$257a	STX INPUTLENGTH
4858	.$257d	STA TMP_REG
4859	.$257f	STA TMP_FLAG
4860	.$2582	LDX INPUTQUEUEP
4861	.$2585	BEQ INPUTNORM
4862	.$2587	LDA #LOFBUF
4863	.$2589	LDX #$1
4864	.$258b	CLC
4865	.$258c	ADC INPUTQUEUE
4866	.$258f	STA TMP_ZP
4867	.$2591	BCC INNONO
4868	.$2593	LDX #$2
4869	.$2595	INNONO  STX TMP_ZP+1
4870	.$2597	DEC INPUTQUEUEP  
4871	.$259a	LDY INPUTQUEUE  
4872	.$259d	STY TMP_REG   
4873	.$259f	DEY
4874	.$25a0	LDX #$0
4875	.$25a2	SHRINKQ  LDA INPUTQUEUEP
4876	.$25a5	BEQ QUEUEEMPTY
4877	.$25a7	INX
4878	.$25a8	LDA INPUTQUEUE,X 
4879	.$25ab	DEX
4880	.$25ac	STA INPUTQUEUE,X
4881	.$25af	INX
4882	.$25b0	CPX INPUTQUEUEP
4883	.$25b3	BNE SHRINKQ
4884	.$25b5	QUEUEEMPTY JMP ISTRLOOP
4885	.$25b8	INPUTNORM AND #$FF
4886	.$25ba	JSR INPUT
4887	.$25bd	JSR CLEANINPUT
4888	.$25c0	LDA #LOFBUF
4889	.$25c2	STA TMP_ZP
4890	.$25c4	LDA #$1
4891	.$25c6	STA TMP_ZP+1
4892	.$25c8	LDY #0
4893	.$25ca	DEY
4894	.$25cb	ISTRLOOP INY
4895	.$25cc	LDA INPUTBUF,Y
4896	.$25cf	TAX
4897	.$25d0	CMP #$22   
4898	.$25d2	BNE ICHECK
4899	.$25d4	STA TMP_FLAG
4900	.$25d7	LDA #$0
4901	.$25d9	STA INPUTBUF,Y   
4902	.$25dc	LDX INPUTQUEUEP  
4903	.$25df	BNE INQUEUENE  
4904	.$25e1	STA INPUTQUEUE  
4905	.$25e4	INX
4906	.$25e5	INQUEUENE INY
4907	.$25e6	TYA
4908	.$25e7	STA INPUTQUEUE,X 
4909	.$25ea	INX
4910	.$25eb	STX INPUTQUEUEP  
4911	.$25ee	JMP ISTRLOOP  
4912	.$25f1	ICHECK  TXA     
4913	.$25f2	BNE ISTRLOOP  
4914	.$25f4	LDA TMP_FLAG
4915	.$25f7	BEQ ISIMPLECOPY
4916	.$25f9	JMP INPUTSTR
4917	.$25fc	ISIMPLECOPY TYA
4918	.$25fd	SEC
4919	.$25fe	SBC TMP_REG
4920	.$2600	LDY #0
4921	.$2602	STA (TMP_ZP),Y
4922	.$2604	TAX    
4923	.$2605	STX INPUTLENGTH
4924	.$2608	LDA TMP_REG+1 
4925	.$260a	BEQ INISSTR
4926	.$260c	RTS
4927	.$260d	INISSTR  LDA #<A_REG
4928	.$260f	LDY #>A_REG
4929	.$2611	STA TMP2_ZP
4930	.$2613	STY TMP2_ZP+1
4931	.$2615	JSR COPYONLY
4932	.$2618	RTS
4935	.$2619	INPUTNUMBER LDA #$1
4936	.$261b	JSR INPUTSTR2
4937	.$261e	LDA TMP_ZP
4938	.$2620	STA INDEX1
4939	.$2622	LDA TMP_ZP+1
4940	.$2624	STA INDEX1+1
4941	.$2626	LDY #0
4942	.$2628	STY VALTYPE
4943	.$262a	LDA (INDEX1),Y
4944	.$262c	STA TMP_REG  
4945	.$262e	TAY
4946	.$262f	INC INDEX1
4947	.$2631	BNE VALSTR2
4948	.$2633	INC INDEX1+1
4949	.$2635	VALSTR2  LDY #$0   
4950	.$2637	DEY
4951	.$2638	LDX #$0   
4952	.$263a	NUMCHKLOOP INY
4953	.$263b	CPY TMP_REG
4954	.$263d	BEQ NUMOK
4955	.$263f	LDA (INDEX1),Y
4956	.$2641	CMP #$20
4957	.$2643	BEQ NUMCHKLOOP 
4958	.$2645	CMP #43   
4959	.$2647	BNE NOPLUS
4960	.$2649	TXA
4961	.$264a	BIT VAL6  
4962	.$264d	BNE CHECKERR
4963	.$264f	ORA #2
4964	.$2651	TAX
4965	.$2652	JMP NUMCHKLOOP
4966	.$2655	NOPLUS  CMP #45   
4967	.$2657	BNE NOMINUS
4968	.$2659	TXA
4969	.$265a	BIT VAL6  
4970	.$265d	BNE CHECKERR
4971	.$265f	ORA #4
4972	.$2661	TAX
4973	.$2662	JMP NUMCHKLOOP
4974	.$2665	NOMINUS  CMP #69   
4975	.$2667	BNE NOEEE
4976	.$2669	TXA
4977	.$266a	BIT VAL8  
4978	.$266d	BNE CHECKERR
4979	.$266f	ORA #8
4980	.$2671	AND #249  
4981	.$2673	TAX
4982	.$2674	JMP NUMCHKLOOP
4983	.$2677	NOEEE  CMP #46   
4984	.$2679	BNE NOPOINT
4985	.$267b	TXA
4986	.$267c	BIT VAL24  
4987	.$267f	BNE CHECKERR
4988	.$2681	ORA #16
4989	.$2683	TAX
4990	.$2684	JMP NUMCHKLOOP
4991	.$2687	NOPOINT  CMP #48
4992	.$2689	BCC CHECKERR 
4993	.$268b	CMP #58
4994	.$268d	BCS CHECKERR 
4995	.$268f	TXA
4996	.$2690	ORA #1
4997	.$2692	TAX
4998	.$2693	JMP NUMCHKLOOP
4999	.$2696	VAL1  .BYTE 1
5000	.$2697	VAL6  .BYTE 6
5001	.$2698	VAL8  .BYTE 8
5002	.$2699	VAL24  .BYTE 24
5003	.$269a	CHECKERR LDA #<REAL_CONST_MINUS_ONE
5004	.$269c	STA TMP3_ZP
5005	.$269e	LDA #>REAL_CONST_MINUS_ONE
5006	.$26a0	STA TMP3_ZP+1
5007	.$26a2	JMP COPY2_XY_XREG
5008	.$26a5	RTS    
5010	.$26a6	NUMOK  LDA TMP_REG
5011	.$26a8	JSR VALS
5012	.$26ab	LDA #$0   
5013	.$26ad	STA X_REG
5014	.$26af	JMP FACYREG  
5017	.$26b2	ZEROSET  LDA #0
5018	.$26b4	STA X_REG
5019	.$26b6	STA X_REG+1
5020	.$26b8	STA X_REG+2
5021	.$26ba	STA X_REG+3
5022	.$26bc	STA X_REG+4
5023	.$26be	RTS
5026	.$26bf	SEQ   JSR CMPSTR
5027	.$26c2	LDA TMP3_ZP
5028	.$26c4	BNE NOTSEQ
5029	.$26c6	LDA #<REAL_CONST_MINUS_ONE
5030	.$26c8	STA TMP3_ZP
5031	.$26ca	LDA #>REAL_CONST_MINUS_ONE
5032	.$26cc	STA TMP3_ZP+1
5033	.$26ce	JMP COPY2_XY_XREG
5034	.$26d1	NOTSEQ  JMP ZEROSET
5037	.$26d4	SNEQ  JSR CMPSTR
5038	.$26d7	LDA TMP3_ZP
5039	.$26d9	BEQ NOTSEQ
5040	.$26db	LDA #<REAL_CONST_MINUS_ONE
5041	.$26dd	STA TMP3_ZP
5042	.$26df	LDA #>REAL_CONST_MINUS_ONE
5043	.$26e1	STA TMP3_ZP+1
5044	.$26e3	JMP COPY2_XY_XREG
5047	.$26e6	CMPSTR  LDY #0   
5048	.$26e8	LDX #1
5049	.$26ea	LDA A_REG
5050	.$26ed	STA TMP_ZP
5051	.$26ef	LDA A_REG+1
5052	.$26f2	STA TMP_ZP+1
5053	.$26f4	LDA B_REG
5054	.$26f7	STA TMP2_ZP
5055	.$26f9	LDA B_REG+1
5056	.$26fc	STA TMP2_ZP+1
5057	.$26fe	CMP TMP_ZP+1
5058	.$2700	BNE CMPSTRSK1
5059	.$2702	LDA TMP2_ZP
5060	.$2704	CMP TMP_ZP
5061	.$2706	BNE CMPSTRSK1
5062	.$2708	LDX #0
5063	.$270a	JMP STRCMPRES
5064	.$270d	CMPSTRSK1 LDA (TMP_ZP),Y
5065	.$270f	CMP (TMP2_ZP),Y
5066	.$2711	BNE STRCMPRES
5067	.$2713	TAX
5068	.$2714	BNE NOTZCTR
5069	.$2716	LDX #0
5070	.$2718	JMP STRCMPRES
5071	.$271b	NOTZCTR  INC TMP_ZP
5072	.$271d	BNE SCSKP1
5073	.$271f	INC TMP_ZP+1
5074	.$2721	SCSKP1  INC TMP2_ZP
5075	.$2723	BNE CMPSTRLOOP
5076	.$2725	INC TMP2_ZP+1
5077	.$2727	CMPSTRLOOP LDA (TMP_ZP),Y
5078	.$2729	CMP (TMP2_ZP),Y
5079	.$272b	BNE STRCMPRES
5080	.$272d	INY
5081	.$272e	DEX
5082	.$272f	BNE CMPSTRLOOP
5083	.$2731	STRCMPRES STX TMP3_ZP
5084	.$2733	RTS
5087	.$2734	REALFACPUSH STA TMP_ZP
5088	.$2736	STY TMP_ZP+1
5089	.$2738	LDX FPSTACKP
5090	.$273b	LDY FPSTACKP+1
5091	.$273e	STX TMP2_ZP
5092	.$2740	STY TMP2_ZP+1
5093	.$2742	LDY #0
5094	.$2744	LDA (TMP_ZP),Y
5095	.$2746	STA (TMP2_ZP),Y
5096	.$2748	INY
5097	.$2749	LDA (TMP_ZP),Y
5098	.$274b	STA (TMP2_ZP),Y
5099	.$274d	INY
5100	.$274e	LDA (TMP_ZP),Y
5101	.$2750	STA (TMP2_ZP),Y
5102	.$2752	INY
5103	.$2753	LDA (TMP_ZP),Y
5104	.$2755	STA (TMP2_ZP),Y
5105	.$2757	INY
5106	.$2758	LDA (TMP_ZP),Y
5107	.$275a	STA (TMP2_ZP),Y
5108	.$275c	TXA    
5109	.$275d	CLC
5110	.$275e	ADC #5
5111	.$2760	STA FPSTACKP
5112	.$2763	BCC NOPVRFPXX
5113	.$2765	INC FPSTACKP+1
5114	.$2768	NOPVRFPXX RTS
5117	.$2769	REALFACPUSHXREG
5118	.$2769	LDX FPSTACKP
5119	.$276c	LDY FPSTACKP+1
5120	.$276f	STX TMP2_ZP
5121	.$2771	STY TMP2_ZP+1
5122	.$2773	LDY #0
5123	.$2775	LDA X_REG
5124	.$2777	STA (TMP2_ZP),Y
5125	.$2779	INY
5126	.$277a	LDA X_REG+1
5127	.$277c	STA (TMP2_ZP),Y
5128	.$277e	INY
5129	.$277f	LDA X_REG+2
5130	.$2781	STA (TMP2_ZP),Y
5131	.$2783	INY
5132	.$2784	LDA X_REG+3
5133	.$2786	STA (TMP2_ZP),Y
5134	.$2788	INY
5135	.$2789	LDA X_REG+4
5136	.$278b	STA (TMP2_ZP),Y
5137	.$278d	TXA    
5138	.$278e	CLC
5139	.$278f	ADC #5
5140	.$2791	STA FPSTACKP
5141	.$2794	BCC NOPVRFPXXXREG
5142	.$2796	INC FPSTACKP+1
5143	.$2799	NOPVRFPXXXREG
5144	.$2799	RTS
5147	.$279a	PUSHREAL LDX FPSTACKP
5148	.$279d	LDY FPSTACKP+1
5149	.$27a0	JSR FACMEM
5150	.$27a3	LDA FPSTACKP
5151	.$27a6	CLC
5152	.$27a7	ADC #5
5153	.$27a9	STA FPSTACKP
5154	.$27ac	BCC NOPVPUR
5155	.$27ae	INC FPSTACKP+1
5156	.$27b1	NOPVPUR  RTS
5159	.$27b2	POPREAL2X LDA FPSTACKP
5160	.$27b5	SEC
5161	.$27b6	SBC #5
5162	.$27b8	STA FPSTACKP
5163	.$27bb	BCS NOPVPR2X
5164	.$27bd	DEC FPSTACKP+1
5165	.$27c0	NOPVPR2X LDA FPSTACKP
5166	.$27c3	LDY FPSTACKP+1
5167	.$27c6	JSR REALFAC
5168	.$27c9	JSR XREGARG
5169	.$27cc	RTS
5172	.$27cd	POPREAL  LDA FPSTACKP
5173	.$27d0	SEC
5174	.$27d1	SBC #5
5175	.$27d3	STA FPSTACKP
5176	.$27d6	BCS NOPVPR
5177	.$27d8	DEC FPSTACKP+1
5178	.$27db	NOPVPR  LDA FPSTACKP
5179	.$27de	LDY FPSTACKP+1
5180	.$27e1	JMP REALFAC
5183	.$27e4	POPREALXREG LDA FPSTACKP
5184	.$27e7	SEC
5185	.$27e8	SBC #5
5186	.$27ea	STA FPSTACKP
5187	.$27ed	BCS NOPVPRXR
5188	.$27ef	DEC FPSTACKP+1
5189	.$27f2	NOPVPRXR LDA FPSTACKP
5190	.$27f5	LDY FPSTACKP+1
5191	.$27f8	STA TMP_ZP
5192	.$27fa	STY TMP_ZP+1
5193	.$27fc	LDY #$4
5194	.$27fe	LDA (TMP_ZP),Y
5195	.$2800	STA X_REG+4
5196	.$2802	STA FACLO
5197	.$2804	DEY
5198	.$2805	LDA (TMP_ZP),Y
5199	.$2807	STA X_REG+3
5200	.$2809	STA FACMO
5201	.$280b	DEY
5202	.$280c	LDA (TMP_ZP),Y
5203	.$280e	STA X_REG+2
5204	.$2810	STA FACMOH
5205	.$2812	DEY
5206	.$2813	LDA (TMP_ZP),Y
5207	.$2815	STA X_REG+1
5208	.$2817	STA FACSGN
5209	.$2819	ORA #$80
5210	.$281b	STA FACHO
5211	.$281d	DEY
5212	.$281e	LDA (TMP_ZP),Y
5213	.$2820	STA X_REG
5214	.$2822	STA FACEXP
5215	.$2824	STY FACOV
5216	.$2826	RTS
5219	.$2827	SHR   LDA FACEXP
5220	.$2829	BEQ SHROK
5221	.$282b	SEC
5222	.$282c	SBC A_REG
5223	.$282f	BCS SHROK
5224	.$2831	LDA #0
5225	.$2833	STA FACSGN
5226	.$2835	STA FACLO
5227	.$2837	STA FACMO
5228	.$2839	STA FACMOH
5229	.$283b	STA FACHO
5230	.$283d	SHROK  STA FACEXP
5231	.$283f	RTS
5234	.$2840	SHL   LDA FACEXP
5235	.$2842	BEQ SHLOK
5236	.$2844	CLC
5237	.$2845	ADC A_REG
5238	.$2848	BCC SHLOK
5239	.$284a	LDA #0
5240	.$284c	STA FACSGN
5241	.$284e	STA FACLO
5242	.$2850	STA FACMO
5243	.$2852	STA FACMOH
5244	.$2854	STA FACHO
5245	.$2856	LDA #$FF
5246	.$2858	SHLOK  STA FACEXP
5247	.$285a	RTS
5250	.$285b	INCTMPZP LDA TMP_ZP
5251	.$285d	CLC
5252	.$285e	ADC TMP3_ZP
5253	.$2860	STA TMP_ZP
5254	.$2862	BCC NOPV2
5255	.$2864	INC TMP_ZP+1
5256	.$2866	NOPV2  RTS
5259	.$2867	ICMP  STY TMP3_ZP
5260	.$2869	STA TMP3_ZP+1
5261	.$286b	LDA TMP_ZP+1
5262	.$286d	CMP TMP3_ZP+1
5263	.$286f	BNE ICMPNE2
5264	.$2871	LDA TMP_ZP
5265	.$2873	CMP TMP3_ZP
5266	.$2875	ICMPNE  BEQ ICMPEQ
5267	.$2877	BCS ICMPHIGHER
5268	.$2879	JMP ICMPLOWER
5269	.$287c	ICMPNE2  BPL ICMPHIGHER
5270	.$287e	JMP ICMPLOWER
5271	.$2881	ICMPEQ  LDA #0
5272	.$2883	RTS
5273	.$2884	ICMPLOWER LDA #$FF
5274	.$2886	SEC
5275	.$2887	RTS
5276	.$2888	ICMPHIGHER LDA #$01
5277	.$288a	CLC
5278	.$288b	RTS
5281	.$288c	COPY2_XYA_XREG
5282	.$288c	STA TMP3_ZP
5283	.$288e	STY TMP3_ZP+1
5284	.$2890	COPY2_XY_XREG
5285	.$2890	LDX #<X_REG  
5286	.$2892	LDY #0
5287	.$2894	LDA (TMP3_ZP),Y
5288	.$2896	STA X_REG
5289	.$2898	INY
5290	.$2899	LDA (TMP3_ZP),Y
5291	.$289b	STA X_REG+1
5292	.$289d	INY
5293	.$289e	LDA (TMP3_ZP),Y
5294	.$28a0	STA X_REG+2
5295	.$28a2	INY
5296	.$28a3	LDA (TMP3_ZP),Y
5297	.$28a5	STA X_REG+3
5298	.$28a7	INY
5299	.$28a8	LDA (TMP3_ZP),Y
5300	.$28aa	STA X_REG+4
5301	.$28ac	RTS
5304	.$28ad	COPY2_XYA_YREG
5305	.$28ad	STA TMP3_ZP
5306	.$28af	STY TMP3_ZP+1
5307	.$28b1	COPY2_XY_YREG
5308	.$28b1	LDX #<Y_REG  
5309	.$28b3	LDY #0
5310	.$28b5	LDA (TMP3_ZP),Y
5311	.$28b7	STA Y_REG
5312	.$28ba	INY
5313	.$28bb	LDA (TMP3_ZP),Y
5314	.$28bd	STA Y_REG+1
5315	.$28c0	INY
5316	.$28c1	LDA (TMP3_ZP),Y
5317	.$28c3	STA Y_REG+2
5318	.$28c6	INY
5319	.$28c7	LDA (TMP3_ZP),Y
5320	.$28c9	STA Y_REG+3
5321	.$28cc	INY
5322	.$28cd	LDA (TMP3_ZP),Y
5323	.$28cf	STA Y_REG+4
5324	.$28d2	RTS
5327	.$28d3	COPY_XREG2YREG
5328	.$28d3	LDA X_REG
5329	.$28d5	STA Y_REG
5330	.$28d8	LDA X_REG+1
5331	.$28da	STA Y_REG+1
5332	.$28dd	LDA X_REG+2
5333	.$28df	STA Y_REG+2
5334	.$28e2	LDA X_REG+3
5335	.$28e4	STA Y_REG+3
5336	.$28e7	LDA X_REG+4
5337	.$28e9	STA Y_REG+4
5338	.$28ec	RTS
5342	.$28ed	FACWORD
5343	.$28ed	LDA FACEXP   
5344	.$28ef	BNE DOFACWORD
5345	.$28f1	STA FACSGN   
5346	.$28f3	DOFACWORD:
5347	.$28f3	JMP XFACWORD
5351	.$28f6	ONETOFAC    LDX #129
5352	.$28f8	STX FAC
5353	.$28fa	DEX
5354	.$28fb	STX FAC+1
5355	.$28fd	LDX #0
5356	.$28ff	STX FAC+2
5357	.$2901	STX FAC+3
5358	.$2903	STX FAC+4
5359	.$2905	STX FAC+5
5360	.$2907	STX FAC+15
5361	.$2909	RTS
5364	.$290a	FASTAND  LDA ARGEXP   
5365	.$290c	BNE CHECKFAC
5366	.$290e	STA FACSGN   
5367	.$2910	STA FACLO
5368	.$2912	STA FACMO
5369	.$2914	STA FACMOH
5370	.$2916	STA FACHO
5371	.$2918	STA FACEXP
5372	.$291a	RTS
5373	.$291b	CHECKFAC LDA FACEXP   
5374	.$291d	BNE FACNOTNULL
5375	.$291f	STA FACSGN   
5376	.$2921	RTS    
5377	.$2922	FACNOTNULL CMP #$81
5378	.$2924	BNE NORMALAND
5379	.$2926	LDA FACHO
5380	.$2928	CMP #$80
5381	.$292a	BNE NORMALAND
5382	.$292c	LDA FACMOH
5383	.$292e	BNE NORMALAND
5384	.$2930	LDA FACMO
5385	.$2932	BNE NORMALAND
5386	.$2934	LDA FACLO
5387	.$2936	BNE NORMALAND
5388	.$2938	LDA FACSGN
5389	.$293a	ROL
5390	.$293b	BCC NORMALAND
5391	.$293d	LDA ARGEXP   
5392	.$293f	CMP #$81
5393	.$2941	BNE NORMALAND
5394	.$2943	LDA ARGHO
5395	.$2945	CMP #$80
5396	.$2947	BNE NORMALAND
5397	.$2949	LDA ARGMOH
5398	.$294b	BNE NORMALAND
5399	.$294d	LDA ARGMO
5400	.$294f	BNE NORMALAND
5401	.$2951	LDA ARGLO
5402	.$2953	BNE NORMALAND
5403	.$2955	LDA ARGSGN
5404	.$2957	ROL
5405	.$2958	BCC NORMALAND
5406	.$295a	RTS    
5407	.$295b	NORMALAND JMP ARGAND
5410	.$295e	INITOUTCHANNEL
5411	.$295e	LDA CHLOCKFLAG
5412	.$2961	BEQ INITOUT2
5413	.$2963	CMP #$FF
5414	.$2965	BNE SKIPINITCH
5415	.$2967	INITOUT2
5416	.$2967	LDA #<C_REG
5417	.$2969	LDY #>C_REG
5418	.$296b	JSR REALFAC
5419	.$296e	JSR FACWORD
5420	.$2971	TYA
5421	.$2972	TAX
5422	.$2973	CPX CMD_NUM
5423	.$2976	BNE CMDNEQUAL
5424	.$2978	LDY #0
5425	.$297a	STY CMD_NUM   
5426	.$297d	CMDNEQUAL STA CHANNEL
5427	.$2980	STA CHLOCKFLAG
5428	.$2983	JMP CHKOUT
5429	.$2986	SKIPINITCH
5430	.$2986	RTS
5433	.$2987	CLRCHNEW
5434	.$2987	LDA CHLOCKFLAG
5435	.$298a	BNE SKIPCLRCH
5436	.$298c	JMP CLRCH
5437	.$298f	SKIPCLRCH
5438	.$298f	RTS
5441	.$2990	INPUTLENGTHCHECK LDA INPUTLENGTH
5442	.$2993	RTS
5445	.$2994	TABCHANNEL
5446	.$2994	JSR INITOUTCHANNEL
5447	.$2997	TABCHANNELINT
5448	.$2997	LDA CHANNEL
5449	.$299a	CMP #3  
5450	.$299c	BEQ TABSCREEN
5451	.$299e	TABCHANNEL2 LDA IOCHANNEL
5452	.$29a0	STA STORE1
5453	.$29a3	LDA #1
5454	.$29a5	STA IOCHANNEL  
5455	.$29a7	JSR YREGFAC
5456	.$29aa	JSR FACWORD
5457	.$29ad	TYA
5458	.$29ae	TAX
5459	.$29af	JMP EXITCHANNEL
5460	.$29b2	TABSCREEN
5461	.$29b2	JSR CLRCHNEW
5462	.$29b5	JMP TAB
5465	.$29b8	EXITCHANNEL CLC
5466	.$29b9	JSR TABSPC
5467	.$29bc	JSR CLRCHNEW
5468	.$29bf	LDA STORE1
5469	.$29c2	STA IOCHANNEL
5470	.$29c4	RTS
5473	.$29c5	FIDEX  CPY #0
5474	.$29c7	BNE FIDEXNOV
5475	.$29c9	SEC
5476	.$29ca	SBC #$1
5477	.$29cc	FIDEXNOV DEY
5478	.$29cd	JSR INTFAC
5479	.$29d0	JMP FACXREG
5482	.$29d3	NEXTWOFOR
5486	.$29d3	LDX #$0A
5487	.$29d5	JMP ERRALL
5490	.$29d8	OUTOFMEMORY
5494	.$29d8	LDX #$10
5495	.$29da	JMP ERRALL
5498	.$29dd	STRINGTOOLONG
5502	.$29dd	LDX #$17
5503	.$29df	JMP ERRALL
5506	.$29e2	ILLEGALQUANTITY
5510	.$29e2	JMP ERRIQ
5513	.$29e5	EXTRAIGNORED
5517	.$29e5	JMP ERREI
5520	.$29e8	FACXREG  LDA FACLO
5521	.$29ea	STA X_REG+4
5522	.$29ec	LDA FACMO
5523	.$29ee	STA X_REG+3
5524	.$29f0	LDA FACMOH
5525	.$29f2	STA X_REG+2
5526	.$29f4	LDA FACSGN
5527	.$29f6	ORA #$7F
5528	.$29f8	AND FACHO
5529	.$29fa	STA X_REG+1
5530	.$29fc	LDA FACEXP
5531	.$29fe	STA X_REG
5532	.$2a00	LDA #0   
5533	.$2a02	STA FACOV
5534	.$2a04	RTS
5537	.$2a05	FACYREG  LDA FACLO
5538	.$2a07	STA Y_REG+4
5539	.$2a0a	LDA FACMO
5540	.$2a0c	STA Y_REG+3
5541	.$2a0f	LDA FACMOH
5542	.$2a11	STA Y_REG+2
5543	.$2a14	LDA FACSGN
5544	.$2a16	ORA #$7F
5545	.$2a18	AND FACHO
5546	.$2a1a	STA Y_REG+1
5547	.$2a1d	LDA FACEXP
5548	.$2a1f	STA Y_REG
5549	.$2a22	LDA #0   
5550	.$2a24	STA FACOV
5551	.$2a26	RTS
5554	.$2a27	XREGFAC  LDA X_REG+4
5555	.$2a29	STA FACLO
5556	.$2a2b	LDA X_REG+3
5557	.$2a2d	STA FACMO
5558	.$2a2f	LDA X_REG+2
5559	.$2a31	STA FACMOH
5560	.$2a33	LDA X_REG+1
5561	.$2a35	STA FACSGN
5562	.$2a37	ORA #$80
5563	.$2a39	STA FACHO
5564	.$2a3b	LDA X_REG
5565	.$2a3d	STA FACEXP
5566	.$2a3f	LDA #0
5567	.$2a41	STA FACOV
5568	.$2a43	RTS
5571	.$2a44	XREGARG  LDA X_REG+4
5572	.$2a46	STA ARGLO
5573	.$2a48	LDA X_REG+3
5574	.$2a4a	STA ARGMO
5575	.$2a4c	LDA X_REG+2
5576	.$2a4e	STA ARGMOH
5577	.$2a50	LDA X_REG+1
5578	.$2a52	STA ARGSGN
5579	.$2a54	EOR FACSGN
5580	.$2a56	STA ARISGN
5581	.$2a58	LDA ARGSGN
5582	.$2a5a	ORA #$80
5583	.$2a5c	STA ARGHO
5584	.$2a5e	LDA X_REG
5585	.$2a60	STA ARGEXP
5586	.$2a62	LDA FACEXP
5587	.$2a64	RTS
5590	.$2a65	YREGFAC  LDA Y_REG+4
5591	.$2a68	STA FACLO
5592	.$2a6a	LDA Y_REG+3
5593	.$2a6d	STA FACMO
5594	.$2a6f	LDA Y_REG+2
5595	.$2a72	STA FACMOH
5596	.$2a74	LDA Y_REG+1
5597	.$2a77	STA FACSGN
5598	.$2a79	ORA #$80
5599	.$2a7b	STA FACHO
5600	.$2a7d	LDA Y_REG
5601	.$2a80	STA FACEXP
5602	.$2a82	LDA #0
5603	.$2a84	STA FACOV
5604	.$2a86	RTS
5718	.$2a87	FASTFSUBMEM
5719	.$2a87	JSR MEMARG
5720	.$2a8a	FASTFSUBARG
5721	.$2a8a	LDA FACSGN
5722	.$2a8c	EOR #$FF
5723	.$2a8e	STA FACSGN
5724	.$2a90	EOR ARGSGN
5725	.$2a92	STA ARISGN
5726	.$2a94	LDA FACEXP
5727	.$2a96	JMP FASTFADDARG
5730	.$2a99	FASTFADDMEM
5731	.$2a99	JSR MEMARG
5732	.$2a9c	FASTFADDARG
5733	.$2a9c	BNE FADDRET2     
5734	.$2a9e	JMP ARGFAC
5735	.$2aa1	FADDRET2 LDA ARGEXP
5736	.$2aa3	BNE FADDRET1     
5737	.$2aa5	RTS
5738	.$2aa6	FADDRET1 SEC
5739	.$2aa7	SBC FACEXP
5740	.$2aa9	BEQ FFADD_EXPEQ     
5741	.$2aab	BCC FFADD_SHFARG1   
5745	.$2aad	LDY ARGEXP
5746	.$2aaf	STY FACEXP
5747	.$2ab1	LDY ARGSGN
5748	.$2ab3	STY FACSGN
5749	.$2ab5	LDX #0
5750	.$2ab7	STX OLDOV        
5751	.$2ab9	LDX #FAC         
5753	.$2abb	SEC
5754	.$2abc	SBC #$08
5755	.$2abe	BMI FFADD_SHFFAC2
5757	.$2ac0	FFADD_SHFFAC1
5758	.$2ac0	LDY FACLO        
5759	.$2ac2	STY FACOV
5760	.$2ac4	LDY FACMO        
5761	.$2ac6	STY FACMO+1
5762	.$2ac8	LDY FACMOH       
5763	.$2aca	STY FACMOH+1
5764	.$2acc	LDY FACHO        
5765	.$2ace	STY FACHO+1
5766	.$2ad0	LDY #0
5767	.$2ad2	STY FACHO        
5768	.$2ad4	SBC #$08         
5769	.$2ad6	BPL FFADD_SHFFAC1   
5770	.$2ad8	FFADD_SHFFAC2
5771	.$2ad8	ADC #$08         
5772	.$2ada	BEQ FFADD_SHFFAC4   
5773	.$2adc	TAY
5774	.$2add	LDA FACOV
5775	.$2adf	FFADD_SHFFAC3
5776	.$2adf	LSR FACHO        
5777	.$2ae1	ROR FACMOH       
5778	.$2ae3	ROR FACMO        
5779	.$2ae5	ROR FACLO        
5780	.$2ae7	ROR              
5781	.$2ae8	DEY
5782	.$2ae9	BNE FFADD_SHFFAC3
5783	.$2aeb	JMP FFADD_MANADD2   
5784	.$2aee	FFADD_SHFFAC4
5785	.$2aee	LDA FACOV        
5786	.$2af0	JMP FFADD_MANADD2
5787	.$2af3	FFADD_EXPEQ
5788	.$2af3	LDX FACOV
5789	.$2af5	STX OLDOV
5792	.$2af7	JMP FFADD_MANADD1
5793	.$2afa	FFADD_SHFARG2
5794	.$2afa	LDA FACOV        
5795	.$2afc	JMP FFADD_MANADD1
5796	.$2aff	FFADD_SHFARG1
5797	.$2aff	LDX FACOV
5798	.$2b01	STX OLDOV        
5799	.$2b03	LDX #$00         
5802	.$2b05	ADC #$08
5803	.$2b07	BPL FFADD_SHFARG6   
5804	.$2b09	FFADD_SHFARG3
5805	.$2b09	LDX ARGLO        
5806	.$2b0b	LDY ARGMO        
5807	.$2b0d	STY ARGMO+1
5808	.$2b0f	LDY ARGMOH       
5809	.$2b11	STY ARGMOH+1
5810	.$2b13	LDY ARGHO        
5811	.$2b15	STY ARGHO+1
5812	.$2b17	LDY #0
5813	.$2b19	STY ARGHO        
5814	.$2b1b	FFADD_SHFARG4
5815	.$2b1b	ADC #$08
5816	.$2b1d	BMI FFADD_SHFARG3
5817	.$2b1f	BEQ FFADD_SHFARG3
5818	.$2b21	FFADD_SHFARG6
5819	.$2b21	SBC #$08
5820	.$2b23	BEQ FFADD_SHFARG2   
5821	.$2b25	TAY
5822	.$2b26	TXA              
5823	.$2b27	FFADD_SHFARG5
5824	.$2b27	LSR ARGHO
5825	.$2b29	ROR ARGMOH
5826	.$2b2b	ROR ARGMO
5827	.$2b2d	ROR ARGLO
5828	.$2b2f	ROR           
5829	.$2b30	INY
5830	.$2b31	BNE FFADD_SHFARG5
5831	.$2b33	FFADD_MANADD1
5832	.$2b33	LDX #ARGEXP      
5833	.$2b35	FFADD_MANADD2
5834	.$2b35	BIT ARISGN
5835	.$2b37	BMI FFADD_MANSUB1   
5836	.$2b39	CLC
5837	.$2b3a	ADC OLDOV
5838	.$2b3c	STA FACOV
5839	.$2b3e	LDA FACLO
5840	.$2b40	ADC ARGLO
5841	.$2b42	STA FACLO
5842	.$2b44	LDA FACMO
5843	.$2b46	ADC ARGMO
5844	.$2b48	STA FACMO
5845	.$2b4a	LDA FACMOH
5846	.$2b4c	ADC ARGMOH
5847	.$2b4e	STA FACMOH
5848	.$2b50	LDA FACHO
5849	.$2b52	ADC ARGHO
5850	.$2b54	STA FACHO
5851	.$2b56	BCC FFADD_RNDRTS
5852	.$2b58	INC FACEXP
5853	.$2b5a	BEQ FFADD_OVERR
5855	.$2b5c	ROR FACHO
5856	.$2b5e	ROR FACMOH
5857	.$2b60	ROR FACMO
5858	.$2b62	ROR FACLO
5859	.$2b64	ROR FACOV
5860	.$2b66	FFADD_RNDRTS
5861	.$2b66	RTS
5862	.$2b67	FFADD_OVERR
5863	.$2b67	JMP ILLEGALQUANTITY
5864	.$2b6a	FFADD_MANSUB1
5865	.$2b6a	LDY #FACEXP
5866	.$2b6c	CPX #ARGEXP
5867	.$2b6e	BEQ FFADD_MANSUB2
5868	.$2b70	LDY #ARGEXP
5869	.$2b72	FFADD_MANSUB2
5870	.$2b72	SEC              
5871	.$2b73	EOR #$FF
5872	.$2b75	ADC OLDOV
5873	.$2b77	STA FACOV
5874	.$2b79	LDA 4,Y
5875	.$2b7c	SBC 4,X
5876	.$2b7e	STA FACLO
5877	.$2b80	LDA 3,Y
5878	.$2b83	SBC 3,X
5879	.$2b85	STA FACMO
5880	.$2b87	LDA 2,Y
5881	.$2b8a	SBC 2,X
5882	.$2b8c	STA FACMOH
5883	.$2b8e	LDA 1,Y
5884	.$2b91	SBC 1,X
5885	.$2b93	STA FACHO
5886	.$2b95	BCS FCNORMAL
5887	.$2b97	LDA FACSGN
5888	.$2b99	EOR #$FF
5889	.$2b9b	STA FACSGN
5890	.$2b9d	LDA FACHO
5891	.$2b9f	EOR #$FF
5892	.$2ba1	STA FACHO
5893	.$2ba3	LDA FACMOH
5894	.$2ba5	EOR #$FF
5895	.$2ba7	STA FACMOH
5896	.$2ba9	LDA FACMO
5897	.$2bab	EOR #$FF
5898	.$2bad	STA FACMO
5899	.$2baf	LDA FACLO
5900	.$2bb1	EOR #$FF
5901	.$2bb3	STA FACLO
5902	.$2bb5	LDA FACOV
5903	.$2bb7	EOR #$FF
5904	.$2bb9	CLC
5905	.$2bba	ADC #1
5906	.$2bbc	STA FACOV
5907	.$2bbe	BNE FCNORMAL
5908	.$2bc0	INC FACLO
5909	.$2bc2	BNE FCNORMAL
5910	.$2bc4	INC FACMO
5911	.$2bc6	BNE FCNORMAL
5912	.$2bc8	INC FACMOH
5913	.$2bca	BNE FCNORMAL
5914	.$2bcc	INC FACHO
5915	.$2bce	FCNORMAL   BIT FACHO
5916	.$2bd0	BMI FFADD_RET       
5917	.$2bd2	LDA #0           
5918	.$2bd4	CLC
5919	.$2bd5	FFADD_NORM3
5920	.$2bd5	LDX FACHO
5921	.$2bd7	BNE FFADD_NORM1
5922	.$2bd9	LDX FACHO+1
5923	.$2bdb	STX FACHO
5924	.$2bdd	LDX FACMOH+1
5925	.$2bdf	STX FACMOH
5926	.$2be1	LDX FACMO+1
5927	.$2be3	STX FACMO
5928	.$2be5	LDX FACOV
5929	.$2be7	STX FACLO
5930	.$2be9	LDX #0
5931	.$2beb	STX FACOV
5932	.$2bed	ADC #$08
5933	.$2bef	CMP #$20
5934	.$2bf1	BNE FFADD_NORM3
5935	.$2bf3	JMP FFADD_ZEROFAC
5936	.$2bf6	FFADD_NORM2
5937	.$2bf6	CLC
5938	.$2bf7	ADC #1
5939	.$2bf9	ASL FACOV
5940	.$2bfb	ROL FACLO
5941	.$2bfd	ROL FACMO
5942	.$2bff	ROL FACMOH
5943	.$2c01	ROL FACHO
5944	.$2c03	FFADD_NORM1
5945	.$2c03	BPL FFADD_NORM2     
5946	.$2c05	SEC
5947	.$2c06	SBC FACEXP
5948	.$2c08	BCS FFADD_ZEROFAC
5949	.$2c0a	EOR #$FF
5950	.$2c0c	CLC
5951	.$2c0d	ADC #1
5952	.$2c0f	STA FACEXP
5953	.$2c11	FFADD_RET   RTS
5954	.$2c12	FFADD_ZEROFAC
5955	.$2c12	LDX #0
5956	.$2c14	STX FACEXP
5957	.$2c16	STX FACSGN
5958	.$2c18	RTS
5961	.$2c19	FASTFMULMEM
5962	.$2c19	JSR MEMARG
5963	.$2c1c	FASTFMULARG
5964	.$2c1c	BEQ FFMUL_MULTRT    
5965	.$2c1e	LDA ARGEXP
5966	.$2c20	BEQ FFMUL_ZEREMV    
5967	.$2c22	CLC
5968	.$2c23	ADC FACEXP
5969	.$2c25	BCC FFMUL_TRYOFF
5970	.$2c27	CLC
5971	.$2c28	BPL FFMUL_ADJUST
5972	.$2c2a	JMP ILLEGALQUANTITY
5973	.$2c2d	FFMUL_ZEREMV
5974	.$2c2d	LDY #0
5975	.$2c2f	STY FACEXP       
5976	.$2c31	STY FACSGN
5977	.$2c33	FFMUL_MULTRT
5978	.$2c33	RTS
5979	.$2c34	FFMUL_TRYOFF
5980	.$2c34	BPL FFMUL_ZEREMV    
5981	.$2c36	FFMUL_ADJUST
5982	.$2c36	ADC #$80         
5983	.$2c38	BEQ FFMUL_ZEREMV    
5984	.$2c3a	STA FACEXP
5985	.$2c3c	LDA ARISGN
5986	.$2c3e	STA FACSGN
5987	.$2c40	LDY #0
5988	.$2c42	STY RESHOP
5989	.$2c44	STY RESHO
5990	.$2c46	STY RESMOH
5991	.$2c48	STY RESMO
5992	.$2c4a	STY RESLO
5993	.$2c4c	STY RESOV
5994	.$2c4e	STY FACHOP
5995	.$2c50	FFMUL_B0
5996	.$2c50	LSR ARGLO        
5997	.$2c52	BCC FFMUL_B1
5998	.$2c54	LDA RESOV
5999	.$2c56	CLC
6000	.$2c57	ADC FACMOH       
6001	.$2c59	STA RESOV
6002	.$2c5b	LDA RESLO
6003	.$2c5d	ADC FACHO        
6004	.$2c5f	STA RESLO
6005	.$2c61	LDA RESMO
6006	.$2c63	ADC FACHOP       
6007	.$2c65	STA RESMO
6008	.$2c67	BCC FFMUL_B1
6009	.$2c69	INC RESMOH
6010	.$2c6b	BNE FFMUL_B1
6011	.$2c6d	INC RESHO
6012	.$2c6f	BNE FFMUL_B1
6013	.$2c71	INC RESHOP
6014	.$2c73	FFMUL_B1
6015	.$2c73	LSR ARGMO        
6016	.$2c75	BCC FFMUL_B2
6017	.$2c77	LDA RESOV
6018	.$2c79	CLC
6019	.$2c7a	ADC FACMO        
6020	.$2c7c	STA RESOV
6021	.$2c7e	LDA RESLO
6022	.$2c80	ADC FACMOH       
6023	.$2c82	STA RESLO
6024	.$2c84	LDA RESMO
6025	.$2c86	ADC FACHO        
6026	.$2c88	STA RESMO
6027	.$2c8a	LDA RESMOH
6028	.$2c8c	ADC FACHOP       
6029	.$2c8e	STA RESMOH
6030	.$2c90	BCC FFMUL_B2
6031	.$2c92	INC RESHO
6032	.$2c94	BNE FFMUL_B2
6033	.$2c96	INC RESHOP
6034	.$2c98	FFMUL_B2
6035	.$2c98	LSR ARGMOH       
6036	.$2c9a	BCC FFMUL_B3
6037	.$2c9c	LDA RESOV
6038	.$2c9e	CLC
6039	.$2c9f	ADC FACLO        
6040	.$2ca1	STA RESOV
6041	.$2ca3	LDA RESLO
6042	.$2ca5	ADC FACMO        
6043	.$2ca7	STA RESLO
6044	.$2ca9	LDA RESMO
6045	.$2cab	ADC FACMOH       
6046	.$2cad	STA RESMO
6047	.$2caf	LDA RESMOH
6048	.$2cb1	ADC FACHO        
6049	.$2cb3	STA RESMOH
6050	.$2cb5	LDA RESHO
6051	.$2cb7	ADC FACHOP       
6052	.$2cb9	STA RESHO
6053	.$2cbb	BCC FFMUL_B3
6054	.$2cbd	INC RESHOP
6055	.$2cbf	FFMUL_B3
6056	.$2cbf	LSR ARGHO        
6057	.$2cc1	BCC FFMUL_ROTA
6058	.$2cc3	LDA RESOV
6059	.$2cc5	CLC
6060	.$2cc6	ADC FACOV        
6061	.$2cc8	STA RESOV
6062	.$2cca	LDA RESLO
6063	.$2ccc	ADC FACLO        
6064	.$2cce	STA RESLO
6065	.$2cd0	LDA RESMO
6066	.$2cd2	ADC FACMO        
6067	.$2cd4	STA RESMO
6068	.$2cd6	LDA RESMOH
6069	.$2cd8	ADC FACMOH       
6070	.$2cda	STA RESMOH
6071	.$2cdc	LDA RESHO
6072	.$2cde	ADC FACHO        
6073	.$2ce0	STA RESHO
6074	.$2ce2	LDA RESHOP
6075	.$2ce4	ADC FACHOP       
6076	.$2ce6	STA RESHOP
6077	.$2ce8	FFMUL_ROTA
6078	.$2ce8	ASL FACOV
6079	.$2cea	ROL FACLO
6080	.$2cec	ROL FACMO
6081	.$2cee	ROL FACMOH
6082	.$2cf0	ROL FACHO
6083	.$2cf2	ROL FACHOP
6084	.$2cf4	BMI FFMUL_FIN
6085	.$2cf6	JMP FFMUL_B0
6086	.$2cf9	FFMUL_FIN
6087	.$2cf9	LDA RESHOP
6088	.$2cfb	STA FACHO
6089	.$2cfd	LDA RESHO
6090	.$2cff	STA FACMOH
6091	.$2d01	LDA RESMOH
6092	.$2d03	STA FACMO
6093	.$2d05	LDA RESMO
6094	.$2d07	STA FACLO
6095	.$2d09	LDA RESLO
6096	.$2d0b	STA FACOV
6097	.$2d0d	JMP FCNORMAL      
6098	.$2d10	MUL10
6099	.$2d10	JSR ARGFAC       
6100	.$2d13	TAX              
6101	.$2d14	BEQ FFMUL_MUL101    
6102	.$2d16	CLC
6103	.$2d17	ADC #2
6104	.$2d19	BCS FFMUL_MUL102    
6105	.$2d1b	STA FACEXP       
6106	.$2d1d	LDY #0
6107	.$2d1f	STY ARISGN
6108	.$2d21	JSR FASTFADDARG      
6109	.$2d24	INC FACEXP
6110	.$2d26	BEQ FFMUL_MUL102     
6111	.$2d28	FFMUL_MUL101
6112	.$2d28	RTS
6113	.$2d29	FFMUL_MUL102
6114	.$2d29	JMP ILLEGALQUANTITY
6115	.$2d2c	MUL6
6116	.$2d2c	JSR ARGFAC       
6117	.$2d2f	TAX              
6118	.$2d30	BEQ FFMUL_MUL61     
6119	.$2d32	INC FACEXP
6120	.$2d34	BEQ FFMUL_MUL62     
6121	.$2d36	LDY #0
6122	.$2d38	STY ARISGN
6123	.$2d3a	JSR FASTFADDARG      
6124	.$2d3d	INC FACEXP
6125	.$2d3f	BEQ FFMUL_MUL62     
6126	.$2d41	FFMUL_MUL61
6127	.$2d41	RTS
6128	.$2d42	FFMUL_MUL62
6129	.$2d42	JMP ILLEGALQUANTITY
6132	.$2d45	INITVARS
6133	.$2d45	JSR INITSTRVARS
6134	.$2d48	LDA #0
6135	.$2d4a	LDY #4
6136	.$2d4c	REALINITLOOP0:
6137	.$2d4c	STA VAR_CN,Y
6138	.$2d4f	STA VAR_X,Y
6139	.$2d52	STA VAR_DC,Y
6140	.$2d55	STA VAR_I,Y
6141	.$2d58	STA VAR_M,Y
6142	.$2d5b	STA VAR_K,Y
6143	.$2d5e	STA VAR_P,Y
6144	.$2d61	STA VAR_EO,Y
6145	.$2d64	STA VAR_SP,Y
6146	.$2d67	STA VAR_OP,Y
6147	.$2d6a	STA VAR_TI,Y
6148	.$2d6d	DEY
6149	.$2d6e	BMI REALLOOPEXIT0
6150	.$2d70	JMP REALINITLOOP0
6151	.$2d73	REALLOOPEXIT0:
6152	.$2d73	STA VAR_Z%
6153	.$2d76	STA VAR_Z%+1
6154	.$2d79	STA VAR_N%
6155	.$2d7c	STA VAR_N%+1
6156	.$2d7f	LDA #<VAR_FR%[]
6157	.$2d81	LDY #>VAR_FR%[]
6158	.$2d83	JSR INITSPARAMS
6159	.$2d86	JSR INITNARRAY
6160	.$2d89	LDA #0
6161	.$2d8b	STA VAR_OP%
6162	.$2d8e	STA VAR_OP%+1
6163	.$2d91	LDA #<VAR_OP%[]
6164	.$2d93	LDY #>VAR_OP%[]
6165	.$2d95	JSR INITSPARAMS
6166	.$2d98	JSR INITNARRAY
6167	.$2d9b	LDA #0
6168	.$2d9d	STA VAR_T%
6169	.$2da0	STA VAR_T%+1
6170	.$2da3	STA VAR_MX%
6171	.$2da6	STA VAR_MX%+1
6172	.$2da9	STA VAR_PP%
6173	.$2dac	STA VAR_PP%+1
6174	.$2daf	STA VAR_P%
6175	.$2db2	STA VAR_P%+1
6176	.$2db5	STA VAR_Z1%
6177	.$2db8	STA VAR_Z1%+1
6178	.$2dbb	STA VAR_N1%
6179	.$2dbe	STA VAR_N1%+1
6180	.$2dc1	STA VAR_Z2%
6181	.$2dc4	STA VAR_Z2%+1
6182	.$2dc7	STA VAR_N2%
6183	.$2dca	STA VAR_N2%+1
6184	.$2dcd	RTS
6188	.$2dce	CONSTANTS
6194	.$2dce	CONST_1R .REAL 15.0
6197	.$2dd3	CONST_2R .REAL 0.0
6199	.$2dd8	CONST_3 .BYTE 1
6200	.$2dd9	.STRG "*"
6203	.$2dda	CONST_4R .REAL 1.0
6205	.$2ddf	CONST_5 .BYTE 1
6206	.$2de0	.STRG "/"
6209	.$2de1	CONST_6R .REAL 8.0
6211	.$2de6	CONST_7 .BYTE 6
6212	.$2de7	.STRG "000000"
6214	.$2ded	CONST_8 .BYTE 10
6215	.$2dee	.STRG "gleichung!"
6217	.$2df8	CONST_9 .BYTE 17
6218	.$2df9	.STRG "brueche gekuerzt!"
6220	.$2e0a	CONST_10 .BYTE 19
6221	.$2e0b	.STRG "divisionen ersetzt!"
6223	.$2e1e	CONST_11 .BYTE 24
6224	.$2e1f	.STRG "brueche weiter gekuerzt!"
6226	.$2e37	CONST_12 .BYTE 6
6227	.$2e38	.STRG "{home}"
6229	.$2e39	CONST_13 .BYTE 25
6230	.$2e3a	.STRG "{home}{down*10}{space*30}"
6232	.$2e63	CONST_14 .BYTE 25
6233	.$2e64	.STRG "{home}{down*12}{space*30}"
6235	.$2e8f	CONST_15 .BYTE 25
6236	.$2e90	.STRG "{home}{down*14}{space*30}"
6238	.$2ebd	CONST_16 .BYTE 22
6239	.$2ebe	.STRG "{home}{down*10}zaehler"
6241	.$2ed0	CONST_17 .BYTE 0
6242	.$2ed1	.STRG ""
6244	.$2ed1	CONST_18 .BYTE 16
6245	.$2ed2	.STRG "?redo from start"
6248	.$2ee2	CONST_19R .REAL 2.0
6250	.$2ee7	CONST_20 .BYTE 21
6251	.$2ee8	.STRG "{home}{down*12}nenner"
6254	.$2efb	CONST_21R .REAL 6.0
6256	.$2f00	CONST_22 .BYTE 39
6257	.$2f01	.STRG "{home}{down*14}rechenzeichen (* oder /)"
6260	.$2f28	CONST_23 .REAL -1.0
6262	.$2f2d	CONST_24 .BYTE 14
6263	.$2f2e	.STRG "{home}{down*3}"
6265	.$2f32	CONST_25 .BYTE 3
6266	.$2f33	.STRG "= ?"
6271	.$2f36	CONST_27 .BYTE 14
6272	.$2f37	.STRG "{home}{down*2}"
6278	.$2f3a	CONST_29R .REAL 5.0
6280	.$2f3f	CONST_30 .BYTE 5
6281	.$2f40	.STRG "-----"
6283	.$2f45	CONST_31 .BYTE 14
6284	.$2f46	.STRG "{home}{down*4}"
6286	.$2f4b	CONST_32 .BYTE 22
6287	.$2f4c	.STRG "unbekannte operation: "
6290	.$2f62	CONST_33R .REAL 4.0
6292	.$2f67	CONST_34 .BYTE 8
6293	.$2f68	.STRG "loesung!"
6295	.$2f70	CONST_35 .BYTE 7
6296	.$2f71	.STRG "schritt"
6298	.$2f78	CONST_36 .BYTE 6
6299	.$2f79	.STRG "time: "
6301	.$2f7f	CONST_37 .BYTE 15
6302	.$2f80	.STRG "{home}{down*10}"
6305	.$2f8b	DATAS
6306	.$2f8b	.BYTE $FF
6308	.$2f8c	CONSTANTS_END
6311	.$2f8c	VARIABLES
6313	.$2f8c	VAR_CN .REAL 0.0
6315	.$2f91	VAR_X .REAL 0.0
6317	.$2f96	VAR_DC .REAL 0.0
6319	.$2f9b	VAR_Z% .WORD 0
6321	.$2f9d	VAR_N% .WORD 0
6323	.$2f9f	.BYTE 0
6324	.$2fa0	.WORD 22
6325	.$2fa2	VAR_FR%[] .ARRAY 22
6327	.$2fb8	VAR_OP% .WORD 0
6329	.$2fba	.BYTE 0
6330	.$2fbb	.WORD 10
6331	.$2fbd	VAR_OP%[] .ARRAY 10
6333	.$2fc7	VAR_I .REAL 0.0
6335	.$2fcc	VAR_T% .WORD 0
6337	.$2fce	VAR_MX% .WORD 0
6339	.$2fd0	VAR_M .REAL 0.0
6341	.$2fd5	VAR_K .REAL 0.0
6343	.$2fda	VAR_P .REAL 0.0
6345	.$2fdf	VAR_PP% .WORD 0
6347	.$2fe1	VAR_EO .REAL 0.0
6349	.$2fe6	VAR_P% .WORD 0
6351	.$2fe8	VAR_SP .REAL 0.0
6353	.$2fed	VAR_Z1% .WORD 0
6355	.$2fef	VAR_N1% .WORD 0
6357	.$2ff1	VAR_Z2% .WORD 0
6359	.$2ff3	VAR_N2% .WORD 0
6361	.$2ff5	VAR_OP .REAL 0.0
6363	.$2ffa	VAR_TI .REAL 0.0
6364	.$2fff	STRINGVARS_START
6366	.$2fff	VAR_TI$ .WORD EMPTYSTR
6368	.$3001	VAR_MG$ .WORD EMPTYSTR
6370	.$3003	VAR_A$ .WORD EMPTYSTR
6371	.$3005	STRINGVARS_END
6372	.$3005	STRINGARRAYS_START
6374	.$3005	.BYTE 2
6375	.$3006	.WORD 4
6376	.$3008	VAR_OP$[]
6377	.$3008	.WORD EMPTYSTR EMPTYSTR
6378	.$300c	STRINGARRAYS_END
6379	.$300c	VARIABLES_END
6381	.$300c	Y_REG .REAL 0.0
6382	.$3011	C_REG .REAL 0.0
6383	.$3016	D_REG .REAL 0.0
6384	.$301b	E_REG .REAL 0.0
6385	.$3020	F_REG .REAL 0.0
6386	.$3025	A_REG .WORD 0
6387	.$3027	B_REG .WORD 0
6388	.$3029	CMD_NUM .BYTE 0
6389	.$302a	CHANNEL .BYTE 0
6390	.$302b	SP_SAVE .BYTE 0
6391	.$302c	TMP2_REG .WORD 0
6392	.$302e	TMP3_REG .WORD 0
6393	.$3030	TMP4_REG .WORD 0
6394	.$3032	AS_TMP .WORD 0
6395	.$3034	BPOINTER_TMP .WORD 0
6396	.$3036	BASICTEXTP .BYTE 0
6397	.$3037	STORE1 .WORD 0
6398	.$3039	STORE2 .WORD 0
6399	.$303b	STORE3 .WORD 0
6400	.$303d	STORE4 .WORD 0
6401	.$303f	GCSTART .WORD 0
6402	.$3041	GCLEN .WORD 0
6403	.$3043	GCWORK .WORD 0
6404	.$3045	INPUTLENGTH .BYTE 0
6405	.$3046	TMP_FREG .REAL 0
6406	.$304b	TMP2_FREG .REAL 0
6407	.$3050	TMP_FLAG .BYTE 0
6408	.$3051	INT_FLAG .BYTE 0
6409	.$3052	REAL_CONST_ONE .REAL 1.0
6410	.$3057	REAL_CONST_ZERO .REAL 0.0
6411	.$305c	REAL_CONST_MINUS_ONE .REAL -1.0
6412	.$3061	CHLOCKFLAG .BYTE 0
6413	.$3062	EMPTYSTR .BYTE 0
6414	.$3063	FPSTACKP .WORD FPSTACK
6415	.$3065	FORSTACKP .WORD FORSTACK
6416	.$3067	DATASP .WORD DATAS
6417	.$3069	LASTVAR .WORD 0
6418	.$306b	LASTVARP .WORD 0
6419	.$306d	HIGHP .WORD STRBUF
6420	.$306f	STRBUFP .WORD STRBUF
6421	.$3071	ENDSTRBUF .WORD 0
6422	.$3073	INPUTQUEUEP .BYTE 0
6423	.$3074	PROGRAMEND
6424	.$3074	INPUTQUEUE .ARRAY $0F
6425	.$3083	FPSTACK .ARRAY 100
6426	.$30e7	FORSTACK .ARRAY 340
6427	.$323b	STRBUF .BYTE 0
