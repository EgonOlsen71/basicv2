117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
129	.$81f	LINE_20:
131	.$81f	LDA #<CONST_0R
132	.$821	LDY #>CONST_0R
133	.$823	JSR COPY2_XYA_XREG
137	.$826	LDA #<CONST_1R
138	.$828	LDY #>CONST_1R
139	.$82a	JSR COPY2_XYA_YREG
143	.$82d	LDA #<VAR_A[]
144	.$82f	LDY #>VAR_A[]
145	.$831	STA G_REG
146	.$833	STY G_REG+1
147	.$835	JSR ARRAYSTORE_REAL
148	.$838	LDA #<CONST_2R
149	.$83a	LDY #>CONST_2R
150	.$83c	JSR COPY2_XYA_XREG
154	.$83f	LDA #<CONST_3R
155	.$841	LDY #>CONST_3R
156	.$843	JSR COPY2_XYA_YREG
160	.$846	LDA #<VAR_A[]
161	.$848	LDY #>VAR_A[]
162	.$84a	STA G_REG
163	.$84c	STY G_REG+1
164	.$84e	JSR ARRAYSTORE_REAL
165	.$851	LDA #<VAR_A[]+75
166	.$853	LDY #>VAR_A[]+75
167	.$855	STA G_REG
168	.$857	STY G_REG+1
169	.$859	JSR ARRAYACCESS_REAL_INT_PRE
173	.$85c	JSR COPY_XREG2YREG
177	.$85f	LDA #<CONST_5R
178	.$861	LDY #>CONST_5R
179	.$863	JSR COPY2_XYA_XREG
183	.$866	LDA #<VAR_C%[]
184	.$868	LDY #>VAR_C%[]
185	.$86a	STA G_REG
186	.$86c	STY G_REG+1
187	.$86e	JSR ARRAYSTORE_INTEGER
189	.$871	LINE_25:
191	.$871	LDA #<CONST_6R
192	.$873	LDY #>CONST_6R
193	.$875	JSR REALFACPUSH
195	.$878	LDA #<VAR_A[]+25
196	.$87a	LDY #>VAR_A[]+25
197	.$87c	STA G_REG
198	.$87e	STY G_REG+1
199	.$880	JSR ARRAYACCESS_REAL_INT_PRE
203	.$883	JSR REALFACPUSHXREG
206	.$886	LDA #<VAR_A[]+75
207	.$888	LDY #>VAR_A[]+75
208	.$88a	STA G_REG
209	.$88c	STY G_REG+1
210	.$88e	JSR ARRAYACCESS_REAL_INT_PRE
214	.$891	JSR POPREAL2X
216	.$894	JSR FASTFADDARG
219	.$897	JSR FACXREG
221	.$89a	LDA #<CONST_7R
222	.$89c	LDY #>CONST_7R
223	.$89e	JSR REALFAC
226	.$8a1	LDA #<X_REG
227	.$8a3	LDY #>X_REG
229	.$8a5	JSR FASTFSUBMEM
235	.$8a8	JSR BASINT
236	.$8ab	JSR FACXREG
237	.$8ae	LDY #2
238	.$8b0	STY A_REG
240	.$8b3	JSR SHL
243	.$8b6	JSR FACARG
244	.$8b9	LDA #<CONST_8R
245	.$8bb	LDY #>CONST_8R
246	.$8bd	JSR REALFAC
247	.$8c0	JSR XXBASINT
248	.$8c3	JSR FASTFADDARG
252	.$8c6	JSR FACXREG
254	.$8c9	LDA #<VAR_A[]
255	.$8cb	LDY #>VAR_A[]
256	.$8cd	JSR ARRAYACCESS_REAL_S
258	.$8d0	JSR COPY_XREG2YREG
262	.$8d3	JSR POPREALXREG
264	.$8d6	LDA #<VAR_C%[]
265	.$8d8	LDY #>VAR_C%[]
266	.$8da	STA G_REG
267	.$8dc	STY G_REG+1
268	.$8de	JSR ARRAYSTORE_INTEGER_NX
270	.$8e1	LDA #<VAR_A[]+25
271	.$8e3	LDY #>VAR_A[]+25
272	.$8e5	STA G_REG
273	.$8e7	STY G_REG+1
274	.$8e9	JSR ARRAYACCESS_REAL_INT_PRE
278	.$8ec	JSR COPY_XREG2YREG
282	.$8ef	LDA #<CONST_9R
283	.$8f1	LDY #>CONST_9R
284	.$8f3	JSR COPY2_XYA_XREG
288	.$8f6	LDA #<VAR_C%[]
289	.$8f8	LDY #>VAR_C%[]
290	.$8fa	STA G_REG
291	.$8fc	STY G_REG+1
292	.$8fe	JSR ARRAYSTORE_INTEGER
294	.$901	LINE_30:
296	.$901	LDA #<VAR_A[]+25
297	.$903	LDY #>VAR_A[]+25
298	.$905	STA G_REG
299	.$907	STY G_REG+1
300	.$909	JSR ARRAYACCESS_REAL_INT_PRE
304	.$90c	JSR XREGFAC
307	.$90f	JSR FACWORD
308	.$912	STY 1024
309	.$915	LDA #<VAR_A[]+70
310	.$917	LDY #>VAR_A[]+70
311	.$919	STA G_REG
312	.$91b	STY G_REG+1
313	.$91d	JSR ARRAYACCESS_REAL_INT_PRE
317	.$920	JSR XREGFAC
320	.$923	JSR FACWORD
321	.$926	STY 1025
322	.$929	LDA #<VAR_C%[]+102
323	.$92b	LDY #>VAR_C%[]+102
324	.$92d	STA G_REG
325	.$92f	STY G_REG+1
326	.$931	JSR ARRAYACCESS_INTEGER_INT_PRE
330	.$934	JSR REALFACPUSHXREG
333	.$937	LDA #<VAR_C%[]+134
334	.$939	LDY #>VAR_C%[]+134
335	.$93b	STA G_REG
336	.$93d	STY G_REG+1
337	.$93f	JSR ARRAYACCESS_INTEGER_INT_PRE
341	.$942	JSR REALFACPUSHXREG
344	.$945	LDA #<VAR_C%[]+112
345	.$947	LDY #>VAR_C%[]+112
346	.$949	STA G_REG
347	.$94b	STY G_REG+1
348	.$94d	JSR ARRAYACCESS_INTEGER_INT_PRE
352	.$950	JSR POPREAL2X
354	.$953	JSR FASTFADDARG
357	.$956	JSR FACXREG
359	.$959	JSR POPREAL2X
361	.$95c	JSR FASTFADDARG
366	.$95f	JSR FACWORD
367	.$962	STY 1026
368	.$965	JSR END
369	.$968	RTS
372	.$969	END   LDX SP_SAVE
373	.$96c	TXS
380	.$96d	RTS
383	.$96e	START  LDA ENDSTRBUF+1
384	.$971	BNE ENDGIVEN
385	.$973	LDA BASICEND
386	.$975	STA ENDSTRBUF
387	.$978	LDA BASICEND+1
388	.$97a	STA ENDSTRBUF+1
389	.$97d	ENDGIVEN LDA #<FPSTACK
390	.$97f	LDY #>FPSTACK
391	.$981	STA FPSTACKP
392	.$984	STY FPSTACKP+1
393	.$987	LDA #<FORSTACK
394	.$989	LDY #>FORSTACK
395	.$98b	STA FORSTACKP
396	.$98e	STY FORSTACKP+1
397	.$991	LDA #<STRBUF
398	.$993	LDY #>STRBUF
399	.$995	STA STRBUFP
400	.$998	STY STRBUFP+1
401	.$99b	STA HIGHP
402	.$99e	STY HIGHP+1
403	.$9a1	LDA #0
404	.$9a3	STA CHLOCKFLAG
405	.$9a6	STA LASTVAR
406	.$9a9	STA LASTVAR+1
407	.$9ac	JSR INITVARS
408	.$9af	LDA #0
409	.$9b1	STA CMD_NUM
410	.$9b4	STA CHANNEL
411	.$9b7	TAY
412	.$9b8	TAX
416	.$9b9	STA KEYNDX
422	.$9bb	JSR RESTORE
423	.$9be	CLC
427	.$9bf	RTS
430	.$9c0	INITNARRAY
431	.$9c0	STA TMP_ZP
432	.$9c2	STY TMP_ZP+1
433	.$9c4	LDY #0
434	.$9c6	TYA
435	.$9c7	NINITLOOP STA (TMP_ZP),Y
436	.$9c9	INC TMP_ZP
437	.$9cb	BNE NLOOPNOV
438	.$9cd	INC TMP_ZP+1
439	.$9cf	NLOOPNOV LDX TMP2_ZP
440	.$9d1	BNE NLOOPNOV2
441	.$9d3	DEC TMP2_ZP+1
442	.$9d5	NLOOPNOV2 DEC TMP2_ZP
443	.$9d7	BNE NINITLOOP
444	.$9d9	LDX TMP2_ZP+1
445	.$9db	BNE NINITLOOP
446	.$9dd	RTS
449	.$9de	INITSTRARRAY
450	.$9de	STA TMP_ZP
451	.$9e0	STY TMP_ZP+1
452	.$9e2	SINITLOOP LDY #0
453	.$9e4	LDA #<EMPTYSTR
454	.$9e6	STA (TMP_ZP),Y
455	.$9e8	LDA #>EMPTYSTR
456	.$9ea	INY
457	.$9eb	STA (TMP_ZP),Y
458	.$9ed	CLC
459	.$9ee	LDA TMP_ZP
460	.$9f0	ADC #2
461	.$9f2	STA TMP_ZP
462	.$9f4	BCC SLOOPNOV1
463	.$9f6	INC TMP_ZP+1
464	.$9f8	SLOOPNOV1 SEC
465	.$9f9	LDA TMP2_ZP
466	.$9fb	SBC #2
467	.$9fd	STA TMP2_ZP
468	.$9ff	BCS SLOOPNOV2
469	.$a01	DEC TMP2_ZP+1
470	.$a03	SLOOPNOV2 LDA TMP2_ZP
471	.$a05	BNE SINITLOOP
472	.$a07	LDA TMP2_ZP+1
473	.$a09	BNE SINITLOOP
474	.$a0b	RTS
477	.$a0c	INITSPARAMS STA TMP3_ZP
478	.$a0e	STY TMP3_ZP+1
479	.$a10	SEC
480	.$a11	SBC #2
481	.$a13	STA TMP_ZP
482	.$a15	TYA
483	.$a16	SBC #0
484	.$a18	STA TMP_ZP+1
485	.$a1a	LDY #0
486	.$a1c	LDA (TMP_ZP),Y
487	.$a1e	STA TMP2_ZP
488	.$a20	INY
489	.$a21	LDA (TMP_ZP),Y
490	.$a23	STA TMP2_ZP+1
491	.$a25	LDA TMP3_ZP
492	.$a27	LDY TMP3_ZP+1
493	.$a29	RTS
496	.$a2a	INITSTRVARS LDA #<STRINGVARS_START  
497	.$a2c	LDY #>STRINGVARS_START
498	.$a2e	CMP #<STRINGVARS_END
499	.$a30	BNE INITIT1
500	.$a32	CPY #>STRINGVARS_END
501	.$a34	BNE INITIT1
502	.$a36	JMP INITSA2     
503	.$a39	INITIT1  STA TMP_ZP
504	.$a3b	STY TMP_ZP+1
505	.$a3d	LDY #0
506	.$a3f	INITSTRLOOP LDA #<EMPTYSTR
507	.$a41	STA (TMP_ZP),Y
508	.$a43	INY
509	.$a44	LDA #>EMPTYSTR
510	.$a46	STA (TMP_ZP),Y
511	.$a48	DEY
512	.$a49	LDA TMP_ZP
513	.$a4b	CLC
514	.$a4c	ADC #2
515	.$a4e	STA TMP_ZP
516	.$a50	LDA TMP_ZP+1
517	.$a52	ADC #0
518	.$a54	STA TMP_ZP+1
519	.$a56	CMP #>STRINGVARS_END
520	.$a58	BNE INITSTRLOOP
521	.$a5a	LDA TMP_ZP
522	.$a5c	CMP #<STRINGVARS_END
523	.$a5e	BNE INITSTRLOOP
524	.$a60	INITSA2  LDA #<STRINGARRAYS_START 
525	.$a62	LDY #>STRINGARRAYS_START
526	.$a64	CMP #<STRINGARRAYS_END
527	.$a66	BNE ARRAYLOOP
528	.$a68	CPY #>STRINGARRAYS_END
529	.$a6a	BNE ARRAYLOOP
530	.$a6c	RTS       
531	.$a6d	ARRAYLOOP CLC
532	.$a6e	ADC #3
533	.$a70	BCC ARRAYSKIP1
534	.$a72	INY
535	.$a73	ARRAYSKIP1 CPY #>STRINGARRAYS_END
536	.$a75	BEQ ARRAYSC
537	.$a77	BCC ARRAYSKIP2
538	.$a79	JMP ARRAYQUIT
539	.$a7c	ARRAYSC  CMP #<STRINGARRAYS_END
540	.$a7e	BCS ARRAYQUIT
541	.$a80	ARRAYSKIP2 STA TMP_REG
542	.$a82	STY TMP_REG+1
543	.$a84	JSR INITSPARAMS
544	.$a87	LDA TMP_REG
545	.$a89	LDY TMP_REG+1
546	.$a8b	JSR INITSTRARRAY
547	.$a8e	LDA TMP_ZP
548	.$a90	LDY TMP_ZP+1
549	.$a92	JMP ARRAYLOOP
550	.$a95	ARRAYQUIT RTS
553	.$a96	RESTORE  LDA #<DATAS
554	.$a98	LDY #>DATAS
555	.$a9a	STA DATASP
556	.$a9d	STY DATASP+1
557	.$aa0	RTS
560	.$aa1	ARRAYACCESS_INTEGER_S
561	.$aa1	STA G_REG
562	.$aa3	STY G_REG+1
563	.$aa5	ARRAYACCESS_INTEGER
564	.$aa5	JSR XREGFAC
565	.$aa8	ARRAYACCESS_INTEGER_NX
566	.$aa8	JSR FACINT
567	.$aab	ARRAYACCESS_INTEGER_INT
568	.$aab	LDX G_REG
569	.$aad	STX TMP_ZP
570	.$aaf	LDX G_REG+1
571	.$ab1	STX TMP_ZP+1
572	.$ab3	TAX
573	.$ab4	TYA
574	.$ab5	ASL
575	.$ab6	STA TMP2_ZP
576	.$ab8	TXA
577	.$ab9	ROL
578	.$aba	STA TMP2_ZP+1
579	.$abc	LDA TMP_ZP
580	.$abe	CLC
581	.$abf	ADC TMP2_ZP
582	.$ac1	STA TMP_ZP
583	.$ac3	LDA TMP_ZP+1
584	.$ac5	ADC TMP2_ZP+1
585	.$ac7	STA TMP_ZP+1
586	.$ac9	AIIDI  LDY #1
587	.$acb	LDA (TMP_ZP),Y
588	.$acd	TAX
589	.$ace	DEY
590	.$acf	LDA (TMP_ZP),Y
591	.$ad1	TAY
592	.$ad2	TXA
593	.$ad3	STY TMP2_ZP  
594	.$ad5	STA TMP2_ZP+1
595	.$ad7	JSR INTFAC
596	.$ada	JMP FACXREG 
599	.$add	ARRAYACCESS_INTEGER_INT_PRE
600	.$add	LDX G_REG
601	.$adf	STX TMP_ZP
602	.$ae1	LDX G_REG+1
603	.$ae3	STX TMP_ZP+1
604	.$ae5	JMP AIIDI
607	.$ae8	ARRAYACCESS_REAL_S
608	.$ae8	STA G_REG
609	.$aea	STY G_REG+1
610	.$aec	ARRAYACCESS_REAL
611	.$aec	JSR XREGFAC
612	.$aef	JSR FACINT
613	.$af2	ARRAYACCESS_REAL_INT
614	.$af2	LDX G_REG
615	.$af4	STX TMP_ZP
616	.$af6	LDX G_REG+1
617	.$af8	STX TMP_ZP+1
618	.$afa	STY TMP3_ZP
619	.$afc	STA TMP3_ZP+1
620	.$afe	TAX
621	.$aff	TYA
622	.$b00	ASL
623	.$b01	TAY
624	.$b02	TXA
625	.$b03	ROL
626	.$b04	TAX
627	.$b05	TYA
628	.$b06	ASL
629	.$b07	STA TMP2_ZP
630	.$b09	TXA
631	.$b0a	ROL
632	.$b0b	STA TMP2_ZP+1
633	.$b0d	LDA TMP_ZP
634	.$b0f	CLC
635	.$b10	ADC TMP3_ZP
636	.$b12	STA TMP_ZP
637	.$b14	LDA TMP_ZP+1
638	.$b16	ADC TMP3_ZP+1
639	.$b18	STA TMP_ZP+1
640	.$b1a	LDA TMP_ZP
641	.$b1c	CLC
642	.$b1d	ADC TMP2_ZP
643	.$b1f	STA TMP3_ZP
644	.$b21	LDA TMP_ZP+1
645	.$b23	ADC TMP2_ZP+1
646	.$b25	STA TMP3_ZP+1
647	.$b27	JMP COPY2_XY_XREG
650	.$b2a	ARRAYACCESS_REAL_INT_PRE
651	.$b2a	LDX G_REG
652	.$b2c	STX TMP3_ZP
653	.$b2e	LDX G_REG+1
654	.$b30	STX TMP3_ZP+1
655	.$b32	JMP COPY2_XY_XREG
658	.$b35	ARRAYSTORE_INTEGER
659	.$b35	JSR XREGFAC
660	.$b38	ARRAYSTORE_INTEGER_NX
661	.$b38	JSR FACINT
662	.$b3b	ARRAYSTORE_INTEGER_INT
663	.$b3b	LDX G_REG
664	.$b3d	STX TMP_ZP
665	.$b3f	LDX G_REG+1
666	.$b41	STX TMP_ZP+1
667	.$b43	TAX
668	.$b44	TYA
669	.$b45	ASL
670	.$b46	STA TMP2_ZP
671	.$b48	TXA
672	.$b49	ROL
673	.$b4a	STA TMP2_ZP+1
674	.$b4c	LDA TMP_ZP
675	.$b4e	CLC
676	.$b4f	ADC TMP2_ZP
677	.$b51	STA TMP_ZP
678	.$b53	LDA TMP_ZP+1
679	.$b55	ADC TMP2_ZP+1
680	.$b57	STA TMP_ZP+1
681	.$b59	JSR YREGFAC
682	.$b5c	JSR FACINT
683	.$b5f	STY TMP3_ZP
684	.$b61	LDY #1
685	.$b63	STA (TMP_ZP),Y
686	.$b65	DEY
687	.$b66	LDA TMP3_ZP
688	.$b68	STA (TMP_ZP),Y
689	.$b6a	RTS
692	.$b6b	ARRAYSTORE_REAL
693	.$b6b	JSR XREGFAC
694	.$b6e	JSR FACINT
695	.$b71	ARRAYSTORE_REAL_INT
696	.$b71	LDX G_REG
697	.$b73	STX TMP_ZP
698	.$b75	LDX G_REG+1
699	.$b77	STX TMP_ZP+1
700	.$b79	STY TMP3_ZP
701	.$b7b	STA TMP3_ZP+1
702	.$b7d	TAX
703	.$b7e	TYA
704	.$b7f	ASL
705	.$b80	TAY
706	.$b81	TXA
707	.$b82	ROL
708	.$b83	TAX
709	.$b84	TYA
710	.$b85	ASL
711	.$b86	STA TMP2_ZP
712	.$b88	TXA
713	.$b89	ROL
714	.$b8a	STA TMP2_ZP+1
715	.$b8c	LDA TMP_ZP
716	.$b8e	CLC
717	.$b8f	ADC TMP3_ZP
718	.$b91	STA TMP_ZP
719	.$b93	LDA TMP_ZP+1
720	.$b95	ADC TMP3_ZP+1
721	.$b97	STA TMP_ZP+1
722	.$b99	LDA TMP_ZP
723	.$b9b	CLC
724	.$b9c	ADC TMP2_ZP
725	.$b9e	STA TMP_ZP
726	.$ba0	LDA TMP_ZP+1
727	.$ba2	ADC TMP2_ZP+1
728	.$ba4	STA TMP_ZP+1
729	.$ba6	JMP COPY2_YREG_XYA 
732	.$ba9	REALFACPUSH STA TMP_ZP
733	.$bab	STY TMP_ZP+1
734	.$bad	LDX FPSTACKP
735	.$bb0	LDY FPSTACKP+1
736	.$bb3	STX TMP2_ZP
737	.$bb5	STY TMP2_ZP+1
738	.$bb7	LDY #0
739	.$bb9	LDA (TMP_ZP),Y
740	.$bbb	STA (TMP2_ZP),Y
741	.$bbd	INY
742	.$bbe	LDA (TMP_ZP),Y
743	.$bc0	STA (TMP2_ZP),Y
744	.$bc2	INY
745	.$bc3	LDA (TMP_ZP),Y
746	.$bc5	STA (TMP2_ZP),Y
747	.$bc7	INY
748	.$bc8	LDA (TMP_ZP),Y
749	.$bca	STA (TMP2_ZP),Y
750	.$bcc	INY
751	.$bcd	LDA (TMP_ZP),Y
752	.$bcf	STA (TMP2_ZP),Y
753	.$bd1	TXA    
754	.$bd2	CLC
755	.$bd3	ADC #5
756	.$bd5	STA FPSTACKP
757	.$bd8	BCC NOPVRFPXX
758	.$bda	INC FPSTACKP+1
759	.$bdd	NOPVRFPXX RTS
762	.$bde	REALFACPUSHXREG
763	.$bde	LDX FPSTACKP
764	.$be1	LDY FPSTACKP+1
765	.$be4	STX TMP2_ZP
766	.$be6	STY TMP2_ZP+1
767	.$be8	LDY #0
768	.$bea	LDA X_REG
769	.$bec	STA (TMP2_ZP),Y
770	.$bee	INY
771	.$bef	LDA X_REG+1
772	.$bf1	STA (TMP2_ZP),Y
773	.$bf3	INY
774	.$bf4	LDA X_REG+2
775	.$bf6	STA (TMP2_ZP),Y
776	.$bf8	INY
777	.$bf9	LDA X_REG+3
778	.$bfb	STA (TMP2_ZP),Y
779	.$bfd	INY
780	.$bfe	LDA X_REG+4
781	.$c00	STA (TMP2_ZP),Y
782	.$c02	TXA    
783	.$c03	CLC
784	.$c04	ADC #5
785	.$c06	STA FPSTACKP
786	.$c09	BCC NOPVRFPXXXREG
787	.$c0b	INC FPSTACKP+1
788	.$c0e	NOPVRFPXXXREG
789	.$c0e	RTS
792	.$c0f	POPREAL2X LDA FPSTACKP
793	.$c12	SEC
794	.$c13	SBC #5
795	.$c15	STA FPSTACKP
796	.$c18	BCS NOPVPR2X
797	.$c1a	DEC FPSTACKP+1
798	.$c1d	NOPVPR2X LDA FPSTACKP
799	.$c20	LDY FPSTACKP+1
800	.$c23	JSR REALFAC
801	.$c26	JSR XREGARG
802	.$c29	RTS
805	.$c2a	POPREALXREG LDA FPSTACKP
806	.$c2d	SEC
807	.$c2e	SBC #5
808	.$c30	STA FPSTACKP
809	.$c33	BCS NOPVPRXR
810	.$c35	DEC FPSTACKP+1
811	.$c38	NOPVPRXR LDA FPSTACKP
812	.$c3b	LDY FPSTACKP+1
813	.$c3e	STA TMP_ZP
814	.$c40	STY TMP_ZP+1
815	.$c42	LDY #$4
816	.$c44	LDA (TMP_ZP),Y
817	.$c46	STA X_REG+4
818	.$c48	STA FACLO
819	.$c4a	DEY
820	.$c4b	LDA (TMP_ZP),Y
821	.$c4d	STA X_REG+3
822	.$c4f	STA FACMO
823	.$c51	DEY
824	.$c52	LDA (TMP_ZP),Y
825	.$c54	STA X_REG+2
826	.$c56	STA FACMOH
827	.$c58	DEY
828	.$c59	LDA (TMP_ZP),Y
829	.$c5b	STA X_REG+1
830	.$c5d	STA FACSGN
831	.$c5f	ORA #$80
832	.$c61	STA FACHO
833	.$c63	DEY
834	.$c64	LDA (TMP_ZP),Y
835	.$c66	STA X_REG
836	.$c68	STA FACEXP
837	.$c6a	STY FACOV
838	.$c6c	RTS
841	.$c6d	SHL   LDA FACEXP
842	.$c6f	BEQ SHLOK
843	.$c71	CLC
844	.$c72	ADC A_REG
845	.$c75	BCC SHLOK
846	.$c77	LDA #0
847	.$c79	STA FACSGN
848	.$c7b	STA FACLO
849	.$c7d	STA FACMO
850	.$c7f	STA FACMOH
851	.$c81	STA FACHO
852	.$c83	LDA #$FF
853	.$c85	SHLOK  STA FACEXP
854	.$c87	RTS
857	.$c88	COPY2_YREG_XYA
858	.$c88	LDY #0
859	.$c8a	LDA Y_REG
860	.$c8d	STA (TMP_ZP),Y
861	.$c8f	INY
862	.$c90	LDA Y_REG+1
863	.$c93	STA (TMP_ZP),Y
864	.$c95	INY
865	.$c96	LDA Y_REG+2
866	.$c99	STA (TMP_ZP),Y
867	.$c9b	INY
868	.$c9c	LDA Y_REG+3
869	.$c9f	STA (TMP_ZP),Y
870	.$ca1	INY
871	.$ca2	LDA Y_REG+4
872	.$ca5	STA (TMP_ZP),Y
873	.$ca7	RTS
876	.$ca8	COPY2_XYA_XREG
877	.$ca8	STA TMP3_ZP
878	.$caa	STY TMP3_ZP+1
879	.$cac	COPY2_XY_XREG
880	.$cac	LDX #<X_REG  
881	.$cae	LDY #0
882	.$cb0	LDA (TMP3_ZP),Y
883	.$cb2	STA X_REG
884	.$cb4	INY
885	.$cb5	LDA (TMP3_ZP),Y
886	.$cb7	STA X_REG+1
887	.$cb9	INY
888	.$cba	LDA (TMP3_ZP),Y
889	.$cbc	STA X_REG+2
890	.$cbe	INY
891	.$cbf	LDA (TMP3_ZP),Y
892	.$cc1	STA X_REG+3
893	.$cc3	INY
894	.$cc4	LDA (TMP3_ZP),Y
895	.$cc6	STA X_REG+4
896	.$cc8	RTS
899	.$cc9	COPY2_XYA_YREG
900	.$cc9	STA TMP3_ZP
901	.$ccb	STY TMP3_ZP+1
902	.$ccd	COPY2_XY_YREG
903	.$ccd	LDX #<Y_REG  
904	.$ccf	LDY #0
905	.$cd1	LDA (TMP3_ZP),Y
906	.$cd3	STA Y_REG
907	.$cd6	INY
908	.$cd7	LDA (TMP3_ZP),Y
909	.$cd9	STA Y_REG+1
910	.$cdc	INY
911	.$cdd	LDA (TMP3_ZP),Y
912	.$cdf	STA Y_REG+2
913	.$ce2	INY
914	.$ce3	LDA (TMP3_ZP),Y
915	.$ce5	STA Y_REG+3
916	.$ce8	INY
917	.$ce9	LDA (TMP3_ZP),Y
918	.$ceb	STA Y_REG+4
919	.$cee	RTS
922	.$cef	COPY_XREG2YREG
923	.$cef	LDA X_REG
924	.$cf1	STA Y_REG
925	.$cf4	LDA X_REG+1
926	.$cf6	STA Y_REG+1
927	.$cf9	LDA X_REG+2
928	.$cfb	STA Y_REG+2
929	.$cfe	LDA X_REG+3
930	.$d00	STA Y_REG+3
931	.$d03	LDA X_REG+4
932	.$d05	STA Y_REG+4
933	.$d08	RTS
937	.$d09	FACWORD
938	.$d09	LDA FACEXP   
939	.$d0b	BNE DOFACWORD
940	.$d0d	STA FACSGN   
941	.$d0f	DOFACWORD:
942	.$d0f	JMP XFACWORD
946	.$d12	ILLEGALQUANTITY
950	.$d12	JMP ERRIQ
953	.$d15	FACXREG  LDA FACLO
954	.$d17	STA X_REG+4
955	.$d19	LDA FACMO
956	.$d1b	STA X_REG+3
957	.$d1d	LDA FACMOH
958	.$d1f	STA X_REG+2
959	.$d21	LDA FACSGN
960	.$d23	ORA #$7F
961	.$d25	AND FACHO
962	.$d27	STA X_REG+1
963	.$d29	LDA FACEXP
964	.$d2b	STA X_REG
965	.$d2d	LDA #0   
966	.$d2f	STA FACOV
967	.$d31	RTS
970	.$d32	XXBASINT LDA ARGLO  
971	.$d34	STA F_REG+4
972	.$d37	LDA ARGMO
973	.$d39	STA F_REG+3
974	.$d3c	LDA ARGMOH
975	.$d3e	STA F_REG+2
976	.$d41	LDA ARGSGN
977	.$d43	ORA #$7F
978	.$d45	AND ARGHO
979	.$d47	STA F_REG+1
980	.$d4a	LDA ARGEXP
981	.$d4c	STA F_REG
982	.$d4f	JSR BASINT
983	.$d52	LDA F_REG+4
984	.$d55	STA ARGLO
985	.$d57	LDA F_REG+3
986	.$d5a	STA ARGMO
987	.$d5c	LDA F_REG+2
988	.$d5f	STA ARGMOH
989	.$d61	LDA F_REG+1
990	.$d64	STA ARGSGN
991	.$d66	EOR FACSGN  
992	.$d68	STA ARISGN
993	.$d6a	LDA ARGSGN
994	.$d6c	ORA #$80
995	.$d6e	STA ARGHO
996	.$d70	LDA F_REG
997	.$d73	STA ARGEXP
998	.$d75	LDA FACEXP
999	.$d77	RTS
1002	.$d78	XREGFAC  LDA X_REG+4
1003	.$d7a	STA FACLO
1004	.$d7c	LDA X_REG+3
1005	.$d7e	STA FACMO
1006	.$d80	LDA X_REG+2
1007	.$d82	STA FACMOH
1008	.$d84	LDA X_REG+1
1009	.$d86	STA FACSGN
1010	.$d88	ORA #$80
1011	.$d8a	STA FACHO
1012	.$d8c	LDA X_REG
1013	.$d8e	STA FACEXP
1014	.$d90	LDA #0
1015	.$d92	STA FACOV
1016	.$d94	RTS
1019	.$d95	XREGARG  LDA X_REG+4
1020	.$d97	STA ARGLO
1021	.$d99	LDA X_REG+3
1022	.$d9b	STA ARGMO
1023	.$d9d	LDA X_REG+2
1024	.$d9f	STA ARGMOH
1025	.$da1	LDA X_REG+1
1026	.$da3	STA ARGSGN
1027	.$da5	EOR FACSGN
1028	.$da7	STA ARISGN
1029	.$da9	LDA ARGSGN
1030	.$dab	ORA #$80
1031	.$dad	STA ARGHO
1032	.$daf	LDA X_REG
1033	.$db1	STA ARGEXP
1034	.$db3	LDA FACEXP
1035	.$db5	RTS
1038	.$db6	YREGFAC  LDA Y_REG+4
1039	.$db9	STA FACLO
1040	.$dbb	LDA Y_REG+3
1041	.$dbe	STA FACMO
1042	.$dc0	LDA Y_REG+2
1043	.$dc3	STA FACMOH
1044	.$dc5	LDA Y_REG+1
1045	.$dc8	STA FACSGN
1046	.$dca	ORA #$80
1047	.$dcc	STA FACHO
1048	.$dce	LDA Y_REG
1049	.$dd1	STA FACEXP
1050	.$dd3	LDA #0
1051	.$dd5	STA FACOV
1052	.$dd7	RTS
1166	.$dd8	FASTFSUBMEM
1167	.$dd8	JSR MEMARG
1168	.$ddb	FASTFSUBARG
1169	.$ddb	LDA FACSGN
1170	.$ddd	EOR #$FF
1171	.$ddf	STA FACSGN
1172	.$de1	EOR ARGSGN
1173	.$de3	STA ARISGN
1174	.$de5	LDA FACEXP
1175	.$de7	JMP FASTFADDARG
1178	.$dea	FASTFADDMEM
1179	.$dea	JSR MEMARG
1180	.$ded	FASTFADDARG
1181	.$ded	BNE FADDRET2     
1182	.$def	JMP ARGFAC
1183	.$df2	FADDRET2 LDA ARGEXP
1184	.$df4	BNE FADDRET1     
1185	.$df6	RTS
1186	.$df7	FADDRET1 SEC
1187	.$df8	SBC FACEXP
1188	.$dfa	BEQ FFADD_EXPEQ     
1189	.$dfc	BCC FFADD_SHFARG1   
1193	.$dfe	LDY ARGEXP
1194	.$e00	STY FACEXP
1195	.$e02	LDY ARGSGN
1196	.$e04	STY FACSGN
1197	.$e06	LDX #0
1198	.$e08	STX OLDOV        
1199	.$e0a	LDX #FAC         
1201	.$e0c	SEC
1202	.$e0d	SBC #$08
1203	.$e0f	BMI FFADD_SHFFAC2
1205	.$e11	FFADD_SHFFAC1
1206	.$e11	LDY FACLO        
1207	.$e13	STY FACOV
1208	.$e15	LDY FACMO        
1209	.$e17	STY FACMO+1
1210	.$e19	LDY FACMOH       
1211	.$e1b	STY FACMOH+1
1212	.$e1d	LDY FACHO        
1213	.$e1f	STY FACHO+1
1214	.$e21	LDY #0
1215	.$e23	STY FACHO        
1216	.$e25	SBC #$08         
1217	.$e27	BPL FFADD_SHFFAC1   
1218	.$e29	FFADD_SHFFAC2
1219	.$e29	ADC #$08         
1220	.$e2b	BEQ FFADD_SHFFAC4   
1221	.$e2d	TAY
1222	.$e2e	LDA FACOV
1223	.$e30	FFADD_SHFFAC3
1224	.$e30	LSR FACHO        
1225	.$e32	ROR FACMOH       
1226	.$e34	ROR FACMO        
1227	.$e36	ROR FACLO        
1228	.$e38	ROR              
1229	.$e39	DEY
1230	.$e3a	BNE FFADD_SHFFAC3
1231	.$e3c	JMP FFADD_MANADD2   
1232	.$e3f	FFADD_SHFFAC4
1233	.$e3f	LDA FACOV        
1234	.$e41	JMP FFADD_MANADD2
1235	.$e44	FFADD_EXPEQ
1236	.$e44	LDX FACOV
1237	.$e46	STX OLDOV
1240	.$e48	JMP FFADD_MANADD1
1241	.$e4b	FFADD_SHFARG2
1242	.$e4b	LDA FACOV        
1243	.$e4d	JMP FFADD_MANADD1
1244	.$e50	FFADD_SHFARG1
1245	.$e50	LDX FACOV
1246	.$e52	STX OLDOV        
1247	.$e54	LDX #$00         
1250	.$e56	ADC #$08
1251	.$e58	BPL FFADD_SHFARG6   
1252	.$e5a	FFADD_SHFARG3
1253	.$e5a	LDX ARGLO        
1254	.$e5c	LDY ARGMO        
1255	.$e5e	STY ARGMO+1
1256	.$e60	LDY ARGMOH       
1257	.$e62	STY ARGMOH+1
1258	.$e64	LDY ARGHO        
1259	.$e66	STY ARGHO+1
1260	.$e68	LDY #0
1261	.$e6a	STY ARGHO        
1262	.$e6c	FFADD_SHFARG4
1263	.$e6c	ADC #$08
1264	.$e6e	BMI FFADD_SHFARG3
1265	.$e70	BEQ FFADD_SHFARG3
1266	.$e72	FFADD_SHFARG6
1267	.$e72	SBC #$08
1268	.$e74	BEQ FFADD_SHFARG2   
1269	.$e76	TAY
1270	.$e77	TXA              
1271	.$e78	FFADD_SHFARG5
1272	.$e78	LSR ARGHO
1273	.$e7a	ROR ARGMOH
1274	.$e7c	ROR ARGMO
1275	.$e7e	ROR ARGLO
1276	.$e80	ROR           
1277	.$e81	INY
1278	.$e82	BNE FFADD_SHFARG5
1279	.$e84	FFADD_MANADD1
1280	.$e84	LDX #ARGEXP      
1281	.$e86	FFADD_MANADD2
1282	.$e86	BIT ARISGN
1283	.$e88	BMI FFADD_MANSUB1   
1284	.$e8a	CLC
1285	.$e8b	ADC OLDOV
1286	.$e8d	STA FACOV
1287	.$e8f	LDA FACLO
1288	.$e91	ADC ARGLO
1289	.$e93	STA FACLO
1290	.$e95	LDA FACMO
1291	.$e97	ADC ARGMO
1292	.$e99	STA FACMO
1293	.$e9b	LDA FACMOH
1294	.$e9d	ADC ARGMOH
1295	.$e9f	STA FACMOH
1296	.$ea1	LDA FACHO
1297	.$ea3	ADC ARGHO
1298	.$ea5	STA FACHO
1299	.$ea7	BCC FFADD_RNDRTS
1300	.$ea9	INC FACEXP
1301	.$eab	BEQ FFADD_OVERR
1303	.$ead	ROR FACHO
1304	.$eaf	ROR FACMOH
1305	.$eb1	ROR FACMO
1306	.$eb3	ROR FACLO
1307	.$eb5	ROR FACOV
1308	.$eb7	FFADD_RNDRTS
1309	.$eb7	RTS
1310	.$eb8	FFADD_OVERR
1311	.$eb8	JMP ILLEGALQUANTITY
1312	.$ebb	FFADD_MANSUB1
1313	.$ebb	LDY #FACEXP
1314	.$ebd	CPX #ARGEXP
1315	.$ebf	BEQ FFADD_MANSUB2
1316	.$ec1	LDY #ARGEXP
1317	.$ec3	FFADD_MANSUB2
1318	.$ec3	SEC              
1319	.$ec4	EOR #$FF
1320	.$ec6	ADC OLDOV
1321	.$ec8	STA FACOV
1322	.$eca	LDA 4,Y
1323	.$ecd	SBC 4,X
1324	.$ecf	STA FACLO
1325	.$ed1	LDA 3,Y
1326	.$ed4	SBC 3,X
1327	.$ed6	STA FACMO
1328	.$ed8	LDA 2,Y
1329	.$edb	SBC 2,X
1330	.$edd	STA FACMOH
1331	.$edf	LDA 1,Y
1332	.$ee2	SBC 1,X
1333	.$ee4	STA FACHO
1334	.$ee6	BCS FCNORMAL
1335	.$ee8	LDA FACSGN
1336	.$eea	EOR #$FF
1337	.$eec	STA FACSGN
1338	.$eee	LDA FACHO
1339	.$ef0	EOR #$FF
1340	.$ef2	STA FACHO
1341	.$ef4	LDA FACMOH
1342	.$ef6	EOR #$FF
1343	.$ef8	STA FACMOH
1344	.$efa	LDA FACMO
1345	.$efc	EOR #$FF
1346	.$efe	STA FACMO
1347	.$f00	LDA FACLO
1348	.$f02	EOR #$FF
1349	.$f04	STA FACLO
1350	.$f06	LDA FACOV
1351	.$f08	EOR #$FF
1352	.$f0a	CLC
1353	.$f0b	ADC #1
1354	.$f0d	STA FACOV
1355	.$f0f	BNE FCNORMAL
1356	.$f11	INC FACLO
1357	.$f13	BNE FCNORMAL
1358	.$f15	INC FACMO
1359	.$f17	BNE FCNORMAL
1360	.$f19	INC FACMOH
1361	.$f1b	BNE FCNORMAL
1362	.$f1d	INC FACHO
1363	.$f1f	FCNORMAL   BIT FACHO
1364	.$f21	BMI FFADD_RET       
1365	.$f23	LDA #0           
1366	.$f25	CLC
1367	.$f26	FFADD_NORM3
1368	.$f26	LDX FACHO
1369	.$f28	BNE FFADD_NORM1
1370	.$f2a	LDX FACHO+1
1371	.$f2c	STX FACHO
1372	.$f2e	LDX FACMOH+1
1373	.$f30	STX FACMOH
1374	.$f32	LDX FACMO+1
1375	.$f34	STX FACMO
1376	.$f36	LDX FACOV
1377	.$f38	STX FACLO
1378	.$f3a	LDX #0
1379	.$f3c	STX FACOV
1380	.$f3e	ADC #$08
1381	.$f40	CMP #$20
1382	.$f42	BNE FFADD_NORM3
1383	.$f44	JMP FFADD_ZEROFAC
1384	.$f47	FFADD_NORM2
1385	.$f47	CLC
1386	.$f48	ADC #1
1387	.$f4a	ASL FACOV
1388	.$f4c	ROL FACLO
1389	.$f4e	ROL FACMO
1390	.$f50	ROL FACMOH
1391	.$f52	ROL FACHO
1392	.$f54	FFADD_NORM1
1393	.$f54	BPL FFADD_NORM2     
1394	.$f56	SEC
1395	.$f57	SBC FACEXP
1396	.$f59	BCS FFADD_ZEROFAC
1397	.$f5b	EOR #$FF
1398	.$f5d	CLC
1399	.$f5e	ADC #1
1400	.$f60	STA FACEXP
1401	.$f62	FFADD_RET   RTS
1402	.$f63	FFADD_ZEROFAC
1403	.$f63	LDX #0
1404	.$f65	STX FACEXP
1405	.$f67	STX FACSGN
1406	.$f69	RTS
1409	.$f6a	INITVARS
1410	.$f6a	JSR INITSTRVARS
1411	.$f6d	LDA #<VAR_A[]
1412	.$f6f	LDY #>VAR_A[]
1413	.$f71	JSR INITSPARAMS
1414	.$f74	JSR INITNARRAY
1415	.$f77	LDA #<VAR_C%[]
1416	.$f79	LDY #>VAR_C%[]
1417	.$f7b	JSR INITSPARAMS
1418	.$f7e	JSR INITNARRAY
1419	.$f81	LDA #0
1420	.$f83	RTS
1424	.$f84	CONSTANTS
1427	.$f84	CONST_0R .REAL 5.0
1430	.$f89	CONST_1R .REAL 23.0
1433	.$f8e	CONST_2R .REAL 14.0
1436	.$f93	CONST_3R .REAL 7.0
1442	.$f98	CONST_5R .REAL 51.0
1445	.$f9d	CONST_6R .REAL 56.0
1448	.$fa2	CONST_7R .REAL 20.0
1451	.$fa7	CONST_8R .REAL 2.0
1454	.$fac	CONST_9R .REAL 67.0
1457	.$fb1	DATAS
1458	.$fb1	.BYTE $FF
1460	.$fb2	CONSTANTS_END
1463	.$fb2	VARIABLES
1465	.$fb2	.BYTE 1
1466	.$fb3	.WORD 100
1467	.$fb5	VAR_A[] .ARRAY 100
1469	.$1019	.BYTE 0
1470	.$101a	.WORD 202
1471	.$101c	VAR_C%[] .ARRAY 202
1472	.$10e6	STRINGVARS_START
1474	.$10e6	VAR_TI$ .WORD EMPTYSTR
1475	.$10e8	STRINGVARS_END
1476	.$10e8	STRINGARRAYS_START
1477	.$10e8	STRINGARRAYS_END
1478	.$10e8	VARIABLES_END
1480	.$10e8	Y_REG .REAL 0.0
1481	.$10ed	C_REG .REAL 0.0
1482	.$10f2	D_REG .REAL 0.0
1483	.$10f7	E_REG .REAL 0.0
1484	.$10fc	F_REG .REAL 0.0
1485	.$1101	A_REG .WORD 0
1486	.$1103	B_REG .WORD 0
1487	.$1105	CMD_NUM .BYTE 0
1488	.$1106	CHANNEL .BYTE 0
1489	.$1107	SP_SAVE .BYTE 0
1490	.$1108	TMP2_REG .WORD 0
1491	.$110a	TMP3_REG .WORD 0
1492	.$110c	TMP4_REG .WORD 0
1493	.$110e	AS_TMP .WORD 0
1494	.$1110	BPOINTER_TMP .WORD 0
1495	.$1112	BASICTEXTP .BYTE 0
1496	.$1113	STORE1 .WORD 0
1497	.$1115	STORE2 .WORD 0
1498	.$1117	STORE3 .WORD 0
1499	.$1119	STORE4 .WORD 0
1500	.$111b	GCSTART .WORD 0
1501	.$111d	GCLEN .WORD 0
1502	.$111f	GCWORK .WORD 0
1503	.$1121	INPUTLENGTH .BYTE 0
1504	.$1122	TMP_FREG .REAL 0
1505	.$1127	TMP2_FREG .REAL 0
1506	.$112c	TMP_FLAG .BYTE 0
1507	.$112d	INT_FLAG .BYTE 0
1508	.$112e	REAL_CONST_ONE .REAL 1.0
1509	.$1133	REAL_CONST_ZERO .REAL 0.0
1510	.$1138	REAL_CONST_MINUS_ONE .REAL -1.0
1511	.$113d	CHLOCKFLAG .BYTE 0
1512	.$113e	EMPTYSTR .BYTE 0
1513	.$113f	FPSTACKP .WORD FPSTACK
1514	.$1141	FORSTACKP .WORD FORSTACK
1515	.$1143	DATASP .WORD DATAS
1516	.$1145	LASTVAR .WORD 0
1517	.$1147	LASTVARP .WORD 0
1518	.$1149	HIGHP .WORD STRBUF
1519	.$114b	STRBUFP .WORD STRBUF
1520	.$114d	ENDSTRBUF .WORD 0
1521	.$114f	INPUTQUEUEP .BYTE 0
1522	.$1150	PROGRAMEND
1523	.$1150	INPUTQUEUE .ARRAY $0F
1524	.$115f	FPSTACK .ARRAY 100
1525	.$11c3	FORSTACK .ARRAY 340
1526	.$1317	STRBUF .BYTE 0
