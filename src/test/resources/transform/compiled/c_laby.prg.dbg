117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_1:
129	.$81f	LINE_2:
132	.$81f	LINE_3:
135	.$81f	LINE_4:
138	.$81f	LINE_5:
141	.$81f	LINE_6:
144	.$81f	LINE_10:
146	.$81f	LDY 53281
147	.$822	STY 53280
149	.$825	LDA #<CONST_0
150	.$827	LDY #>CONST_0
151	.$829	JSR STROUTBRKWL
155	.$82c	LINE_20:
157	.$82c	LDA #<CONST_1R
158	.$82e	LDY #>CONST_1R
159	.$830	JSR COPY2_XYA_XREG
163	.$833	LDA #<CONST_2
164	.$835	LDY #>CONST_2
165	.$837	JSR COPY2_XYA_YREG
169	.$83a	LDA #<VAR_A[]
170	.$83c	LDY #>VAR_A[]
171	.$83e	STA G_REG
172	.$840	STY G_REG+1
173	.$842	JSR ARRAYSTORE_REAL
174	.$845	LDA #<CONST_3R
175	.$847	LDY #>CONST_3R
176	.$849	JSR COPY2_XYA_XREG
180	.$84c	LDA #<CONST_4
181	.$84e	LDY #>CONST_4
182	.$850	JSR COPY2_XYA_YREG
186	.$853	LDA #<VAR_A[]
187	.$855	LDY #>VAR_A[]
188	.$857	STA G_REG
189	.$859	STY G_REG+1
190	.$85b	JSR ARRAYSTORE_REAL
191	.$85e	LDA #<CONST_5R
192	.$860	LDY #>CONST_5R
193	.$862	JSR COPY2_XYA_XREG
197	.$865	LDA #<CONST_5R
198	.$867	LDY #>CONST_5R
199	.$869	JSR COPY2_XYA_YREG
203	.$86c	LDA #<VAR_A[]
204	.$86e	LDY #>VAR_A[]
205	.$870	STA G_REG
206	.$872	STY G_REG+1
207	.$874	JSR ARRAYSTORE_REAL
208	.$877	LDA #<CONST_6R
209	.$879	LDY #>CONST_6R
210	.$87b	JSR COPY2_XYA_XREG
214	.$87e	LDA #<CONST_7R
215	.$880	LDY #>CONST_7R
216	.$882	JSR COPY2_XYA_YREG
220	.$885	LDA #<VAR_A[]
221	.$887	LDY #>VAR_A[]
222	.$889	STA G_REG
223	.$88b	STY G_REG+1
224	.$88d	JSR ARRAYSTORE_REAL
226	.$890	LINE_30:
228	.$890	JSR ONETOFAC
233	.$893	JSR FACRND
234	.$896	JSR FACXREG
235	.$899	LDY #3
236	.$89b	LDA #0
237	.$89d	STY A_REG
238	.$8a0	STA A_REG+1
239	.$8a3	JSR COPY_XREG2YREG
243	.$8a6	JSR SHL
244	.$8a9	JSR FACXREG
246	.$8ac	LDY #1
247	.$8ae	LDA #0
248	.$8b0	STY A_REG
249	.$8b3	STA A_REG+1
250	.$8b6	JSR YREGFAC
253	.$8b9	JSR SHL
255	.$8bc	LDA #<X_REG
256	.$8be	LDY #>X_REG
258	.$8c0	JSR FASTFADDMEM
264	.$8c3	JSR BASINT
265	.$8c6	JSR FACXREG
266	.$8c9	LDY #1
267	.$8cb	STY A_REG
269	.$8ce	JSR SHL
272	.$8d1	JSR PUSHREAL
273	.$8d4	JSR ONETOFAC
278	.$8d7	JSR FACRND
279	.$8da	JSR FACXREG
280	.$8dd	LDY #3
281	.$8df	LDA #0
282	.$8e1	STY A_REG
283	.$8e4	STA A_REG+1
284	.$8e7	JSR COPY_XREG2YREG
288	.$8ea	JSR SHL
289	.$8ed	JSR FACXREG
291	.$8f0	LDY #1
292	.$8f2	LDA #0
293	.$8f4	STY A_REG
294	.$8f7	STA A_REG+1
295	.$8fa	JSR YREGFAC
298	.$8fd	JSR SHL
300	.$900	LDA #<X_REG
301	.$902	LDY #>X_REG
303	.$904	JSR FASTFADDMEM
309	.$907	JSR BASINT
310	.$90a	JSR FACXREG
311	.$90d	LDY #6
312	.$90f	LDA #0
313	.$911	STY A_REG
314	.$914	STA A_REG+1
315	.$917	JSR COPY_XREG2YREG
319	.$91a	JSR SHL
320	.$91d	JSR FACXREG
322	.$920	LDY #4
323	.$922	LDA #0
324	.$924	STY A_REG
325	.$927	STA A_REG+1
326	.$92a	JSR YREGFAC
329	.$92d	JSR SHL
331	.$930	LDA #<X_REG
332	.$932	LDY #>X_REG
334	.$934	JSR FASTFADDMEM
337	.$937	JSR FACXREG
339	.$93a	LDA #<CONST_10
340	.$93c	LDY #>CONST_10
341	.$93e	JSR REALFAC
343	.$941	LDA #<X_REG
344	.$943	LDY #>X_REG
346	.$945	JSR FASTFADDMEM
349	.$948	JSR FACXREG
351	.$94b	JSR POPREAL2X
353	.$94e	JSR FASTFADDARG
358	.$951	JSR FACINT
359	.$954	STY VAR_A%
360	.$957	STA VAR_A%+1
362	.$95a	LINE_40:
364	.$95a	LDX #4
365	.$95c	dcloop733_1:
366	.$95c	LDA CONST_3R,X
367	.$95f	STA VAR_J,X
368	.$962	DEX
369	.$963	BPL dcloop733_1
371	.$965	LDA #<CONST_11R
372	.$967	LDY #>CONST_11R
373	.$969	JSR REALFACPUSH
375	.$96c	LDA #<CONST_3R
376	.$96e	LDY #>CONST_3R
377	.$970	JSR REALFACPUSH
379	.$973	LDA #<VAR_J
380	.$975	LDY #>VAR_J
381	.$977	STA A_REG
382	.$97a	STY A_REG+1
383	.$97d	LDA #<FORLOOP0
384	.$97f	STA JUMP_TARGET
385	.$981	LDA #>FORLOOP0
386	.$983	STA JUMP_TARGET+1
387	.$985	JSR INITFOR
388	.$988	FORLOOP0:
389	.$988	LDA #<CONST_12
390	.$98a	LDY #>CONST_12
391	.$98c	JSR STROUTBRKWL
394	.$98f	LDA #0
395	.$991	STA A_REG
396	.$994	STA A_REG+1
397	.$997	JSR NEXT
399	.$99a	LDA A_REG
400	.$99d	BNE RBEQ_0
401	.$99f	JMP (JUMP_TARGET)
403	.$9a2	RBEQ_0:
405	.$9a2	LINE_100:
407	.$9a2	LDY VAR_A%
408	.$9a5	LDA VAR_A%+1
409	.$9a8	STY MOVBSELF3+1
411	.$9ab	STA MOVBSELF3+2
412	.$9ae	LDA #$4
413	.$9b0	MOVBSELF3:
414	.$9b0	STA $FFFF
416	.$9b3	LINE_110:
418	.$9b3	JSR ONETOFAC
423	.$9b6	JSR FACRND
424	.$9b9	JSR FACXREG
425	.$9bc	LDY #2
426	.$9be	STY A_REG
428	.$9c1	JSR SHL
432	.$9c4	JSR FACINT
433	.$9c7	STY VAR_J%
434	.$9ca	STA VAR_J%+1
437	.$9cd	STY VAR_X%
438	.$9d0	STA VAR_X%+1
440	.$9d3	LINE_112:
442	.$9d3	LDY VAR_SM%
443	.$9d6	LDA VAR_SM%+1
444	.$9d9	STY TMP_ZP
445	.$9db	STA TMP_ZP+1
446	.$9dd	LDY VAR_S%
447	.$9e0	LDA VAR_S%+1
448	.$9e3	JSR ICMP
460	.$9e6	ROL
461	.$9e7	BCS GT_GT0
462	.$9e9	LDA #0
463	.$9eb	JMP GT_SKIP0
464	.$9ee	GT_GT0:
465	.$9ee	LDA #$1
466	.$9f0	GT_SKIP0:
467	.$9f0	COMP_SKP1:
468	.$9f0	BEQ LINE_SKIP4
471	.$9f2	LINE_NSKIP4:
473	.$9f2	LDY VAR_S%
474	.$9f5	LDA VAR_S%+1
476	.$9f8	STY VAR_SM%
477	.$9fb	STA VAR_SM%+1
478	.$9fe	LDY VAR_B%
479	.$a01	LDA VAR_B%+1
481	.$a04	STY VAR_FI%
482	.$a07	STA VAR_FI%+1
484	.$a0a	LINE_SKIP4:
487	.$a0a	LINE_120:
489	.$a0a	LDA #<VAR_A[]
490	.$a0c	LDY #>VAR_A[]
491	.$a0e	STA G_REG
492	.$a10	STY G_REG+1
493	.$a12	LDY VAR_J%
494	.$a15	LDA VAR_J%+1
495	.$a18	JSR ARRAYACCESS_REAL_INT
497	.$a1b	LDY VAR_A%
498	.$a1e	LDA VAR_A%+1
500	.$a21	JSR INTFAC
502	.$a24	LDA #<X_REG
503	.$a26	LDY #>X_REG
505	.$a28	JSR FASTFADDMEM
510	.$a2b	JSR FACINT
511	.$a2e	STY VAR_B%
512	.$a31	STA VAR_B%+1
514	.$a34	LINE_125:
516	.$a34	LDY VAR_B%
517	.$a37	LDA VAR_B%+1
518	.$a3a	STY MOVBSELF4+1
520	.$a3d	STA MOVBSELF4+2
521	.$a40	MOVBSELF4:
522	.$a40	LDA $FFFF
523	.$a43	CMP #160
524	.$a45	BCC PEEKLT0
525	.$a47	BEQ PEEKEQ0
526	.$a49	LDA #$FF
527	.$a4b	JMP PEEKDONE0
528	.$a4e	PEEKLT0:
529	.$a4e	LDA #$01
530	.$a50	JMP PEEKDONE0
531	.$a53	PEEKEQ0:
532	.$a53	LDA #0
533	.$a55	PEEKDONE0:
537	.$a55	BEQ EQ_EQ1
538	.$a57	LDA #0
539	.$a59	JMP EQ_SKIP1
540	.$a5c	EQ_EQ1:
541	.$a5c	LDA #$1
542	.$a5e	EQ_SKIP1:
543	.$a5e	COMP_SKP2:
544	.$a5e	BNE LINE_NSKIP5
546	.$a60	JMP LINE_SKIP5
548	.$a63	LINE_NSKIP5:
550	.$a63	LDY VAR_B%
551	.$a66	LDA VAR_B%+1
553	.$a69	STY MOVBSELF5+1
554	.$a6c	STA MOVBSELF5+2
560	.$a6f	LDY VAR_J%
561	.$a72	MOVBSELF5:
562	.$a72	STY $FFFF
573	.$a75	LDA #<VAR_A[]
574	.$a77	LDY #>VAR_A[]
575	.$a79	STA G_REG
576	.$a7b	STY G_REG+1
577	.$a7d	LDY VAR_J%
578	.$a80	LDA VAR_J%+1
579	.$a83	JSR ARRAYACCESS_REAL_INT
581	.$a86	LDY #1
582	.$a88	STY A_REG
583	.$a8b	JSR XREGFAC
584	.$a8e	JSR SHR
586	.$a91	JSR FACXREG
588	.$a94	LDY VAR_A%
589	.$a97	LDA VAR_A%+1
591	.$a9a	JSR INTFAC
593	.$a9d	LDA #<X_REG
594	.$a9f	LDY #>X_REG
596	.$aa1	JSR FASTFADDMEM
599	.$aa4	JSR FACINT
600	.$aa7	STY VAR_K%
601	.$aaa	STA VAR_K%+1
602	.$aad	STY MOVBSELF6+1
603	.$ab0	STA MOVBSELF6+2
613	.$ab3	LDA #$20
614	.$ab5	MOVBSELF6:
615	.$ab5	STA $FFFF
616	.$ab8	LDY VAR_B%
617	.$abb	LDA VAR_B%+1
619	.$abe	STY VAR_A%
620	.$ac1	STA VAR_A%+1
621	.$ac4	LDY VAR_S%
622	.$ac7	LDA VAR_S%+1
623	.$aca	JSR SUPERFIINX
625	.$acd	STY VAR_S%
626	.$ad0	STA VAR_S%+1
627	.$ad3	JMP LINE_110
629	.$ad6	LINE_SKIP5:
632	.$ad6	LINE_130:
634	.$ad6	LDY VAR_J%
635	.$ad9	LDA VAR_J%+1
636	.$adc	JSR SUPERFIINX
637	.$adf	AND #$00
638	.$ae1	TAX
639	.$ae2	TYA
640	.$ae3	AND #$03
641	.$ae5	TAY
642	.$ae6	TXA
651	.$ae7	STY VAR_J%
652	.$aea	STA VAR_J%+1
653	.$aed	LDY VAR_X%
654	.$af0	LDA VAR_X%+1
655	.$af3	STY TMP_ZP
656	.$af5	STA TMP_ZP+1
657	.$af7	LDY VAR_J%
658	.$afa	LDA VAR_J%+1
659	.$afd	JSR ICMP
671	.$b00	NEQ_NEQ2:
672	.$b00	NEQ_SKIP2:
673	.$b00	COMP_SKP3:
674	.$b00	BEQ LINE_SKIP6
675	.$b02	LINE_NSKIP6:
678	.$b02	JMP LINE_120
680	.$b05	LINE_SKIP6:
683	.$b05	LINE_140:
685	.$b05	LDY VAR_A%
686	.$b08	LDA VAR_A%+1
687	.$b0b	STY MOVBSELF7+1
689	.$b0e	STA MOVBSELF7+2
690	.$b11	MOVBSELF7:
691	.$b11	LDY $FFFF
692	.$b14	LDA #0
694	.$b16	STY VAR_J%
695	.$b19	STA VAR_J%+1
696	.$b1c	LDY VAR_A%
697	.$b1f	LDA VAR_A%+1
698	.$b22	STY MOVBSELF8+1
700	.$b25	STA MOVBSELF8+2
701	.$b28	LDA #$20
702	.$b2a	MOVBSELF8:
703	.$b2a	STA $FFFF
704	.$b2d	LDY VAR_S%
705	.$b30	LDA VAR_S%+1
706	.$b33	JSR SUPERFIDEX
708	.$b36	STY VAR_S%
709	.$b39	STA VAR_S%+1
710	.$b3c	LDA #$04
711	.$b3e	LDY #$00
712	.$b40	STA TMP_ZP
713	.$b42	STY TMP_ZP+1
714	.$b44	LDY VAR_J%
715	.$b47	LDA VAR_J%+1
716	.$b4a	JSR ICMP
728	.$b4d	BEQ LT_LT_EQ3
729	.$b4f	ROL
730	.$b50	BCC LT_LT3
731	.$b52	LT_LT_EQ3:
732	.$b52	LDA #0
733	.$b54	JMP LT_SKIP3
734	.$b57	LT_LT3:
735	.$b57	LDA #$1
736	.$b59	LT_SKIP3:
737	.$b59	COMP_SKP4:
738	.$b59	BNE LINE_NSKIP7
740	.$b5b	JMP LINE_SKIP7
742	.$b5e	LINE_NSKIP7:
744	.$b5e	LDA #<VAR_A[]
745	.$b60	LDY #>VAR_A[]
746	.$b62	STA G_REG
747	.$b64	STY G_REG+1
748	.$b66	LDY VAR_J%
749	.$b69	LDA VAR_J%+1
750	.$b6c	JSR ARRAYACCESS_REAL_INT
752	.$b6f	JSR COPY_XREG2YREG
756	.$b72	LDY VAR_A%
757	.$b75	LDA VAR_A%+1
759	.$b78	JSR INTFAC
760	.$b7b	JSR FACXREG
762	.$b7e	JSR YREGFAC
764	.$b81	LDA #<X_REG
765	.$b83	LDY #>X_REG
767	.$b85	JSR FASTFSUBMEM
772	.$b88	JSR FACINT
773	.$b8b	STY VAR_A%
774	.$b8e	STA VAR_A%+1
775	.$b91	JMP LINE_110
777	.$b94	LINE_SKIP7:
780	.$b94	LINE_150:
782	.$b94	LDY VAR_A%
783	.$b97	LDA VAR_A%+1
784	.$b9a	STY MOVBSELF9+1
786	.$b9d	STA MOVBSELF9+2
787	.$ba0	LDA #$1
788	.$ba2	MOVBSELF9:
789	.$ba2	STA $FFFF
790	.$ba5	LDY VAR_FI%
791	.$ba8	LDA VAR_FI%+1
792	.$bab	STY MOVBSELF10+1
794	.$bae	STA MOVBSELF10+2
795	.$bb1	LDA #$2
796	.$bb3	MOVBSELF10:
797	.$bb3	STA $FFFF
799	.$bb6	LINE_160:
801	.$bb6	JMP LINE_160
802	.$bb9	JSR END
803	.$bbc	RTS
806	.$bbd	END   LDX SP_SAVE
807	.$bc0	TXS
814	.$bc1	RTS
817	.$bc2	START  LDA ENDSTRBUF+1
818	.$bc5	BNE ENDGIVEN
819	.$bc7	LDA BASICEND
820	.$bc9	STA ENDSTRBUF
821	.$bcc	LDA BASICEND+1
822	.$bce	STA ENDSTRBUF+1
823	.$bd1	ENDGIVEN LDA #<FPSTACK
824	.$bd3	LDY #>FPSTACK
825	.$bd5	STA FPSTACKP
826	.$bd8	STY FPSTACKP+1
827	.$bdb	LDA #<FORSTACK
828	.$bdd	LDY #>FORSTACK
829	.$bdf	STA FORSTACKP
830	.$be2	STY FORSTACKP+1
831	.$be5	LDA #<STRBUF
832	.$be7	LDY #>STRBUF
833	.$be9	STA STRBUFP
834	.$bec	STY STRBUFP+1
835	.$bef	STA HIGHP
836	.$bf2	STY HIGHP+1
837	.$bf5	LDA #0
838	.$bf7	STA CHLOCKFLAG
839	.$bfa	STA LASTVAR
840	.$bfd	STA LASTVAR+1
841	.$c00	JSR INITVARS
842	.$c03	LDA #0
843	.$c05	STA CMD_NUM
844	.$c08	STA CHANNEL
845	.$c0b	TAY
846	.$c0c	TAX
850	.$c0d	STA KEYNDX
856	.$c0f	JSR RESTORE
857	.$c12	CLC
861	.$c13	RTS
864	.$c14	INITNARRAY
865	.$c14	STA TMP_ZP
866	.$c16	STY TMP_ZP+1
867	.$c18	LDY #0
868	.$c1a	TYA
869	.$c1b	NINITLOOP STA (TMP_ZP),Y
870	.$c1d	INC TMP_ZP
871	.$c1f	BNE NLOOPNOV
872	.$c21	INC TMP_ZP+1
873	.$c23	NLOOPNOV LDX TMP2_ZP
874	.$c25	BNE NLOOPNOV2
875	.$c27	DEC TMP2_ZP+1
876	.$c29	NLOOPNOV2 DEC TMP2_ZP
877	.$c2b	BNE NINITLOOP
878	.$c2d	LDX TMP2_ZP+1
879	.$c2f	BNE NINITLOOP
880	.$c31	RTS
883	.$c32	INITSTRARRAY
884	.$c32	STA TMP_ZP
885	.$c34	STY TMP_ZP+1
886	.$c36	SINITLOOP LDY #0
887	.$c38	LDA #<EMPTYSTR
888	.$c3a	STA (TMP_ZP),Y
889	.$c3c	LDA #>EMPTYSTR
890	.$c3e	INY
891	.$c3f	STA (TMP_ZP),Y
892	.$c41	CLC
893	.$c42	LDA TMP_ZP
894	.$c44	ADC #2
895	.$c46	STA TMP_ZP
896	.$c48	BCC SLOOPNOV1
897	.$c4a	INC TMP_ZP+1
898	.$c4c	SLOOPNOV1 SEC
899	.$c4d	LDA TMP2_ZP
900	.$c4f	SBC #2
901	.$c51	STA TMP2_ZP
902	.$c53	BCS SLOOPNOV2
903	.$c55	DEC TMP2_ZP+1
904	.$c57	SLOOPNOV2 LDA TMP2_ZP
905	.$c59	BNE SINITLOOP
906	.$c5b	LDA TMP2_ZP+1
907	.$c5d	BNE SINITLOOP
908	.$c5f	RTS
911	.$c60	INITSPARAMS STA TMP3_ZP
912	.$c62	STY TMP3_ZP+1
913	.$c64	SEC
914	.$c65	SBC #2
915	.$c67	STA TMP_ZP
916	.$c69	TYA
917	.$c6a	SBC #0
918	.$c6c	STA TMP_ZP+1
919	.$c6e	LDY #0
920	.$c70	LDA (TMP_ZP),Y
921	.$c72	STA TMP2_ZP
922	.$c74	INY
923	.$c75	LDA (TMP_ZP),Y
924	.$c77	STA TMP2_ZP+1
925	.$c79	LDA TMP3_ZP
926	.$c7b	LDY TMP3_ZP+1
927	.$c7d	RTS
930	.$c7e	INITSTRVARS LDA #<STRINGVARS_START  
931	.$c80	LDY #>STRINGVARS_START
932	.$c82	CMP #<STRINGVARS_END
933	.$c84	BNE INITIT1
934	.$c86	CPY #>STRINGVARS_END
935	.$c88	BNE INITIT1
936	.$c8a	JMP INITSA2     
937	.$c8d	INITIT1  STA TMP_ZP
938	.$c8f	STY TMP_ZP+1
939	.$c91	LDY #0
940	.$c93	INITSTRLOOP LDA #<EMPTYSTR
941	.$c95	STA (TMP_ZP),Y
942	.$c97	INY
943	.$c98	LDA #>EMPTYSTR
944	.$c9a	STA (TMP_ZP),Y
945	.$c9c	DEY
946	.$c9d	LDA TMP_ZP
947	.$c9f	CLC
948	.$ca0	ADC #2
949	.$ca2	STA TMP_ZP
950	.$ca4	LDA TMP_ZP+1
951	.$ca6	ADC #0
952	.$ca8	STA TMP_ZP+1
953	.$caa	CMP #>STRINGVARS_END
954	.$cac	BNE INITSTRLOOP
955	.$cae	LDA TMP_ZP
956	.$cb0	CMP #<STRINGVARS_END
957	.$cb2	BNE INITSTRLOOP
958	.$cb4	INITSA2  LDA #<STRINGARRAYS_START 
959	.$cb6	LDY #>STRINGARRAYS_START
960	.$cb8	CMP #<STRINGARRAYS_END
961	.$cba	BNE ARRAYLOOP
962	.$cbc	CPY #>STRINGARRAYS_END
963	.$cbe	BNE ARRAYLOOP
964	.$cc0	RTS       
965	.$cc1	ARRAYLOOP CLC
966	.$cc2	ADC #3
967	.$cc4	BCC ARRAYSKIP1
968	.$cc6	INY
969	.$cc7	ARRAYSKIP1 CPY #>STRINGARRAYS_END
970	.$cc9	BEQ ARRAYSC
971	.$ccb	BCC ARRAYSKIP2
972	.$ccd	JMP ARRAYQUIT
973	.$cd0	ARRAYSC  CMP #<STRINGARRAYS_END
974	.$cd2	BCS ARRAYQUIT
975	.$cd4	ARRAYSKIP2 STA TMP_REG
976	.$cd6	STY TMP_REG+1
977	.$cd8	JSR INITSPARAMS
978	.$cdb	LDA TMP_REG
979	.$cdd	LDY TMP_REG+1
980	.$cdf	JSR INITSTRARRAY
981	.$ce2	LDA TMP_ZP
982	.$ce4	LDY TMP_ZP+1
983	.$ce6	JMP ARRAYLOOP
984	.$ce9	ARRAYQUIT RTS
987	.$cea	RESTORE  LDA #<DATAS
988	.$cec	LDY #>DATAS
989	.$cee	STA DATASP
990	.$cf1	STY DATASP+1
991	.$cf4	RTS
994	.$cf5	REROUTE  LDA CMD_NUM  
995	.$cf8	BEQ REROUTECMD
996	.$cfa	TAX
997	.$cfb	STA CHANNEL
998	.$cfe	JMP CHKOUT
999	.$d01	REROUTECMD RTS
1002	.$d02	RESETROUTE LDA CMD_NUM  
1003	.$d05	BEQ RESETROUTECMD
1004	.$d07	JMP CLRCHNEW
1005	.$d0a	RESETROUTECMD
1006	.$d0a	RTS
1009	.$d0b	STROUTBRKWL STA A_REG
1010	.$d0e	STY A_REG+1
1011	.$d11	STROUTBRK JSR REROUTE
1012	.$d14	LDA A_REG
1013	.$d17	STA INDEX1
1014	.$d19	LDA A_REG+1
1015	.$d1c	STA INDEX1+1
1016	.$d1e	LDY #0
1017	.$d20	LDA (INDEX1),Y
1018	.$d22	TAX
1019	.$d23	INC INDEX1
1020	.$d25	BNE PRINTSTR2
1021	.$d27	INC INDEX1+1
1022	.$d29	PRINTSTR2 JSR PRINTSTRS
1023	.$d2c	LDA HIGHP   
1024	.$d2f	STA STRBUFP
1025	.$d32	LDA HIGHP+1
1026	.$d35	STA STRBUFP+1
1027	.$d38	LDA #$0D
1028	.$d3a	JSR CHROUT
1029	.$d3d	JMP RESETROUTE  
1032	.$d40	ARRAYACCESS_REAL_S
1033	.$d40	STA G_REG
1034	.$d42	STY G_REG+1
1035	.$d44	ARRAYACCESS_REAL
1036	.$d44	JSR XREGFAC
1037	.$d47	JSR FACINT
1038	.$d4a	ARRAYACCESS_REAL_INT
1039	.$d4a	LDX G_REG
1040	.$d4c	STX TMP_ZP
1041	.$d4e	LDX G_REG+1
1042	.$d50	STX TMP_ZP+1
1043	.$d52	STY TMP3_ZP
1044	.$d54	STA TMP3_ZP+1
1045	.$d56	TAX
1046	.$d57	TYA
1047	.$d58	ASL
1048	.$d59	TAY
1049	.$d5a	TXA
1050	.$d5b	ROL
1051	.$d5c	TAX
1052	.$d5d	TYA
1053	.$d5e	ASL
1054	.$d5f	STA TMP2_ZP
1055	.$d61	TXA
1056	.$d62	ROL
1057	.$d63	STA TMP2_ZP+1
1058	.$d65	LDA TMP_ZP
1059	.$d67	CLC
1060	.$d68	ADC TMP3_ZP
1061	.$d6a	STA TMP_ZP
1062	.$d6c	LDA TMP_ZP+1
1063	.$d6e	ADC TMP3_ZP+1
1064	.$d70	STA TMP_ZP+1
1065	.$d72	LDA TMP_ZP
1066	.$d74	CLC
1067	.$d75	ADC TMP2_ZP
1068	.$d77	STA TMP3_ZP
1069	.$d79	LDA TMP_ZP+1
1070	.$d7b	ADC TMP2_ZP+1
1071	.$d7d	STA TMP3_ZP+1
1072	.$d7f	JMP COPY2_XY_XREG
1075	.$d82	ARRAYSTORE_REAL
1076	.$d82	JSR XREGFAC
1077	.$d85	JSR FACINT
1078	.$d88	ARRAYSTORE_REAL_INT
1079	.$d88	LDX G_REG
1080	.$d8a	STX TMP_ZP
1081	.$d8c	LDX G_REG+1
1082	.$d8e	STX TMP_ZP+1
1083	.$d90	STY TMP3_ZP
1084	.$d92	STA TMP3_ZP+1
1085	.$d94	TAX
1086	.$d95	TYA
1087	.$d96	ASL
1088	.$d97	TAY
1089	.$d98	TXA
1090	.$d99	ROL
1091	.$d9a	TAX
1092	.$d9b	TYA
1093	.$d9c	ASL
1094	.$d9d	STA TMP2_ZP
1095	.$d9f	TXA
1096	.$da0	ROL
1097	.$da1	STA TMP2_ZP+1
1098	.$da3	LDA TMP_ZP
1099	.$da5	CLC
1100	.$da6	ADC TMP3_ZP
1101	.$da8	STA TMP_ZP
1102	.$daa	LDA TMP_ZP+1
1103	.$dac	ADC TMP3_ZP+1
1104	.$dae	STA TMP_ZP+1
1105	.$db0	LDA TMP_ZP
1106	.$db2	CLC
1107	.$db3	ADC TMP2_ZP
1108	.$db5	STA TMP_ZP
1109	.$db7	LDA TMP_ZP+1
1110	.$db9	ADC TMP2_ZP+1
1111	.$dbb	STA TMP_ZP+1
1112	.$dbd	JMP COPY2_YREG_XYA 
1115	.$dc0	ADJUSTSTACK LDA FORSTACKP 
1116	.$dc3	STA TMP_ZP
1117	.$dc5	LDA FORSTACKP+1
1118	.$dc8	STA TMP_ZP+1
1119	.$dca	ADSEARCHFOR LDA TMP_ZP
1120	.$dcc	CMP #<FORSTACK
1121	.$dce	BNE ADJUST2
1122	.$dd0	LDA TMP_ZP+1
1123	.$dd2	CMP #>FORSTACK
1124	.$dd4	BNE ADJUST2
1125	.$dd6	RTS    
1126	.$dd7	ADJUST2  LDA TMP_ZP
1127	.$dd9	SEC
1128	.$dda	SBC #2
1129	.$ddc	STA TMP_ZP
1130	.$dde	BCS ADNOPV1N1
1131	.$de0	DEC TMP_ZP+1
1132	.$de2	ADNOPV1N1 LDY #0
1133	.$de4	LDA (TMP_ZP),Y
1134	.$de6	BNE ADNOGOSUB
1135	.$de8	RTS    
1136	.$de9	ADNOGOSUB
1137	.$de9	INY
1138	.$dea	LDA TMP_ZP
1139	.$dec	SEC
1140	.$ded	SBC (TMP_ZP),Y
1141	.$def	STA TMP_ZP
1142	.$df1	BCS ADNOPV1N2
1143	.$df3	DEC TMP_ZP+1
1144	.$df5	ADNOPV1N2 DEY
1145	.$df6	LDA A_REG
1146	.$df9	ADCMPFOR CMP (TMP_ZP),Y
1147	.$dfb	BNE ADSEARCHFOR
1148	.$dfd	LDA A_REG+1
1149	.$e00	INY
1150	.$e01	CMP (TMP_ZP),Y
1151	.$e03	BEQ ADFOUNDFOR
1152	.$e05	JMP ADSEARCHFOR
1153	.$e08	ADLOW0  LDX A_REG+1
1154	.$e0b	BEQ ADFOUNDFOR
1155	.$e0d	BNE ADCMPFOR
1156	.$e0f	ADFOUNDFOR LDA TMP_ZP  
1157	.$e11	STA FORSTACKP
1158	.$e14	LDA TMP_ZP+1
1159	.$e16	STA FORSTACKP+1
1160	.$e19	RTS
1163	.$e1a	INITFOR  JSR ADJUSTSTACK
1164	.$e1d	LDA FORSTACKP
1165	.$e20	STA TMP_ZP
1166	.$e22	LDA FORSTACKP+1
1167	.$e25	STA TMP_ZP+1
1168	.$e27	LDY #0
1169	.$e29	LDA A_REG
1170	.$e2c	STA (TMP_ZP),Y
1171	.$e2e	INY
1172	.$e2f	LDA A_REG+1
1173	.$e32	STA (TMP_ZP),Y
1174	.$e34	INY
1175	.$e35	LDA JUMP_TARGET
1176	.$e37	STA (TMP_ZP),Y
1177	.$e39	INY
1178	.$e3a	LDA JUMP_TARGET+1
1179	.$e3c	STA (TMP_ZP),Y
1180	.$e3e	INY
1181	.$e3f	STY TMP3_ZP
1182	.$e41	JSR INCTMPZP
1183	.$e44	JSR POPREAL
1184	.$e47	LDX TMP_ZP
1185	.$e49	LDY TMP_ZP+1
1187	.$e4b	JSR FACMEM
1188	.$e4e	JSR SGNFAC
1189	.$e51	STA TMP_FLAG
1190	.$e54	LDY #5
1191	.$e56	STY TMP3_ZP
1192	.$e58	JSR INCTMPZP
1193	.$e5b	JSR POPREAL
1194	.$e5e	LDX TMP_ZP
1195	.$e60	LDY TMP_ZP+1
1197	.$e62	JSR FACMEM
1198	.$e65	LDY #5
1199	.$e67	STY TMP3_ZP
1200	.$e69	JSR INCTMPZP
1201	.$e6c	LDY #0
1202	.$e6e	LDA TMP_FLAG
1203	.$e71	STA (TMP_ZP),Y
1204	.$e73	INY
1205	.$e74	LDA #1
1206	.$e76	STA (TMP_ZP),Y
1207	.$e78	INY
1208	.$e79	LDA #15
1209	.$e7b	STA (TMP_ZP),Y
1210	.$e7d	LDY #3
1211	.$e7f	STY TMP3_ZP
1212	.$e81	JSR INCTMPZP
1213	.$e84	LDA TMP_ZP
1214	.$e86	STA FORSTACKP
1215	.$e89	LDA TMP_ZP+1
1216	.$e8b	STA FORSTACKP+1
1217	.$e8e	RTS
1220	.$e8f	NEXT  LDA FORSTACKP
1221	.$e92	STA TMP_ZP
1222	.$e94	LDA FORSTACKP+1
1223	.$e97	STA TMP_ZP+1
1224	.$e99	SEARCHFOR LDA TMP_ZP+1
1225	.$e9b	STA TMP3_REG+1
1226	.$e9e	LDA TMP_ZP
1227	.$ea0	STA TMP3_REG
1228	.$ea3	SEC
1229	.$ea4	SBC #2
1230	.$ea6	STA TMP_ZP
1231	.$ea8	BCS NOPV1N1
1232	.$eaa	DEC TMP_ZP+1
1233	.$eac	NOPV1N1  LDY #0
1234	.$eae	LDA (TMP_ZP),Y
1235	.$eb0	BNE NOGOSUB
1236	.$eb2	JMP NEXTWOFOR
1237	.$eb5	NOGOSUB
1238	.$eb5	INY
1239	.$eb6	LDA TMP_ZP
1240	.$eb8	SEC
1241	.$eb9	SBC (TMP_ZP),Y
1242	.$ebb	STA TMP_ZP
1243	.$ebd	BCS NOPV1N2
1244	.$ebf	DEC TMP_ZP+1
1245	.$ec1	NOPV1N2  DEY
1246	.$ec2	LDA A_REG
1247	.$ec5	BEQ LOW0
1248	.$ec7	CMPFOR  CMP (TMP_ZP),Y
1249	.$ec9	BNE SEARCHFOR
1250	.$ecb	LDA A_REG+1
1251	.$ece	INY
1252	.$ecf	CMP (TMP_ZP),Y
1253	.$ed1	BEQ FOUNDFOR
1254	.$ed3	JMP SEARCHFOR
1255	.$ed6	LOW0  LDX A_REG+1
1256	.$ed9	BEQ FOUNDFOR
1257	.$edb	BNE CMPFOR
1258	.$edd	FOUNDFOR LDA TMP_ZP
1259	.$edf	STA TMP2_REG
1260	.$ee2	LDA TMP_ZP+1
1261	.$ee4	STA TMP2_REG+1
1262	.$ee7	VARREAL
1263	.$ee7	LDY #0
1264	.$ee9	STY A_REG+1 
1265	.$eec	LDA (TMP_ZP),Y
1266	.$eee	TAX
1267	.$eef	INY
1268	.$ef0	LDA (TMP_ZP),Y
1269	.$ef2	TAY
1270	.$ef3	TXA
1271	.$ef4	JSR REALFAC
1272	.$ef7	CALCNEXT LDA TMP_ZP
1273	.$ef9	CLC
1274	.$efa	ADC #4
1275	.$efc	STA TMP_ZP
1276	.$efe	BCC NOPV2IN
1277	.$f00	INC TMP_ZP+1
1278	.$f02	NOPV2IN  STA TMP_REG
1279	.$f04	LDY TMP_ZP+1
1280	.$f06	STY TMP_REG+1
1281	.$f08	JSR FASTFADDMEM
1283	.$f0b	LDA TMP2_REG
1284	.$f0e	STA TMP_ZP
1285	.$f10	LDA TMP2_REG+1
1286	.$f13	STA TMP_ZP+1
1287	.$f15	STOREREAL
1288	.$f15	LDY #0
1289	.$f17	LDA (TMP_ZP),Y
1290	.$f19	TAX
1291	.$f1a	INY
1292	.$f1b	LDA (TMP_ZP),Y
1293	.$f1d	TAY
1294	.$f1e	JSR FACMEM 
1295	.$f21	CMPFORXX LDA #5
1296	.$f23	STA TMP3_ZP
1297	.$f25	LDA TMP_REG
1298	.$f27	CLC
1299	.$f28	ADC #5
1300	.$f2a	STA TMP_REG
1301	.$f2c	BCC NOPV3
1302	.$f2e	INC TMP_REG+1
1303	.$f30	NOPV3  LDY TMP_REG+1
1304	.$f32	JSR CMPFAC  
1305	.$f35	BEQ LOOPING
1306	.$f37	PHA
1307	.$f38	LDY #14
1308	.$f3a	LDA (TMP_ZP),Y
1309	.$f3c	BEQ STEPZERO
1310	.$f3e	ROL
1311	.$f3f	BCC STEPPOS
1312	.$f41	STEPNEG  PLA
1313	.$f42	ROL
1314	.$f43	BCC LOOPING
1315	.$f45	BCS EXITLOOP
1316	.$f47	STEPPOS  PLA
1317	.$f48	ROL
1318	.$f49	BCC EXITLOOP
1319	.$f4b	LOOPING  LDA TMP3_REG
1320	.$f4e	STA FORSTACKP
1321	.$f51	LDA TMP3_REG+1
1322	.$f54	STA FORSTACKP+1
1323	.$f57	LDA TMP2_REG
1324	.$f5a	CLC
1325	.$f5b	ADC #2
1326	.$f5d	STA TMP2_REG
1327	.$f60	BCC NOPV4IN
1328	.$f62	INC TMP2_REG+1
1329	.$f65	NOPV4IN  LDY #0
1330	.$f67	STY A_REG
1331	.$f6a	STA TMP_ZP
1332	.$f6c	LDA TMP2_REG+1
1333	.$f6f	STA TMP_ZP+1
1334	.$f71	LDA (TMP_ZP),Y
1335	.$f73	STA JUMP_TARGET
1336	.$f75	INY
1337	.$f76	LDA (TMP_ZP),Y
1338	.$f78	STA JUMP_TARGET+1
1339	.$f7a	RTS
1340	.$f7b	STEPZERO PLA
1341	.$f7c	JMP LOOPING
1342	.$f7f	EXITLOOP LDA TMP2_REG
1343	.$f82	STA FORSTACKP
1344	.$f85	LDA TMP2_REG+1
1345	.$f88	STA FORSTACKP+1
1346	.$f8b	LDA #1
1347	.$f8d	STA A_REG
1348	.$f90	RTS
1351	.$f91	REALFACPUSH STA TMP_ZP
1352	.$f93	STY TMP_ZP+1
1353	.$f95	LDX FPSTACKP
1354	.$f98	LDY FPSTACKP+1
1355	.$f9b	STX TMP2_ZP
1356	.$f9d	STY TMP2_ZP+1
1357	.$f9f	LDY #0
1358	.$fa1	LDA (TMP_ZP),Y
1359	.$fa3	STA (TMP2_ZP),Y
1360	.$fa5	INY
1361	.$fa6	LDA (TMP_ZP),Y
1362	.$fa8	STA (TMP2_ZP),Y
1363	.$faa	INY
1364	.$fab	LDA (TMP_ZP),Y
1365	.$fad	STA (TMP2_ZP),Y
1366	.$faf	INY
1367	.$fb0	LDA (TMP_ZP),Y
1368	.$fb2	STA (TMP2_ZP),Y
1369	.$fb4	INY
1370	.$fb5	LDA (TMP_ZP),Y
1371	.$fb7	STA (TMP2_ZP),Y
1372	.$fb9	TXA    
1373	.$fba	CLC
1374	.$fbb	ADC #5
1375	.$fbd	STA FPSTACKP
1376	.$fc0	BCC NOPVRFPXX
1377	.$fc2	INC FPSTACKP+1
1378	.$fc5	NOPVRFPXX RTS
1381	.$fc6	PUSHREAL LDX FPSTACKP
1382	.$fc9	LDY FPSTACKP+1
1383	.$fcc	JSR FACMEM
1384	.$fcf	LDA FPSTACKP
1385	.$fd2	CLC
1386	.$fd3	ADC #5
1387	.$fd5	STA FPSTACKP
1388	.$fd8	BCC NOPVPUR
1389	.$fda	INC FPSTACKP+1
1390	.$fdd	NOPVPUR  RTS
1393	.$fde	POPREAL2X LDA FPSTACKP
1394	.$fe1	SEC
1395	.$fe2	SBC #5
1396	.$fe4	STA FPSTACKP
1397	.$fe7	BCS NOPVPR2X
1398	.$fe9	DEC FPSTACKP+1
1399	.$fec	NOPVPR2X LDA FPSTACKP
1400	.$fef	LDY FPSTACKP+1
1401	.$ff2	JSR REALFAC
1402	.$ff5	JSR XREGARG
1403	.$ff8	RTS
1406	.$ff9	POPREAL  LDA FPSTACKP
1407	.$ffc	SEC
1408	.$ffd	SBC #5
1409	.$fff	STA FPSTACKP
1410	.$1002	BCS NOPVPR
1411	.$1004	DEC FPSTACKP+1
1412	.$1007	NOPVPR  LDA FPSTACKP
1413	.$100a	LDY FPSTACKP+1
1414	.$100d	JMP REALFAC
1417	.$1010	SHR   LDA FACEXP
1418	.$1012	BEQ SHROK
1419	.$1014	SEC
1420	.$1015	SBC A_REG
1421	.$1018	BCS SHROK
1422	.$101a	LDA #0
1423	.$101c	STA FACSGN
1424	.$101e	STA FACLO
1425	.$1020	STA FACMO
1426	.$1022	STA FACMOH
1427	.$1024	STA FACHO
1428	.$1026	SHROK  STA FACEXP
1429	.$1028	RTS
1432	.$1029	SHL   LDA FACEXP
1433	.$102b	BEQ SHLOK
1434	.$102d	CLC
1435	.$102e	ADC A_REG
1436	.$1031	BCC SHLOK
1437	.$1033	LDA #0
1438	.$1035	STA FACSGN
1439	.$1037	STA FACLO
1440	.$1039	STA FACMO
1441	.$103b	STA FACMOH
1442	.$103d	STA FACHO
1443	.$103f	LDA #$FF
1444	.$1041	SHLOK  STA FACEXP
1445	.$1043	RTS
1448	.$1044	INCTMPZP LDA TMP_ZP
1449	.$1046	CLC
1450	.$1047	ADC TMP3_ZP
1451	.$1049	STA TMP_ZP
1452	.$104b	BCC NOPV2
1453	.$104d	INC TMP_ZP+1
1454	.$104f	NOPV2  RTS
1457	.$1050	ICMP  STY TMP3_ZP
1458	.$1052	STA TMP3_ZP+1
1459	.$1054	LDA TMP_ZP+1
1460	.$1056	CMP TMP3_ZP+1
1461	.$1058	BNE ICMPNE2
1462	.$105a	LDA TMP_ZP
1463	.$105c	CMP TMP3_ZP
1464	.$105e	ICMPNE  BEQ ICMPEQ
1465	.$1060	BCS ICMPHIGHER
1466	.$1062	JMP ICMPLOWER
1467	.$1065	ICMPNE2  BPL ICMPHIGHER
1468	.$1067	JMP ICMPLOWER
1469	.$106a	ICMPEQ  LDA #0
1470	.$106c	RTS
1471	.$106d	ICMPLOWER LDA #$FF
1472	.$106f	SEC
1473	.$1070	RTS
1474	.$1071	ICMPHIGHER LDA #$01
1475	.$1073	CLC
1476	.$1074	RTS
1479	.$1075	COPY2_YREG_XYA
1480	.$1075	LDY #0
1481	.$1077	LDA Y_REG
1482	.$107a	STA (TMP_ZP),Y
1483	.$107c	INY
1484	.$107d	LDA Y_REG+1
1485	.$1080	STA (TMP_ZP),Y
1486	.$1082	INY
1487	.$1083	LDA Y_REG+2
1488	.$1086	STA (TMP_ZP),Y
1489	.$1088	INY
1490	.$1089	LDA Y_REG+3
1491	.$108c	STA (TMP_ZP),Y
1492	.$108e	INY
1493	.$108f	LDA Y_REG+4
1494	.$1092	STA (TMP_ZP),Y
1495	.$1094	RTS
1498	.$1095	COPY2_XYA_XREG
1499	.$1095	STA TMP3_ZP
1500	.$1097	STY TMP3_ZP+1
1501	.$1099	COPY2_XY_XREG
1502	.$1099	LDX #<X_REG  
1503	.$109b	LDY #0
1504	.$109d	LDA (TMP3_ZP),Y
1505	.$109f	STA X_REG
1506	.$10a1	INY
1507	.$10a2	LDA (TMP3_ZP),Y
1508	.$10a4	STA X_REG+1
1509	.$10a6	INY
1510	.$10a7	LDA (TMP3_ZP),Y
1511	.$10a9	STA X_REG+2
1512	.$10ab	INY
1513	.$10ac	LDA (TMP3_ZP),Y
1514	.$10ae	STA X_REG+3
1515	.$10b0	INY
1516	.$10b1	LDA (TMP3_ZP),Y
1517	.$10b3	STA X_REG+4
1518	.$10b5	RTS
1521	.$10b6	COPY2_XYA_YREG
1522	.$10b6	STA TMP3_ZP
1523	.$10b8	STY TMP3_ZP+1
1524	.$10ba	COPY2_XY_YREG
1525	.$10ba	LDX #<Y_REG  
1526	.$10bc	LDY #0
1527	.$10be	LDA (TMP3_ZP),Y
1528	.$10c0	STA Y_REG
1529	.$10c3	INY
1530	.$10c4	LDA (TMP3_ZP),Y
1531	.$10c6	STA Y_REG+1
1532	.$10c9	INY
1533	.$10ca	LDA (TMP3_ZP),Y
1534	.$10cc	STA Y_REG+2
1535	.$10cf	INY
1536	.$10d0	LDA (TMP3_ZP),Y
1537	.$10d2	STA Y_REG+3
1538	.$10d5	INY
1539	.$10d6	LDA (TMP3_ZP),Y
1540	.$10d8	STA Y_REG+4
1541	.$10db	RTS
1544	.$10dc	COPY_XREG2YREG
1545	.$10dc	LDA X_REG
1546	.$10de	STA Y_REG
1547	.$10e1	LDA X_REG+1
1548	.$10e3	STA Y_REG+1
1549	.$10e6	LDA X_REG+2
1550	.$10e8	STA Y_REG+2
1551	.$10eb	LDA X_REG+3
1552	.$10ed	STA Y_REG+3
1553	.$10f0	LDA X_REG+4
1554	.$10f2	STA Y_REG+4
1555	.$10f5	RTS
1558	.$10f6	ONETOFAC    LDX #129
1559	.$10f8	STX FAC
1560	.$10fa	DEX
1561	.$10fb	STX FAC+1
1562	.$10fd	LDX #0
1563	.$10ff	STX FAC+2
1564	.$1101	STX FAC+3
1565	.$1103	STX FAC+4
1566	.$1105	STX FAC+5
1567	.$1107	STX FAC+15
1568	.$1109	RTS
1571	.$110a	CLRCHNEW
1572	.$110a	LDA CHLOCKFLAG
1573	.$110d	BNE SKIPCLRCH
1574	.$110f	JMP CLRCH
1575	.$1112	SKIPCLRCH
1576	.$1112	RTS
1579	.$1113	SUPERFIINX INY
1580	.$1114	BNE SFIINXNOV
1581	.$1116	CLC
1582	.$1117	ADC #$1
1583	.$1119	CMP #$80
1584	.$111b	BNE SFIINXNOV
1585	.$111d	JMP ILLEGALQUANTITY
1586	.$1120	SFIINXNOV RTS
1589	.$1121	SUPERFIDEX CPY #0
1590	.$1123	BNE SUPERFIDEXNOV
1591	.$1125	SEC
1592	.$1126	SBC #$1
1593	.$1128	CMP #$7F
1594	.$112a	BNE SUPERFIDEXNOV
1595	.$112c	JMP ILLEGALQUANTITY
1596	.$112f	SUPERFIDEXNOV
1597	.$112f	DEY
1598	.$1130	RTS
1601	.$1131	NEXTWOFOR
1605	.$1131	LDX #$0A
1606	.$1133	JMP ERRALL
1609	.$1136	ILLEGALQUANTITY
1613	.$1136	JMP ERRIQ
1616	.$1139	FACXREG  LDA FACLO
1617	.$113b	STA X_REG+4
1618	.$113d	LDA FACMO
1619	.$113f	STA X_REG+3
1620	.$1141	LDA FACMOH
1621	.$1143	STA X_REG+2
1622	.$1145	LDA FACSGN
1623	.$1147	ORA #$7F
1624	.$1149	AND FACHO
1625	.$114b	STA X_REG+1
1626	.$114d	LDA FACEXP
1627	.$114f	STA X_REG
1628	.$1151	LDA #0   
1629	.$1153	STA FACOV
1630	.$1155	RTS
1633	.$1156	XREGFAC  LDA X_REG+4
1634	.$1158	STA FACLO
1635	.$115a	LDA X_REG+3
1636	.$115c	STA FACMO
1637	.$115e	LDA X_REG+2
1638	.$1160	STA FACMOH
1639	.$1162	LDA X_REG+1
1640	.$1164	STA FACSGN
1641	.$1166	ORA #$80
1642	.$1168	STA FACHO
1643	.$116a	LDA X_REG
1644	.$116c	STA FACEXP
1645	.$116e	LDA #0
1646	.$1170	STA FACOV
1647	.$1172	RTS
1650	.$1173	XREGARG  LDA X_REG+4
1651	.$1175	STA ARGLO
1652	.$1177	LDA X_REG+3
1653	.$1179	STA ARGMO
1654	.$117b	LDA X_REG+2
1655	.$117d	STA ARGMOH
1656	.$117f	LDA X_REG+1
1657	.$1181	STA ARGSGN
1658	.$1183	EOR FACSGN
1659	.$1185	STA ARISGN
1660	.$1187	LDA ARGSGN
1661	.$1189	ORA #$80
1662	.$118b	STA ARGHO
1663	.$118d	LDA X_REG
1664	.$118f	STA ARGEXP
1665	.$1191	LDA FACEXP
1666	.$1193	RTS
1669	.$1194	YREGFAC  LDA Y_REG+4
1670	.$1197	STA FACLO
1671	.$1199	LDA Y_REG+3
1672	.$119c	STA FACMO
1673	.$119e	LDA Y_REG+2
1674	.$11a1	STA FACMOH
1675	.$11a3	LDA Y_REG+1
1676	.$11a6	STA FACSGN
1677	.$11a8	ORA #$80
1678	.$11aa	STA FACHO
1679	.$11ac	LDA Y_REG
1680	.$11af	STA FACEXP
1681	.$11b1	LDA #0
1682	.$11b3	STA FACOV
1683	.$11b5	RTS
1797	.$11b6	FASTFSUBMEM
1798	.$11b6	JSR MEMARG
1799	.$11b9	FASTFSUBARG
1800	.$11b9	LDA FACSGN
1801	.$11bb	EOR #$FF
1802	.$11bd	STA FACSGN
1803	.$11bf	EOR ARGSGN
1804	.$11c1	STA ARISGN
1805	.$11c3	LDA FACEXP
1806	.$11c5	JMP FASTFADDARG
1809	.$11c8	FASTFADDMEM
1810	.$11c8	JSR MEMARG
1811	.$11cb	FASTFADDARG
1812	.$11cb	BNE FADDRET2     
1813	.$11cd	JMP ARGFAC
1814	.$11d0	FADDRET2 LDA ARGEXP
1815	.$11d2	BNE FADDRET1     
1816	.$11d4	RTS
1817	.$11d5	FADDRET1 SEC
1818	.$11d6	SBC FACEXP
1819	.$11d8	BEQ FFADD_EXPEQ     
1820	.$11da	BCC FFADD_SHFARG1   
1824	.$11dc	LDY ARGEXP
1825	.$11de	STY FACEXP
1826	.$11e0	LDY ARGSGN
1827	.$11e2	STY FACSGN
1828	.$11e4	LDX #0
1829	.$11e6	STX OLDOV        
1830	.$11e8	LDX #FAC         
1832	.$11ea	SEC
1833	.$11eb	SBC #$08
1834	.$11ed	BMI FFADD_SHFFAC2
1836	.$11ef	FFADD_SHFFAC1
1837	.$11ef	LDY FACLO        
1838	.$11f1	STY FACOV
1839	.$11f3	LDY FACMO        
1840	.$11f5	STY FACMO+1
1841	.$11f7	LDY FACMOH       
1842	.$11f9	STY FACMOH+1
1843	.$11fb	LDY FACHO        
1844	.$11fd	STY FACHO+1
1845	.$11ff	LDY #0
1846	.$1201	STY FACHO        
1847	.$1203	SBC #$08         
1848	.$1205	BPL FFADD_SHFFAC1   
1849	.$1207	FFADD_SHFFAC2
1850	.$1207	ADC #$08         
1851	.$1209	BEQ FFADD_SHFFAC4   
1852	.$120b	TAY
1853	.$120c	LDA FACOV
1854	.$120e	FFADD_SHFFAC3
1855	.$120e	LSR FACHO        
1856	.$1210	ROR FACMOH       
1857	.$1212	ROR FACMO        
1858	.$1214	ROR FACLO        
1859	.$1216	ROR              
1860	.$1217	DEY
1861	.$1218	BNE FFADD_SHFFAC3
1862	.$121a	JMP FFADD_MANADD2   
1863	.$121d	FFADD_SHFFAC4
1864	.$121d	LDA FACOV        
1865	.$121f	JMP FFADD_MANADD2
1866	.$1222	FFADD_EXPEQ
1867	.$1222	LDX FACOV
1868	.$1224	STX OLDOV
1871	.$1226	JMP FFADD_MANADD1
1872	.$1229	FFADD_SHFARG2
1873	.$1229	LDA FACOV        
1874	.$122b	JMP FFADD_MANADD1
1875	.$122e	FFADD_SHFARG1
1876	.$122e	LDX FACOV
1877	.$1230	STX OLDOV        
1878	.$1232	LDX #$00         
1881	.$1234	ADC #$08
1882	.$1236	BPL FFADD_SHFARG6   
1883	.$1238	FFADD_SHFARG3
1884	.$1238	LDX ARGLO        
1885	.$123a	LDY ARGMO        
1886	.$123c	STY ARGMO+1
1887	.$123e	LDY ARGMOH       
1888	.$1240	STY ARGMOH+1
1889	.$1242	LDY ARGHO        
1890	.$1244	STY ARGHO+1
1891	.$1246	LDY #0
1892	.$1248	STY ARGHO        
1893	.$124a	FFADD_SHFARG4
1894	.$124a	ADC #$08
1895	.$124c	BMI FFADD_SHFARG3
1896	.$124e	BEQ FFADD_SHFARG3
1897	.$1250	FFADD_SHFARG6
1898	.$1250	SBC #$08
1899	.$1252	BEQ FFADD_SHFARG2   
1900	.$1254	TAY
1901	.$1255	TXA              
1902	.$1256	FFADD_SHFARG5
1903	.$1256	LSR ARGHO
1904	.$1258	ROR ARGMOH
1905	.$125a	ROR ARGMO
1906	.$125c	ROR ARGLO
1907	.$125e	ROR           
1908	.$125f	INY
1909	.$1260	BNE FFADD_SHFARG5
1910	.$1262	FFADD_MANADD1
1911	.$1262	LDX #ARGEXP      
1912	.$1264	FFADD_MANADD2
1913	.$1264	BIT ARISGN
1914	.$1266	BMI FFADD_MANSUB1   
1915	.$1268	CLC
1916	.$1269	ADC OLDOV
1917	.$126b	STA FACOV
1918	.$126d	LDA FACLO
1919	.$126f	ADC ARGLO
1920	.$1271	STA FACLO
1921	.$1273	LDA FACMO
1922	.$1275	ADC ARGMO
1923	.$1277	STA FACMO
1924	.$1279	LDA FACMOH
1925	.$127b	ADC ARGMOH
1926	.$127d	STA FACMOH
1927	.$127f	LDA FACHO
1928	.$1281	ADC ARGHO
1929	.$1283	STA FACHO
1930	.$1285	BCC FFADD_RNDRTS
1931	.$1287	INC FACEXP
1932	.$1289	BEQ FFADD_OVERR
1934	.$128b	ROR FACHO
1935	.$128d	ROR FACMOH
1936	.$128f	ROR FACMO
1937	.$1291	ROR FACLO
1938	.$1293	ROR FACOV
1939	.$1295	FFADD_RNDRTS
1940	.$1295	RTS
1941	.$1296	FFADD_OVERR
1942	.$1296	JMP ILLEGALQUANTITY
1943	.$1299	FFADD_MANSUB1
1944	.$1299	LDY #FACEXP
1945	.$129b	CPX #ARGEXP
1946	.$129d	BEQ FFADD_MANSUB2
1947	.$129f	LDY #ARGEXP
1948	.$12a1	FFADD_MANSUB2
1949	.$12a1	SEC              
1950	.$12a2	EOR #$FF
1951	.$12a4	ADC OLDOV
1952	.$12a6	STA FACOV
1953	.$12a8	LDA 4,Y
1954	.$12ab	SBC 4,X
1955	.$12ad	STA FACLO
1956	.$12af	LDA 3,Y
1957	.$12b2	SBC 3,X
1958	.$12b4	STA FACMO
1959	.$12b6	LDA 2,Y
1960	.$12b9	SBC 2,X
1961	.$12bb	STA FACMOH
1962	.$12bd	LDA 1,Y
1963	.$12c0	SBC 1,X
1964	.$12c2	STA FACHO
1965	.$12c4	BCS FCNORMAL
1966	.$12c6	LDA FACSGN
1967	.$12c8	EOR #$FF
1968	.$12ca	STA FACSGN
1969	.$12cc	LDA FACHO
1970	.$12ce	EOR #$FF
1971	.$12d0	STA FACHO
1972	.$12d2	LDA FACMOH
1973	.$12d4	EOR #$FF
1974	.$12d6	STA FACMOH
1975	.$12d8	LDA FACMO
1976	.$12da	EOR #$FF
1977	.$12dc	STA FACMO
1978	.$12de	LDA FACLO
1979	.$12e0	EOR #$FF
1980	.$12e2	STA FACLO
1981	.$12e4	LDA FACOV
1982	.$12e6	EOR #$FF
1983	.$12e8	CLC
1984	.$12e9	ADC #1
1985	.$12eb	STA FACOV
1986	.$12ed	BNE FCNORMAL
1987	.$12ef	INC FACLO
1988	.$12f1	BNE FCNORMAL
1989	.$12f3	INC FACMO
1990	.$12f5	BNE FCNORMAL
1991	.$12f7	INC FACMOH
1992	.$12f9	BNE FCNORMAL
1993	.$12fb	INC FACHO
1994	.$12fd	FCNORMAL   BIT FACHO
1995	.$12ff	BMI FFADD_RET       
1996	.$1301	LDA #0           
1997	.$1303	CLC
1998	.$1304	FFADD_NORM3
1999	.$1304	LDX FACHO
2000	.$1306	BNE FFADD_NORM1
2001	.$1308	LDX FACHO+1
2002	.$130a	STX FACHO
2003	.$130c	LDX FACMOH+1
2004	.$130e	STX FACMOH
2005	.$1310	LDX FACMO+1
2006	.$1312	STX FACMO
2007	.$1314	LDX FACOV
2008	.$1316	STX FACLO
2009	.$1318	LDX #0
2010	.$131a	STX FACOV
2011	.$131c	ADC #$08
2012	.$131e	CMP #$20
2013	.$1320	BNE FFADD_NORM3
2014	.$1322	JMP FFADD_ZEROFAC
2015	.$1325	FFADD_NORM2
2016	.$1325	CLC
2017	.$1326	ADC #1
2018	.$1328	ASL FACOV
2019	.$132a	ROL FACLO
2020	.$132c	ROL FACMO
2021	.$132e	ROL FACMOH
2022	.$1330	ROL FACHO
2023	.$1332	FFADD_NORM1
2024	.$1332	BPL FFADD_NORM2     
2025	.$1334	SEC
2026	.$1335	SBC FACEXP
2027	.$1337	BCS FFADD_ZEROFAC
2028	.$1339	EOR #$FF
2029	.$133b	CLC
2030	.$133c	ADC #1
2031	.$133e	STA FACEXP
2032	.$1340	FFADD_RET   RTS
2033	.$1341	FFADD_ZEROFAC
2034	.$1341	LDX #0
2035	.$1343	STX FACEXP
2036	.$1345	STX FACSGN
2037	.$1347	RTS
2040	.$1348	INITVARS
2041	.$1348	JSR INITSTRVARS
2042	.$134b	LDA #0
2043	.$134d	LDY #4
2044	.$134f	REALINITLOOP0:
2045	.$134f	STA VAR_J,Y
2046	.$1352	DEY
2047	.$1353	BMI REALLOOPEXIT0
2048	.$1355	JMP REALINITLOOP0
2049	.$1358	REALLOOPEXIT0:
2050	.$1358	LDA #<VAR_A[]
2051	.$135a	LDY #>VAR_A[]
2052	.$135c	JSR INITSPARAMS
2053	.$135f	JSR INITNARRAY
2054	.$1362	LDA #0
2055	.$1364	STA VAR_A%
2056	.$1367	STA VAR_A%+1
2057	.$136a	STA VAR_J%
2058	.$136d	STA VAR_J%+1
2059	.$1370	STA VAR_X%
2060	.$1373	STA VAR_X%+1
2061	.$1376	STA VAR_SM%
2062	.$1379	STA VAR_SM%+1
2063	.$137c	STA VAR_S%
2064	.$137f	STA VAR_S%+1
2065	.$1382	STA VAR_B%
2066	.$1385	STA VAR_B%+1
2067	.$1388	STA VAR_FI%
2068	.$138b	STA VAR_FI%+1
2069	.$138e	STA VAR_K%
2070	.$1391	STA VAR_K%+1
2071	.$1394	RTS
2075	.$1395	CONSTANTS
2077	.$1395	CONST_0 .BYTE 7
2078	.$1396	.STRG "{clear}"
2081	.$1397	CONST_1R .REAL 0.0
2084	.$139c	CONST_2 .REAL -2.0
2087	.$13a1	CONST_3R .REAL 1.0
2090	.$13a6	CONST_4 .REAL -80.0
2093	.$13ab	CONST_5R .REAL 2.0
2096	.$13b0	CONST_6R .REAL 3.0
2099	.$13b5	CONST_7R .REAL 80.0
2108	.$13ba	CONST_10 .REAL 1105.0
2111	.$13bf	CONST_11R .REAL 23.0
2113	.$13c4	CONST_12 .BYTE 22
2114	.$13c5	.STRG "{reverse on}{space*39}"
2123	.$13ed	DATAS
2124	.$13ed	.BYTE $FF
2126	.$13ee	CONSTANTS_END
2129	.$13ee	VARIABLES
2131	.$13ee	.BYTE 1
2132	.$13ef	.WORD 55
2133	.$13f1	VAR_A[] .ARRAY 55
2135	.$1428	VAR_A% .WORD 0
2137	.$142a	VAR_J .REAL 0.0
2139	.$142f	VAR_J% .WORD 0
2141	.$1431	VAR_X% .WORD 0
2143	.$1433	VAR_SM% .WORD 0
2145	.$1435	VAR_S% .WORD 0
2147	.$1437	VAR_B% .WORD 0
2149	.$1439	VAR_FI% .WORD 0
2151	.$143b	VAR_K% .WORD 0
2152	.$143d	STRINGVARS_START
2154	.$143d	VAR_TI$ .WORD EMPTYSTR
2155	.$143f	STRINGVARS_END
2156	.$143f	STRINGARRAYS_START
2157	.$143f	STRINGARRAYS_END
2158	.$143f	VARIABLES_END
2160	.$143f	Y_REG .REAL 0.0
2161	.$1444	C_REG .REAL 0.0
2162	.$1449	D_REG .REAL 0.0
2163	.$144e	E_REG .REAL 0.0
2164	.$1453	F_REG .REAL 0.0
2165	.$1458	A_REG .WORD 0
2166	.$145a	B_REG .WORD 0
2167	.$145c	CMD_NUM .BYTE 0
2168	.$145d	CHANNEL .BYTE 0
2169	.$145e	SP_SAVE .BYTE 0
2170	.$145f	TMP2_REG .WORD 0
2171	.$1461	TMP3_REG .WORD 0
2172	.$1463	TMP4_REG .WORD 0
2173	.$1465	AS_TMP .WORD 0
2174	.$1467	BPOINTER_TMP .WORD 0
2175	.$1469	BASICTEXTP .BYTE 0
2176	.$146a	STORE1 .WORD 0
2177	.$146c	STORE2 .WORD 0
2178	.$146e	STORE3 .WORD 0
2179	.$1470	STORE4 .WORD 0
2180	.$1472	GCSTART .WORD 0
2181	.$1474	GCLEN .WORD 0
2182	.$1476	GCWORK .WORD 0
2183	.$1478	INPUTLENGTH .BYTE 0
2184	.$1479	TMP_FREG .REAL 0
2185	.$147e	TMP2_FREG .REAL 0
2186	.$1483	TMP_FLAG .BYTE 0
2187	.$1484	INT_FLAG .BYTE 0
2188	.$1485	REAL_CONST_ONE .REAL 1.0
2189	.$148a	REAL_CONST_ZERO .REAL 0.0
2190	.$148f	REAL_CONST_MINUS_ONE .REAL -1.0
2191	.$1494	CHLOCKFLAG .BYTE 0
2192	.$1495	EMPTYSTR .BYTE 0
2193	.$1496	FPSTACKP .WORD FPSTACK
2194	.$1498	FORSTACKP .WORD FORSTACK
2195	.$149a	DATASP .WORD DATAS
2196	.$149c	LASTVAR .WORD 0
2197	.$149e	LASTVARP .WORD 0
2198	.$14a0	HIGHP .WORD STRBUF
2199	.$14a2	STRBUFP .WORD STRBUF
2200	.$14a4	ENDSTRBUF .WORD 0
2201	.$14a6	INPUTQUEUEP .BYTE 0
2202	.$14a7	PROGRAMEND
2203	.$14a7	INPUTQUEUE .ARRAY $0F
2204	.$14b6	FPSTACK .ARRAY 100
2205	.$151a	FORSTACK .ARRAY 340
2206	.$166e	STRBUF .BYTE 0
