PROGRAMSTART:
JSR START
0:
1:
NOP
2:
NOP
6:
NOP
8:
NOP
9:
NOP
10:
20:
30:
40:
50:
60:
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
70:
NOP
JSR GOSUB
JSR 30000
80:
NOP
JSR COMPACTMAX
MOV Y,#14{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
1000:
NOP
MOV Y,#49152{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#49256{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
1010:
NOP
JSR READNUMBER
MOV X{REAL},Y
NOP
MOV Y,I{REAL}
PUSH Y
MOV X,X{REAL}
POP Y
MOVB (Y),X
NOP
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
1020:
NOP
1030:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#12{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
MOV Y,N{REAL}
PUSH Y
JSR READSTR
POP X
MOV G,MO$[]{STRING}
JSR ARRAYSTORE
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
1040:
NOP
1050:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
MOV Y,#16{INTEGER}
PUSH Y
MOV Y,N{REAL}
INT X,Y
POP Y
ADD X,Y
PUSH X
JSR READSTR
POP X
MOV G,PU$[]{STRING}
JSR ARRAYSTORE
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
1060:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
MOV Y,#32{INTEGER}
PUSH Y
MOV Y,N{REAL}
INT X,Y
POP Y
ADD X,Y
PUSH X
NOP
JSR COMPACTMAX
MOV Y,#16{INTEGER}
PUSH Y
MOV Y,N{REAL}
INT X,Y
POP Y
ADD X,Y
CHGCTX #1
MOV G,PU$[]{STRING}
JSR ARRAYACCESS
MOV B,A
MOV A,#{reverse on}{STRING}
JSR CONCAT
JSR COPYSTR
POP X
MOV G,PU$[]{STRING}
JSR ARRAYSTORE
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
1070:
NOP
2000:
NOP
MOVB 53281,#0{INTEGER}
NOP
MOVB 53280,#0{INTEGER}
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
JSR COMPACTMAX
MOV Y,#14{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
2010:
NOP
MOV A,#{cyan}{down*3}{right*2}Wollen Sie eine Datei laden (J/N){STRING}
JSR STROUT
JSR LINEBREAK
2030:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
JMP 2030
NOP
SKIP0:
2040:
NOP
MOV B,#j{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
JMP 10110
NOP
NOP
SKIP1:
2041:
NOP
2050:
NOP
MOV A,#{up}{right*2}Wollen Sie das Directory sehen (J/N){STRING}
JSR STROUT
JSR LINEBREAK
2060:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP2
JMP SKIP2
NSKIP2:
JMP 2060
NOP
SKIP2:
2070:
NOP
MOV B,#j{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP3
JMP SKIP3
NSKIP3:
JMP 10010
NOP
NOP
SKIP3:
2080:
NOP
MOV A,#{up}{right*2}{space*4}Wollen Sie eine Gesamtsumme{space*5}{STRING}
JSR STROUT
JSR LINEBREAK
2090:
NOP
MOV A,#{down}{right*2}von mehreren Monaten erstellen (J/N){STRING}
JSR STROUT
JSR LINEBREAK
2100:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP4
JMP SKIP4
NSKIP4:
JMP 2100
NOP
SKIP4:
2110:
NOP
MOV B,#j{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP5
JMP SKIP5
NSKIP5:
JMP 10510
NOP
NOP
SKIP5:
2111:
NOP
2120:
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
2130:
NOP
MOV A,#{down*3}{right*2}Wollen Sie das Programm beenden (J/N){STRING}
JSR STROUT
JSR LINEBREAK
2140:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP6
JMP SKIP6
NSKIP6:
JMP 2140
NOP
SKIP6:
2150:
NOP
MOV B,#j{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP7
JMP SKIP7
NSKIP7:
JMP 10810
NOP
NOP
SKIP7:
2151:
NOP
2160:
NOP
MOV A,#{clear}{space*15}{reverse on}{purple}HAUSHALT{cyan}{STRING}
JSR STROUT
JSR LINEBREAK
2170:
NOP
2180:
NOP
MOV A,#{down*2}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
JSR COMPACTMAX
MOV Y,#14{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
NOP
MOV B,#1{STRING}
MOV A${STRING},B
NOP
MOV Y,#2{INTEGER}
MOV PU{REAL},Y
2185:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
MOV A,#....................{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
2186:
NOP
MOV A,#{home}{down*4}{STRING}
JSR STROUT
JSR LINEBREAK
2190:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
MOV Y,#16{INTEGER}
PUSH Y
MOV Y,N{REAL}
INT X,Y
POP Y
ADD X,Y
CHGCTX #1
MOV G,PU$[]{STRING}
JSR ARRAYACCESS
JSR STROUT
JSR LINEBREAK
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
2191:
NOP
MOV A,#{home}{down*4}{STRING}
JSR STROUT
JSR LINEBREAK
2192:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
MOV Y,#20{INTEGER}
CHGCTX #1
JSR TAB
NOP
MOV X,N{REAL}
CHGCTX #1
MOV G,GS$[]{STRING}
JSR ARRAYACCESS
JSR STROUT
JSR LINEBREAK
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
2200:
NOP
MOV A,#{down}{right}Cursorbewegung mit <CRSR UP/DOWN>{STRING}
JSR STROUT
JSR LINEBREAK
2205:
NOP
MOV A,#{right}'RETURN' fuer Eingabe{STRING}
JSR STROUT
JSR LINEBREAK
2210:
NOP
MOV A,#{right}'S' fuer Sonstiges (z.B. GESAMTSUMMEN){STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV A,#{home}{down*6}{STRING}
JSR STROUT
JSR LINEBREAK
2220:
NOP
2229:
NOP
MOV B,#1{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP8
JMP SKIP8
NSKIP8:
JMP 2235
NOP
SKIP8:
2230:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP9
JMP SKIP9
NSKIP9:
JMP 2230
NOP
SKIP9:
2235:
NOP
JSR COMPACTMAX
MOV Y,#13{INTEGER}
CHGCTX #1
JSR CHR
MOV B,A
MOV A,A${STRING}
CHGCTX #0
JSR SNEQ
CMP X,#0{REAL}
JNE NSKIP10
JMP SKIP10
NSKIP10:
NOP
MOV A,#{up}{STRING}
JSR STROUT
NOP
MOV Y,#16{INTEGER}
PUSH Y
MOV Y,PU{REAL}
INT X,Y
POP Y
ADD X,Y
CHGCTX #1
MOV G,PU$[]{STRING}
JSR ARRAYACCESS
JSR STROUT
JSR LINEBREAK
NOP
SKIP10:
2240:
NOP
JSR COMPACTMAX
MOV Y,#17{INTEGER}
CHGCTX #1
JSR CHR
MOV B,A
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP11
JMP SKIP11
NSKIP11:
NOP
MOV Y,#1{INTEGER}
MOV X,PU{REAL}
ADD X,Y
MOV PU{REAL},X
NOP
SKIP11:
2250:
NOP
JSR COMPACTMAX
MOV Y,#145{INTEGER}
CHGCTX #1
JSR CHR
MOV B,A
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP12
JMP SKIP12
NSKIP12:
NOP
MOV Y,#1{INTEGER}
MOV X,PU{REAL}
SUB X,Y
MOV PU{REAL},X
NOP
SKIP12:
2260:
NOP
JSR COMPACTMAX
MOV Y,#13{INTEGER}
CHGCTX #1
JSR CHR
MOV B,A
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP13
JMP SKIP13
NSKIP13:
JSR GOSUB
JSR 5000
NOP
SKIP13:
2261:
NOP
MOV Y,#15{INTEGER}
MOV X,PU{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP14
JMP SKIP14
NSKIP14:
NOP
MOV Y,#1{INTEGER}
MOV PU{REAL},Y
NOP
SKIP14:
2262:
NOP
MOV Y,#1{INTEGER}
MOV X,PU{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP15
JMP SKIP15
NSKIP15:
NOP
MOV Y,#15{INTEGER}
MOV PU{REAL},Y
NOP
SKIP15:
2263:
NOP
MOV B,#s{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP16
JMP SKIP16
NSKIP16:
JMP 15010
NOP
SKIP16:
2270:
NOP
MOV A,#{home}{STRING}
JSR STROUT
JSR LINEBREAK
2286:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#3{INTEGER}
MOV X,PU{REAL}
ADD X,Y
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
MOV A,#{down}{STRING}
JSR STROUT
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
2290:
NOP
MOV Y,#32{INTEGER}
PUSH Y
MOV Y,PU{REAL}
INT X,Y
POP Y
ADD X,Y
CHGCTX #1
MOV G,PU$[]{STRING}
JSR ARRAYACCESS
JSR STROUT
JSR LINEBREAK
2300:
NOP
JMP 2230
5000:
NOP
MOV A,#{home}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV B,#{STRING}
MOV SU${STRING},B
5010:
NOP
INPUT0:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down*2}{yellow}SUMMENEINGABE{cyan}{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP1
MOV SU${STRING},A
EMPTYINPUTSKIP1:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK0
JSR EXTRAIGNORED
INPUTCHECK0:
NOP
JSR LINEBREAK
5011:
NOP
MOVB X,1184
MOV Y,#32{INTEGER}
NEQ X,Y
CMP X,#0{REAL}
JNE NSKIP17
JMP SKIP17
NSKIP17:
NOP
MOV Y,#1{INTEGER}
MOV V{REAL},Y
NOP
SKIP17:
5012:
NOP
MOV A,#{up*2}{space*15}{up}{left*2}{space*23}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV Y,#1{INTEGER}
MOV X,V{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP18
JMP SKIP18
NSKIP18:
NOP
MOV Y,#0{INTEGER}
MOV V{REAL},Y
JMP 5000
NOP
SKIP18:
5013:
NOP
JMP 12000
5014:
NOP
MOV B,SU${STRING}
CHGCTX #0
JSR VAL
MOV SU{REAL},X
5020:
NOP
MOV Y,PU{REAL}
PUSH Y
NOP
MOV X,PU{REAL}
MOV G,GS[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,SU{REAL}
ADD X,Y
MOV Y,X
POP X
MOV G,GS[]{REAL}
JSR ARRAYSTORE
5025:
NOP
MOV A,#{home}{down*3}{space*35}{STRING}
JSR STROUT
JSR LINEBREAK
5030:
NOP
MOV A,#{home}{down*4}{STRING}
JSR STROUT
JSR LINEBREAK
5035:
NOP
MOV X,PU{REAL}
MOV G,GS[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y{REAL},X
NOP
JSR GOSUB
JSR 20000
NOP
MOV Y,PU{REAL}
PUSH Y
NOP
MOV A,Y${STRING}
POP X
MOV G,GS$[]{STRING}
JSR ARRAYSTORE
5040:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
MOV Y,#20{INTEGER}
CHGCTX #1
JSR TAB
NOP
MOV X,N{REAL}
CHGCTX #1
MOV G,GS$[]{STRING}
JSR ARRAYACCESS
JSR STROUT
JSR LINEBREAK
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
5050:
NOP
JMP RETURN
9999:
NOP
JSR END
RTS
10000:
NOP
10010:
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
10020:
NOP
JSR $c000
10030:
NOP
MOV A,#{down}Taste{STRING}
JSR STROUT
JSR LINEBREAK
10040:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP19
JMP SKIP19
NSKIP19:
JMP 10040
NOP
SKIP19:
10050:
NOP
MOV Y,#0{INTEGER}
MOV X,OK{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP20
JMP SKIP20
NSKIP20:
JMP 2000
NOP
SKIP20:
10051:
NOP
JMP 2160
10055:
NOP
MOV Y,#0{INTEGER}
MOV OK{REAL},Y
NOP
JMP 2160
10060:
NOP
10100:
NOP
10110:
NOP
JSR COMPACTMAX
MOV Y,#142{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
10120:
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
10130:
NOP
MOV A,#{space*7}{reverse on}unterroutine datei laden{STRING}
JSR STROUT
JSR LINEBREAK
10140:
NOP
INPUT1:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down*2}dateiname{space*2}(monat){STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP2
MOV MO${STRING},A
EMPTYINPUTSKIP2:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK1
JSR EXTRAIGNORED
INPUTCHECK1:
10150:
NOP
INPUT2:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down*2}jahr z.b. 1986{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP3
MOV J${STRING},A
EMPTYINPUTSKIP3:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK2
JSR EXTRAIGNORED
INPUTCHECK2:
10170:
NOP
MOV Y,#2{INTEGER}
PUSH Y
MOV Y,#8{INTEGER}
PUSH Y
MOV Y,#2{INTEGER}
PUSH Y
JSR COMPACTMAX
MOV B,# {STRING}
MOV A,MO${STRING}
JSR CONCAT
MOV B,J${STRING}
JSR CONCAT
MOV B,#,s,r{STRING}
JSR CONCAT
MOV G,A
POP D
POP C
POP X
MOV Y,#4{INTEGER}
JSR OPEN
10180:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
10190:
NOP
MOV Y,#2{INTEGER}
PUSH Y
JSR CLEARQUEUE
JSR COMPACTMAX
POP C
JSR INPUTNUMBERCHANNEL
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP4
MOV Z{REAL},Y
EMPTYINPUTSKIP4:
10200:
NOP
MOV Y,N{REAL}
PUSH Y
NOP
POP X
MOV Y,Z{REAL}
MOV G,GS[]{REAL}
JSR ARRAYSTORE
NOP
MOV Y,#0{INTEGER}
MOV Z{REAL},Y
10210:
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
10221:
NOP
10230:
NOP
MOV X,#2{INTEGER}
JSR CLOSE
10233:
NOP
MOV Y,#1{INTEGER}
MOV Q{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(Q{REAL})
JSR INITFOR
NOP
MOV X,Q{REAL}
MOV G,GS[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y{REAL},X
NOP
JSR GOSUB
JSR 20000
NOP
MOV Y,Q{REAL}
PUSH Y
NOP
MOV A,Y${STRING}
POP X
MOV G,GS$[]{STRING}
JSR ARRAYSTORE
NOP
MOV B,#{STRING}
MOV Y${STRING},B
NOP
MOV A,(Q{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
10235:
NOP
MOV Y,#1{INTEGER}
MOV X,FE{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP21
JMP SKIP21
NSKIP21:
NOP
MOV Y,#0{INTEGER}
MOV FE{REAL},Y
JMP 10100
NOP
SKIP21:
10240:
NOP
JMP 2160
10250:
NOP
JSR END
RTS
10260:
NOP
10300:
NOP
10310:
NOP
MOV A,#{clear}{down}{space*5}{reverse on}unterroutine datei speichern{STRING}
JSR STROUT
JSR LINEBREAK
10311:
NOP
JSR COMPACTMAX
MOV Y,#142{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
10315:
NOP
INPUT3:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down*2}{right}dateiname (monat){STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP5
MOV MO${STRING},A
EMPTYINPUTSKIP5:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK3
JSR EXTRAIGNORED
INPUTCHECK3:
10320:
NOP
INPUT4:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down*2}{right}jahr z.b. 1986{space*3}{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP6
MOV J${STRING},A
EMPTYINPUTSKIP6:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK4
JSR EXTRAIGNORED
INPUTCHECK4:
10330:
NOP
INPUT5:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down*2}{right}alte datei ueberschreiben (j/n){STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP7
MOV UE${STRING},A
EMPTYINPUTSKIP7:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK5
JSR EXTRAIGNORED
INPUTCHECK5:
10340:
NOP
MOV B,#j{STRING}
MOV A,UE${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP22
JMP SKIP22
NSKIP22:
NOP
MOV B,#@:{STRING}
MOV UE${STRING},B
JMP 10360
NOP
SKIP22:
10350:
NOP
MOV B,#j{STRING}
MOV A,UE${STRING}
CHGCTX #0
JSR SNEQ
CMP X,#0{REAL}
JNE NSKIP23
JMP SKIP23
NSKIP23:
NOP
MOV B,#{STRING}
MOV UE${STRING},B
NOP
SKIP23:
10360:
NOP
MOV Y,#2{INTEGER}
PUSH Y
MOV Y,#8{INTEGER}
PUSH Y
MOV Y,#2{INTEGER}
PUSH Y
JSR COMPACTMAX
MOV B,MO${STRING}
MOV A,UE${STRING}
JSR CONCAT
MOV B,# {STRING}
JSR CONCAT
MOV B,J${STRING}
JSR CONCAT
MOV B,#,s,w{STRING}
JSR CONCAT
MOV G,A
POP D
POP C
POP X
MOV Y,#4{INTEGER}
JSR OPEN
10370:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
10380:
NOP
MOV X,N{REAL}
MOV G,GS[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Z{REAL},X
10390:
NOP
JSR LOCKCHANNEL
MOV Y,#2{INTEGER}
PUSH Y
NOP
MOV X,Z{REAL}
POP C
JSR REALOUTCHANNEL
MOV A,# {STRING}
JSR STROUTCHANNEL
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
10400:
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
10410:
NOP
JSR GOSUB
JSR 10710
10411:
NOP
10420:
NOP
MOV X,#2{INTEGER}
JSR CLOSE
10425:
NOP
MOV Y,#1{INTEGER}
MOV X,FE{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP24
JMP SKIP24
NSKIP24:
NOP
MOV Y,#0{INTEGER}
MOV FE{REAL},Y
JMP 10300
NOP
SKIP24:
10430:
NOP
JSR COMPACTMAX
MOV Y,#14{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
JMP RETURN
10440:
NOP
JSR END
RTS
10450:
NOP
10460:
NOP
10500:
NOP
10510:
NOP
MOV A,#{clear}{STRING}
JSR STROUT
NOP
JSR COMPACTMAX
MOV Y,#142{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
10520:
NOP
MOV A,#{down}{space*8}{reverse on}{STRING}
JSR STROUT
NOP
MOV X,UN{REAL}
JSR REALOUT
JSR CRSRRIGHT
JSR LINEBREAK
10540:
NOP
INPUT6:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down*2}von wievielen monaten (1-12){STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTNUMBER
CMP X,#0{REAL}
JE INPUT6_0
MOV A,#?redo from start{STRING}
JSR STROUT
JSR LINEBREAK
JMP INPUT6
INPUT6_0:
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP8
MOV X{REAL},Y
EMPTYINPUTSKIP8:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK6
JSR EXTRAIGNORED
INPUTCHECK6:
10542:
NOP
MOV A,#{clear}{down}1=januar 2=februar 3=maerz 4=april{STRING}
JSR STROUT
JSR LINEBREAK
10543:
NOP
MOV A,#5=mai{space*4}6=juni{space*4}7=juli{space*2}8=august{STRING}
JSR STROUT
JSR LINEBREAK
10544:
NOP
MOV A,#9=sept. 10=okt.{space*3}11=nov. 12=dezember{STRING}
JSR STROUT
JSR LINEBREAK
10545:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,X{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
INPUT7:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down}monat (1-12){STRING}
JSR STROUT
NOP
MOV Y,N{REAL}
PUSH Y
JSR QMARKOUT1
JSR INPUTNUMBER
CMP X,#0{REAL}
JE INPUT7_0
MOV A,#?redo from start{STRING}
JSR STROUT
JSR LINEBREAK
JMP INPUT7
INPUT7_0:
POP X
MOV G,M[]{REAL}
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP9
JSR ARRAYSTORE
EMPTYINPUTSKIP9:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK7
JSR EXTRAIGNORED
INPUTCHECK7:
NOP
MOV A,#ok{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV Y,#500{INTEGER}
MOV P{REAL},Y
NOP
10546:
NOP
MOV A,#{up}{space*2}{up}{left*2}{space*17}{up*2}{STRING}
JSR STROUT
JSR LINEBREAK
10547:
NOP
MOV X,N{REAL}
MOV G,M[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#12{INTEGER}
GT X,Y
PUSH X
MOV X,N{REAL}
MOV G,M[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#1{INTEGER}
LT X,Y
POP Y
OR X,Y
CMP X,#0{REAL}
JNE NSKIP25
JMP SKIP25
NSKIP25:
JMP 10540
NOP
SKIP25:
10548:
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
10550:
NOP
MOV Y,#1{INTEGER}
MOV X,X{REAL}
LT X,Y
PUSH X
MOV Y,#12{INTEGER}
MOV X,X{REAL}
GT X,Y
POP Y
OR X,Y
CMP X,#0{REAL}
JNE NSKIP26
JMP SKIP26
NSKIP26:
NOP
MOV A,#{up*4}{STRING}
JSR STROUT
JSR LINEBREAK
JMP 10540
NOP
SKIP26:
10560:
NOP
INPUT8:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down*2}von welchem jahr (z.b.1986){STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP10
MOV J${STRING},A
EMPTYINPUTSKIP10:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK8
JSR EXTRAIGNORED
INPUTCHECK8:
10570:
NOP
MOV Y,#1{INTEGER}
MOV P{REAL},Y
NOP
MOV Y,X{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(P{REAL})
JSR INITFOR
NOP
MOV X,P{REAL}
MOV G,M[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV M{REAL},X
10580:
NOP
MOV Y,#2{INTEGER}
PUSH Y
MOV Y,#8{INTEGER}
PUSH Y
MOV Y,#2{INTEGER}
PUSH Y
JSR COMPACTMAX
MOV B,# {STRING}
CHGCTX #0
PUSH B
MOV X,M{REAL}
CHGCTX #1
MOV G,MO$[]{STRING}
JSR ARRAYACCESS
POP B
JSR CONCAT
MOV B,J${STRING}
JSR CONCAT
MOV B,#,s,r{STRING}
JSR CONCAT
MOV G,A
POP D
POP C
POP X
MOV Y,#4{INTEGER}
JSR OPEN
10590:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
10600:
NOP
MOV Y,#2{INTEGER}
PUSH Y
JSR CLEARQUEUE
JSR COMPACTMAX
POP C
JSR INPUTNUMBERCHANNEL
NOP
MOV X,N{REAL}
MOV G,NU[]{REAL}
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP11
JSR ARRAYSTORE
EMPTYINPUTSKIP11:
10610:
NOP
MOV Y,N{REAL}
PUSH Y
NOP
MOV X,N{REAL}
MOV G,NU[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
PUSH X
MOV X,N{REAL}
MOV G,GS[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
POP Y
ADD X,Y
MOV Y,X
POP X
MOV G,GS[]{REAL}
JSR ARRAYSTORE
10620:
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
10630:
NOP
JSR GOSUB
JSR 10710
10631:
NOP
10635:
NOP
MOV Y,#1{INTEGER}
MOV X,FE{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP27
JMP SKIP27
NSKIP27:
NOP
MOV Y,#0{INTEGER}
MOV FE{REAL},Y
JMP 10510
NOP
SKIP27:
10640:
NOP
MOV X,#2{INTEGER}
JSR CLOSE
NOP
MOV X,M{REAL}
CHGCTX #1
MOV G,MO$[]{STRING}
JSR ARRAYACCESS
JSR STROUT
NOP
MOV A,#{space*13}{STRING}
JSR STROUT
JSR LINEBREAK
10650:
NOP
MOV A,(P{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
10651:
NOP
MOV Y,#1{INTEGER}
MOV Q{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(Q{REAL})
JSR INITFOR
NOP
MOV X,Q{REAL}
MOV G,GS[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y{REAL},X
NOP
JSR GOSUB
JSR 20000
NOP
MOV Y,Q{REAL}
PUSH Y
NOP
MOV A,Y${STRING}
POP X
MOV G,GS$[]{STRING}
JSR ARRAYSTORE
NOP
MOV B,#{STRING}
MOV Y${STRING},B
NOP
MOV A,(Q{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
10660:
NOP
JMP 2160
10670:
NOP
10680:
NOP
10690:
NOP
JSR END
RTS
10700:
NOP
10710:
NOP
MOV A,#{down}{STRING}
JSR STROUT
JSR LINEBREAK
10711:
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV Y,#8{INTEGER}
PUSH Y
MOV D,#15{INTEGER}
POP C
POP X
MOV Y,#3{INTEGER}
JSR OPEN
10720:
NOP
MOV Y,#1{INTEGER}
PUSH Y
JSR CLEARQUEUE
JSR COMPACTMAX
POP C
JSR INPUTNUMBERCHANNEL
PUSH C
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP12
MOV A{REAL},Y
EMPTYINPUTSKIP12:
POP C
JSR INPUTSTRCHANNEL
PUSH C
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP13
MOV B${STRING},A
EMPTYINPUTSKIP13:
POP C
JSR INPUTNUMBERCHANNEL
PUSH C
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP14
MOV C{REAL},Y
EMPTYINPUTSKIP14:
POP C
JSR INPUTNUMBERCHANNEL
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP15
MOV D{REAL},Y
EMPTYINPUTSKIP15:
10725:
NOP
MOV X,#1{INTEGER}
JSR CLOSE
10730:
NOP
MOV X,A{REAL}
JSR REALOUT
JSR CRSRRIGHT
NOP
MOV A,B${STRING}
JSR STROUT
NOP
MOV X,C{REAL}
JSR REALOUT
JSR CRSRRIGHT
NOP
MOV X,D{REAL}
JSR REALOUT
JSR LINEBREAK
NOP
MOV A,#{down}{STRING}
JSR STROUT
JSR LINEBREAK
10740:
NOP
MOV A,#taste{up}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV Y,A{REAL}
CMP Y,#0{REAL}
JNE NSKIP28
JMP SKIP28
NSKIP28:
NOP
MOV Y,#1{INTEGER}
MOV FE{REAL},Y
NOP
SKIP28:
10750:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP29
JMP SKIP29
NSKIP29:
JMP 10750
NOP
SKIP29:
10751:
NOP
MOV A,#{space*5}{up*6}{STRING}
JSR STROUT
JSR LINEBREAK
10760:
NOP
MOV Y,FE{REAL}
CMP Y,#0{REAL}
JNE NSKIP30
JMP SKIP30
NSKIP30:
NOP
JSR COMPACTMAX
MOV Y,#14{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
MOV X,#2{INTEGER}
JSR CLOSE
JMP 2000
NOP
SKIP30:
10770:
NOP
JMP RETURN
10780:
NOP
10790:
NOP
JSR END
RTS
10800:
NOP
10810:
NOP
MOV A,#{clear}{down*2}Sind Sie sicher (J/N){STRING}
JSR STROUT
JSR LINEBREAK
10820:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP31
JMP SKIP31
NSKIP31:
JMP 10820
NOP
SKIP31:
10825:
NOP
MOV B,#j{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP32
JMP SKIP32
NSKIP32:
JMP 10840
NOP
SKIP32:
10830:
NOP
JSR RUN
10840:
NOP
JSR END
RTS
10850:
NOP
10860:
NOP
10870:
NOP
JSR END
RTS
11000:
NOP
11010:
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV B,#{STRING}
MOV E${STRING},B
NOP
MOV B,#{STRING}
MOV M${STRING},B
NOP
MOV B,#{STRING}
MOV J${STRING},B
NOP
JSR COMPACTMAX
MOV Y,#142{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
11020:
NOP
MOV A,#{down}{space*8}{reverse on}unterroutine drucken{STRING}
JSR STROUT
JSR LINEBREAK
11030:
NOP
INPUT9:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down*2}{right*2}monat{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP16
MOV M${STRING},A
EMPTYINPUTSKIP16:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK9
JSR EXTRAIGNORED
INPUTCHECK9:
NOP
MOV B,#{STRING}
MOV A,M${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP33
JMP SKIP33
NSKIP33:
JMP 11090
NOP
SKIP33:
11040:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV B,M${STRING}
CHGCTX #0
JSR LEN
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
11050:
NOP
JSR COMPACTMAX
MOV C,N{REAL}
MOV D,#1{INTEGER}
CHGCTX #1
MOV B,M${STRING}
JSR MID
MOV B,A
CHGCTX #0
JSR ASC
MOV E{REAL},X
11060:
NOP
MOV Y,#64{INTEGER}
MOV X,E{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP34
JMP SKIP34
NSKIP34:
NOP
JSR COMPACTMAX
MOV Y,#32{INTEGER}
MOV X,E{REAL}
ADD X,Y
MOV Y,X
CHGCTX #1
JSR CHR
MOV B,A
MOV A,E${STRING}
JSR CONCAT
JSR COPYSTR
MOV E${STRING},A
NOP
SKIP34:
11061:
NOP
MOV Y,#64{INTEGER}
MOV X,E{REAL}
LTEQ X,Y
CMP X,#0{REAL}
JNE NSKIP35
JMP SKIP35
NSKIP35:
NOP
JSR COMPACTMAX
MOV Y,E{REAL}
CHGCTX #1
JSR CHR
MOV B,A
MOV A,E${STRING}
JSR CONCAT
JSR COPYSTR
MOV E${STRING},A
NOP
SKIP35:
11070:
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
11080:
NOP
MOV B,E${STRING}
MOV M${STRING},B
11090:
NOP
INPUT10:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down*2}{right*2}jahr{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP17
MOV J${STRING},A
EMPTYINPUTSKIP17:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK10
JSR EXTRAIGNORED
INPUTCHECK10:
11100:
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV Y,#4{INTEGER}
PUSH Y
MOV D,#8{INTEGER}
POP C
POP X
MOV Y,#3{INTEGER}
JSR OPEN
11110:
NOP
JSR LOCKCHANNEL
MOV Y,#1{INTEGER}
PUSH Y
NOP
JSR COMPACTMAX
MOV Y,#14{INTEGER}
CHGCTX #1
JSR CHR
PUSH A
CHGCTX #0
MOV Y,#1{INTEGER}
CHGCTX #1
JSR CHR
PUSH A
MOV B,#-{STRING}
CHGCTX #0
PUSH B
MOV Y,#27{INTEGER}
CHGCTX #1
JSR CHR
POP B
JSR CONCAT
POP B
JSR CONCAT
POP B
JSR CONCAT
POP C
JSR STROUTCHANNEL
JSR UNLOCKCHANNEL
11120:
NOP
MOV X,#1{INTEGER}
JSR CLOSE
11130:
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV Y,#4{INTEGER}
PUSH Y
MOV D,#7{INTEGER}
POP C
POP X
MOV Y,#3{INTEGER}
JSR OPEN
11140:
NOP
JSR LOCKCHANNEL
MOV Y,#1{INTEGER}
PUSH Y
NOP
MOV A,M${STRING}
POP C
JSR STROUTCHANNEL
PUSH C
NOP
MOV A,# {STRING}
POP C
JSR STROUTCHANNEL
PUSH C
NOP
MOV A,J${STRING}
POP C
JSR STROUTCHANNEL
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
NOP
JSR LOCKCHANNEL
MOV C,#1{INTEGER}
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
11150:
NOP
JSR LOCKCHANNEL
MOV Y,#1{INTEGER}
PUSH Y
NOP
MOV A,#GESAMTSUMMEN{STRING}
POP C
JSR STROUTCHANNEL
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
NOP
MOV X,#1{INTEGER}
JSR CLOSE
11160:
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV Y,#4{INTEGER}
PUSH Y
MOV D,#8{INTEGER}
POP C
POP X
MOV Y,#3{INTEGER}
JSR OPEN
NOP
JSR LOCKCHANNEL
MOV Y,#1{INTEGER}
PUSH Y
NOP
JSR COMPACTMAX
MOV Y,#0{INTEGER}
CHGCTX #1
JSR CHR
PUSH A
MOV B,#-{STRING}
CHGCTX #0
PUSH B
MOV Y,#27{INTEGER}
CHGCTX #1
JSR CHR
POP B
JSR CONCAT
POP B
JSR CONCAT
POP C
JSR STROUTCHANNEL
JSR UNLOCKCHANNEL
11170:
NOP
JSR LOCKCHANNEL
MOV C,#1{INTEGER}
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
11180:
NOP
MOV X,#1{INTEGER}
JSR CLOSE
11190:
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV Y,#4{INTEGER}
PUSH Y
MOV D,#7{INTEGER}
POP C
POP X
MOV Y,#3{INTEGER}
JSR OPEN
11200:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
11210:
NOP
MOV Y,N{REAL}
PUSH Y
NOP
MOV Y,#16{INTEGER}
PUSH Y
MOV Y,N{REAL}
INT X,Y
POP Y
ADD X,Y
CHGCTX #1
MOV G,PU$[]{STRING}
JSR ARRAYACCESS
JSR COPYSTR
POP X
MOV G,P$[]{STRING}
JSR ARRAYSTORE
11220:
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
11230:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
11240:
NOP
MOV Y,#22{INTEGER}
MOV X,N{REAL}
PUSH Y
CHGCTX #1
MOV G,P$[]{STRING}
JSR ARRAYACCESS
MOV B,A
CHGCTX #0
JSR LEN
POP Y
LT X,Y
CMP X,#0{REAL}
JNE NSKIP36
JMP SKIP36
NSKIP36:
NOP
MOV Y,N{REAL}
PUSH Y
NOP
JSR COMPACTMAX
MOV B,# {STRING}
CHGCTX #0
PUSH B
MOV X,N{REAL}
CHGCTX #1
MOV G,P$[]{STRING}
JSR ARRAYACCESS
POP B
JSR CONCAT
JSR COPYSTR
POP X
MOV G,P$[]{STRING}
JSR ARRAYSTORE
JMP 11240
NOP
SKIP36:
11250:
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
11270:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
11280:
NOP
JSR LOCKCHANNEL
MOV Y,#1{INTEGER}
PUSH Y
NOP
MOV X,N{REAL}
CHGCTX #1
MOV G,P$[]{STRING}
JSR ARRAYACCESS
POP C
JSR STROUTCHANNEL
PUSH C
NOP
MOV A,#DM{STRING}
POP C
JSR STROUTCHANNEL
PUSH C
NOP
MOV X,N{REAL}
CHGCTX #1
MOV G,GS$[]{STRING}
JSR ARRAYACCESS
POP C
JSR STROUTCHANNEL
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
11290:
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
11350:
NOP
JSR LOCKCHANNEL
MOV C,#1{INTEGER}
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
11360:
NOP
JSR LOCKCHANNEL
MOV Y,#1{INTEGER}
PUSH Y
NOP
MOV A,#GESAMTSUMME{STRING}
POP C
JSR STROUTCHANNEL
PUSH C
NOP
MOV A,GE${STRING}
POP C
JSR STROUTCHANNEL
PUSH C
NOP
MOV A,# DM{STRING}
POP C
JSR STROUTCHANNEL
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
11370:
NOP
MOV X,#1{INTEGER}
JSR CLOSE
11380:
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV Y,#4{INTEGER}
PUSH Y
MOV D,#8{INTEGER}
POP C
POP X
MOV Y,#3{INTEGER}
JSR OPEN
NOP
JSR LOCKCHANNEL
MOV Y,#1{INTEGER}
PUSH Y
NOP
JSR COMPACTMAX
MOV B,#3{STRING}
CHGCTX #0
PUSH B
MOV Y,#27{INTEGER}
CHGCTX #1
JSR CHR
POP B
JSR CONCAT
POP C
JSR STROUTCHANNEL
JSR UNLOCKCHANNEL
NOP
MOV X,#1{INTEGER}
JSR CLOSE
11390:
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV Y,#4{INTEGER}
PUSH Y
MOV D,#7{INTEGER}
POP C
POP X
MOV Y,#3{INTEGER}
JSR OPEN
11400:
NOP
JSR LOCKCHANNEL
MOV Y,#1{INTEGER}
PUSH Y
NOP
MOV A,#{space*13}-------------{STRING}
POP C
JSR STROUTCHANNEL
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
11410:
NOP
MOV X,#1{INTEGER}
JSR CLOSE
11420:
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV Y,#4{INTEGER}
PUSH Y
MOV D,#8{INTEGER}
POP C
POP X
MOV Y,#3{INTEGER}
JSR OPEN
11430:
NOP
JSR LOCKCHANNEL
MOV Y,#1{INTEGER}
PUSH Y
NOP
JSR COMPACTMAX
MOV B,#@{STRING}
CHGCTX #0
PUSH B
MOV Y,#27{INTEGER}
CHGCTX #1
JSR CHR
POP B
JSR CONCAT
POP C
JSR STROUTCHANNEL
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
NOP
JSR LOCKCHANNEL
MOV Y,#1{INTEGER}
PUSH Y
NOP
JSR COMPACTMAX
MOV Y,#12{INTEGER}
CHGCTX #1
JSR CHR
POP C
JSR STROUTCHANNEL
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
NOP
MOV X,#1{INTEGER}
JSR CLOSE
11440:
NOP
JSR COMPACTMAX
MOV Y,#14{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
NOP
JMP RETURN
12000:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV B,SU${STRING}
CHGCTX #0
JSR LEN
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
12010:
NOP
JSR COMPACTMAX
MOV C,N{REAL}
MOV D,#1{INTEGER}
CHGCTX #1
MOV B,SU${STRING}
JSR MID
JSR COPYSTR
MOV A${STRING},A
12020:
NOP
MOV B,#9{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SGT
PUSH X
CHGCTX #1
MOV B,#0{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SLT
POP Y
OR X,Y
CMP X,#0{REAL}
JNE NSKIP37
JMP SKIP37
NSKIP37:
NOP
MOV Y,#1{INTEGER}
MOV V{REAL},Y
NOP
SKIP37:
12021:
NOP
MOV Y,#1{INTEGER}
MOV X,V{REAL}
EQ X,Y
PUSH X
CHGCTX #1
MOV B,#-{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SNEQ
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP38
JMP SKIP38
NSKIP38:
NOP
MOV Y,#2{INTEGER}
MOV V{REAL},Y
NOP
SKIP38:
12025:
NOP
MOV B,#.{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SNEQ
PUSH X
MOV Y,#2{INTEGER}
MOV X,V{REAL}
EQ X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP39
JMP SKIP39
NSKIP39:
NOP
MOV Y,#3{INTEGER}
MOV V{REAL},Y
NOP
SKIP39:
12026:
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP40
JMP SKIP40
NSKIP40:
NOP
MOV Y,#0{INTEGER}
MOV V{REAL},Y
JMP 5014
NOP
SKIP40:
12027:
NOP
MOV Y,#3{INTEGER}
MOV X,V{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP41
JMP SKIP41
NSKIP41:
NOP
MOV Y,#10{INTEGER}
CHGCTX #1
JSR TAB
NOP
MOV A,#{space*19}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV Y,#0{INTEGER}
MOV V{REAL},Y
JMP 5000
NOP
SKIP41:
12028:
NOP
MOV Y,#0{INTEGER}
MOV V{REAL},Y
12060:
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
12070:
NOP
JMP 5014
14999:
NOP
JSR END
RTS
15000:
NOP
15010:
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV Y,#0{INTEGER}
MOV GE{REAL},Y
15011:
NOP
JMP 40000
15020:
NOP
MOV A,#{space*12}{light blue}{reverse on}GESAMTSUMMEN{STRING}
JSR STROUT
JSR LINEBREAK
15030:
NOP
MOV A,#{down}{cyan}{STRING}
JSR STROUT
JSR LINEBREAK
15031:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
MOV B,#{STRING}
CHGCTX #0
PUSH B
MOV X,N{REAL}
CHGCTX #1
MOV G,GS$[]{STRING}
JSR ARRAYACCESS
POP B
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP42
JMP SKIP42
NSKIP42:
NOP
MOV Y,N{REAL}
PUSH Y
NOP
MOV A,#{space*5}0.00{STRING}
POP X
MOV G,GS$[]{STRING}
JSR ARRAYSTORE
NOP
SKIP42:
15032:
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
15040:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
MOV Y,#16{INTEGER}
PUSH Y
MOV Y,N{REAL}
INT X,Y
POP Y
ADD X,Y
CHGCTX #1
MOV G,PU$[]{STRING}
JSR ARRAYACCESS
JSR STROUT
NOP
MOV Y,#20{INTEGER}
CHGCTX #1
JSR TAB
NOP
MOV X,N{REAL}
CHGCTX #1
MOV G,GS$[]{STRING}
JSR ARRAYACCESS
JSR STROUT
JSR LINEBREAK
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
15041:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
MOV X,N{REAL}
MOV G,GS[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,GE{REAL}
ADD X,Y
MOV GE{REAL},X
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
MOV Y,GE{REAL}
MOV Y{REAL},Y
NOP
JSR GOSUB
JSR 20000
NOP
MOV B,Y${STRING}
MOV GE${STRING},B
15042:
NOP
MOV A,#{down}{reverse on}GESAMTSUMME {STRING}
JSR STROUT
NOP
MOV A,GE${STRING}
JSR STROUT
NOP
MOV A,#{reverse on} DM{STRING}
JSR STROUT
JSR LINEBREAK
15050:
NOP
MOV A,#{down}TASTE{STRING}
JSR STROUT
JSR LINEBREAK
15060:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP43
JMP SKIP43
NSKIP43:
JMP 15060
NOP
SKIP43:
15070:
NOP
MOV A,#{clear}{down*2}{right*2}Gesamtsummen drucken (J/N){STRING}
JSR STROUT
JSR LINEBREAK
15080:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP44
JMP SKIP44
NSKIP44:
JMP 15080
NOP
SKIP44:
15090:
NOP
MOV B,#j{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP45
JMP SKIP45
NSKIP45:
JSR GOSUB
JSR 11010
NOP
SKIP45:
15091:
NOP
15100:
NOP
MOV A,#{clear}{up}{right*2}Gesamtsummen Abspeichern (J/N){STRING}
JSR STROUT
JSR LINEBREAK
15110:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP46
JMP SKIP46
NSKIP46:
JMP 15110
NOP
SKIP46:
15120:
NOP
MOV B,#j{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP47
JMP SKIP47
NSKIP47:
JSR GOSUB
JSR 10310
NOP
SKIP47:
15121:
NOP
15130:
NOP
MOV A,#{up}'N' fuer neuen Programmstart{space*6}{STRING}
JSR STROUT
JSR LINEBREAK
15140:
NOP
MOV A,#{down}'A' zum Veraendern der alten Werte{STRING}
JSR STROUT
JSR LINEBREAK
15150:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP48
JMP SKIP48
NSKIP48:
JMP 15150
NOP
SKIP48:
15160:
NOP
MOV B,#a{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP49
JMP SKIP49
NSKIP49:
NOP
MOV Y,#1{INTEGER}
MOV PU{REAL},Y
JMP 2160
NOP
SKIP49:
15170:
NOP
MOV B,#n{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP50
JMP SKIP50
NSKIP50:
JSR RUN
NOP
SKIP50:
15180:
NOP
JMP 15150
15190:
NOP
15200:
NOP
20000:
NOP
JSR COMPACTMAX
MOV Y,Y{REAL}
CHGCTX #1
JSR STR
JSR COPYSTR
MOV Y${STRING},A
20010:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV B,Y${STRING}
CHGCTX #0
JSR LEN
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
20020:
NOP
JSR COMPACTMAX
MOV B,#.{STRING}
CHGCTX #0
PUSH B
MOV C,N{REAL}
CHGCTX #1
MOV B,Y${STRING}
JSR CHARAT
POP B
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP51
JMP SKIP51
NSKIP51:
JMP 20060
NOP
SKIP51:
20030:
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
20040:
NOP
JSR COMPACTMAX
MOV B,#.{STRING}
MOV A,Y${STRING}
JSR CONCAT
JSR COPYSTR
MOV Y${STRING},A
20050:
NOP
MOV B,Y${STRING}
CHGCTX #0
JSR LEN
MOV N{REAL},X
20060:
NOP
JSR COMPACTMAX
MOV B,#00{STRING}
MOV A,Y${STRING}
JSR CONCAT
JSR COPYSTR
MOV Y${STRING},A
20070:
NOP
JSR COMPACTMAX
MOV Y,#2{INTEGER}
MOV X,N{REAL}
ADD X,Y
MOV C,X
CHGCTX #1
MOV B,Y${STRING}
JSR LEFT
JSR COPYSTR
MOV Y${STRING},A
20080:
NOP
JSR COMPACTMAX
MOV B,# .{STRING}
CHGCTX #0
PUSH B
MOV C,#2{INTEGER}
CHGCTX #1
MOV B,Y${STRING}
JSR LEFT
POP B
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP52
JMP SKIP52
NSKIP52:
NOP
JSR COMPACTMAX
MOV C,#2{INTEGER}
PUSH C
CHGCTX #1
MOV B,Y${STRING}
CHGCTX #0
JSR LEN
PUSH X
CHGCTX #1
MOV B,Y${STRING}
POP D
POP C
JSR MID
MOV B,A
MOV A,#0{STRING}
JSR CONCAT
JSR COPYSTR
MOV Y${STRING},A
NOP
SKIP52:
20090:
NOP
MOV B,Y${STRING}
CHGCTX #0
JSR LEN
MOV N{REAL},X
20100:
NOP
MOV B,Y${STRING}
JSR LEN
MOV Y,#9{INTEGER}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP53
JMP SKIP53
NSKIP53:
NOP
JSR COMPACTMAX
MOV B,Y${STRING}
MOV A,# {STRING}
JSR CONCAT
JSR COPYSTR
MOV Y${STRING},A
JMP 20100
NOP
SKIP53:
20120:
NOP
JMP RETURN
21000:
NOP
21010:
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
JSR COMPACTMAX
MOV Y,#142{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
21020:
NOP
MOV A,#{down}{space*6}{reverse on}abspeichern der einzelposten{down*3}{STRING}
JSR STROUT
JSR LINEBREAK
21030:
NOP
INPUT11:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down}name (z.b.januar){STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP18
MOV MO${STRING},A
EMPTYINPUTSKIP18:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK11
JSR EXTRAIGNORED
INPUTCHECK11:
21040:
NOP
INPUT12:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down}jahr (z.b. 1986){STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP19
MOV J${STRING},A
EMPTYINPUTSKIP19:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK12
JSR EXTRAIGNORED
INPUTCHECK12:
21050:
NOP
INPUT13:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down}alte datei ueberschreiben (j/n){STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP20
MOV UE${STRING},A
EMPTYINPUTSKIP20:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK13
JSR EXTRAIGNORED
INPUTCHECK13:
21060:
NOP
MOV B,#j{STRING}
MOV A,UE${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP54
JMP SKIP54
NSKIP54:
NOP
MOV B,#@:{STRING}
MOV UE${STRING},B
JMP 21080
NOP
SKIP54:
21070:
NOP
MOV B,#j{STRING}
MOV A,UE${STRING}
CHGCTX #0
JSR SNEQ
CMP X,#0{REAL}
JNE NSKIP55
JMP SKIP55
NSKIP55:
NOP
MOV B,#{STRING}
MOV UE${STRING},B
NOP
SKIP55:
21080:
NOP
MOV Y,#2{INTEGER}
PUSH Y
MOV Y,#8{INTEGER}
PUSH Y
MOV Y,#2{INTEGER}
PUSH Y
JSR COMPACTMAX
MOV B,MO${STRING}
MOV A,UE${STRING}
JSR CONCAT
MOV B,# {STRING}
JSR CONCAT
MOV B,J${STRING}
JSR CONCAT
MOV B,# eipu{STRING}
JSR CONCAT
MOV B,#,s,w{STRING}
JSR CONCAT
MOV G,A
POP D
POP C
POP X
MOV Y,#4{INTEGER}
JSR OPEN
21090:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
21100:
NOP
JSR LOCKCHANNEL
MOV Y,#2{INTEGER}
PUSH Y
NOP
MOV Y,#16{INTEGER}
PUSH Y
MOV Y,N{REAL}
INT X,Y
POP Y
ADD X,Y
CHGCTX #1
MOV G,PU$[]{STRING}
JSR ARRAYACCESS
POP C
JSR STROUTCHANNEL
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
21105:
NOP
JSR LOCKCHANNEL
MOV Y,#2{INTEGER}
PUSH Y
NOP
MOV Y,#32{INTEGER}
PUSH Y
MOV Y,N{REAL}
INT X,Y
POP Y
ADD X,Y
CHGCTX #1
MOV G,PU$[]{STRING}
JSR ARRAYACCESS
POP C
JSR STROUTCHANNEL
JSR LINEBREAKCHANNEL
JSR UNLOCKCHANNEL
21110:
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
MOV X,#2{INTEGER}
JSR CLOSE
21120:
NOP
JSR GOSUB
JSR 10710
NOP
JSR COMPACTMAX
MOV Y,#14{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
21130:
NOP
21140:
NOP
MOV Y,#1{INTEGER}
MOV X,FE{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP56
JMP SKIP56
NSKIP56:
NOP
MOV Y,#0{INTEGER}
MOV FE{REAL},Y
JMP 21000
NOP
SKIP56:
21150:
NOP
JMP 40000
21160:
NOP
22000:
NOP
22010:
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
JSR COMPACTMAX
MOV Y,#142{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
22020:
NOP
MOV A,#{down}{space*8}{reverse on}laden der einzelposten{down*3}{STRING}
JSR STROUT
JSR LINEBREAK
22030:
NOP
INPUT14:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down*2}name (z.b.januar){STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP21
MOV MO${STRING},A
EMPTYINPUTSKIP21:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK14
JSR EXTRAIGNORED
INPUTCHECK14:
22040:
NOP
INPUT15:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down*2}jahr (z.b. 1986){STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP22
MOV J${STRING},A
EMPTYINPUTSKIP22:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK15
JSR EXTRAIGNORED
INPUTCHECK15:
22050:
NOP
MOV Y,#2{INTEGER}
PUSH Y
MOV Y,#8{INTEGER}
PUSH Y
MOV Y,#2{INTEGER}
PUSH Y
JSR COMPACTMAX
MOV B,# {STRING}
MOV A,MO${STRING}
JSR CONCAT
MOV B,J${STRING}
JSR CONCAT
MOV B,# eipu{STRING}
JSR CONCAT
MOV B,#,s,r{STRING}
JSR CONCAT
MOV G,A
POP D
POP C
POP X
MOV Y,#4{INTEGER}
JSR OPEN
22060:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
22070:
NOP
MOV Y,#2{INTEGER}
PUSH Y
JSR CLEARQUEUE
JSR COMPACTMAX
POP C
JSR INPUTSTRCHANNEL
NOP
MOV Y,#16{INTEGER}
PUSH Y
MOV Y,N{REAL}
INT X,Y
POP Y
ADD X,Y
MOV G,PU$[]{STRING}
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP23
JSR ARRAYSTORE
EMPTYINPUTSKIP23:
22080:
NOP
MOV Y,#2{INTEGER}
PUSH Y
JSR CLEARQUEUE
JSR COMPACTMAX
POP C
JSR INPUTSTRCHANNEL
NOP
MOV Y,#32{INTEGER}
PUSH Y
MOV Y,N{REAL}
INT X,Y
POP Y
ADD X,Y
MOV G,PU$[]{STRING}
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP24
JSR ARRAYSTORE
EMPTYINPUTSKIP24:
22090:
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
22100:
NOP
MOV X,#2{INTEGER}
JSR CLOSE
22110:
NOP
JSR GOSUB
JSR 10710
22120:
NOP
22130:
NOP
MOV Y,#1{INTEGER}
MOV X,FE{REAL}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP57
JMP SKIP57
NSKIP57:
NOP
MOV Y,#0{INTEGER}
MOV FE{REAL},Y
JMP 22000
NOP
SKIP57:
22140:
NOP
JSR COMPACTMAX
MOV Y,#14{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
22150:
NOP
JMP 40000
22999:
NOP
JSR END
RTS
30000:
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOVB 53281,#0{INTEGER}
NOP
MOVB 53280,#0{INTEGER}
30010:
NOP
MOV Y,#16{INTEGER}
CHGCTX #1
JSR TAB
NOP
MOV A,#{down*3}{yellow}MUCKSOFT{STRING}
JSR STROUT
JSR LINEBREAK
30020:
NOP
MOV Y,#16{INTEGER}
CHGCTX #1
JSR TAB
NOP
MOV A,#{down}{green}PRESENTS{STRING}
JSR STROUT
JSR LINEBREAK
30030:
NOP
MOV A,#{down*4}{STRING}
JSR STROUT
JSR LINEBREAK
30040:
NOP
MOV A,#{light blue}{space*5}{reverse on} {reverse off} {reverse on} {reverse off} {reverse on}{space*3}{reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on}{space*3}{reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on}{space*3}{reverse off} {reverse on} {reverse off}{space*3}{reverse on}{space*3}{reverse off}{STRING}
JSR STROUT
JSR LINEBREAK
30050:
NOP
MOV A,#{space*5}{reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off}{space*3}{reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off}{space*4}{reverse on} {STRING}
JSR STROUT
JSR LINEBREAK
30060:
NOP
MOV A,#{space*5}{reverse on}{space*3}{reverse off} {reverse on}{space*3}{reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on}{space*3}{reverse off} {reverse on}{space*3}{reverse off} {reverse on}{space*3}{reverse off} {reverse on} {reverse off}{space*4}{reverse on} {STRING}
JSR STROUT
JSR LINEBREAK
30070:
NOP
MOV A,#{space*5}{reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off}{space*3}{reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off}{space*4}{reverse on} {STRING}
JSR STROUT
JSR LINEBREAK
30080:
NOP
MOV A,#{space*5}{reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on}{space*3}{reverse off} {reverse on}{space*3}{reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on} {reverse off} {reverse on}{space*3}{reverse off}{space*2}{reverse on} {STRING}
JSR STROUT
JSR LINEBREAK
30090:
NOP
JMP RETURN
30999:
NOP
JSR END
RTS
40000:
NOP
MOV A,#{clear}{down*2}{space*7}{reverse on}UNTERROUTINE{sh space}SONSTIGES{STRING}
JSR STROUT
JSR LINEBREAK
40010:
NOP
MOV A,#{down*3}Waehlen Sie:{STRING}
JSR STROUT
JSR LINEBREAK
40020:
NOP
MOV A,#{down}'1' fuer Gesamtsummenausgabe{STRING}
JSR STROUT
JSR LINEBREAK
40030:
NOP
MOV A,#{down}'2' zum Definieren einzelner Punkte{STRING}
JSR STROUT
JSR LINEBREAK
40040:
NOP
MOV A,#{down}'3' fuer Rueckkehr ins Eingabemenue{STRING}
JSR STROUT
JSR LINEBREAK
40041:
NOP
MOV A,#{down}'4' zum Laden einer Datei{STRING}
JSR STROUT
JSR LINEBREAK
40042:
NOP
MOV A,#{down}'5' zum Anzeigen des Directorys{STRING}
JSR STROUT
JSR LINEBREAK
40043:
NOP
MOV A,#{down}'6' zum Abspeichern der Eingabepunkte{STRING}
JSR STROUT
JSR LINEBREAK
40044:
NOP
MOV A,#{down}'7' zum Laden der Eingabepunkte{STRING}
JSR STROUT
JSR LINEBREAK
40050:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP58
JMP SKIP58
NSKIP58:
JMP 40050
NOP
SKIP58:
40060:
NOP
MOV B,#1{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP59
JMP SKIP59
NSKIP59:
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
JMP 15020
NOP
SKIP59:
40070:
NOP
MOV B,#2{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP60
JMP SKIP60
NSKIP60:
JMP 40500
NOP
SKIP60:
40080:
NOP
MOV B,#3{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP61
JMP SKIP61
NSKIP61:
JMP 2160
NOP
SKIP61:
40081:
NOP
MOV B,#4{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP62
JMP SKIP62
NSKIP62:
JMP 10110
NOP
SKIP62:
40082:
NOP
MOV B,#5{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP63
JMP SKIP63
NSKIP63:
NOP
MOV Y,#1{INTEGER}
MOV OK{REAL},Y
JMP 10010
NOP
SKIP63:
40083:
NOP
MOV B,#6{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP64
JMP SKIP64
NSKIP64:
JMP 21010
NOP
SKIP64:
40084:
NOP
MOV B,#7{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP65
JMP SKIP65
NSKIP65:
JMP 22010
NOP
SKIP65:
40090:
NOP
JMP 40050
40500:
NOP
MOV A,#{clear}{space*9}{reverse on}UNTERROUTINE{sh space}DEFINIEREN{STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV B,#{STRING}
MOV A${STRING},B
40510:
NOP
40520:
NOP
MOV A,#{down}{right}Welchen Wert wollen Sie veraendern ?{STRING}
JSR STROUT
JSR LINEBREAK
40530:
NOP
MOV A,#{right}Geben Sie die Zahl ein.{STRING}
JSR STROUT
JSR LINEBREAK
40531:
NOP
MOV A,#{right}'0' fuer Zurueckdefinition in normale{STRING}
JSR STROUT
JSR LINEBREAK
40532:
NOP
MOV A,#{right}Werte.{STRING}
JSR STROUT
JSR LINEBREAK
40533:
NOP
MOV A,#{right}'RETURN' fuer Ende{down}{STRING}
JSR STROUT
JSR LINEBREAK
40540:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
MOV Y,#10{INTEGER}
MOV X,N{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP66
JMP SKIP66
NSKIP66:
NOP
MOV X,N{REAL}
JSR REALOUT
JSR CRSRRIGHT
NOP
MOV A,#{space*5}{STRING}
JSR STROUT
NOP
MOV Y,#16{INTEGER}
PUSH Y
MOV Y,N{REAL}
INT X,Y
POP Y
ADD X,Y
CHGCTX #1
MOV G,PU$[]{STRING}
JSR ARRAYACCESS
JSR STROUT
JSR LINEBREAK
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
SKIP66:
40541:
NOP
MOV Y,#9{INTEGER}
MOV X,N{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP67
JMP SKIP67
NSKIP67:
NOP
MOV X,N{REAL}
JSR REALOUT
JSR CRSRRIGHT
NOP
MOV A,#{space*4}{STRING}
JSR STROUT
NOP
MOV Y,#16{INTEGER}
PUSH Y
MOV Y,N{REAL}
INT X,Y
POP Y
ADD X,Y
CHGCTX #1
MOV G,PU$[]{STRING}
JSR ARRAYACCESS
JSR STROUT
JSR LINEBREAK
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
SKIP67:
40550:
NOP
INPUT16:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down}{right}ALSO:{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP25
MOV VE${STRING},A
EMPTYINPUTSKIP25:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK16
JSR EXTRAIGNORED
INPUTCHECK16:
NOP
MOV B,VE${STRING}
CHGCTX #0
JSR VAL
MOV VE{REAL},X
NOP
MOV B,#0{STRING}
MOV A,VE${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP68
JMP SKIP68
NSKIP68:
NOP
MOV B,#{STRING}
MOV VE${STRING},B
JMP 40700
NOP
SKIP68:
40551:
NOP
MOV Y,#15{INTEGER}
MOV X,VE{REAL}
GT X,Y
PUSH X
MOV Y,#1{INTEGER}
MOV X,VE{REAL}
LT X,Y
POP Y
OR X,Y
CMP X,#0{REAL}
JNE NSKIP69
JMP SKIP69
NSKIP69:
JMP 2160
NOP
SKIP69:
40552:
NOP
MOV B,#{STRING}
MOV A,VE${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP70
JMP SKIP70
NSKIP70:
JMP 2160
NOP
SKIP70:
40560:
NOP
MOV B,#{STRING}
MOV VE${STRING},B
NOP
MOV A,#{clear}{down}{right*2}In was soll{space*3}{STRING}
JSR STROUT
NOP
MOV Y,#16{INTEGER}
PUSH Y
MOV Y,VE{REAL}
INT X,Y
POP Y
ADD X,Y
CHGCTX #1
MOV G,PU$[]{STRING}
JSR ARRAYACCESS
JSR STROUT
JSR LINEBREAK
40570:
NOP
INPUT17:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{down}{right*2}veraendert werden (max 20 Buchstaben){down}{right*2}{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP26
MOV A${STRING},A
EMPTYINPUTSKIP26:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK17
JSR EXTRAIGNORED
INPUTCHECK17:
40571:
NOP
MOV B,A${STRING}
JSR LEN
MOV Y,#20{INTEGER}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP71
JMP SKIP71
NSKIP71:
NOP
MOV A,#{up*4}{STRING}
JSR STROUT
JSR LINEBREAK
JMP 40570
NOP
SKIP71:
40580:
NOP
MOV Y,#16{INTEGER}
PUSH Y
MOV Y,VE{REAL}
INT X,Y
POP Y
ADD X,Y
PUSH X
NOP
MOV A,A${STRING}
POP X
MOV G,PU$[]{STRING}
JSR ARRAYSTORE
NOP
MOV B,#{STRING}
MOV A${STRING},B
NOP
MOV Y,#32{INTEGER}
PUSH Y
MOV Y,VE{REAL}
INT X,Y
POP Y
ADD X,Y
PUSH X
NOP
JSR COMPACTMAX
MOV Y,#16{INTEGER}
PUSH Y
MOV Y,VE{REAL}
INT X,Y
POP Y
ADD X,Y
CHGCTX #1
MOV G,PU$[]{STRING}
JSR ARRAYACCESS
MOV B,A
MOV A,#{reverse on}{STRING}
JSR CONCAT
JSR COPYSTR
POP X
MOV G,PU$[]{STRING}
JSR ARRAYSTORE
40590:
NOP
MOV A,#{clear}{STRING}
JSR STROUT
JSR LINEBREAK
40600:
NOP
JMP 40500
40700:
NOP
JSR RESTORE
40710:
NOP
MOV Y,#49152{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#49256{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
40720:
NOP
JSR READNUMBER
MOV X{REAL},Y
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
40730:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#12{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
JSR READSTR
MOV X${STRING},A
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
40740:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
MOV Y,#16{INTEGER}
PUSH Y
MOV Y,N{REAL}
INT X,Y
POP Y
ADD X,Y
PUSH X
JSR READSTR
POP X
MOV G,PU$[]{STRING}
JSR ARRAYSTORE
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
40750:
NOP
MOV Y,#1{INTEGER}
MOV N{REAL},Y
NOP
MOV Y,#15{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(N{REAL})
JSR INITFOR
NOP
MOV Y,#32{INTEGER}
PUSH Y
MOV Y,N{REAL}
INT X,Y
POP Y
ADD X,Y
PUSH X
NOP
JSR COMPACTMAX
MOV Y,#16{INTEGER}
PUSH Y
MOV Y,N{REAL}
INT X,Y
POP Y
ADD X,Y
CHGCTX #1
MOV G,PU$[]{STRING}
JSR ARRAYACCESS
MOV B,A
MOV A,#{reverse on}{STRING}
JSR CONCAT
JSR COPYSTR
POP X
MOV G,PU$[]{STRING}
JSR ARRAYSTORE
NOP
MOV A,(N{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
40760:
NOP
JMP 40500
50020:
50030:
50040:
50050:
50060:
50070:
50080:
50090:
50100:
50110:
NOP
50120:
50130:
50140:
NOP
50150:
50160:
50170:
50180:
50190:
50200:
50210:
50220:
50230:
50240:
50250:
50260:
50270:
50280:
50290:
NOP
JSR END
RTS
