117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
128	.$81f	LDA #147
129	.$821	JSR SINGLECHROUTMAX
133	.$824	LINE_20:
135	.$824	LDA #<CONST_1
136	.$826	LDY #>CONST_1
137	.$828	JSR STROUTBRKWL
141	.$82b	LINE_21:
143	.$82b	LDA #<CONST_2
144	.$82d	LDY #>CONST_2
145	.$82f	JSR STROUTBRKWL
149	.$832	LINE_22:
151	.$832	LDA #<CONST_3
152	.$834	LDY #>CONST_3
153	.$836	JSR STROUTBRKWL
157	.$839	LINE_23:
159	.$839	LDA #<CONST_4
160	.$83b	LDY #>CONST_4
161	.$83d	JSR STROUTBRKWL
165	.$840	LINE_24:
167	.$840	LDA #<CONST_4
168	.$842	LDY #>CONST_4
169	.$844	JSR STROUTBRKWL
173	.$847	LINE_25:
175	.$847	LDA #<CONST_5
176	.$849	LDY #>CONST_5
177	.$84b	JSR STROUTBRKWL
181	.$84e	LINE_26:
183	.$84e	LDA #<CONST_6
184	.$850	LDY #>CONST_6
185	.$852	JSR STROUTBRKWL
189	.$855	LINE_27:
191	.$855	LDA #<CONST_7
192	.$857	LDY #>CONST_7
193	.$859	JSR STROUTBRKWL
197	.$85c	LINE_28:
199	.$85c	LDA #<CONST_7
200	.$85e	LDY #>CONST_7
201	.$860	JSR STROUTBRKWL
205	.$863	LINE_29:
207	.$863	LDA #<CONST_6
208	.$865	LDY #>CONST_6
209	.$867	JSR STROUTBRKWL
213	.$86a	LINE_30:
215	.$86a	LDA #<CONST_5
216	.$86c	LDY #>CONST_5
217	.$86e	JSR STROUTBRKWL
221	.$871	LINE_31:
223	.$871	LDA #<CONST_4
224	.$873	LDY #>CONST_4
225	.$875	JSR STROUTBRKWL
229	.$878	LINE_32:
231	.$878	LDA #<CONST_4
232	.$87a	LDY #>CONST_4
233	.$87c	JSR STROUTBRKWL
237	.$87f	LINE_33:
239	.$87f	LDA #<CONST_3
240	.$881	LDY #>CONST_3
241	.$883	JSR STROUTBRKWL
245	.$886	LINE_34:
247	.$886	LDA #<CONST_2
248	.$888	LDY #>CONST_2
249	.$88a	JSR STROUTBRKWL
253	.$88d	LINE_35:
255	.$88d	LDA #<CONST_1
256	.$88f	LDY #>CONST_1
257	.$891	JSR STROUTBRKWL
261	.$894	LINE_37:
263	.$894	LDY #4
264	.$896	LDA #0
265	.$898	STY VAR_X%
266	.$89b	STA VAR_X%+1
267	.$89e	STY VAR_Y%
268	.$8a1	STA VAR_Y%+1
270	.$8a4	JSR GOSUB
271	.$8a7	JSR LINE_126
273	.$8aa	LINE_39:
275	.$8aa	JSR END
276	.$8ad	RTS
278	.$8ae	LINE_40:
281	.$8ae	LINE_126:
283	.$8ae	JSR COMPACTMAX
284	.$8b1	LDA VAR_X%
285	.$8b4	JSR CHRINT
288	.$8b7	LDA A_REG
289	.$8ba	LDY A_REG+1
290	.$8bd	STA TMP_ZP
291	.$8bf	STY TMP_ZP+1
292	.$8c1	LDA #<VAR_X$
293	.$8c3	LDY #>VAR_X$
294	.$8c5	JSR COPYSTRING
295	.$8c8	JSR COMPACTMAX
296	.$8cb	LDA VAR_Y%
297	.$8ce	JSR CHRINT
300	.$8d1	LDA A_REG
301	.$8d4	LDY A_REG+1
302	.$8d7	STA TMP_ZP
303	.$8d9	STY TMP_ZP+1
304	.$8db	LDA #<VAR_Y$
305	.$8dd	LDY #>VAR_Y$
306	.$8df	JSR COPYSTRING
308	.$8e2	LINE_127:
310	.$8e2	LDA #<CONST_9
311	.$8e4	LDY #>CONST_9
312	.$8e6	STA B_REG
313	.$8e9	STY B_REG+1
314	.$8ec	LDA VAR_X$
315	.$8ef	LDY VAR_X$+1
316	.$8f2	STA A_REG
317	.$8f5	STY A_REG+1
319	.$8f8	JSR SEQ
320	.$8fb	LDA X_REG
321	.$8fd	COMP_SKP0:
322	.$8fd	BEQ LINE_SKIP11
325	.$8ff	LINE_NSKIP11:
327	.$8ff	JMP RETURN
329	.$902	LINE_SKIP11:
332	.$902	LINE_128:
334	.$902	LDA VAR_X$
335	.$905	LDY VAR_X$+1
336	.$908	STA B_REG
337	.$90b	STY B_REG+1
339	.$90e	JSR ASC
340	.$911	LDY #>X_REG
341	.$913	LDA #<X_REG
343	.$915	JSR REALFAC
345	.$918	JSR FACINT
346	.$91b	STY VAR_X%
347	.$91e	STA VAR_X%+1
348	.$921	JSR COMPACTMAX
349	.$924	LDA #<CONST_11R
350	.$926	LDY #>CONST_11R
351	.$928	JSR COPY2_XYA_CREG
355	.$92b	LDA VAR_X$
356	.$92e	LDY VAR_X$+1
357	.$931	STA B_REG
358	.$934	STY B_REG+1
359	.$937	JSR MIDNEGC
370	.$93a	LDA A_REG
371	.$93d	LDY A_REG+1
372	.$940	STA TMP_ZP
373	.$942	STY TMP_ZP+1
374	.$944	LDA #<VAR_X$
375	.$946	LDY #>VAR_X$
376	.$948	JSR COPYSTRING
378	.$94b	LINE_129:
380	.$94b	LDA VAR_Y$
381	.$94e	LDY VAR_Y$+1
382	.$951	STA B_REG
383	.$954	STY B_REG+1
385	.$957	JSR ASC
386	.$95a	LDA #0
387	.$95c	LDY TMP2_ZP
388	.$95e	STY VAR_Y%
389	.$961	STA VAR_Y%+1
391	.$964	JSR COMPACTMAX
392	.$967	LDA #<CONST_11R
393	.$969	LDY #>CONST_11R
394	.$96b	JSR COPY2_XYA_CREG
398	.$96e	LDA VAR_Y$
399	.$971	LDY VAR_Y$+1
400	.$974	STA B_REG
401	.$977	STY B_REG+1
402	.$97a	JSR MIDNEGC
413	.$97d	LDA A_REG
414	.$980	LDY A_REG+1
415	.$983	STA TMP_ZP
416	.$985	STY TMP_ZP+1
417	.$987	LDA #<VAR_Y$
418	.$989	LDY #>VAR_Y$
419	.$98b	JSR COPYSTRING
420	.$98e	JSR GOSUB
421	.$991	JSR LINE_138
422	.$994	LDY VAR_P%
423	.$997	LDA VAR_P%+1
425	.$99a	STY Y_REG
426	.$99d	ORA Y_REG
427	.$9a0	COMP_SKP1:
428	.$9a0	BEQ LINE_SKIP12
432	.$9a2	LINE_NSKIP12:
434	.$9a2	JMP LINE_127
436	.$9a5	LINE_SKIP12:
439	.$9a5	LINE_130:
441	.$9a5	LDY VAR_X%
442	.$9a8	LDA VAR_X%+1
443	.$9ab	JSR SUPERFIDEX
445	.$9ae	STY VAR_X%
446	.$9b1	STA VAR_X%+1
447	.$9b4	JSR GOSUB
448	.$9b7	JSR LINE_138
449	.$9ba	LDY VAR_P%
450	.$9bd	LDA VAR_P%+1
452	.$9c0	EOR #$FF
453	.$9c2	TAX
454	.$9c3	TYA
455	.$9c4	EOR #$FF
456	.$9c6	TAY
457	.$9c7	TXA
458	.$9c8	JSR INTFAC
460	.$9cb	JSR FACXREG
462	.$9ce	LDA X_REG
463	.$9d0	COMP_SKP2:
464	.$9d0	BEQ LINE_SKIP13
467	.$9d2	LINE_NSKIP13:
469	.$9d2	JMP LINE_130
471	.$9d5	LINE_SKIP13:
474	.$9d5	LINE_131:
476	.$9d5	LDY VAR_X%
477	.$9d8	LDA VAR_X%+1
478	.$9db	JSR SUPERFIINX
480	.$9de	STY VAR_X%
481	.$9e1	STA VAR_X%+1
482	.$9e4	LDY CONST_10
483	.$9e7	LDA CONST_10+1
484	.$9ea	STY VAR_U%
485	.$9ed	STA VAR_U%+1
486	.$9f0	STY VAR_D%
487	.$9f3	STA VAR_D%+1
490	.$9f6	LINE_132:
492	.$9f6	JSR GOSUB
493	.$9f9	JSR LINE_270
494	.$9fc	LDY VAR_Y%
495	.$9ff	LDA VAR_Y%+1
496	.$a02	JSR SUPERFIDEX
498	.$a05	STY VAR_Y%
499	.$a08	STA VAR_Y%+1
500	.$a0b	JSR GOSUB
501	.$a0e	JSR LINE_138
502	.$a11	LDY VAR_P%
503	.$a14	LDA VAR_P%+1
505	.$a17	STY Y_REG
506	.$a1a	ORA Y_REG
507	.$a1d	COMP_SKP3:
508	.$a1d	BEQ LINE_SKIP14
512	.$a1f	LINE_NSKIP14:
514	.$a1f	LDY CONST_10
515	.$a22	LDA CONST_10+1
517	.$a25	STY VAR_U%
518	.$a28	STA VAR_U%+1
519	.$a2b	JMP LINE_134
521	.$a2e	LINE_SKIP14:
524	.$a2e	LINE_133:
526	.$a2e	LDY VAR_U%
527	.$a31	LDA VAR_U%+1
529	.$a34	EOR #$FF
530	.$a36	TAX
531	.$a37	TYA
532	.$a38	EOR #$FF
533	.$a3a	TAY
534	.$a3b	TXA
535	.$a3c	JSR INTFAC
537	.$a3f	JSR FACXREG
539	.$a42	LDA X_REG
540	.$a44	COMP_SKP4:
541	.$a44	BNE LINE_NSKIP15
543	.$a46	JMP LINE_SKIP15
545	.$a49	LINE_NSKIP15:
547	.$a49	JSR COMPACTMAX
548	.$a4c	LDA VAR_X%
549	.$a4f	JSR CHRINTB
551	.$a52	LDA VAR_X$
552	.$a55	LDY VAR_X$+1
553	.$a58	STA A_REG
554	.$a5b	STY A_REG+1
555	.$a5e	JSR CONCAT
557	.$a61	LDA A_REG
558	.$a64	LDY A_REG+1
559	.$a67	STA TMP_ZP
560	.$a69	STY TMP_ZP+1
561	.$a6b	LDA #<VAR_X$
562	.$a6d	LDY #>VAR_X$
563	.$a6f	JSR COPYSTRING
564	.$a72	JSR COMPACTMAX
565	.$a75	LDA VAR_Y%
566	.$a78	JSR CHRINTB
568	.$a7b	LDA VAR_Y$
569	.$a7e	LDY VAR_Y$+1
570	.$a81	STA A_REG
571	.$a84	STY A_REG+1
572	.$a87	JSR CONCAT
574	.$a8a	LDA A_REG
575	.$a8d	LDY A_REG+1
576	.$a90	STA TMP_ZP
577	.$a92	STY TMP_ZP+1
578	.$a94	LDA #<VAR_Y$
579	.$a96	LDY #>VAR_Y$
580	.$a98	JSR COPYSTRING
581	.$a9b	LDY #255
582	.$a9d	LDA #255
583	.$a9f	STY VAR_U%
584	.$aa2	STA VAR_U%+1
590	.$aa5	LINE_SKIP15:
593	.$aa5	LINE_134:
595	.$aa5	LDY #$00
596	.$aa7	LDA #$02
597	.$aa9	STY TMP4_REG+1
598	.$aac	STA TMP4_REG
599	.$aaf	LDY VAR_Y%
600	.$ab2	LDA VAR_Y%+1
601	.$ab5	JSR INTADDOPT16X
602	.$ab8	STY VAR_Y%
603	.$abb	STA VAR_Y%+1
620	.$abe	JSR GOSUB
621	.$ac1	JSR LINE_138
622	.$ac4	LDY VAR_P%
623	.$ac7	LDA VAR_P%+1
625	.$aca	STY Y_REG
626	.$acd	ORA Y_REG
627	.$ad0	COMP_SKP5:
628	.$ad0	BEQ LINE_SKIP16
632	.$ad2	LINE_NSKIP16:
634	.$ad2	LDY CONST_10
635	.$ad5	LDA CONST_10+1
637	.$ad8	STY VAR_D%
638	.$adb	STA VAR_D%+1
639	.$ade	JMP LINE_136
641	.$ae1	LINE_SKIP16:
644	.$ae1	LINE_135:
646	.$ae1	LDY VAR_D%
647	.$ae4	LDA VAR_D%+1
649	.$ae7	EOR #$FF
650	.$ae9	TAX
651	.$aea	TYA
652	.$aeb	EOR #$FF
653	.$aed	TAY
654	.$aee	TXA
655	.$aef	JSR INTFAC
657	.$af2	JSR FACXREG
659	.$af5	LDA X_REG
660	.$af7	COMP_SKP6:
661	.$af7	BNE LINE_NSKIP17
663	.$af9	JMP LINE_SKIP17
665	.$afc	LINE_NSKIP17:
667	.$afc	JSR COMPACTMAX
668	.$aff	LDA VAR_X%
669	.$b02	JSR CHRINTB
671	.$b05	LDA VAR_X$
672	.$b08	LDY VAR_X$+1
673	.$b0b	STA A_REG
674	.$b0e	STY A_REG+1
675	.$b11	JSR CONCAT
677	.$b14	LDA A_REG
678	.$b17	LDY A_REG+1
679	.$b1a	STA TMP_ZP
680	.$b1c	STY TMP_ZP+1
681	.$b1e	LDA #<VAR_X$
682	.$b20	LDY #>VAR_X$
683	.$b22	JSR COPYSTRING
684	.$b25	JSR COMPACTMAX
685	.$b28	LDA VAR_Y%
686	.$b2b	JSR CHRINTB
688	.$b2e	LDA VAR_Y$
689	.$b31	LDY VAR_Y$+1
690	.$b34	STA A_REG
691	.$b37	STY A_REG+1
692	.$b3a	JSR CONCAT
694	.$b3d	LDA A_REG
695	.$b40	LDY A_REG+1
696	.$b43	STA TMP_ZP
697	.$b45	STY TMP_ZP+1
698	.$b47	LDA #<VAR_Y$
699	.$b49	LDY #>VAR_Y$
700	.$b4b	JSR COPYSTRING
701	.$b4e	LDY #255
702	.$b50	LDA #255
703	.$b52	STY VAR_D%
704	.$b55	STA VAR_D%+1
710	.$b58	LINE_SKIP17:
713	.$b58	LINE_136:
715	.$b58	LDY VAR_Y%
716	.$b5b	LDA VAR_Y%+1
717	.$b5e	JSR SUPERFIDEX
719	.$b61	STY VAR_Y%
720	.$b64	STA VAR_Y%+1
721	.$b67	LDY VAR_X%
722	.$b6a	LDA VAR_X%+1
723	.$b6d	JSR SUPERFIINX
725	.$b70	STY VAR_X%
726	.$b73	STA VAR_X%+1
727	.$b76	JSR GOSUB
728	.$b79	JSR LINE_138
729	.$b7c	LDY VAR_P%
730	.$b7f	LDA VAR_P%+1
732	.$b82	EOR #$FF
733	.$b84	TAX
734	.$b85	TYA
735	.$b86	EOR #$FF
736	.$b88	TAY
737	.$b89	TXA
738	.$b8a	JSR INTFAC
740	.$b8d	JSR FACXREG
742	.$b90	LDA X_REG
743	.$b92	COMP_SKP7:
744	.$b92	BEQ LINE_SKIP18
747	.$b94	LINE_NSKIP18:
749	.$b94	JMP LINE_132
751	.$b97	LINE_SKIP18:
754	.$b97	LINE_137:
756	.$b97	JMP LINE_127
758	.$b9a	LINE_138:
760	.$b9a	LDA #$0f
761	.$b9c	LDY #$00
762	.$b9e	STA TMP_ZP
763	.$ba0	STY TMP_ZP+1
764	.$ba2	LDY VAR_Y%
765	.$ba5	LDA VAR_Y%+1
766	.$ba8	JSR ICMP
778	.$bab	ROL
779	.$bac	BCS GT_GT0
780	.$bae	LDA #<REAL_CONST_ZERO
781	.$bb0	LDY #>REAL_CONST_ZERO
782	.$bb2	JMP GT_SKIP0
783	.$bb5	GT_GT0:
784	.$bb5	LDA #<REAL_CONST_MINUS_ONE
785	.$bb7	LDY #>REAL_CONST_MINUS_ONE
786	.$bb9	GT_SKIP0:
788	.$bb9	JSR REALFACPUSH
790	.$bbc	LDA #$00
791	.$bbe	LDY #$00
792	.$bc0	STA TMP_ZP
793	.$bc2	STY TMP_ZP+1
794	.$bc4	LDY VAR_Y%
795	.$bc7	LDA VAR_Y%+1
796	.$bca	JSR ICMP
808	.$bcd	BEQ LT_LT_EQ1
809	.$bcf	ROL
810	.$bd0	BCC LT_LT1
811	.$bd2	LT_LT_EQ1:
812	.$bd2	LDA #<REAL_CONST_ZERO
813	.$bd4	LDY #>REAL_CONST_ZERO
814	.$bd6	JMP LT_SKIP1
815	.$bd9	LT_LT1:
816	.$bd9	LDA #<REAL_CONST_MINUS_ONE
817	.$bdb	LDY #>REAL_CONST_MINUS_ONE
818	.$bdd	LT_SKIP1:
820	.$bdd	JSR REALFACPUSH
822	.$be0	LDA #$0f
823	.$be2	LDY #$00
824	.$be4	STA TMP_ZP
825	.$be6	STY TMP_ZP+1
826	.$be8	LDY VAR_X%
827	.$beb	LDA VAR_X%+1
828	.$bee	JSR ICMP
840	.$bf1	ROL
841	.$bf2	BCS GT_GT2
842	.$bf4	LDA #<REAL_CONST_ZERO
843	.$bf6	LDY #>REAL_CONST_ZERO
844	.$bf8	JMP GT_SKIP2
845	.$bfb	GT_GT2:
846	.$bfb	LDA #<REAL_CONST_MINUS_ONE
847	.$bfd	LDY #>REAL_CONST_MINUS_ONE
848	.$bff	GT_SKIP2:
850	.$bff	JSR REALFACPUSH
852	.$c02	LDA #$00
853	.$c04	LDY #$00
854	.$c06	STA TMP_ZP
855	.$c08	STY TMP_ZP+1
856	.$c0a	LDY VAR_X%
857	.$c0d	LDA VAR_X%+1
858	.$c10	JSR ICMP
870	.$c13	BEQ LT_LT_EQ3
871	.$c15	ROL
872	.$c16	BCC LT_LT3
873	.$c18	LT_LT_EQ3:
874	.$c18	LDA #<REAL_CONST_ZERO
875	.$c1a	LDY #>REAL_CONST_ZERO
876	.$c1c	JMP LT_SKIP3
877	.$c1f	LT_LT3:
878	.$c1f	LDA #<REAL_CONST_MINUS_ONE
879	.$c21	LDY #>REAL_CONST_MINUS_ONE
880	.$c23	LT_SKIP3:
882	.$c23	JSR REALFAC
883	.$c26	JSR FACXREG
885	.$c29	JSR POPREAL2X
887	.$c2c	JSR FASTOR
890	.$c2f	JSR FACXREG
892	.$c32	JSR POPREAL2X
894	.$c35	JSR FASTOR
897	.$c38	JSR FACXREG
899	.$c3b	JSR POPREAL2X
901	.$c3e	JSR FASTOR
904	.$c41	JSR FACXREG
906	.$c44	LDA X_REG
907	.$c46	COMP_SKP8:
908	.$c46	BEQ LINE_SKIP19
911	.$c48	LINE_NSKIP19:
913	.$c48	LDY #255
914	.$c4a	LDA #255
915	.$c4c	STY VAR_P%
916	.$c4f	STA VAR_P%+1
921	.$c52	JMP RETURN
923	.$c55	LINE_SKIP19:
926	.$c55	LINE_139:
928	.$c55	JSR GOSUB
929	.$c58	JSR LINE_200
930	.$c5b	JMP RETURN
932	.$c5e	LINE_150:
935	.$c5e	LINE_200:
937	.$c5e	LDY #0
938	.$c60	LDA #4
940	.$c62	STY VAR_AD%
941	.$c65	STA VAR_AD%+1
943	.$c68	LINE_210:
945	.$c68	LDY VAR_Y%
946	.$c6b	LDA VAR_Y%+1
948	.$c6e	JSR INTFAC
949	.$c71	JSR FACYREG
950	.$c74	LDY #5
951	.$c76	LDA #0
952	.$c78	STY A_REG
953	.$c7b	STA A_REG+1
958	.$c7e	JSR SHL
959	.$c81	JSR FACXREG
961	.$c84	LDY #3
962	.$c86	LDA #0
963	.$c88	STY A_REG
964	.$c8b	STA A_REG+1
965	.$c8e	JSR YREGFAC
968	.$c91	JSR SHL
970	.$c94	LDA #<X_REG
971	.$c96	LDY #>X_REG
973	.$c98	JSR FASTFADDMEM
976	.$c9b	JSR FACXREG
978	.$c9e	LDY VAR_AD%
979	.$ca1	LDA VAR_AD%+1
981	.$ca4	JSR INTFAC
983	.$ca7	LDA #<X_REG
984	.$ca9	LDY #>X_REG
986	.$cab	JSR FASTFADDMEM
989	.$cae	JSR FACXREG
991	.$cb1	LDY VAR_X%
992	.$cb4	LDA VAR_X%+1
994	.$cb7	JSR INTFAC
996	.$cba	LDA #<X_REG
997	.$cbc	LDY #>X_REG
999	.$cbe	JSR FASTFADDMEM
1004	.$cc1	JSR FACINT
1005	.$cc4	STY VAR_AD%
1006	.$cc7	STA VAR_AD%+1
1008	.$cca	LINE_220:
1010	.$cca	LDY VAR_AD%
1011	.$ccd	LDA VAR_AD%+1
1012	.$cd0	STY MOVBSELF1+1
1014	.$cd3	STA MOVBSELF1+2
1015	.$cd6	MOVBSELF1:
1016	.$cd6	LDY $FFFF
1017	.$cd9	LDA #0
1019	.$cdb	STY VAR_R%
1020	.$cde	STA VAR_R%+1
1022	.$ce1	LINE_230:
1024	.$ce1	LDA #$2e
1025	.$ce3	LDY #$00
1026	.$ce5	STA TMP_ZP
1027	.$ce7	STY TMP_ZP+1
1028	.$ce9	LDY VAR_R%
1029	.$cec	LDA VAR_R%+1
1030	.$cef	JSR ICMP
1042	.$cf2	EQ_EQ4:
1043	.$cf2	EQ_SKIP4:
1044	.$cf2	COMP_SKP9:
1045	.$cf2	BNE LINE_SKIP20
1046	.$cf4	LINE_NSKIP20:
1049	.$cf4	LDY CONST_10
1050	.$cf7	LDA CONST_10+1
1052	.$cfa	STY VAR_R%
1053	.$cfd	STA VAR_R%+1
1055	.$d00	LINE_SKIP20:
1058	.$d00	LINE_240:
1060	.$d00	LDA #$2a
1061	.$d02	LDY #$00
1062	.$d04	STA TMP_ZP
1063	.$d06	STY TMP_ZP+1
1064	.$d08	LDY VAR_R%
1065	.$d0b	LDA VAR_R%+1
1066	.$d0e	JSR ICMP
1078	.$d11	EQ_EQ5:
1079	.$d11	EQ_SKIP5:
1080	.$d11	COMP_SKP10:
1081	.$d11	BNE LINE_SKIP21
1082	.$d13	LINE_NSKIP21:
1085	.$d13	LDY #255
1086	.$d15	LDA #255
1087	.$d17	STY VAR_R%
1088	.$d1a	STA VAR_R%+1
1094	.$d1d	LINE_SKIP21:
1097	.$d1d	LINE_245:
1099	.$d1d	LDY VAR_R%
1100	.$d20	LDA VAR_R%+1
1102	.$d23	STY VAR_P%
1103	.$d26	STA VAR_P%+1
1105	.$d29	LINE_250:
1107	.$d29	JMP RETURN
1109	.$d2c	LINE_260:
1112	.$d2c	LINE_270:
1114	.$d2c	LDY #0
1115	.$d2e	LDA #4
1117	.$d30	STY VAR_AD%
1118	.$d33	STA VAR_AD%+1
1120	.$d36	LINE_280:
1122	.$d36	LDY VAR_Y%
1123	.$d39	LDA VAR_Y%+1
1125	.$d3c	JSR INTFAC
1126	.$d3f	JSR FACYREG
1127	.$d42	LDY #5
1128	.$d44	LDA #0
1129	.$d46	STY A_REG
1130	.$d49	STA A_REG+1
1135	.$d4c	JSR SHL
1136	.$d4f	JSR FACXREG
1138	.$d52	LDY #3
1139	.$d54	LDA #0
1140	.$d56	STY A_REG
1141	.$d59	STA A_REG+1
1142	.$d5c	JSR YREGFAC
1145	.$d5f	JSR SHL
1147	.$d62	LDA #<X_REG
1148	.$d64	LDY #>X_REG
1150	.$d66	JSR FASTFADDMEM
1153	.$d69	JSR FACXREG
1155	.$d6c	LDY VAR_AD%
1156	.$d6f	LDA VAR_AD%+1
1158	.$d72	JSR INTFAC
1160	.$d75	LDA #<X_REG
1161	.$d77	LDY #>X_REG
1163	.$d79	JSR FASTFADDMEM
1166	.$d7c	JSR FACXREG
1168	.$d7f	LDY VAR_X%
1169	.$d82	LDA VAR_X%+1
1171	.$d85	JSR INTFAC
1173	.$d88	LDA #<X_REG
1174	.$d8a	LDY #>X_REG
1176	.$d8c	JSR FASTFADDMEM
1181	.$d8f	JSR FACINT
1182	.$d92	STY VAR_AD%
1183	.$d95	STA VAR_AD%+1
1185	.$d98	LINE_290:
1187	.$d98	LDY VAR_AD%
1188	.$d9b	LDA VAR_AD%+1
1189	.$d9e	STY MOVBSELF2+1
1191	.$da1	STA MOVBSELF2+2
1192	.$da4	LDA #$2A
1193	.$da6	MOVBSELF2:
1194	.$da6	STA $FFFF
1196	.$da9	LINE_300:
1198	.$da9	JMP RETURN
1200	.$dac	LINE_310:
1202	.$dac	JSR END
1203	.$daf	RTS
1206	.$db0	END   LDX SP_SAVE
1207	.$db3	TXS
1214	.$db4	RTS
1217	.$db5	START  LDA ENDSTRBUF+1
1218	.$db8	BNE ENDGIVEN
1219	.$dba	LDA BASICEND
1220	.$dbc	STA ENDSTRBUF
1221	.$dbf	LDA BASICEND+1
1222	.$dc1	STA ENDSTRBUF+1
1223	.$dc4	ENDGIVEN LDA #<FPSTACK
1224	.$dc6	LDY #>FPSTACK
1225	.$dc8	STA FPSTACKP
1226	.$dcb	STY FPSTACKP+1
1227	.$dce	LDA #<FORSTACK
1228	.$dd0	LDY #>FORSTACK
1229	.$dd2	STA FORSTACKP
1230	.$dd5	STY FORSTACKP+1
1231	.$dd8	LDA #<STRBUF
1232	.$dda	LDY #>STRBUF
1233	.$ddc	STA STRBUFP
1234	.$ddf	STY STRBUFP+1
1235	.$de2	STA HIGHP
1236	.$de5	STY HIGHP+1
1237	.$de8	LDA #0
1238	.$dea	STA CHLOCKFLAG
1239	.$ded	STA LASTVAR
1240	.$df0	STA LASTVAR+1
1241	.$df3	JSR INITVARS
1242	.$df6	LDA #0
1243	.$df8	STA CMD_NUM
1244	.$dfb	STA CHANNEL
1245	.$dfe	TAY
1246	.$dff	TAX
1250	.$e00	STA KEYNDX
1256	.$e02	JSR RESTORE
1257	.$e05	CLC
1261	.$e06	RTS
1264	.$e07	INITNARRAY
1265	.$e07	STA TMP_ZP
1266	.$e09	STY TMP_ZP+1
1267	.$e0b	LDY #0
1268	.$e0d	TYA
1269	.$e0e	NINITLOOP STA (TMP_ZP),Y
1270	.$e10	INC TMP_ZP
1271	.$e12	BNE NLOOPNOV
1272	.$e14	INC TMP_ZP+1
1273	.$e16	NLOOPNOV LDX TMP2_ZP
1274	.$e18	BNE NLOOPNOV2
1275	.$e1a	DEC TMP2_ZP+1
1276	.$e1c	NLOOPNOV2 DEC TMP2_ZP
1277	.$e1e	BNE NINITLOOP
1278	.$e20	LDX TMP2_ZP+1
1279	.$e22	BNE NINITLOOP
1280	.$e24	RTS
1283	.$e25	INITSTRARRAY
1284	.$e25	STA TMP_ZP
1285	.$e27	STY TMP_ZP+1
1286	.$e29	SINITLOOP LDY #0
1287	.$e2b	LDA #<EMPTYSTR
1288	.$e2d	STA (TMP_ZP),Y
1289	.$e2f	LDA #>EMPTYSTR
1290	.$e31	INY
1291	.$e32	STA (TMP_ZP),Y
1292	.$e34	CLC
1293	.$e35	LDA TMP_ZP
1294	.$e37	ADC #2
1295	.$e39	STA TMP_ZP
1296	.$e3b	BCC SLOOPNOV1
1297	.$e3d	INC TMP_ZP+1
1298	.$e3f	SLOOPNOV1 SEC
1299	.$e40	LDA TMP2_ZP
1300	.$e42	SBC #2
1301	.$e44	STA TMP2_ZP
1302	.$e46	BCS SLOOPNOV2
1303	.$e48	DEC TMP2_ZP+1
1304	.$e4a	SLOOPNOV2 LDA TMP2_ZP
1305	.$e4c	BNE SINITLOOP
1306	.$e4e	LDA TMP2_ZP+1
1307	.$e50	BNE SINITLOOP
1308	.$e52	RTS
1311	.$e53	INITSPARAMS STA TMP3_ZP
1312	.$e55	STY TMP3_ZP+1
1313	.$e57	SEC
1314	.$e58	SBC #2
1315	.$e5a	STA TMP_ZP
1316	.$e5c	TYA
1317	.$e5d	SBC #0
1318	.$e5f	STA TMP_ZP+1
1319	.$e61	LDY #0
1320	.$e63	LDA (TMP_ZP),Y
1321	.$e65	STA TMP2_ZP
1322	.$e67	INY
1323	.$e68	LDA (TMP_ZP),Y
1324	.$e6a	STA TMP2_ZP+1
1325	.$e6c	LDA TMP3_ZP
1326	.$e6e	LDY TMP3_ZP+1
1327	.$e70	RTS
1330	.$e71	INITSTRVARS LDA #<STRINGVARS_START  
1331	.$e73	LDY #>STRINGVARS_START
1332	.$e75	CMP #<STRINGVARS_END
1333	.$e77	BNE INITIT1
1334	.$e79	CPY #>STRINGVARS_END
1335	.$e7b	BNE INITIT1
1336	.$e7d	JMP INITSA2     
1337	.$e80	INITIT1  STA TMP_ZP
1338	.$e82	STY TMP_ZP+1
1339	.$e84	LDY #0
1340	.$e86	INITSTRLOOP LDA #<EMPTYSTR
1341	.$e88	STA (TMP_ZP),Y
1342	.$e8a	INY
1343	.$e8b	LDA #>EMPTYSTR
1344	.$e8d	STA (TMP_ZP),Y
1345	.$e8f	DEY
1346	.$e90	LDA TMP_ZP
1347	.$e92	CLC
1348	.$e93	ADC #2
1349	.$e95	STA TMP_ZP
1350	.$e97	LDA TMP_ZP+1
1351	.$e99	ADC #0
1352	.$e9b	STA TMP_ZP+1
1353	.$e9d	CMP #>STRINGVARS_END
1354	.$e9f	BNE INITSTRLOOP
1355	.$ea1	LDA TMP_ZP
1356	.$ea3	CMP #<STRINGVARS_END
1357	.$ea5	BNE INITSTRLOOP
1358	.$ea7	INITSA2  LDA #<STRINGARRAYS_START 
1359	.$ea9	LDY #>STRINGARRAYS_START
1360	.$eab	CMP #<STRINGARRAYS_END
1361	.$ead	BNE ARRAYLOOP
1362	.$eaf	CPY #>STRINGARRAYS_END
1363	.$eb1	BNE ARRAYLOOP
1364	.$eb3	RTS       
1365	.$eb4	ARRAYLOOP CLC
1366	.$eb5	ADC #3
1367	.$eb7	BCC ARRAYSKIP1
1368	.$eb9	INY
1369	.$eba	ARRAYSKIP1 CPY #>STRINGARRAYS_END
1370	.$ebc	BEQ ARRAYSC
1371	.$ebe	BCC ARRAYSKIP2
1372	.$ec0	JMP ARRAYQUIT
1373	.$ec3	ARRAYSC  CMP #<STRINGARRAYS_END
1374	.$ec5	BCS ARRAYQUIT
1375	.$ec7	ARRAYSKIP2 STA TMP_REG
1376	.$ec9	STY TMP_REG+1
1377	.$ecb	JSR INITSPARAMS
1378	.$ece	LDA TMP_REG
1379	.$ed0	LDY TMP_REG+1
1380	.$ed2	JSR INITSTRARRAY
1381	.$ed5	LDA TMP_ZP
1382	.$ed7	LDY TMP_ZP+1
1383	.$ed9	JMP ARRAYLOOP
1384	.$edc	ARRAYQUIT RTS
1387	.$edd	RESTORE  LDA #<DATAS
1388	.$edf	LDY #>DATAS
1389	.$ee1	STA DATASP
1390	.$ee4	STY DATASP+1
1391	.$ee7	RTS
1394	.$ee8	MID   LDA #<D_REG
1395	.$eea	LDY #>D_REG
1396	.$eec	JSR REALFAC
1397	.$eef	JSR SGNFAC
1398	.$ef2	ROL
1399	.$ef3	BCC MIDLENGTH  
1400	.$ef5	MIDNEGC  JSR STRFUNCINT  
1401	.$ef8	LDA TMP_REG   
1402	.$efa	STA TMP_REG+1
1403	.$efc	BNE MIDOK2
1404	.$efe	JMP ILLEGALQUANTITY 
1405	.$f01	MIDOK2  DEC TMP_REG+1  
1406	.$f03	LDA (TMP_ZP),Y
1407	.$f05	SEC
1408	.$f06	SBC TMP_REG+1
1409	.$f08	STA TMP_REG   
1410	.$f0a	BCS MIDNOV2
1411	.$f0c	STY TMP_REG   
1412	.$f0e	JMP MIDNOV2
1413	.$f11	MIDLENGTH JSR FACWORD
1414	.$f14	MIDCONST STY TMP2_REG  
1415	.$f17	JSR STRFUNCINT
1416	.$f1a	LDA TMP_REG   
1417	.$f1c	BNE MIDOK
1418	.$f1e	JMP ILLEGALQUANTITY 
1419	.$f21	MIDOK  LDX TMP2_REG
1420	.$f24	STX TMP_REG   
1421	.$f26	STA TMP_REG+1
1422	.$f28	DEC TMP_REG+1  
1423	.$f2a	MIDNOV
1424	.$f2a	MIDNOV2  LDA TMP_REG+1  
1425	.$f2c	CLC
1426	.$f2d	ADC TMP_REG   
1427	.$f2f	BCS MIDCLAMP
1428	.$f31	CMP (TMP_ZP),Y
1429	.$f33	BCS MIDCLAMP
1430	.$f35	MIDCOPY  JMP STRFUNC
1431	.$f38	MIDCLAMP LDA (TMP_ZP),Y  
1432	.$f3a	SEC
1433	.$f3b	SBC TMP_REG+1
1434	.$f3d	STA TMP_REG
1435	.$f3f	BCS MIDCOPY
1436	.$f41	STY TMP_REG
1437	.$f43	JMP MIDCOPY
1440	.$f46	STRFUNCINT  LDA B_REG   
1441	.$f49	STA TMP_ZP
1442	.$f4b	LDA B_REG+1
1443	.$f4e	STA TMP_ZP+1
1444	.$f50	LDA #<C_REG
1445	.$f52	LDY #>C_REG
1446	.$f54	JSR REALFAC
1447	.$f57	JSR FACWORD
1448	.$f5a	STY TMP_REG   
1449	.$f5c	LDY #0
1450	.$f5e	RTS
1457	.$f5f	STRFUNC  LDA TMP_REG+1
1458	.$f61	BEQ STARTATZERO
1459	.$f63	LDA TMP_ZP
1460	.$f65	CLC
1461	.$f66	ADC TMP_REG+1
1462	.$f68	STA TMP_ZP
1463	.$f6a	BCC STARTATZERO
1464	.$f6c	INC TMP_ZP+1
1465	.$f6e	STARTATZERO LDY #0
1466	.$f70	LDA (TMP_ZP),Y
1467	.$f72	PHA     
1468	.$f73	LDA TMP_REG
1469	.$f75	BNE STRFUNCNZ
1470	.$f77	LDA #<EMPTYSTR
1471	.$f79	STA A_REG
1472	.$f7c	LDA #>EMPTYSTR
1473	.$f7e	STA A_REG+1
1474	.$f81	PLA     
1477	.$f82	JMP EXITSTRFUNC
1478	.$f85	STRFUNCNZ STA (TMP_ZP),Y
1479	.$f87	LDA #<A_REG
1480	.$f89	LDY #>A_REG
1481	.$f8b	STA TMP2_ZP
1482	.$f8d	STY TMP2_ZP+1
1483	.$f8f	LDX TMP_REG   
1484	.$f91	JSR COPYONLY
1485	.$f94	PLA
1486	.$f95	LDY #0
1487	.$f97	STA (TMP_ZP),Y  
1488	.$f99	EXITSTRFUNC RTS
1491	.$f9a	CONCAT  LDA A_REG
1492	.$f9d	STA TMP_ZP
1493	.$f9f	LDA A_REG+1
1494	.$fa2	STA TMP_ZP+1
1495	.$fa4	LDA STRBUFP  
1496	.$fa7	STA A_REG
1497	.$faa	STA TMP3_ZP
1498	.$fac	LDA STRBUFP+1
1499	.$faf	STA A_REG+1
1500	.$fb2	STA TMP3_ZP+1
1501	.$fb4	LDY #0
1502	.$fb6	LDA (TMP_ZP),Y
1503	.$fb8	TAX
1504	.$fb9	LDA B_REG
1505	.$fbc	STA TMP2_ZP
1506	.$fbe	LDA B_REG+1
1507	.$fc1	STA TMP2_ZP+1
1508	.$fc3	TXA
1509	.$fc4	CLC
1510	.$fc5	ADC (TMP2_ZP),Y
1511	.$fc7	BCC CCSTRFITS
1512	.$fc9	JMP STRINGTOOLONG
1513	.$fcc	CCSTRFITS STA (TMP3_ZP),Y
1514	.$fce	INC TMP3_ZP
1515	.$fd0	BNE CCNOOV2
1516	.$fd2	INC TMP3_ZP+1
1517	.$fd4	CCNOOV2  CLC
1518	.$fd5	ADC STRBUFP
1519	.$fd8	PHP
1520	.$fd9	CLC
1521	.$fda	ADC #3
1522	.$fdc	STA STRBUFP
1523	.$fdf	BCC CCNOCS1
1524	.$fe1	INC STRBUFP+1
1525	.$fe4	CCNOCS1  PLP
1526	.$fe5	BCC CCSTRFITS2
1527	.$fe7	INC STRBUFP+1
1528	.$fea	CCSTRFITS2 JSR COPY2CONCAT  
1529	.$fed	LDA B_REG   
1530	.$ff0	STA TMP_ZP
1531	.$ff2	LDA B_REG+1
1532	.$ff5	STA TMP_ZP+1
1533	.$ff7	JMP COPY2CONCAT  
1536	.$ffa	COPY2CONCAT LDY #0
1537	.$ffc	LDA (TMP_ZP),Y
1538	.$ffe	BEQ NOC2C   
1539	.$1000	STA TMP2_ZP
1540	.$1002	INC TMP_ZP
1541	.$1004	BNE COPY2LOOP
1542	.$1006	INC TMP_ZP+1
1543	.$1008	COPY2LOOP LDA (TMP_ZP),Y
1544	.$100a	STA (TMP3_ZP),Y
1545	.$100c	INY
1546	.$100d	CPY TMP2_ZP
1547	.$100f	BNE COPY2LOOP
1548	.$1011	TYA
1549	.$1012	CLC
1550	.$1013	ADC TMP3_ZP   
1551	.$1015	STA TMP3_ZP
1552	.$1017	BCC NOC2C
1553	.$1019	INC TMP3_ZP+1
1554	.$101b	NOC2C  RTS
1557	.$101c	ASC   LDA B_REG
1558	.$101f	STA TMP_ZP
1559	.$1021	LDA B_REG+1
1560	.$1024	STA TMP_ZP+1
1561	.$1026	LDY #0
1562	.$1028	LDA (TMP_ZP),Y
1563	.$102a	BNE DOASC
1564	.$102c	JMP ILLEGALQUANTITY
1565	.$102f	DOASC  INY
1566	.$1030	LDA (TMP_ZP),Y
1567	.$1032	STA TMP2_ZP  
1568	.$1034	TAY
1569	.$1035	LDA #0
1570	.$1037	JSR INTFAC
1571	.$103a	JMP FACXREG
1574	.$103d	CHRINTB  JSR CHRINT
1575	.$1040	LDY A_REG
1576	.$1043	LDA A_REG+1
1577	.$1046	STY B_REG
1578	.$1049	STA B_REG+1
1579	.$104c	RTS
1582	.$104d	CHRINT  TAX
1583	.$104e	LDA STRBUFP
1584	.$1051	STA TMP_ZP
1585	.$1053	STA A_REG
1586	.$1056	LDA STRBUFP+1
1587	.$1059	STA TMP_ZP+1
1588	.$105b	STA A_REG+1
1589	.$105e	LDA #1
1590	.$1060	LDY #0
1591	.$1062	STA (TMP_ZP),Y
1592	.$1064	TXA
1593	.$1065	INY
1594	.$1066	STA (TMP_ZP),Y
1595	.$1068	LDA STRBUFP
1596	.$106b	CLC
1597	.$106c	ADC #2
1598	.$106e	STA STRBUFP
1599	.$1071	BCC NOCHR2
1600	.$1073	INC STRBUFP+1
1601	.$1076	NOCHR2  RTS
1604	.$1077	SAVEPOINTERS
1605	.$1077	LDA TMP_ZP   
1606	.$1079	STA STORE1
1607	.$107c	LDA TMP_ZP+1
1608	.$107e	STA STORE1+1
1609	.$1081	LDA TMP2_ZP
1610	.$1083	STA STORE2
1611	.$1086	LDA TMP2_ZP+1
1612	.$1088	STA STORE2+1
1613	.$108b	LDA TMP3_ZP
1614	.$108d	STA STORE3
1615	.$1090	LDA TMP3_ZP+1
1616	.$1092	STA STORE3+1
1617	.$1095	RTS
1620	.$1096	RESTOREPOINTERS
1621	.$1096	LDA STORE3+1  
1622	.$1099	STA TMP3_ZP+1
1623	.$109b	LDA STORE3
1624	.$109e	STA TMP3_ZP
1625	.$10a0	LDA STORE2+1
1626	.$10a3	STA TMP2_ZP+1
1627	.$10a5	LDA STORE2
1628	.$10a8	STA TMP2_ZP
1629	.$10aa	LDA STORE1+1
1630	.$10ad	STA TMP_ZP+1
1631	.$10af	LDA STORE1
1632	.$10b2	STA TMP_ZP
1633	.$10b4	RTS
1640	.$10b5	COMPACTMAX
1641	.$10b5	LDA #$FF
1642	.$10b7	LDY #$0
1643	.$10b9	JMP COMPACTF
1646	.$10bc	COMPACT
1647	.$10bc	LDY #0
1648	.$10be	GCBUFNE  LDA (TMP_ZP),Y  
1649	.$10c0	COMPACTF STA TMP4_REG  
1650	.$10c3	LDY STRBUFP+1  
1651	.$10c6	STY TMP4_REG+1  
1652	.$10c9	INY     
1653	.$10ca	BEQ ENDMEM   
1654	.$10cc	CPY ENDSTRBUF+1  
1655	.$10cf	BCC RGCEXIT   
1656	.$10d1	ENDMEM  LDA STRBUFP
1657	.$10d4	CLC
1658	.$10d5	ADC TMP4_REG
1659	.$10d8	STA TMP4_REG
1660	.$10db	BCC RGCNOOV1
1661	.$10dd	INC TMP4_REG+1
1662	.$10e0	RGCNOOV1 CLC
1663	.$10e1	LDA TMP4_REG
1664	.$10e4	ADC #3
1665	.$10e6	STA TMP4_REG
1666	.$10e9	BCC RGCNOOV2
1667	.$10eb	INC TMP4_REG+1
1668	.$10ee	RGCNOOV2 LDA TMP4_REG+1  
1669	.$10f1	CMP ENDSTRBUF+1
1670	.$10f4	BEQ RGCLOW1
1671	.$10f6	BCS GCEXECOMP  
1672	.$10f8	JMP RGCEXIT
1673	.$10fb	RGCLOW1  LDA TMP4_REG
1674	.$10fe	CMP ENDSTRBUF
1675	.$1101	BCS GCEXECOMP  
1676	.$1103	RGCEXIT  RTS     
1677	.$1104	GCEXECOMP LDA STRBUFP
1678	.$1107	STA STORE4
1679	.$110a	LDA STRBUFP+1
1680	.$110d	STA STORE4+1
1681	.$1110	JSR GCEXE
1682	.$1113	JMP CHECKMEMORY
1685	.$1116	GCEXE  JSR SAVEPOINTERS
1686	.$1119	LDA #0
1687	.$111b	STA LASTVAR
1688	.$111e	STA LASTVAR+1  
1689	.$1121	LDA #<STRBUF
1690	.$1123	STA TMP_ZP
1691	.$1125	STA GCSTART
1692	.$1128	LDA #>STRBUF
1693	.$112a	STA TMP_ZP+1  
1694	.$112c	STA GCSTART+1
1695	.$112f	GCLOOP  LDY #0
1696	.$1131	LDA TMP_ZP
1697	.$1133	STA GCWORK
1698	.$1136	LDA TMP_ZP+1
1699	.$1138	STA GCWORK+1  
1700	.$113b	LDA (TMP_ZP),Y
1701	.$113d	STA GCLEN   
1702	.$1140	INC TMP_ZP
1703	.$1142	BNE GCLOOPNOOV
1704	.$1144	INC TMP_ZP+1
1705	.$1146	GCLOOPNOOV LDA TMP_ZP
1706	.$1148	CLC
1707	.$1149	ADC GCLEN
1708	.$114c	STA TMP_ZP
1709	.$114e	BCC GCLOOPNOOV2
1710	.$1150	INC TMP_ZP+1  
1711	.$1152	GCLOOPNOOV2 LDY #0
1712	.$1154	LDA (TMP_ZP),Y
1713	.$1156	STA TMP2_ZP
1714	.$1158	INY
1715	.$1159	LDA (TMP_ZP),Y
1716	.$115b	STA TMP2_ZP+1  
1717	.$115d	LDA TMP_ZP
1718	.$115f	CLC
1719	.$1160	ADC #2
1720	.$1162	STA TMP_ZP
1721	.$1164	BCC GCLOOPNOOV3
1722	.$1166	INC TMP_ZP+1  
1723	.$1168	GCLOOPNOOV3 LDY #0
1724	.$116a	LDA (TMP2_ZP),Y
1725	.$116c	CMP GCWORK
1726	.$116f	BNE GCKLOOP
1727	.$1171	INY
1728	.$1172	LDA (TMP2_ZP),Y
1729	.$1174	CMP GCWORK+1
1730	.$1177	BEQ MEMFREE
1731	.$1179	GCKLOOP  LDA TMP_ZP+1  
1732	.$117b	CMP HIGHP+1
1733	.$117e	BEQ GCHECKLOW
1734	.$1180	BCC GCLOOP
1735	.$1182	JMP GCDONE
1736	.$1185	GCHECKLOW LDA TMP_ZP
1737	.$1187	CMP HIGHP
1738	.$118a	BCS GCDONE
1739	.$118c	JMP GCLOOP
1740	.$118f	MEMFREE  LDA GCSTART   
1741	.$1192	CMP GCWORK   
1742	.$1195	BNE COPYDOWN
1743	.$1197	LDA GCSTART+1
1744	.$119a	CMP GCWORK+1
1745	.$119d	BNE COPYDOWN
1746	.$119f	LDA TMP_ZP   
1747	.$11a1	STA GCSTART
1748	.$11a4	LDA TMP_ZP+1
1749	.$11a6	STA GCSTART+1
1750	.$11a9	JMP GCKLOOP   
1751	.$11ac	COPYDOWN LDA GCSTART   
1752	.$11af	STA TMP_REG
1753	.$11b1	LDA GCSTART+1
1754	.$11b4	STA TMP_REG+1  
1755	.$11b6	LDA GCWORK
1756	.$11b9	STA TMP2_REG
1757	.$11bc	LDA GCWORK+1
1758	.$11bf	STA TMP2_REG+1  
1759	.$11c2	LDA TMP_ZP
1760	.$11c4	SEC
1761	.$11c5	SBC GCWORK
1762	.$11c8	STA TMP3_REG
1763	.$11cb	LDA TMP_ZP+1
1764	.$11cd	SBC GCWORK+1
1765	.$11d0	STA TMP3_REG+1  
1766	.$11d3	LDA GCSTART
1767	.$11d6	CLC
1768	.$11d7	ADC TMP3_REG
1769	.$11da	STA GCSTART
1770	.$11dd	LDA GCSTART+1
1771	.$11e0	ADC TMP3_REG+1
1772	.$11e3	STA GCSTART+1  
1773	.$11e6	JSR QUICKCOPY  
1774	.$11e9	LDY #0
1775	.$11eb	LDA TMP_REG
1776	.$11ed	STA (TMP2_ZP),Y
1777	.$11ef	INY
1778	.$11f0	LDA TMP_REG+1
1779	.$11f2	STA (TMP2_ZP),Y  
1780	.$11f4	JMP GCKLOOP
1781	.$11f7	GCDONE  LDA GCSTART
1782	.$11fa	STA HIGHP
1783	.$11fd	STA STRBUFP
1784	.$1200	LDA GCSTART+1
1785	.$1203	STA HIGHP+1
1786	.$1206	STA STRBUFP+1  
1787	.$1209	GCSKIP  JSR RESTOREPOINTERS
1788	.$120c	RTS     
1791	.$120d	CHECKMEMORY
1792	.$120d	LDA STRBUFP+1  
1793	.$1210	CMP STORE4+1  
1794	.$1213	BCC STILLFITSCM  
1798	.$1215	BEQ CHECKMEMLOWCM
1799	.$1217	JMP OUTOFMEMORY  
1800	.$121a	CHECKMEMLOWCM
1801	.$121a	LDA STRBUFP   
1802	.$121d	CMP STORE4
1803	.$1220	BCC STILLFITSCM
1804	.$1222	JMP OUTOFMEMORY  
1805	.$1225	STILLFITSCM RTS
1808	.$1226	QUICKCOPY LDA TMP_REG  
1809	.$1228	STA TMEM+1
1810	.$122b	LDA TMP_REG+1
1811	.$122d	STA TMEM+2
1812	.$1230	LDA TMP2_REG
1813	.$1233	STA SMEM+1
1814	.$1236	LDA TMP2_REG+1
1815	.$1239	STA SMEM+2
1816	.$123c	LDY #$0
1817	.$123e	LDX TMP3_REG
1818	.$1241	BNE QCLOOP
1819	.$1243	LDA TMP3_REG+1
1820	.$1246	BEQ QCEXIT  
1821	.$1248	QCLOOP
1822	.$1248	SMEM  LDA $0000,Y
1823	.$124b	TMEM  STA $0000,Y
1824	.$124e	INY
1825	.$124f	BNE YNOOV
1826	.$1251	INC TMEM+2
1827	.$1254	INC SMEM+2
1828	.$1257	YNOOV  DEX
1829	.$1258	BNE QCLOOP
1830	.$125a	LDA TMP3_REG+1
1831	.$125d	BEQ QCEXIT
1832	.$125f	DEC TMP3_REG+1
1833	.$1262	JMP QCLOOP
1834	.$1265	QCEXIT  RTS
1837	.$1266	COPYSTRING STA TMP2_ZP
1838	.$1268	STY TMP2_ZP+1
1839	.$126a	CPY TMP_ZP+1
1840	.$126c	BNE CONTCOPY
1841	.$126e	LDA TMP2_ZP
1842	.$1270	CMP TMP_ZP
1843	.$1272	BNE CONTCOPY
1844	.$1274	RTS     
1845	.$1275	CONTCOPY JSR COMPACT   
1846	.$1278	LDY #0
1847	.$127a	STY TMP_FLAG
1848	.$127d	LDA (TMP_ZP),Y
1849	.$127f	BNE NOTEMPTYSTR
1850	.$1281	LDA #<EMPTYSTR  
1851	.$1283	STA TMP_ZP
1852	.$1285	LDA #>EMPTYSTR
1853	.$1287	STA TMP_ZP+1
1854	.$1289	JMP ISCONST
1855	.$128c	NOTEMPTYSTR TAX     
1856	.$128d	LDA (TMP2_ZP),Y
1857	.$128f	STA TMP3_ZP
1858	.$1291	INY
1859	.$1292	LDA (TMP2_ZP),Y
1860	.$1294	STA TMP3_ZP+1
1861	.$1296	DEY
1862	.$1297	LDA TMP_ZP+1  
1863	.$1299	CMP #>CONSTANTS_END
1864	.$129b	BEQ CHECKLOW1
1865	.$129d	BCS INVAR
1866	.$129f	JMP CHECKNEXT
1867	.$12a2	CHECKLOW1 LDA TMP_ZP
1868	.$12a4	CMP #<CONSTANTS_END
1869	.$12a6	BCS INVAR
1870	.$12a8	CHECKNEXT LDA TMP_ZP+1  
1871	.$12aa	CMP #>CONSTANTS
1872	.$12ac	BEQ CHECKLOW3
1873	.$12ae	BCC INVAR
1874	.$12b0	JMP ISCONST
1875	.$12b3	CHECKLOW3 LDA TMP_ZP
1876	.$12b5	CMP #<CONSTANTS
1877	.$12b7	BCC INVAR   
1878	.$12b9	ISCONST  JSR CHECKLASTVAR 
1879	.$12bc	LDA TMP_ZP
1880	.$12be	STA (TMP2_ZP),Y  
1881	.$12c0	INY
1882	.$12c1	LDA TMP_ZP+1
1883	.$12c3	STA (TMP2_ZP),Y
1884	.$12c5	LDA HIGHP   
1885	.$12c8	STA STRBUFP
1886	.$12cb	LDA HIGHP+1
1887	.$12ce	STA STRBUFP+1
1888	.$12d1	RTS
1889	.$12d2	INVAR  INY
1890	.$12d3	LDA (TMP2_ZP),Y  
1891	.$12d5	CMP #>CONSTANTS_END
1892	.$12d7	BEQ CHECKLOW2
1893	.$12d9	BCS INVAR2
1894	.$12db	JMP PUPDATEPTR
1895	.$12de	CHECKLOW2 DEY
1896	.$12df	LDA (TMP2_ZP),Y
1897	.$12e1	CMP #<CONSTANTS_END
1898	.$12e3	BCS INVAR2
1899	.$12e5	JMP PUPDATEPTR
1900	.$12e8	INVAR2  LDY #0   
1901	.$12ea	LDA (TMP3_ZP),Y
1902	.$12ec	STA TMP_REG
1903	.$12ee	TXA
1904	.$12ef	CMP TMP_REG  
1905	.$12f1	BEQ UPDATEHP2 
1908	.$12f3	PUPDATEPTR JSR CHECKLASTVAR
1909	.$12f6	LDY #1   
1910	.$12f8	STY TMP_FLAG 
1911	.$12fb	JMP UPDATEPTR 
1912	.$12fe	UPDATEHP2 LDA HIGHP  
1913	.$1301	STA STRBUFP
1914	.$1304	LDA HIGHP+1
1915	.$1307	STA STRBUFP+1
1916	.$130a	JMP STRFITS
1917	.$130d	COPYONLY LDY #0
1918	.$130f	STY TMP_FLAG
1919	.$1312	JMP CHECKMEM
1920	.$1315	ALTCOPY  JMP COPYSTRING2
1921	.$1318	UPDATEPTR LDA TMP_ZP+1 
1922	.$131a	CMP HIGHP+1  
1923	.$131d	BEQ CHECKXT1
1924	.$131f	BCS ALTCOPY
1925	.$1321	JMP CHECKMEM
1926	.$1324	CHECKXT1 LDA TMP_ZP
1927	.$1326	CMP HIGHP
1928	.$1329	BCS ALTCOPY
1929	.$132b	CHECKMEM
1930	.$132b	MEMOK  LDY #0
1931	.$132d	LDA STRBUFP  
1932	.$1330	STA (TMP2_ZP),Y 
1933	.$1332	STA TMP3_ZP
1934	.$1334	LDA STRBUFP+1
1935	.$1337	INY
1936	.$1338	STA (TMP2_ZP),Y
1937	.$133a	STA TMP3_ZP+1
1938	.$133c	TXA
1939	.$133d	CLC
1940	.$133e	ADC STRBUFP
1941	.$1341	PHP
1942	.$1342	CLC
1943	.$1343	ADC #3
1944	.$1345	STA STRBUFP
1945	.$1348	BCC NOCS1
1946	.$134a	INC STRBUFP+1
1947	.$134d	NOCS1  PLP
1948	.$134e	BCC STRFITS
1949	.$1350	INC STRBUFP+1
1950	.$1353	STRFITS  LDY TMP_FLAG 
1951	.$1356	BEQ NOHPUPDATE 
1952	.$1358	LDA HIGHP+1
1953	.$135b	CMP STRBUFP+1
1954	.$135e	BCC UPDATEHIGHP
1955	.$1360	BEQ CHECKNEXTHP
1956	.$1362	JMP NOHPUPDATE
1957	.$1365	CHECKNEXTHP LDA HIGHP
1958	.$1368	CMP STRBUFP
1959	.$136b	BCC UPDATEHIGHP
1960	.$136d	JMP NOHPUPDATE
1961	.$1370	UPDATEHIGHP LDA STRBUFP
1962	.$1373	STA HIGHP
1963	.$1376	LDA STRBUFP+1
1964	.$1379	STA HIGHP+1  
1965	.$137c	JSR REMEMBERLASTVAR
1966	.$137f	JSR STOREVARREF
1967	.$1382	NOHPUPDATE LDY #0
1968	.$1384	LDA (TMP_ZP),Y 
1969	.$1386	STA (TMP3_ZP),Y
1970	.$1388	TAY    
1971	.$1389	BEQ EXITCOPY 
1972	.$138b	LOOP  LDA (TMP_ZP),Y 
1973	.$138d	STA (TMP3_ZP),Y
1974	.$138f	DEY
1975	.$1390	BNE LOOP
1976	.$1392	EXITCOPY RTS
1981	.$1393	COPYSTRING2 LDY #0
1982	.$1395	LDA (TMP_ZP),Y
1983	.$1397	STA TMP_REG
1984	.$1399	TAX
1985	.$139a	LDA HIGHP
1986	.$139d	STA TMP3_ZP
1987	.$139f	STA (TMP2_ZP),Y
1988	.$13a1	LDA HIGHP+1
1989	.$13a4	STA TMP3_ZP+1
1990	.$13a6	INY
1991	.$13a7	STA (TMP2_ZP),Y
1992	.$13a9	JSR REMEMBERLASTVAR
1995	.$13ac	LDA TMP_ZP
1996	.$13ae	CMP TMP3_ZP
1997	.$13b0	BNE DOLOOP
1998	.$13b2	LDA TMP_ZP+1
1999	.$13b4	CMP TMP3_ZP+1
2000	.$13b6	BEQ SKIPCP2
2001	.$13b8	DOLOOP  DEY
2002	.$13b9	TXA
2003	.$13ba	STA (TMP3_ZP),Y
2004	.$13bc	INY
2005	.$13bd	ASLOOP  LDA (TMP_ZP),Y
2006	.$13bf	STA (TMP3_ZP),Y
2007	.$13c1	INY
2008	.$13c2	DEX
2009	.$13c3	BNE ASLOOP
2010	.$13c5	SKIPCP2  LDA HIGHP
2011	.$13c8	CLC
2012	.$13c9	ADC TMP_REG
2013	.$13cb	PHP
2014	.$13cc	CLC
2015	.$13cd	ADC #3
2016	.$13cf	STA HIGHP
2017	.$13d2	STA STRBUFP
2018	.$13d5	BCC SKIPLOWAS1
2019	.$13d7	INC HIGHP+1
2020	.$13da	SKIPLOWAS1 PLP
2021	.$13db	BCC SKIPLOWAS2
2022	.$13dd	INC HIGHP+1
2023	.$13e0	SKIPLOWAS2 LDA HIGHP+1
2024	.$13e3	STA STRBUFP+1
2025	.$13e6	JSR STOREVARREF
2026	.$13e9	RTS
2030	.$13ea	CHECKLASTVAR
2031	.$13ea	LDA TMP2_ZP
2032	.$13ec	CMP LASTVAR
2033	.$13ef	BNE NOTSAMEVAR
2034	.$13f1	LDA TMP2_ZP+1
2035	.$13f3	CMP LASTVAR+1
2036	.$13f6	BNE NOTSAMEVAR
2037	.$13f8	LDA LASTVARP   
2038	.$13fb	STA HIGHP
2039	.$13fe	STA STRBUFP
2040	.$1401	LDA LASTVARP+1
2041	.$1404	STA HIGHP+1
2042	.$1407	STA STRBUFP+1
2043	.$140a	NOTSAMEVAR RTS
2047	.$140b	REMEMBERLASTVAR
2048	.$140b	LDA TMP2_ZP
2049	.$140d	STA LASTVAR
2050	.$1410	LDA TMP2_ZP+1
2051	.$1412	STA LASTVAR+1
2052	.$1415	LDA TMP3_ZP
2053	.$1417	STA LASTVARP
2054	.$141a	LDA TMP3_ZP+1
2055	.$141c	STA LASTVARP+1 
2056	.$141f	RTS
2061	.$1420	STOREVARREF
2062	.$1420	TYA
2063	.$1421	PHA    
2064	.$1422	LDA TMP_ZP
2065	.$1424	PHA
2066	.$1425	LDA TMP_ZP+1
2067	.$1427	PHA
2068	.$1428	LDA HIGHP+1
2069	.$142b	STA TMP_ZP+1
2070	.$142d	LDA HIGHP
2071	.$1430	SEC
2072	.$1431	SBC #2
2073	.$1433	STA TMP_ZP
2074	.$1435	BCS RLVNOOV
2075	.$1437	DEC TMP_ZP+1
2076	.$1439	RLVNOOV  LDA TMP2_ZP
2077	.$143b	LDY #0
2078	.$143d	STA (TMP_ZP),Y
2079	.$143f	LDA TMP2_ZP+1
2080	.$1441	INY
2081	.$1442	STA (TMP_ZP),Y 
2082	.$1444	PLA
2083	.$1445	STA TMP_ZP+1
2084	.$1447	PLA
2085	.$1448	STA TMP_ZP  
2086	.$144a	PLA
2087	.$144b	TAY    
2088	.$144c	RTS
2091	.$144d	REROUTE  LDA CMD_NUM  
2092	.$1450	BEQ REROUTECMD
2093	.$1452	TAX
2094	.$1453	STA CHANNEL
2095	.$1456	JMP CHKOUT
2096	.$1459	REROUTECMD RTS
2099	.$145a	RESETROUTE LDA CMD_NUM  
2100	.$145d	BEQ RESETROUTECMD
2101	.$145f	JMP CLRCHNEW
2102	.$1462	RESETROUTECMD
2103	.$1462	RTS
2106	.$1463	SINGLECHROUTMAX
2107	.$1463	JSR SINGLECHROUT
2108	.$1466	JMP COMPACTMAX
2111	.$1469	SINGLECHROUT
2112	.$1469	STA TMP_ZP
2113	.$146b	JSR REROUTE
2114	.$146e	LDA TMP_ZP
2115	.$1470	JSR CHROUT
2116	.$1473	JMP RESETROUTE
2119	.$1476	STROUTBRKWL STA A_REG
2120	.$1479	STY A_REG+1
2121	.$147c	STROUTBRK JSR REROUTE
2122	.$147f	LDA A_REG
2123	.$1482	STA INDEX1
2124	.$1484	LDA A_REG+1
2125	.$1487	STA INDEX1+1
2126	.$1489	LDY #0
2127	.$148b	LDA (INDEX1),Y
2128	.$148d	TAX
2129	.$148e	INC INDEX1
2130	.$1490	BNE PRINTSTR2
2131	.$1492	INC INDEX1+1
2132	.$1494	PRINTSTR2 JSR PRINTSTRS
2133	.$1497	LDA HIGHP   
2134	.$149a	STA STRBUFP
2135	.$149d	LDA HIGHP+1
2136	.$14a0	STA STRBUFP+1
2137	.$14a3	LDA #$0D
2138	.$14a5	JSR CHROUT
2139	.$14a8	JMP RESETROUTE  
2142	.$14ab	INTADD16  CLC
2143	.$14ac	TAX
2144	.$14ad	TYA
2145	.$14ae	ADC TMP4_REG
2146	.$14b1	STA TMP4_REG
2147	.$14b4	TXA
2148	.$14b5	ADC TMP4_REG+1
2149	.$14b8	STA TMP4_REG+1
2150	.$14bb	RTS
2153	.$14bc	INTADDOPT16X
2154	.$14bc	INTADD16X JSR INTADD16
2155	.$14bf	LDY TMP4_REG
2156	.$14c2	LDA TMP4_REG+1
2157	.$14c5	RTS
2160	.$14c6	RETURN  LDA FORSTACKP
2161	.$14c9	STA TMP_ZP
2162	.$14cb	LDA FORSTACKP+1
2163	.$14ce	STA TMP_ZP+1
2164	.$14d0	SEARCHGOSUB LDA TMP_ZP
2165	.$14d2	SEC
2166	.$14d3	SBC #2
2167	.$14d5	STA TMP_ZP
2168	.$14d7	BCS NOPV1SG
2169	.$14d9	DEC TMP_ZP+1
2170	.$14db	NOPV1SG  LDY #0
2171	.$14dd	LDA (TMP_ZP),Y
2172	.$14df	BEQ FOUNDGOSUB
2173	.$14e1	INY
2174	.$14e2	LDA (TMP_ZP),Y
2175	.$14e4	STA TMP3_ZP
2176	.$14e6	LDA TMP_ZP
2177	.$14e8	SEC
2178	.$14e9	SBC (TMP_ZP),Y
2179	.$14eb	STA TMP_ZP
2180	.$14ed	BCS NOPV1GS
2181	.$14ef	DEC TMP_ZP+1
2182	.$14f1	NOPV1GS  JMP SEARCHGOSUB
2183	.$14f4	FOUNDGOSUB
2184	.$14f4	LDA TMP_ZP
2185	.$14f6	STA FORSTACKP
2186	.$14f9	LDA TMP_ZP+1
2187	.$14fb	STA FORSTACKP+1
2188	.$14fe	RTS
2191	.$14ff	GOSUB  LDA FORSTACKP
2192	.$1502	STA TMP_ZP
2193	.$1504	LDA FORSTACKP+1
2194	.$1507	STA TMP_ZP+1
2195	.$1509	LDY #0
2196	.$150b	TYA
2197	.$150c	STA (TMP_ZP),Y
2198	.$150e	INY
2199	.$150f	STA (TMP_ZP),Y
2200	.$1511	INY
2201	.$1512	TYA
2202	.$1513	CLC
2203	.$1514	ADC TMP_ZP
2204	.$1516	STA FORSTACKP
2205	.$1519	BCC GOSUBNOOV
2206	.$151b	INC FORSTACKP+1
2207	.$151e	GOSUBNOOV RTS
2210	.$151f	ZEROSET  LDA #0
2211	.$1521	STA X_REG
2212	.$1523	STA X_REG+1
2213	.$1525	STA X_REG+2
2214	.$1527	STA X_REG+3
2215	.$1529	STA X_REG+4
2216	.$152b	RTS
2219	.$152c	SEQ   JSR CMPSTR
2220	.$152f	LDA TMP3_ZP
2221	.$1531	BNE NOTSEQ
2222	.$1533	LDA #<REAL_CONST_MINUS_ONE
2223	.$1535	STA TMP3_ZP
2224	.$1537	LDA #>REAL_CONST_MINUS_ONE
2225	.$1539	STA TMP3_ZP+1
2226	.$153b	JMP COPY2_XY_XREG
2227	.$153e	NOTSEQ  JMP ZEROSET
2230	.$1541	CMPSTR  LDY #0   
2231	.$1543	LDX #1
2232	.$1545	LDA A_REG
2233	.$1548	STA TMP_ZP
2234	.$154a	LDA A_REG+1
2235	.$154d	STA TMP_ZP+1
2236	.$154f	LDA B_REG
2237	.$1552	STA TMP2_ZP
2238	.$1554	LDA B_REG+1
2239	.$1557	STA TMP2_ZP+1
2240	.$1559	CMP TMP_ZP+1
2241	.$155b	BNE CMPSTRSK1
2242	.$155d	LDA TMP2_ZP
2243	.$155f	CMP TMP_ZP
2244	.$1561	BNE CMPSTRSK1
2245	.$1563	LDX #0
2246	.$1565	JMP STRCMPRES
2247	.$1568	CMPSTRSK1 LDA (TMP_ZP),Y
2248	.$156a	CMP (TMP2_ZP),Y
2249	.$156c	BNE STRCMPRES
2250	.$156e	TAX
2251	.$156f	BNE NOTZCTR
2252	.$1571	LDX #0
2253	.$1573	JMP STRCMPRES
2254	.$1576	NOTZCTR  INC TMP_ZP
2255	.$1578	BNE SCSKP1
2256	.$157a	INC TMP_ZP+1
2257	.$157c	SCSKP1  INC TMP2_ZP
2258	.$157e	BNE CMPSTRLOOP
2259	.$1580	INC TMP2_ZP+1
2260	.$1582	CMPSTRLOOP LDA (TMP_ZP),Y
2261	.$1584	CMP (TMP2_ZP),Y
2262	.$1586	BNE STRCMPRES
2263	.$1588	INY
2264	.$1589	DEX
2265	.$158a	BNE CMPSTRLOOP
2266	.$158c	STRCMPRES STX TMP3_ZP
2267	.$158e	RTS
2270	.$158f	REALFACPUSH STA TMP_ZP
2271	.$1591	STY TMP_ZP+1
2272	.$1593	LDX FPSTACKP
2273	.$1596	LDY FPSTACKP+1
2274	.$1599	STX TMP2_ZP
2275	.$159b	STY TMP2_ZP+1
2276	.$159d	LDY #0
2277	.$159f	LDA (TMP_ZP),Y
2278	.$15a1	STA (TMP2_ZP),Y
2279	.$15a3	INY
2280	.$15a4	LDA (TMP_ZP),Y
2281	.$15a6	STA (TMP2_ZP),Y
2282	.$15a8	INY
2283	.$15a9	LDA (TMP_ZP),Y
2284	.$15ab	STA (TMP2_ZP),Y
2285	.$15ad	INY
2286	.$15ae	LDA (TMP_ZP),Y
2287	.$15b0	STA (TMP2_ZP),Y
2288	.$15b2	INY
2289	.$15b3	LDA (TMP_ZP),Y
2290	.$15b5	STA (TMP2_ZP),Y
2291	.$15b7	TXA    
2292	.$15b8	CLC
2293	.$15b9	ADC #5
2294	.$15bb	STA FPSTACKP
2295	.$15be	BCC NOPVRFPXX
2296	.$15c0	INC FPSTACKP+1
2297	.$15c3	NOPVRFPXX RTS
2300	.$15c4	POPREAL2X LDA FPSTACKP
2301	.$15c7	SEC
2302	.$15c8	SBC #5
2303	.$15ca	STA FPSTACKP
2304	.$15cd	BCS NOPVPR2X
2305	.$15cf	DEC FPSTACKP+1
2306	.$15d2	NOPVPR2X LDA FPSTACKP
2307	.$15d5	LDY FPSTACKP+1
2308	.$15d8	JSR REALFAC
2309	.$15db	JSR XREGARG
2310	.$15de	RTS
2313	.$15df	SHL   LDA FACEXP
2314	.$15e1	BEQ SHLOK
2315	.$15e3	CLC
2316	.$15e4	ADC A_REG
2317	.$15e7	BCC SHLOK
2318	.$15e9	LDA #0
2319	.$15eb	STA FACSGN
2320	.$15ed	STA FACLO
2321	.$15ef	STA FACMO
2322	.$15f1	STA FACMOH
2323	.$15f3	STA FACHO
2324	.$15f5	LDA #$FF
2325	.$15f7	SHLOK  STA FACEXP
2326	.$15f9	RTS
2329	.$15fa	ICMP  STY TMP3_ZP
2330	.$15fc	STA TMP3_ZP+1
2331	.$15fe	LDA TMP_ZP+1
2332	.$1600	CMP TMP3_ZP+1
2333	.$1602	BNE ICMPNE2
2334	.$1604	LDA TMP_ZP
2335	.$1606	CMP TMP3_ZP
2336	.$1608	ICMPNE  BEQ ICMPEQ
2337	.$160a	BCS ICMPHIGHER
2338	.$160c	JMP ICMPLOWER
2339	.$160f	ICMPNE2  BPL ICMPHIGHER
2340	.$1611	JMP ICMPLOWER
2341	.$1614	ICMPEQ  LDA #0
2342	.$1616	RTS
2343	.$1617	ICMPLOWER LDA #$FF
2344	.$1619	SEC
2345	.$161a	RTS
2346	.$161b	ICMPHIGHER LDA #$01
2347	.$161d	CLC
2348	.$161e	RTS
2351	.$161f	COPY2_XYA_XREG
2352	.$161f	STA TMP3_ZP
2353	.$1621	STY TMP3_ZP+1
2354	.$1623	COPY2_XY_XREG
2355	.$1623	LDX #<X_REG  
2356	.$1625	LDY #0
2357	.$1627	LDA (TMP3_ZP),Y
2358	.$1629	STA X_REG
2359	.$162b	INY
2360	.$162c	LDA (TMP3_ZP),Y
2361	.$162e	STA X_REG+1
2362	.$1630	INY
2363	.$1631	LDA (TMP3_ZP),Y
2364	.$1633	STA X_REG+2
2365	.$1635	INY
2366	.$1636	LDA (TMP3_ZP),Y
2367	.$1638	STA X_REG+3
2368	.$163a	INY
2369	.$163b	LDA (TMP3_ZP),Y
2370	.$163d	STA X_REG+4
2371	.$163f	RTS
2374	.$1640	COPY2_XYA_CREG
2375	.$1640	STA TMP3_ZP
2376	.$1642	STY TMP3_ZP+1
2377	.$1644	COPY2_XY_CREG
2378	.$1644	LDX #<C_REG  
2379	.$1646	LDY #0
2380	.$1648	LDA (TMP3_ZP),Y
2381	.$164a	STA C_REG
2382	.$164d	INY
2383	.$164e	LDA (TMP3_ZP),Y
2384	.$1650	STA C_REG+1
2385	.$1653	INY
2386	.$1654	LDA (TMP3_ZP),Y
2387	.$1656	STA C_REG+2
2388	.$1659	INY
2389	.$165a	LDA (TMP3_ZP),Y
2390	.$165c	STA C_REG+3
2391	.$165f	INY
2392	.$1660	LDA (TMP3_ZP),Y
2393	.$1662	STA C_REG+4
2394	.$1665	RTS
2398	.$1666	FACWORD
2399	.$1666	LDA FACEXP   
2400	.$1668	BNE DOFACWORD
2401	.$166a	STA FACSGN   
2402	.$166c	DOFACWORD:
2403	.$166c	JMP XFACWORD
2407	.$166f	FASTOR  LDA FACEXP   
2408	.$1671	BNE CHECKFACOR
2409	.$1673	LDA ARGEXP   
2410	.$1675	BNE CHECKARGOR 
2411	.$1677	LDA #0
2412	.$1679	STA FACSGN   
2413	.$167b	RTS    
2414	.$167c	CHECKFACOR LDA FACEXP   
2415	.$167e	CMP #$81
2416	.$1680	BNE NORMALOR
2417	.$1682	LDA FACHO
2418	.$1684	CMP #$80
2419	.$1686	BNE NORMALOR
2420	.$1688	LDA FACMOH
2421	.$168a	BNE NORMALOR
2422	.$168c	LDA FACMO
2423	.$168e	BNE NORMALOR
2424	.$1690	LDA FACLO
2425	.$1692	BNE NORMALOR
2426	.$1694	LDA FACSGN
2427	.$1696	ROL
2428	.$1697	BCC NORMALOR
2429	.$1699	CHECKARGOR LDA ARGEXP   
2430	.$169b	BNE CHECKARGOR2
2431	.$169d	RTS    
2432	.$169e	CHECKARGOR2 CMP #$81
2433	.$16a0	BNE NORMALOR
2434	.$16a2	LDA ARGHO
2435	.$16a4	CMP #$80
2436	.$16a6	BNE NORMALOR
2437	.$16a8	LDA ARGMOH
2438	.$16aa	BNE NORMALOR
2439	.$16ac	LDA ARGMO
2440	.$16ae	BNE NORMALOR
2441	.$16b0	LDA ARGLO
2442	.$16b2	BNE NORMALOR
2443	.$16b4	LDA ARGSGN
2444	.$16b6	AND #$80
2445	.$16b8	CMP #$80
2446	.$16ba	BNE NORMALOR
2447	.$16bc	JMP ARGFAC  
2448	.$16bf	NORMALOR JMP FACOR
2451	.$16c2	CLRCHNEW
2452	.$16c2	LDA CHLOCKFLAG
2453	.$16c5	BNE SKIPCLRCH
2454	.$16c7	JMP CLRCH
2455	.$16ca	SKIPCLRCH
2456	.$16ca	RTS
2459	.$16cb	SUPERFIINX INY
2460	.$16cc	BNE SFIINXNOV
2461	.$16ce	CLC
2462	.$16cf	ADC #$1
2463	.$16d1	CMP #$80
2464	.$16d3	BNE SFIINXNOV
2465	.$16d5	JMP ILLEGALQUANTITY
2466	.$16d8	SFIINXNOV RTS
2469	.$16d9	SUPERFIDEX CPY #0
2470	.$16db	BNE SUPERFIDEXNOV
2471	.$16dd	SEC
2472	.$16de	SBC #$1
2473	.$16e0	CMP #$7F
2474	.$16e2	BNE SUPERFIDEXNOV
2475	.$16e4	JMP ILLEGALQUANTITY
2476	.$16e7	SUPERFIDEXNOV
2477	.$16e7	DEY
2478	.$16e8	RTS
2481	.$16e9	OUTOFMEMORY
2485	.$16e9	LDX #$10
2486	.$16eb	JMP ERRALL
2489	.$16ee	STRINGTOOLONG
2493	.$16ee	LDX #$17
2494	.$16f0	JMP ERRALL
2497	.$16f3	ILLEGALQUANTITY
2501	.$16f3	JMP ERRIQ
2504	.$16f6	FACXREG  LDA FACLO
2505	.$16f8	STA X_REG+4
2506	.$16fa	LDA FACMO
2507	.$16fc	STA X_REG+3
2508	.$16fe	LDA FACMOH
2509	.$1700	STA X_REG+2
2510	.$1702	LDA FACSGN
2511	.$1704	ORA #$7F
2512	.$1706	AND FACHO
2513	.$1708	STA X_REG+1
2514	.$170a	LDA FACEXP
2515	.$170c	STA X_REG
2516	.$170e	LDA #0   
2517	.$1710	STA FACOV
2518	.$1712	RTS
2521	.$1713	FACYREG  LDA FACLO
2522	.$1715	STA Y_REG+4
2523	.$1718	LDA FACMO
2524	.$171a	STA Y_REG+3
2525	.$171d	LDA FACMOH
2526	.$171f	STA Y_REG+2
2527	.$1722	LDA FACSGN
2528	.$1724	ORA #$7F
2529	.$1726	AND FACHO
2530	.$1728	STA Y_REG+1
2531	.$172b	LDA FACEXP
2532	.$172d	STA Y_REG
2533	.$1730	LDA #0   
2534	.$1732	STA FACOV
2535	.$1734	RTS
2538	.$1735	XREGARG  LDA X_REG+4
2539	.$1737	STA ARGLO
2540	.$1739	LDA X_REG+3
2541	.$173b	STA ARGMO
2542	.$173d	LDA X_REG+2
2543	.$173f	STA ARGMOH
2544	.$1741	LDA X_REG+1
2545	.$1743	STA ARGSGN
2546	.$1745	EOR FACSGN
2547	.$1747	STA ARISGN
2548	.$1749	LDA ARGSGN
2549	.$174b	ORA #$80
2550	.$174d	STA ARGHO
2551	.$174f	LDA X_REG
2552	.$1751	STA ARGEXP
2553	.$1753	LDA FACEXP
2554	.$1755	RTS
2557	.$1756	YREGFAC  LDA Y_REG+4
2558	.$1759	STA FACLO
2559	.$175b	LDA Y_REG+3
2560	.$175e	STA FACMO
2561	.$1760	LDA Y_REG+2
2562	.$1763	STA FACMOH
2563	.$1765	LDA Y_REG+1
2564	.$1768	STA FACSGN
2565	.$176a	ORA #$80
2566	.$176c	STA FACHO
2567	.$176e	LDA Y_REG
2568	.$1771	STA FACEXP
2569	.$1773	LDA #0
2570	.$1775	STA FACOV
2571	.$1777	RTS
2685	.$1778	FASTFADDMEM
2686	.$1778	JSR MEMARG
2687	.$177b	FASTFADDARG
2688	.$177b	BNE FADDRET2     
2689	.$177d	JMP ARGFAC
2690	.$1780	FADDRET2 LDA ARGEXP
2691	.$1782	BNE FADDRET1     
2692	.$1784	RTS
2693	.$1785	FADDRET1 SEC
2694	.$1786	SBC FACEXP
2695	.$1788	BEQ FFADD_EXPEQ     
2696	.$178a	BCC FFADD_SHFARG1   
2700	.$178c	LDY ARGEXP
2701	.$178e	STY FACEXP
2702	.$1790	LDY ARGSGN
2703	.$1792	STY FACSGN
2704	.$1794	LDX #0
2705	.$1796	STX OLDOV        
2706	.$1798	LDX #FAC         
2708	.$179a	SEC
2709	.$179b	SBC #$08
2710	.$179d	BMI FFADD_SHFFAC2
2712	.$179f	FFADD_SHFFAC1
2713	.$179f	LDY FACLO        
2714	.$17a1	STY FACOV
2715	.$17a3	LDY FACMO        
2716	.$17a5	STY FACMO+1
2717	.$17a7	LDY FACMOH       
2718	.$17a9	STY FACMOH+1
2719	.$17ab	LDY FACHO        
2720	.$17ad	STY FACHO+1
2721	.$17af	LDY #0
2722	.$17b1	STY FACHO        
2723	.$17b3	SBC #$08         
2724	.$17b5	BPL FFADD_SHFFAC1   
2725	.$17b7	FFADD_SHFFAC2
2726	.$17b7	ADC #$08         
2727	.$17b9	BEQ FFADD_SHFFAC4   
2728	.$17bb	TAY
2729	.$17bc	LDA FACOV
2730	.$17be	FFADD_SHFFAC3
2731	.$17be	LSR FACHO        
2732	.$17c0	ROR FACMOH       
2733	.$17c2	ROR FACMO        
2734	.$17c4	ROR FACLO        
2735	.$17c6	ROR              
2736	.$17c7	DEY
2737	.$17c8	BNE FFADD_SHFFAC3
2738	.$17ca	JMP FFADD_MANADD2   
2739	.$17cd	FFADD_SHFFAC4
2740	.$17cd	LDA FACOV        
2741	.$17cf	JMP FFADD_MANADD2
2742	.$17d2	FFADD_EXPEQ
2743	.$17d2	LDX FACOV
2744	.$17d4	STX OLDOV
2747	.$17d6	JMP FFADD_MANADD1
2748	.$17d9	FFADD_SHFARG2
2749	.$17d9	LDA FACOV        
2750	.$17db	JMP FFADD_MANADD1
2751	.$17de	FFADD_SHFARG1
2752	.$17de	LDX FACOV
2753	.$17e0	STX OLDOV        
2754	.$17e2	LDX #$00         
2757	.$17e4	ADC #$08
2758	.$17e6	BPL FFADD_SHFARG6   
2759	.$17e8	FFADD_SHFARG3
2760	.$17e8	LDX ARGLO        
2761	.$17ea	LDY ARGMO        
2762	.$17ec	STY ARGMO+1
2763	.$17ee	LDY ARGMOH       
2764	.$17f0	STY ARGMOH+1
2765	.$17f2	LDY ARGHO        
2766	.$17f4	STY ARGHO+1
2767	.$17f6	LDY #0
2768	.$17f8	STY ARGHO        
2769	.$17fa	FFADD_SHFARG4
2770	.$17fa	ADC #$08
2771	.$17fc	BMI FFADD_SHFARG3
2772	.$17fe	BEQ FFADD_SHFARG3
2773	.$1800	FFADD_SHFARG6
2774	.$1800	SBC #$08
2775	.$1802	BEQ FFADD_SHFARG2   
2776	.$1804	TAY
2777	.$1805	TXA              
2778	.$1806	FFADD_SHFARG5
2779	.$1806	LSR ARGHO
2780	.$1808	ROR ARGMOH
2781	.$180a	ROR ARGMO
2782	.$180c	ROR ARGLO
2783	.$180e	ROR           
2784	.$180f	INY
2785	.$1810	BNE FFADD_SHFARG5
2786	.$1812	FFADD_MANADD1
2787	.$1812	LDX #ARGEXP      
2788	.$1814	FFADD_MANADD2
2789	.$1814	BIT ARISGN
2790	.$1816	BMI FFADD_MANSUB1   
2791	.$1818	CLC
2792	.$1819	ADC OLDOV
2793	.$181b	STA FACOV
2794	.$181d	LDA FACLO
2795	.$181f	ADC ARGLO
2796	.$1821	STA FACLO
2797	.$1823	LDA FACMO
2798	.$1825	ADC ARGMO
2799	.$1827	STA FACMO
2800	.$1829	LDA FACMOH
2801	.$182b	ADC ARGMOH
2802	.$182d	STA FACMOH
2803	.$182f	LDA FACHO
2804	.$1831	ADC ARGHO
2805	.$1833	STA FACHO
2806	.$1835	BCC FFADD_RNDRTS
2807	.$1837	INC FACEXP
2808	.$1839	BEQ FFADD_OVERR
2810	.$183b	ROR FACHO
2811	.$183d	ROR FACMOH
2812	.$183f	ROR FACMO
2813	.$1841	ROR FACLO
2814	.$1843	ROR FACOV
2815	.$1845	FFADD_RNDRTS
2816	.$1845	RTS
2817	.$1846	FFADD_OVERR
2818	.$1846	JMP ILLEGALQUANTITY
2819	.$1849	FFADD_MANSUB1
2820	.$1849	LDY #FACEXP
2821	.$184b	CPX #ARGEXP
2822	.$184d	BEQ FFADD_MANSUB2
2823	.$184f	LDY #ARGEXP
2824	.$1851	FFADD_MANSUB2
2825	.$1851	SEC              
2826	.$1852	EOR #$FF
2827	.$1854	ADC OLDOV
2828	.$1856	STA FACOV
2829	.$1858	LDA 4,Y
2830	.$185b	SBC 4,X
2831	.$185d	STA FACLO
2832	.$185f	LDA 3,Y
2833	.$1862	SBC 3,X
2834	.$1864	STA FACMO
2835	.$1866	LDA 2,Y
2836	.$1869	SBC 2,X
2837	.$186b	STA FACMOH
2838	.$186d	LDA 1,Y
2839	.$1870	SBC 1,X
2840	.$1872	STA FACHO
2841	.$1874	BCS FCNORMAL
2842	.$1876	LDA FACSGN
2843	.$1878	EOR #$FF
2844	.$187a	STA FACSGN
2845	.$187c	LDA FACHO
2846	.$187e	EOR #$FF
2847	.$1880	STA FACHO
2848	.$1882	LDA FACMOH
2849	.$1884	EOR #$FF
2850	.$1886	STA FACMOH
2851	.$1888	LDA FACMO
2852	.$188a	EOR #$FF
2853	.$188c	STA FACMO
2854	.$188e	LDA FACLO
2855	.$1890	EOR #$FF
2856	.$1892	STA FACLO
2857	.$1894	LDA FACOV
2858	.$1896	EOR #$FF
2859	.$1898	CLC
2860	.$1899	ADC #1
2861	.$189b	STA FACOV
2862	.$189d	BNE FCNORMAL
2863	.$189f	INC FACLO
2864	.$18a1	BNE FCNORMAL
2865	.$18a3	INC FACMO
2866	.$18a5	BNE FCNORMAL
2867	.$18a7	INC FACMOH
2868	.$18a9	BNE FCNORMAL
2869	.$18ab	INC FACHO
2870	.$18ad	FCNORMAL   BIT FACHO
2871	.$18af	BMI FFADD_RET       
2872	.$18b1	LDA #0           
2873	.$18b3	CLC
2874	.$18b4	FFADD_NORM3
2875	.$18b4	LDX FACHO
2876	.$18b6	BNE FFADD_NORM1
2877	.$18b8	LDX FACHO+1
2878	.$18ba	STX FACHO
2879	.$18bc	LDX FACMOH+1
2880	.$18be	STX FACMOH
2881	.$18c0	LDX FACMO+1
2882	.$18c2	STX FACMO
2883	.$18c4	LDX FACOV
2884	.$18c6	STX FACLO
2885	.$18c8	LDX #0
2886	.$18ca	STX FACOV
2887	.$18cc	ADC #$08
2888	.$18ce	CMP #$20
2889	.$18d0	BNE FFADD_NORM3
2890	.$18d2	JMP FFADD_ZEROFAC
2891	.$18d5	FFADD_NORM2
2892	.$18d5	CLC
2893	.$18d6	ADC #1
2894	.$18d8	ASL FACOV
2895	.$18da	ROL FACLO
2896	.$18dc	ROL FACMO
2897	.$18de	ROL FACMOH
2898	.$18e0	ROL FACHO
2899	.$18e2	FFADD_NORM1
2900	.$18e2	BPL FFADD_NORM2     
2901	.$18e4	SEC
2902	.$18e5	SBC FACEXP
2903	.$18e7	BCS FFADD_ZEROFAC
2904	.$18e9	EOR #$FF
2905	.$18eb	CLC
2906	.$18ec	ADC #1
2907	.$18ee	STA FACEXP
2908	.$18f0	FFADD_RET   RTS
2909	.$18f1	FFADD_ZEROFAC
2910	.$18f1	LDX #0
2911	.$18f3	STX FACEXP
2912	.$18f5	STX FACSGN
2913	.$18f7	RTS
2916	.$18f8	INITVARS
2917	.$18f8	JSR INITSTRVARS
2918	.$18fb	LDA #0
2919	.$18fd	STA VAR_X%
2920	.$1900	STA VAR_X%+1
2921	.$1903	STA VAR_Y%
2922	.$1906	STA VAR_Y%+1
2923	.$1909	STA VAR_P%
2924	.$190c	STA VAR_P%+1
2925	.$190f	STA VAR_U%
2926	.$1912	STA VAR_U%+1
2927	.$1915	STA VAR_D%
2928	.$1918	STA VAR_D%+1
2929	.$191b	STA VAR_AD%
2930	.$191e	STA VAR_AD%+1
2931	.$1921	STA VAR_R%
2932	.$1924	STA VAR_R%+1
2933	.$1927	RTS
2937	.$1928	CONSTANTS
2942	.$1928	CONST_1 .BYTE 16
2943	.$1929	.STRG ".....******....."
2945	.$1939	CONST_2 .BYTE 16
2946	.$193a	.STRG "...**......**..."
2948	.$194a	CONST_3 .BYTE 16
2949	.$194b	.STRG "..*..........*.."
2951	.$195b	CONST_4 .BYTE 16
2952	.$195c	.STRG ".*............*."
2954	.$196c	CONST_5 .BYTE 16
2955	.$196d	.STRG "*......**......*"
2957	.$197d	CONST_6 .BYTE 16
2958	.$197e	.STRG "*.....*..*.....*"
2960	.$198e	CONST_7 .BYTE 16
2961	.$198f	.STRG "*....*....*....*"
2966	.$199f	CONST_9 .BYTE 0
2967	.$19a0	.STRG ""
2970	.$19a0	CONST_10 .REAL 0
2973	.$19a5	CONST_11R .REAL 2.0
3000	.$19aa	DATAS
3001	.$19aa	.BYTE $FF
3003	.$19ab	CONSTANTS_END
3006	.$19ab	VARIABLES
3008	.$19ab	VAR_X% .WORD 0
3010	.$19ad	VAR_Y% .WORD 0
3012	.$19af	VAR_P% .WORD 0
3014	.$19b1	VAR_U% .WORD 0
3016	.$19b3	VAR_D% .WORD 0
3018	.$19b5	VAR_AD% .WORD 0
3020	.$19b7	VAR_R% .WORD 0
3021	.$19b9	STRINGVARS_START
3023	.$19b9	VAR_X$ .WORD EMPTYSTR
3025	.$19bb	VAR_Y$ .WORD EMPTYSTR
3027	.$19bd	VAR_TI$ .WORD EMPTYSTR
3028	.$19bf	STRINGVARS_END
3029	.$19bf	STRINGARRAYS_START
3030	.$19bf	STRINGARRAYS_END
3031	.$19bf	VARIABLES_END
3033	.$19bf	Y_REG .REAL 0.0
3034	.$19c4	C_REG .REAL 0.0
3035	.$19c9	D_REG .REAL 0.0
3036	.$19ce	E_REG .REAL 0.0
3037	.$19d3	F_REG .REAL 0.0
3038	.$19d8	A_REG .WORD 0
3039	.$19da	B_REG .WORD 0
3040	.$19dc	CMD_NUM .BYTE 0
3041	.$19dd	CHANNEL .BYTE 0
3042	.$19de	SP_SAVE .BYTE 0
3043	.$19df	TMP2_REG .WORD 0
3044	.$19e1	TMP3_REG .WORD 0
3045	.$19e3	TMP4_REG .WORD 0
3046	.$19e5	AS_TMP .WORD 0
3047	.$19e7	BPOINTER_TMP .WORD 0
3048	.$19e9	BASICTEXTP .BYTE 0
3049	.$19ea	STORE1 .WORD 0
3050	.$19ec	STORE2 .WORD 0
3051	.$19ee	STORE3 .WORD 0
3052	.$19f0	STORE4 .WORD 0
3053	.$19f2	GCSTART .WORD 0
3054	.$19f4	GCLEN .WORD 0
3055	.$19f6	GCWORK .WORD 0
3056	.$19f8	INPUTLENGTH .BYTE 0
3057	.$19f9	TMP_FREG .REAL 0
3058	.$19fe	TMP2_FREG .REAL 0
3059	.$1a03	TMP_FLAG .BYTE 0
3060	.$1a04	INT_FLAG .BYTE 0
3061	.$1a05	REAL_CONST_ONE .REAL 1.0
3062	.$1a0a	REAL_CONST_ZERO .REAL 0.0
3063	.$1a0f	REAL_CONST_MINUS_ONE .REAL -1.0
3064	.$1a14	CHLOCKFLAG .BYTE 0
3065	.$1a15	EMPTYSTR .BYTE 0
3066	.$1a16	FPSTACKP .WORD FPSTACK
3067	.$1a18	FORSTACKP .WORD FORSTACK
3068	.$1a1a	DATASP .WORD DATAS
3069	.$1a1c	LASTVAR .WORD 0
3070	.$1a1e	LASTVARP .WORD 0
3071	.$1a20	HIGHP .WORD STRBUF
3072	.$1a22	STRBUFP .WORD STRBUF
3073	.$1a24	ENDSTRBUF .WORD 0
3074	.$1a26	INPUTQUEUEP .BYTE 0
3075	.$1a27	PROGRAMEND
3076	.$1a27	INPUTQUEUE .ARRAY $0F
3077	.$1a36	FPSTACK .ARRAY 100
3078	.$1a9a	FORSTACK .ARRAY 340
3079	.$1bee	STRBUF .BYTE 0
