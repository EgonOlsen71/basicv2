117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
129	.$81f	LINE_13:
132	.$81f	LINE_20:
134	.$81f	JSR COMPACTMAX
135	.$822	LDA #<CONST_1
136	.$824	LDY #>CONST_1
137	.$826	STA B_REG
138	.$829	STY B_REG+1
139	.$82c	LDY #1
140	.$82e	JSR LEFTCONST
148	.$831	LDA A_REG
149	.$834	LDY A_REG+1
150	.$837	STA TMP_ZP
151	.$839	STY TMP_ZP+1
152	.$83b	LDA #<VAR_A$
153	.$83d	LDY #>VAR_A$
154	.$83f	JSR COPYSTRING
155	.$842	JSR COMPACTMAX
156	.$845	LDA #<CONST_1
157	.$847	LDY #>CONST_1
158	.$849	STA B_REG
159	.$84c	STY B_REG+1
160	.$84f	LDY #1
161	.$851	JSR LEFTCONST
169	.$854	LDA A_REG
170	.$857	LDY A_REG+1
171	.$85a	STA TMP_ZP
172	.$85c	STY TMP_ZP+1
173	.$85e	LDA #<VAR_B$
174	.$860	LDY #>VAR_B$
175	.$862	JSR COPYSTRING
177	.$865	LINE_40:
179	.$865	LDA #<CONST_2
180	.$867	LDY #>CONST_2
181	.$869	JSR STROUTWL
183	.$86c	LDA VAR_A$
184	.$86f	LDY VAR_A$+1
185	.$872	JSR STROUTBRKWL
189	.$875	LINE_41:
191	.$875	LDA #<CONST_3
192	.$877	LDY #>CONST_3
193	.$879	JSR STROUTWL
195	.$87c	LDA VAR_B$
196	.$87f	LDY VAR_B$+1
197	.$882	JSR STROUTBRKWL
201	.$885	LINE_43:
203	.$885	LDA #<CONST_4
204	.$887	LDY #>CONST_4
205	.$889	JSR STROUTBRKWL
209	.$88c	LINE_50:
211	.$88c	JSR COMPACTMAX
212	.$88f	LDA #<CONST_5
213	.$891	LDY #>CONST_5
214	.$893	JSR COPY2_XYA_CREG
219	.$896	LDA #<CONST_1
220	.$898	LDY #>CONST_1
221	.$89a	STA B_REG
222	.$89d	STY B_REG+1
223	.$8a0	JSR LEFT
224	.$8a3	LDY A_REG
225	.$8a6	LDA A_REG+1
226	.$8a9	STY B_REG
227	.$8ac	STA B_REG+1
228	.$8af	LDA #<CONST_6
229	.$8b1	LDY #>CONST_6
230	.$8b3	STA A_REG
231	.$8b6	STY A_REG+1
232	.$8b9	JSR CONCAT
234	.$8bc	LDA A_REG
235	.$8bf	LDY A_REG+1
236	.$8c2	STA TMP_ZP
237	.$8c4	STY TMP_ZP+1
238	.$8c6	LDA #<VAR_A$
239	.$8c8	LDY #>VAR_A$
240	.$8ca	JSR COPYSTRING
242	.$8cd	LINE_60:
244	.$8cd	LDA #<CONST_2
245	.$8cf	LDY #>CONST_2
246	.$8d1	JSR STROUTWL
248	.$8d4	LDA VAR_A$
249	.$8d7	LDY VAR_A$+1
250	.$8da	JSR STROUTBRKWL
254	.$8dd	LINE_61:
256	.$8dd	LDA #<CONST_3
257	.$8df	LDY #>CONST_3
258	.$8e1	JSR STROUTWL
260	.$8e4	LDA VAR_B$
261	.$8e7	LDY VAR_B$+1
262	.$8ea	JSR STROUTBRKWL
266	.$8ed	LINE_63:
268	.$8ed	LDA #<CONST_4
269	.$8ef	LDY #>CONST_4
270	.$8f1	JSR STROUTBRKWL
274	.$8f4	LINE_70:
276	.$8f4	LDA #<CONST_7R
277	.$8f6	LDY #>CONST_7R
278	.$8f8	JSR COPY2_XYA_YREG
282	.$8fb	JSR FRE
283	.$8fe	JSR INTOUTBRK
286	.$901	LINE_80:
288	.$901	LDA #<CONST_2
289	.$903	LDY #>CONST_2
290	.$905	JSR STROUTWL
292	.$908	LDA VAR_A$
293	.$90b	LDY VAR_A$+1
294	.$90e	JSR STROUTBRKWL
298	.$911	LINE_81:
300	.$911	LDA #<CONST_3
301	.$913	LDY #>CONST_3
302	.$915	JSR STROUTWL
304	.$918	LDA VAR_B$
305	.$91b	LDY VAR_B$+1
306	.$91e	JSR STROUTBRKWL
310	.$921	LINE_83:
312	.$921	LDA #<CONST_4
313	.$923	LDY #>CONST_4
314	.$925	JSR STROUTBRKWL
318	.$928	LINE_100:
320	.$928	LDA #<CONST_8
321	.$92a	LDY #>CONST_8
322	.$92c	JSR STROUTWL
324	.$92f	LDA #<CONST_0
325	.$931	LDY #>CONST_0
326	.$933	JSR COPY2_XYA_XREG
330	.$936	JSR REALOUT
331	.$939	JSR CRSRRIGHT
332	.$93c	JSR TABOUT
333	.$93f	LDA #<CONST_5
334	.$941	LDY #>CONST_5
335	.$943	JSR COPY2_XYA_XREG
339	.$946	JSR REALOUTBRK
341	.$949	JSR END
342	.$94c	RTS
345	.$94d	END   LDX SP_SAVE
346	.$950	TXS
353	.$951	RTS
356	.$952	START  LDA ENDSTRBUF+1
357	.$955	BNE ENDGIVEN
358	.$957	LDA BASICEND
359	.$959	STA ENDSTRBUF
360	.$95c	LDA BASICEND+1
361	.$95e	STA ENDSTRBUF+1
362	.$961	ENDGIVEN LDA #<FPSTACK
363	.$963	LDY #>FPSTACK
364	.$965	STA FPSTACKP
365	.$968	STY FPSTACKP+1
366	.$96b	LDA #<FORSTACK
367	.$96d	LDY #>FORSTACK
368	.$96f	STA FORSTACKP
369	.$972	STY FORSTACKP+1
370	.$975	LDA #<STRBUF
371	.$977	LDY #>STRBUF
372	.$979	STA STRBUFP
373	.$97c	STY STRBUFP+1
374	.$97f	STA HIGHP
375	.$982	STY HIGHP+1
376	.$985	LDA #0
377	.$987	STA CHLOCKFLAG
378	.$98a	STA LASTVAR
379	.$98d	STA LASTVAR+1
380	.$990	JSR INITVARS
381	.$993	LDA #0
382	.$995	STA CMD_NUM
383	.$998	STA CHANNEL
384	.$99b	TAY
385	.$99c	TAX
389	.$99d	STA KEYNDX
395	.$99f	JSR RESTORE
396	.$9a2	CLC
400	.$9a3	RTS
403	.$9a4	INITNARRAY
404	.$9a4	STA TMP_ZP
405	.$9a6	STY TMP_ZP+1
406	.$9a8	LDY #0
407	.$9aa	TYA
408	.$9ab	NINITLOOP STA (TMP_ZP),Y
409	.$9ad	INC TMP_ZP
410	.$9af	BNE NLOOPNOV
411	.$9b1	INC TMP_ZP+1
412	.$9b3	NLOOPNOV LDX TMP2_ZP
413	.$9b5	BNE NLOOPNOV2
414	.$9b7	DEC TMP2_ZP+1
415	.$9b9	NLOOPNOV2 DEC TMP2_ZP
416	.$9bb	BNE NINITLOOP
417	.$9bd	LDX TMP2_ZP+1
418	.$9bf	BNE NINITLOOP
419	.$9c1	RTS
422	.$9c2	INITSTRARRAY
423	.$9c2	STA TMP_ZP
424	.$9c4	STY TMP_ZP+1
425	.$9c6	SINITLOOP LDY #0
426	.$9c8	LDA #<EMPTYSTR
427	.$9ca	STA (TMP_ZP),Y
428	.$9cc	LDA #>EMPTYSTR
429	.$9ce	INY
430	.$9cf	STA (TMP_ZP),Y
431	.$9d1	CLC
432	.$9d2	LDA TMP_ZP
433	.$9d4	ADC #2
434	.$9d6	STA TMP_ZP
435	.$9d8	BCC SLOOPNOV1
436	.$9da	INC TMP_ZP+1
437	.$9dc	SLOOPNOV1 SEC
438	.$9dd	LDA TMP2_ZP
439	.$9df	SBC #2
440	.$9e1	STA TMP2_ZP
441	.$9e3	BCS SLOOPNOV2
442	.$9e5	DEC TMP2_ZP+1
443	.$9e7	SLOOPNOV2 LDA TMP2_ZP
444	.$9e9	BNE SINITLOOP
445	.$9eb	LDA TMP2_ZP+1
446	.$9ed	BNE SINITLOOP
447	.$9ef	RTS
450	.$9f0	INITSPARAMS STA TMP3_ZP
451	.$9f2	STY TMP3_ZP+1
452	.$9f4	SEC
453	.$9f5	SBC #2
454	.$9f7	STA TMP_ZP
455	.$9f9	TYA
456	.$9fa	SBC #0
457	.$9fc	STA TMP_ZP+1
458	.$9fe	LDY #0
459	.$a00	LDA (TMP_ZP),Y
460	.$a02	STA TMP2_ZP
461	.$a04	INY
462	.$a05	LDA (TMP_ZP),Y
463	.$a07	STA TMP2_ZP+1
464	.$a09	LDA TMP3_ZP
465	.$a0b	LDY TMP3_ZP+1
466	.$a0d	RTS
469	.$a0e	INITSTRVARS LDA #<STRINGVARS_START  
470	.$a10	LDY #>STRINGVARS_START
471	.$a12	CMP #<STRINGVARS_END
472	.$a14	BNE INITIT1
473	.$a16	CPY #>STRINGVARS_END
474	.$a18	BNE INITIT1
475	.$a1a	JMP INITSA2     
476	.$a1d	INITIT1  STA TMP_ZP
477	.$a1f	STY TMP_ZP+1
478	.$a21	LDY #0
479	.$a23	INITSTRLOOP LDA #<EMPTYSTR
480	.$a25	STA (TMP_ZP),Y
481	.$a27	INY
482	.$a28	LDA #>EMPTYSTR
483	.$a2a	STA (TMP_ZP),Y
484	.$a2c	DEY
485	.$a2d	LDA TMP_ZP
486	.$a2f	CLC
487	.$a30	ADC #2
488	.$a32	STA TMP_ZP
489	.$a34	LDA TMP_ZP+1
490	.$a36	ADC #0
491	.$a38	STA TMP_ZP+1
492	.$a3a	CMP #>STRINGVARS_END
493	.$a3c	BNE INITSTRLOOP
494	.$a3e	LDA TMP_ZP
495	.$a40	CMP #<STRINGVARS_END
496	.$a42	BNE INITSTRLOOP
497	.$a44	INITSA2  LDA #<STRINGARRAYS_START 
498	.$a46	LDY #>STRINGARRAYS_START
499	.$a48	CMP #<STRINGARRAYS_END
500	.$a4a	BNE ARRAYLOOP
501	.$a4c	CPY #>STRINGARRAYS_END
502	.$a4e	BNE ARRAYLOOP
503	.$a50	RTS       
504	.$a51	ARRAYLOOP CLC
505	.$a52	ADC #3
506	.$a54	BCC ARRAYSKIP1
507	.$a56	INY
508	.$a57	ARRAYSKIP1 CPY #>STRINGARRAYS_END
509	.$a59	BEQ ARRAYSC
510	.$a5b	BCC ARRAYSKIP2
511	.$a5d	JMP ARRAYQUIT
512	.$a60	ARRAYSC  CMP #<STRINGARRAYS_END
513	.$a62	BCS ARRAYQUIT
514	.$a64	ARRAYSKIP2 STA TMP_REG
515	.$a66	STY TMP_REG+1
516	.$a68	JSR INITSPARAMS
517	.$a6b	LDA TMP_REG
518	.$a6d	LDY TMP_REG+1
519	.$a6f	JSR INITSTRARRAY
520	.$a72	LDA TMP_ZP
521	.$a74	LDY TMP_ZP+1
522	.$a76	JMP ARRAYLOOP
523	.$a79	ARRAYQUIT RTS
526	.$a7a	RESTORE  LDA #<DATAS
527	.$a7c	LDY #>DATAS
528	.$a7e	STA DATASP
529	.$a81	STY DATASP+1
530	.$a84	RTS
533	.$a85	LEFTCONSTA CMP #0
534	.$a87	BEQ LEFTCONST
535	.$a89	LDY #$FF
536	.$a8b	LEFTCONST JSR STRFUNCINTINT
537	.$a8e	JMP LEFT2
540	.$a91	LEFT  JSR STRFUNCINT
541	.$a94	LEFT2  STY TMP_REG+1  
542	.$a96	LDA (TMP_ZP),Y
543	.$a98	CMP TMP_REG   
544	.$a9a	BCS LEFTBELOW
545	.$a9c	STA TMP_REG   
546	.$a9e	LEFTBELOW JMP STRFUNC
549	.$aa1	STRFUNCINT  LDA B_REG   
550	.$aa4	STA TMP_ZP
551	.$aa6	LDA B_REG+1
552	.$aa9	STA TMP_ZP+1
553	.$aab	LDA #<C_REG
554	.$aad	LDY #>C_REG
555	.$aaf	JSR REALFAC
556	.$ab2	JSR FACWORD
557	.$ab5	STY TMP_REG   
558	.$ab7	LDY #0
559	.$ab9	RTS
562	.$aba	STRFUNCINTINT
563	.$aba	LDA B_REG   
564	.$abd	STA TMP_ZP
565	.$abf	LDA B_REG+1
566	.$ac2	STA TMP_ZP+1
567	.$ac4	STY TMP_REG   
568	.$ac6	LDY #0
569	.$ac8	RTS
576	.$ac9	STRFUNC  LDA TMP_REG+1
577	.$acb	BEQ STARTATZERO
578	.$acd	LDA TMP_ZP
579	.$acf	CLC
580	.$ad0	ADC TMP_REG+1
581	.$ad2	STA TMP_ZP
582	.$ad4	BCC STARTATZERO
583	.$ad6	INC TMP_ZP+1
584	.$ad8	STARTATZERO LDY #0
585	.$ada	LDA (TMP_ZP),Y
586	.$adc	PHA     
587	.$add	LDA TMP_REG
588	.$adf	BNE STRFUNCNZ
589	.$ae1	LDA #<EMPTYSTR
590	.$ae3	STA A_REG
591	.$ae6	LDA #>EMPTYSTR
592	.$ae8	STA A_REG+1
593	.$aeb	PLA     
596	.$aec	JMP EXITSTRFUNC
597	.$aef	STRFUNCNZ STA (TMP_ZP),Y
598	.$af1	LDA #<A_REG
599	.$af3	LDY #>A_REG
600	.$af5	STA TMP2_ZP
601	.$af7	STY TMP2_ZP+1
602	.$af9	LDX TMP_REG   
603	.$afb	JSR COPYONLY
604	.$afe	PLA
605	.$aff	LDY #0
606	.$b01	STA (TMP_ZP),Y  
607	.$b03	EXITSTRFUNC RTS
610	.$b04	CONCAT  LDA A_REG
611	.$b07	STA TMP_ZP
612	.$b09	LDA A_REG+1
613	.$b0c	STA TMP_ZP+1
614	.$b0e	LDA STRBUFP  
615	.$b11	STA A_REG
616	.$b14	STA TMP3_ZP
617	.$b16	LDA STRBUFP+1
618	.$b19	STA A_REG+1
619	.$b1c	STA TMP3_ZP+1
620	.$b1e	LDY #0
621	.$b20	LDA (TMP_ZP),Y
622	.$b22	TAX
623	.$b23	LDA B_REG
624	.$b26	STA TMP2_ZP
625	.$b28	LDA B_REG+1
626	.$b2b	STA TMP2_ZP+1
627	.$b2d	TXA
628	.$b2e	CLC
629	.$b2f	ADC (TMP2_ZP),Y
630	.$b31	BCC CCSTRFITS
631	.$b33	JMP STRINGTOOLONG
632	.$b36	CCSTRFITS STA (TMP3_ZP),Y
633	.$b38	INC TMP3_ZP
634	.$b3a	BNE CCNOOV2
635	.$b3c	INC TMP3_ZP+1
636	.$b3e	CCNOOV2  CLC
637	.$b3f	ADC STRBUFP
638	.$b42	PHP
639	.$b43	CLC
640	.$b44	ADC #3
641	.$b46	STA STRBUFP
642	.$b49	BCC CCNOCS1
643	.$b4b	INC STRBUFP+1
644	.$b4e	CCNOCS1  PLP
645	.$b4f	BCC CCSTRFITS2
646	.$b51	INC STRBUFP+1
647	.$b54	CCSTRFITS2 JSR COPY2CONCAT  
648	.$b57	LDA B_REG   
649	.$b5a	STA TMP_ZP
650	.$b5c	LDA B_REG+1
651	.$b5f	STA TMP_ZP+1
652	.$b61	JMP COPY2CONCAT  
655	.$b64	COPY2CONCAT LDY #0
656	.$b66	LDA (TMP_ZP),Y
657	.$b68	BEQ NOC2C   
658	.$b6a	STA TMP2_ZP
659	.$b6c	INC TMP_ZP
660	.$b6e	BNE COPY2LOOP
661	.$b70	INC TMP_ZP+1
662	.$b72	COPY2LOOP LDA (TMP_ZP),Y
663	.$b74	STA (TMP3_ZP),Y
664	.$b76	INY
665	.$b77	CPY TMP2_ZP
666	.$b79	BNE COPY2LOOP
667	.$b7b	TYA
668	.$b7c	CLC
669	.$b7d	ADC TMP3_ZP   
670	.$b7f	STA TMP3_ZP
671	.$b81	BCC NOC2C
672	.$b83	INC TMP3_ZP+1
673	.$b85	NOC2C  RTS
676	.$b86	TABSPC     BCC DOSPC
677	.$b88	TXA
678	.$b89	SBC $09
679	.$b8b	BCC TABSPCQUIT
680	.$b8d	TAX
681	.$b8e	DOSPC  INX
682	.$b8f	TABSPCLOOP  DEX
683	.$b90	BNE TABSPCRIGHT
684	.$b92	TABSPCQUIT RTS
685	.$b93	TABSPCRIGHT JSR CRSRRIGHT
686	.$b96	JMP TABSPCLOOP
689	.$b99	SAVEPOINTERS
690	.$b99	LDA TMP_ZP   
691	.$b9b	STA STORE1
692	.$b9e	LDA TMP_ZP+1
693	.$ba0	STA STORE1+1
694	.$ba3	LDA TMP2_ZP
695	.$ba5	STA STORE2
696	.$ba8	LDA TMP2_ZP+1
697	.$baa	STA STORE2+1
698	.$bad	LDA TMP3_ZP
699	.$baf	STA STORE3
700	.$bb2	LDA TMP3_ZP+1
701	.$bb4	STA STORE3+1
702	.$bb7	RTS
705	.$bb8	RESTOREPOINTERS
706	.$bb8	LDA STORE3+1  
707	.$bbb	STA TMP3_ZP+1
708	.$bbd	LDA STORE3
709	.$bc0	STA TMP3_ZP
710	.$bc2	LDA STORE2+1
711	.$bc5	STA TMP2_ZP+1
712	.$bc7	LDA STORE2
713	.$bca	STA TMP2_ZP
714	.$bcc	LDA STORE1+1
715	.$bcf	STA TMP_ZP+1
716	.$bd1	LDA STORE1
717	.$bd4	STA TMP_ZP
718	.$bd6	RTS
725	.$bd7	COMPACTMAX
726	.$bd7	LDA #$FF
727	.$bd9	LDY #$0
728	.$bdb	JMP COMPACTF
731	.$bde	COMPACT
732	.$bde	LDY #0
733	.$be0	GCBUFNE  LDA (TMP_ZP),Y  
734	.$be2	COMPACTF STA TMP4_REG  
735	.$be5	LDY STRBUFP+1  
736	.$be8	STY TMP4_REG+1  
737	.$beb	INY     
738	.$bec	BEQ ENDMEM   
739	.$bee	CPY ENDSTRBUF+1  
740	.$bf1	BCC RGCEXIT   
741	.$bf3	ENDMEM  LDA STRBUFP
742	.$bf6	CLC
743	.$bf7	ADC TMP4_REG
744	.$bfa	STA TMP4_REG
745	.$bfd	BCC RGCNOOV1
746	.$bff	INC TMP4_REG+1
747	.$c02	RGCNOOV1 CLC
748	.$c03	LDA TMP4_REG
749	.$c06	ADC #3
750	.$c08	STA TMP4_REG
751	.$c0b	BCC RGCNOOV2
752	.$c0d	INC TMP4_REG+1
753	.$c10	RGCNOOV2 LDA TMP4_REG+1  
754	.$c13	CMP ENDSTRBUF+1
755	.$c16	BEQ RGCLOW1
756	.$c18	BCS GCEXECOMP  
757	.$c1a	JMP RGCEXIT
758	.$c1d	RGCLOW1  LDA TMP4_REG
759	.$c20	CMP ENDSTRBUF
760	.$c23	BCS GCEXECOMP  
761	.$c25	RGCEXIT  RTS     
762	.$c26	GCEXECOMP LDA STRBUFP
763	.$c29	STA STORE4
764	.$c2c	LDA STRBUFP+1
765	.$c2f	STA STORE4+1
766	.$c32	JSR GCEXE
767	.$c35	JMP CHECKMEMORY
770	.$c38	GCEXE  JSR SAVEPOINTERS
771	.$c3b	LDA #0
772	.$c3d	STA LASTVAR
773	.$c40	STA LASTVAR+1  
774	.$c43	LDA #<STRBUF
775	.$c45	STA TMP_ZP
776	.$c47	STA GCSTART
777	.$c4a	LDA #>STRBUF
778	.$c4c	STA TMP_ZP+1  
779	.$c4e	STA GCSTART+1
780	.$c51	GCLOOP  LDY #0
781	.$c53	LDA TMP_ZP
782	.$c55	STA GCWORK
783	.$c58	LDA TMP_ZP+1
784	.$c5a	STA GCWORK+1  
785	.$c5d	LDA (TMP_ZP),Y
786	.$c5f	STA GCLEN   
787	.$c62	INC TMP_ZP
788	.$c64	BNE GCLOOPNOOV
789	.$c66	INC TMP_ZP+1
790	.$c68	GCLOOPNOOV LDA TMP_ZP
791	.$c6a	CLC
792	.$c6b	ADC GCLEN
793	.$c6e	STA TMP_ZP
794	.$c70	BCC GCLOOPNOOV2
795	.$c72	INC TMP_ZP+1  
796	.$c74	GCLOOPNOOV2 LDY #0
797	.$c76	LDA (TMP_ZP),Y
798	.$c78	STA TMP2_ZP
799	.$c7a	INY
800	.$c7b	LDA (TMP_ZP),Y
801	.$c7d	STA TMP2_ZP+1  
802	.$c7f	LDA TMP_ZP
803	.$c81	CLC
804	.$c82	ADC #2
805	.$c84	STA TMP_ZP
806	.$c86	BCC GCLOOPNOOV3
807	.$c88	INC TMP_ZP+1  
808	.$c8a	GCLOOPNOOV3 LDY #0
809	.$c8c	LDA (TMP2_ZP),Y
810	.$c8e	CMP GCWORK
811	.$c91	BNE GCKLOOP
812	.$c93	INY
813	.$c94	LDA (TMP2_ZP),Y
814	.$c96	CMP GCWORK+1
815	.$c99	BEQ MEMFREE
816	.$c9b	GCKLOOP  LDA TMP_ZP+1  
817	.$c9d	CMP HIGHP+1
818	.$ca0	BEQ GCHECKLOW
819	.$ca2	BCC GCLOOP
820	.$ca4	JMP GCDONE
821	.$ca7	GCHECKLOW LDA TMP_ZP
822	.$ca9	CMP HIGHP
823	.$cac	BCS GCDONE
824	.$cae	JMP GCLOOP
825	.$cb1	MEMFREE  LDA GCSTART   
826	.$cb4	CMP GCWORK   
827	.$cb7	BNE COPYDOWN
828	.$cb9	LDA GCSTART+1
829	.$cbc	CMP GCWORK+1
830	.$cbf	BNE COPYDOWN
831	.$cc1	LDA TMP_ZP   
832	.$cc3	STA GCSTART
833	.$cc6	LDA TMP_ZP+1
834	.$cc8	STA GCSTART+1
835	.$ccb	JMP GCKLOOP   
836	.$cce	COPYDOWN LDA GCSTART   
837	.$cd1	STA TMP_REG
838	.$cd3	LDA GCSTART+1
839	.$cd6	STA TMP_REG+1  
840	.$cd8	LDA GCWORK
841	.$cdb	STA TMP2_REG
842	.$cde	LDA GCWORK+1
843	.$ce1	STA TMP2_REG+1  
844	.$ce4	LDA TMP_ZP
845	.$ce6	SEC
846	.$ce7	SBC GCWORK
847	.$cea	STA TMP3_REG
848	.$ced	LDA TMP_ZP+1
849	.$cef	SBC GCWORK+1
850	.$cf2	STA TMP3_REG+1  
851	.$cf5	LDA GCSTART
852	.$cf8	CLC
853	.$cf9	ADC TMP3_REG
854	.$cfc	STA GCSTART
855	.$cff	LDA GCSTART+1
856	.$d02	ADC TMP3_REG+1
857	.$d05	STA GCSTART+1  
858	.$d08	JSR QUICKCOPY  
859	.$d0b	LDY #0
860	.$d0d	LDA TMP_REG
861	.$d0f	STA (TMP2_ZP),Y
862	.$d11	INY
863	.$d12	LDA TMP_REG+1
864	.$d14	STA (TMP2_ZP),Y  
865	.$d16	JMP GCKLOOP
866	.$d19	GCDONE  LDA GCSTART
867	.$d1c	STA HIGHP
868	.$d1f	STA STRBUFP
869	.$d22	LDA GCSTART+1
870	.$d25	STA HIGHP+1
871	.$d28	STA STRBUFP+1  
872	.$d2b	GCSKIP  JSR RESTOREPOINTERS
873	.$d2e	RTS     
876	.$d2f	CHECKMEMORY
877	.$d2f	LDA STRBUFP+1  
878	.$d32	CMP STORE4+1  
879	.$d35	BCC STILLFITSCM  
883	.$d37	BEQ CHECKMEMLOWCM
884	.$d39	JMP OUTOFMEMORY  
885	.$d3c	CHECKMEMLOWCM
886	.$d3c	LDA STRBUFP   
887	.$d3f	CMP STORE4
888	.$d42	BCC STILLFITSCM
889	.$d44	JMP OUTOFMEMORY  
890	.$d47	STILLFITSCM RTS
893	.$d48	QUICKCOPY LDA TMP_REG  
894	.$d4a	STA TMEM+1
895	.$d4d	LDA TMP_REG+1
896	.$d4f	STA TMEM+2
897	.$d52	LDA TMP2_REG
898	.$d55	STA SMEM+1
899	.$d58	LDA TMP2_REG+1
900	.$d5b	STA SMEM+2
901	.$d5e	LDY #$0
902	.$d60	LDX TMP3_REG
903	.$d63	BNE QCLOOP
904	.$d65	LDA TMP3_REG+1
905	.$d68	BEQ QCEXIT  
906	.$d6a	QCLOOP
907	.$d6a	SMEM  LDA $0000,Y
908	.$d6d	TMEM  STA $0000,Y
909	.$d70	INY
910	.$d71	BNE YNOOV
911	.$d73	INC TMEM+2
912	.$d76	INC SMEM+2
913	.$d79	YNOOV  DEX
914	.$d7a	BNE QCLOOP
915	.$d7c	LDA TMP3_REG+1
916	.$d7f	BEQ QCEXIT
917	.$d81	DEC TMP3_REG+1
918	.$d84	JMP QCLOOP
919	.$d87	QCEXIT  RTS
922	.$d88	COPYSTRING STA TMP2_ZP
923	.$d8a	STY TMP2_ZP+1
924	.$d8c	CPY TMP_ZP+1
925	.$d8e	BNE CONTCOPY
926	.$d90	LDA TMP2_ZP
927	.$d92	CMP TMP_ZP
928	.$d94	BNE CONTCOPY
929	.$d96	RTS     
930	.$d97	CONTCOPY JSR COMPACT   
931	.$d9a	LDY #0
932	.$d9c	STY TMP_FLAG
933	.$d9f	LDA (TMP_ZP),Y
934	.$da1	BNE NOTEMPTYSTR
935	.$da3	LDA #<EMPTYSTR  
936	.$da5	STA TMP_ZP
937	.$da7	LDA #>EMPTYSTR
938	.$da9	STA TMP_ZP+1
939	.$dab	JMP ISCONST
940	.$dae	NOTEMPTYSTR TAX     
941	.$daf	LDA (TMP2_ZP),Y
942	.$db1	STA TMP3_ZP
943	.$db3	INY
944	.$db4	LDA (TMP2_ZP),Y
945	.$db6	STA TMP3_ZP+1
946	.$db8	DEY
947	.$db9	LDA TMP_ZP+1  
948	.$dbb	CMP #>CONSTANTS_END
949	.$dbd	BEQ CHECKLOW1
950	.$dbf	BCS INVAR
951	.$dc1	JMP CHECKNEXT
952	.$dc4	CHECKLOW1 LDA TMP_ZP
953	.$dc6	CMP #<CONSTANTS_END
954	.$dc8	BCS INVAR
955	.$dca	CHECKNEXT LDA TMP_ZP+1  
956	.$dcc	CMP #>CONSTANTS
957	.$dce	BEQ CHECKLOW3
958	.$dd0	BCC INVAR
959	.$dd2	JMP ISCONST
960	.$dd5	CHECKLOW3 LDA TMP_ZP
961	.$dd7	CMP #<CONSTANTS
962	.$dd9	BCC INVAR   
963	.$ddb	ISCONST  JSR CHECKLASTVAR 
964	.$dde	LDA TMP_ZP
965	.$de0	STA (TMP2_ZP),Y  
966	.$de2	INY
967	.$de3	LDA TMP_ZP+1
968	.$de5	STA (TMP2_ZP),Y
969	.$de7	LDA HIGHP   
970	.$dea	STA STRBUFP
971	.$ded	LDA HIGHP+1
972	.$df0	STA STRBUFP+1
973	.$df3	RTS
974	.$df4	INVAR  INY
975	.$df5	LDA (TMP2_ZP),Y  
976	.$df7	CMP #>CONSTANTS_END
977	.$df9	BEQ CHECKLOW2
978	.$dfb	BCS INVAR2
979	.$dfd	JMP PUPDATEPTR
980	.$e00	CHECKLOW2 DEY
981	.$e01	LDA (TMP2_ZP),Y
982	.$e03	CMP #<CONSTANTS_END
983	.$e05	BCS INVAR2
984	.$e07	JMP PUPDATEPTR
985	.$e0a	INVAR2  LDY #0   
986	.$e0c	LDA (TMP3_ZP),Y
987	.$e0e	STA TMP_REG
988	.$e10	TXA
989	.$e11	CMP TMP_REG  
990	.$e13	BEQ UPDATEHP2 
993	.$e15	PUPDATEPTR JSR CHECKLASTVAR
994	.$e18	LDY #1   
995	.$e1a	STY TMP_FLAG 
996	.$e1d	JMP UPDATEPTR 
997	.$e20	UPDATEHP2 LDA HIGHP  
998	.$e23	STA STRBUFP
999	.$e26	LDA HIGHP+1
1000	.$e29	STA STRBUFP+1
1001	.$e2c	JMP STRFITS
1002	.$e2f	COPYONLY LDY #0
1003	.$e31	STY TMP_FLAG
1004	.$e34	JMP CHECKMEM
1005	.$e37	ALTCOPY  JMP COPYSTRING2
1006	.$e3a	UPDATEPTR LDA TMP_ZP+1 
1007	.$e3c	CMP HIGHP+1  
1008	.$e3f	BEQ CHECKXT1
1009	.$e41	BCS ALTCOPY
1010	.$e43	JMP CHECKMEM
1011	.$e46	CHECKXT1 LDA TMP_ZP
1012	.$e48	CMP HIGHP
1013	.$e4b	BCS ALTCOPY
1014	.$e4d	CHECKMEM
1015	.$e4d	MEMOK  LDY #0
1016	.$e4f	LDA STRBUFP  
1017	.$e52	STA (TMP2_ZP),Y 
1018	.$e54	STA TMP3_ZP
1019	.$e56	LDA STRBUFP+1
1020	.$e59	INY
1021	.$e5a	STA (TMP2_ZP),Y
1022	.$e5c	STA TMP3_ZP+1
1023	.$e5e	TXA
1024	.$e5f	CLC
1025	.$e60	ADC STRBUFP
1026	.$e63	PHP
1027	.$e64	CLC
1028	.$e65	ADC #3
1029	.$e67	STA STRBUFP
1030	.$e6a	BCC NOCS1
1031	.$e6c	INC STRBUFP+1
1032	.$e6f	NOCS1  PLP
1033	.$e70	BCC STRFITS
1034	.$e72	INC STRBUFP+1
1035	.$e75	STRFITS  LDY TMP_FLAG 
1036	.$e78	BEQ NOHPUPDATE 
1037	.$e7a	LDA HIGHP+1
1038	.$e7d	CMP STRBUFP+1
1039	.$e80	BCC UPDATEHIGHP
1040	.$e82	BEQ CHECKNEXTHP
1041	.$e84	JMP NOHPUPDATE
1042	.$e87	CHECKNEXTHP LDA HIGHP
1043	.$e8a	CMP STRBUFP
1044	.$e8d	BCC UPDATEHIGHP
1045	.$e8f	JMP NOHPUPDATE
1046	.$e92	UPDATEHIGHP LDA STRBUFP
1047	.$e95	STA HIGHP
1048	.$e98	LDA STRBUFP+1
1049	.$e9b	STA HIGHP+1  
1050	.$e9e	JSR REMEMBERLASTVAR
1051	.$ea1	JSR STOREVARREF
1052	.$ea4	NOHPUPDATE LDY #0
1053	.$ea6	LDA (TMP_ZP),Y 
1054	.$ea8	STA (TMP3_ZP),Y
1055	.$eaa	TAY    
1056	.$eab	BEQ EXITCOPY 
1057	.$ead	LOOP  LDA (TMP_ZP),Y 
1058	.$eaf	STA (TMP3_ZP),Y
1059	.$eb1	DEY
1060	.$eb2	BNE LOOP
1061	.$eb4	EXITCOPY RTS
1066	.$eb5	COPYSTRING2 LDY #0
1067	.$eb7	LDA (TMP_ZP),Y
1068	.$eb9	STA TMP_REG
1069	.$ebb	TAX
1070	.$ebc	LDA HIGHP
1071	.$ebf	STA TMP3_ZP
1072	.$ec1	STA (TMP2_ZP),Y
1073	.$ec3	LDA HIGHP+1
1074	.$ec6	STA TMP3_ZP+1
1075	.$ec8	INY
1076	.$ec9	STA (TMP2_ZP),Y
1077	.$ecb	JSR REMEMBERLASTVAR
1080	.$ece	LDA TMP_ZP
1081	.$ed0	CMP TMP3_ZP
1082	.$ed2	BNE DOLOOP
1083	.$ed4	LDA TMP_ZP+1
1084	.$ed6	CMP TMP3_ZP+1
1085	.$ed8	BEQ SKIPCP2
1086	.$eda	DOLOOP  DEY
1087	.$edb	TXA
1088	.$edc	STA (TMP3_ZP),Y
1089	.$ede	INY
1090	.$edf	ASLOOP  LDA (TMP_ZP),Y
1091	.$ee1	STA (TMP3_ZP),Y
1092	.$ee3	INY
1093	.$ee4	DEX
1094	.$ee5	BNE ASLOOP
1095	.$ee7	SKIPCP2  LDA HIGHP
1096	.$eea	CLC
1097	.$eeb	ADC TMP_REG
1098	.$eed	PHP
1099	.$eee	CLC
1100	.$eef	ADC #3
1101	.$ef1	STA HIGHP
1102	.$ef4	STA STRBUFP
1103	.$ef7	BCC SKIPLOWAS1
1104	.$ef9	INC HIGHP+1
1105	.$efc	SKIPLOWAS1 PLP
1106	.$efd	BCC SKIPLOWAS2
1107	.$eff	INC HIGHP+1
1108	.$f02	SKIPLOWAS2 LDA HIGHP+1
1109	.$f05	STA STRBUFP+1
1110	.$f08	JSR STOREVARREF
1111	.$f0b	RTS
1115	.$f0c	CHECKLASTVAR
1116	.$f0c	LDA TMP2_ZP
1117	.$f0e	CMP LASTVAR
1118	.$f11	BNE NOTSAMEVAR
1119	.$f13	LDA TMP2_ZP+1
1120	.$f15	CMP LASTVAR+1
1121	.$f18	BNE NOTSAMEVAR
1122	.$f1a	LDA LASTVARP   
1123	.$f1d	STA HIGHP
1124	.$f20	STA STRBUFP
1125	.$f23	LDA LASTVARP+1
1126	.$f26	STA HIGHP+1
1127	.$f29	STA STRBUFP+1
1128	.$f2c	NOTSAMEVAR RTS
1132	.$f2d	REMEMBERLASTVAR
1133	.$f2d	LDA TMP2_ZP
1134	.$f2f	STA LASTVAR
1135	.$f32	LDA TMP2_ZP+1
1136	.$f34	STA LASTVAR+1
1137	.$f37	LDA TMP3_ZP
1138	.$f39	STA LASTVARP
1139	.$f3c	LDA TMP3_ZP+1
1140	.$f3e	STA LASTVARP+1 
1141	.$f41	RTS
1146	.$f42	STOREVARREF
1147	.$f42	TYA
1148	.$f43	PHA    
1149	.$f44	LDA TMP_ZP
1150	.$f46	PHA
1151	.$f47	LDA TMP_ZP+1
1152	.$f49	PHA
1153	.$f4a	LDA HIGHP+1
1154	.$f4d	STA TMP_ZP+1
1155	.$f4f	LDA HIGHP
1156	.$f52	SEC
1157	.$f53	SBC #2
1158	.$f55	STA TMP_ZP
1159	.$f57	BCS RLVNOOV
1160	.$f59	DEC TMP_ZP+1
1161	.$f5b	RLVNOOV  LDA TMP2_ZP
1162	.$f5d	LDY #0
1163	.$f5f	STA (TMP_ZP),Y
1164	.$f61	LDA TMP2_ZP+1
1165	.$f63	INY
1166	.$f64	STA (TMP_ZP),Y 
1167	.$f66	PLA
1168	.$f67	STA TMP_ZP+1
1169	.$f69	PLA
1170	.$f6a	STA TMP_ZP  
1171	.$f6c	PLA
1172	.$f6d	TAY    
1173	.$f6e	RTS
1176	.$f6f	REROUTE  LDA CMD_NUM  
1177	.$f72	BEQ REROUTECMD
1178	.$f74	TAX
1179	.$f75	STA CHANNEL
1180	.$f78	JMP CHKOUT
1181	.$f7b	REROUTECMD RTS
1184	.$f7c	RESETROUTE LDA CMD_NUM  
1185	.$f7f	BEQ RESETROUTECMD
1186	.$f81	JMP CLRCHNEW
1187	.$f84	RESETROUTECMD
1188	.$f84	RTS
1191	.$f85	INTOUTBRK   JMP REALOUTBRK
1194	.$f88	INTOUTFASTZ LDX #32    
1195	.$f8a	LDA TMP_ZP+1
1196	.$f8c	BPL INTISPOS
1197	.$f8e	CLC
1198	.$f8f	LDA TMP_ZP
1199	.$f91	EOR #$FF
1200	.$f93	ADC #1
1201	.$f95	STA TMP_ZP
1202	.$f97	LDA TMP_ZP+1
1203	.$f99	EOR #$FF
1204	.$f9b	ADC #0
1205	.$f9d	STA TMP_ZP+1
1206	.$f9f	LDX #45    
1207	.$fa1	INTISPOS
1208	.$fa1	TXA
1209	.$fa2	JSR CHROUT
1210	.$fa5	JSR CONVPOSINT
1211	.$fa8	LDA NUMFLAG
1212	.$fab	BNE ALLINTOUTDONE
1213	.$fad	LDA #48
1214	.$faf	JSR CHROUT
1215	.$fb2	ALLINTOUTDONE
1216	.$fb2	RTS
1219	.$fb3	NUMBEROUT
1220	.$fb3	BEQ NUMZERO
1221	.$fb5	ORA #$30
1222	.$fb7	STA NUMFLAG
1223	.$fba	JMP CHROUT
1224	.$fbd	NUMZERO
1225	.$fbd	LDX NUMFLAG
1226	.$fc0	BEQ STILLZERO
1227	.$fc2	ORA #$30
1228	.$fc4	JMP CHROUT
1229	.$fc7	STILLZERO
1230	.$fc7	RTS
1233	.$fc8	CONVPOSINT
1234	.$fc8	JSR INT2BCD
1235	.$fcb	LDX #0
1236	.$fcd	STX NUMFLAG
1237	.$fd0	AND #$0F
1238	.$fd2	JSR NUMBEROUT
1239	.$fd5	LDA BCD+1
1240	.$fd8	LSR
1241	.$fd9	LSR
1242	.$fda	LSR
1243	.$fdb	LSR
1244	.$fdc	JSR NUMBEROUT
1245	.$fdf	LDA BCD+1
1246	.$fe2	AND #$0F
1247	.$fe4	TAY
1248	.$fe5	JSR NUMBEROUT
1249	.$fe8	LDA BCD
1250	.$feb	LSR
1251	.$fec	LSR
1252	.$fed	LSR
1253	.$fee	LSR
1254	.$fef	JSR NUMBEROUT
1255	.$ff2	LDA BCD
1256	.$ff5	AND #$0F
1257	.$ff7	JSR NUMBEROUT
1258	.$ffa	RTS
1261	.$ffb	INT2BCD
1262	.$ffb	SED
1263	.$ffc	LDA #0
1264	.$ffe	STA BCD
1265	.$1001	STA BCD+1
1266	.$1004	STA BCD+2
1267	.$1007	ASL TMP_ZP
1268	.$1009	ROL TMP_ZP+1
1269	.$100b	LDA BCD
1270	.$100e	ADC BCD
1271	.$1011	STA BCD
1272	.$1014	ASL TMP_ZP
1273	.$1016	ROL TMP_ZP+1
1274	.$1018	ADC BCD
1275	.$101b	STA BCD
1276	.$101e	ASL TMP_ZP
1277	.$1020	ROL TMP_ZP+1
1278	.$1022	ADC BCD
1279	.$1025	STA BCD
1280	.$1028	ASL TMP_ZP
1281	.$102a	ROL TMP_ZP+1
1282	.$102c	ADC BCD
1283	.$102f	STA BCD
1284	.$1032	ASL TMP_ZP
1285	.$1034	ROL TMP_ZP+1
1286	.$1036	ADC BCD
1287	.$1039	STA BCD
1288	.$103c	ASL TMP_ZP
1289	.$103e	ROL TMP_ZP+1
1290	.$1040	ADC BCD
1291	.$1043	STA BCD
1292	.$1046	LDX #7
1293	.$1048	BCDBIT1
1294	.$1048	ASL TMP_ZP
1295	.$104a	ROL TMP_ZP+1
1296	.$104c	LDA BCD
1297	.$104f	ADC BCD
1298	.$1052	STA BCD
1299	.$1055	LDA BCD+1
1300	.$1058	ADC BCD+1
1301	.$105b	STA BCD+1
1302	.$105e	DEX
1303	.$105f	BNE BCDBIT1
1304	.$1061	LDX #3
1305	.$1063	BCDBIT2
1306	.$1063	ASL TMP_ZP
1307	.$1065	ROL TMP_ZP+1
1308	.$1067	LDA BCD
1309	.$106a	ADC BCD
1310	.$106d	STA BCD
1311	.$1070	LDA BCD+1
1312	.$1073	ADC BCD+1
1313	.$1076	STA BCD+1
1314	.$1079	LDA BCD+2
1315	.$107c	ADC BCD+2
1316	.$107f	STA BCD+2
1317	.$1082	DEX
1318	.$1083	BNE BCDBIT2
1319	.$1085	CLD
1320	.$1086	RTS
1321	.$1087	BCD
1322	.$1087	.WORD 0 0
1323	.$108b	NUMFLAG
1324	.$108b	.BYTE 0
1327	.$108c	REALOUTFAST JSR FACINT
1328	.$108f	STA TMP_ZP+1
1329	.$1091	STY TMP_ZP
1330	.$1093	JMP INTOUTFASTZ
1333	.$1096	CHECKFORFASTOUT
1334	.$1096	JSR REROUTE
1335	.$1099	JSR XREGFAC
1336	.$109c	LDA FACEXP
1337	.$109e	CMP #$90
1338	.$10a0	BCS REALOUTINT
1339	.$10a2	CMP #$81
1340	.$10a4	BCC REALOUTINT
1341	.$10a6	MAYBEREALOUTFAST
1342	.$10a6	LDA FACEXP+3
1343	.$10a8	BNE REALOUTINT
1344	.$10aa	LDA FACEXP+4
1345	.$10ac	BNE REALOUTINT
1346	.$10ae	LDA FACEXP
1347	.$10b0	SEC
1348	.$10b1	SBC #129
1349	.$10b3	ASL
1350	.$10b4	TAX
1351	.$10b5	LDA FACEXP+1
1352	.$10b7	AND MANTMASK,X
1353	.$10ba	BNE REALOUTINT
1354	.$10bc	INX
1355	.$10bd	LDA FACEXP+2
1356	.$10bf	AND MANTMASK,X
1357	.$10c2	BNE REALOUTINT
1358	.$10c4	JMP REALOUTFAST
1359	.$10c7	REALOUTINT LDY #0
1360	.$10c9	JSR FACSTR
1361	.$10cc	LDY #0
1362	.$10ce	LDA LOFBUF,Y
1363	.$10d1	STRLOOPRO JSR CHROUT
1364	.$10d4	INY
1365	.$10d5	LDA LOFBUF,Y
1366	.$10d8	BNE STRLOOPRO
1367	.$10da	RTS
1368	.$10db	MANTMASK
1369	.$10db	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
1372	.$10f9	REALOUT  LDA X_REG
1373	.$10fb	BNE RNOTNULL
1374	.$10fd	JMP PRINTNULL
1375	.$1100	RNOTNULL JSR CHECKFORFASTOUT
1376	.$1103	JMP RESETROUTE
1379	.$1106	REALOUTBRK  LDA X_REG
1380	.$1108	BNE RNOTNULLBRK
1381	.$110a	JMP PRINTNULLBRK
1382	.$110d	RNOTNULLBRK JSR CHECKFORFASTOUT
1383	.$1110	LDA #$0D
1384	.$1112	JSR CHROUT
1385	.$1115	JMP RESETROUTE
1388	.$1118	PRINTNULL JSR REROUTE
1389	.$111b	LDA #$20
1390	.$111d	JSR CHROUT
1391	.$1120	LDA #$30
1392	.$1122	JSR CHROUT
1393	.$1125	JMP RESETROUTE
1396	.$1128	PRINTNULLBRK
1397	.$1128	JSR REROUTE
1398	.$112b	LDA #$20
1399	.$112d	JSR CHROUT
1400	.$1130	LDA #$30
1401	.$1132	JSR CHROUT
1402	.$1135	LDA #$0D
1403	.$1137	JSR CHROUT
1404	.$113a	JMP RESETROUTE
1407	.$113d	STROUTWL STA A_REG
1408	.$1140	STY A_REG+1
1409	.$1143	STROUT  JSR REROUTE
1410	.$1146	LDA A_REG
1411	.$1149	STA INDEX1
1412	.$114b	LDA A_REG+1
1413	.$114e	STA INDEX1+1
1414	.$1150	LDY #0
1415	.$1152	LDA (INDEX1),Y
1416	.$1154	TAX
1417	.$1155	INC INDEX1
1418	.$1157	BNE PRINTSTR
1419	.$1159	INC INDEX1+1
1420	.$115b	PRINTSTR JSR PRINTSTRS
1421	.$115e	LDA HIGHP   
1422	.$1161	STA STRBUFP
1423	.$1164	LDA HIGHP+1
1424	.$1167	STA STRBUFP+1
1425	.$116a	JSR RESETROUTE
1426	.$116d	RTS
1429	.$116e	STROUTBRKWL STA A_REG
1430	.$1171	STY A_REG+1
1431	.$1174	STROUTBRK JSR REROUTE
1432	.$1177	LDA A_REG
1433	.$117a	STA INDEX1
1434	.$117c	LDA A_REG+1
1435	.$117f	STA INDEX1+1
1436	.$1181	LDY #0
1437	.$1183	LDA (INDEX1),Y
1438	.$1185	TAX
1439	.$1186	INC INDEX1
1440	.$1188	BNE PRINTSTR2
1441	.$118a	INC INDEX1+1
1442	.$118c	PRINTSTR2 JSR PRINTSTRS
1443	.$118f	LDA HIGHP   
1444	.$1192	STA STRBUFP
1445	.$1195	LDA HIGHP+1
1446	.$1198	STA STRBUFP+1
1447	.$119b	LDA #$0D
1448	.$119d	JSR CHROUT
1449	.$11a0	JMP RESETROUTE  
1452	.$11a3	FRE
1453	.$11a3	JSR GCEXE
1454	.$11a6	LDA ENDSTRBUF
1455	.$11a9	SEC
1456	.$11aa	SBC STRBUFP
1457	.$11ad	TAY
1458	.$11ae	LDA ENDSTRBUF+1
1459	.$11b1	SBC STRBUFP+1
1460	.$11b4	JSR INTFAC
1461	.$11b7	JMP FACXREG
1464	.$11ba	TABOUT  JSR REROUTE
1465	.$11bd	LDA CMD_NUM
1466	.$11c0	BEQ NORMALTABOUT  
1467	.$11c2	CMP #3
1468	.$11c4	BEQ NORMALTABOUT2  
1469	.$11c6	JMP TABOUTCHANNEL2
1470	.$11c9	NORMALTABOUT2
1471	.$11c9	JSR CLRCHNEW
1472	.$11cc	NORMALTABOUT
1473	.$11cc	SEC
1474	.$11cd	JSR CRSRPOS
1475	.$11d0	TYA
1476	.$11d1	SEC
1477	.$11d2	TABSUB   SBC #$0A
1478	.$11d4	BCS TABSUB
1479	.$11d6	EOR #$FF
1480	.$11d8	ADC #$01
1481	.$11da	TAX
1482	.$11db	INX
1483	.$11dc	TABLOOP  DEX
1484	.$11dd	BNE TABRIGHT
1485	.$11df	RTS
1486	.$11e0	TABRIGHT JSR CRSRRIGHT
1487	.$11e3	JMP TABLOOP
1490	.$11e6	COPY2_XYA_XREG
1491	.$11e6	STA TMP3_ZP
1492	.$11e8	STY TMP3_ZP+1
1493	.$11ea	COPY2_XY_XREG
1494	.$11ea	LDX #<X_REG  
1495	.$11ec	LDY #0
1496	.$11ee	LDA (TMP3_ZP),Y
1497	.$11f0	STA X_REG
1498	.$11f2	INY
1499	.$11f3	LDA (TMP3_ZP),Y
1500	.$11f5	STA X_REG+1
1501	.$11f7	INY
1502	.$11f8	LDA (TMP3_ZP),Y
1503	.$11fa	STA X_REG+2
1504	.$11fc	INY
1505	.$11fd	LDA (TMP3_ZP),Y
1506	.$11ff	STA X_REG+3
1507	.$1201	INY
1508	.$1202	LDA (TMP3_ZP),Y
1509	.$1204	STA X_REG+4
1510	.$1206	RTS
1513	.$1207	COPY2_XYA_CREG
1514	.$1207	STA TMP3_ZP
1515	.$1209	STY TMP3_ZP+1
1516	.$120b	COPY2_XY_CREG
1517	.$120b	LDX #<C_REG  
1518	.$120d	LDY #0
1519	.$120f	LDA (TMP3_ZP),Y
1520	.$1211	STA C_REG
1521	.$1214	INY
1522	.$1215	LDA (TMP3_ZP),Y
1523	.$1217	STA C_REG+1
1524	.$121a	INY
1525	.$121b	LDA (TMP3_ZP),Y
1526	.$121d	STA C_REG+2
1527	.$1220	INY
1528	.$1221	LDA (TMP3_ZP),Y
1529	.$1223	STA C_REG+3
1530	.$1226	INY
1531	.$1227	LDA (TMP3_ZP),Y
1532	.$1229	STA C_REG+4
1533	.$122c	RTS
1536	.$122d	COPY2_XYA_YREG
1537	.$122d	STA TMP3_ZP
1538	.$122f	STY TMP3_ZP+1
1539	.$1231	COPY2_XY_YREG
1540	.$1231	LDX #<Y_REG  
1541	.$1233	LDY #0
1542	.$1235	LDA (TMP3_ZP),Y
1543	.$1237	STA Y_REG
1544	.$123a	INY
1545	.$123b	LDA (TMP3_ZP),Y
1546	.$123d	STA Y_REG+1
1547	.$1240	INY
1548	.$1241	LDA (TMP3_ZP),Y
1549	.$1243	STA Y_REG+2
1550	.$1246	INY
1551	.$1247	LDA (TMP3_ZP),Y
1552	.$1249	STA Y_REG+3
1553	.$124c	INY
1554	.$124d	LDA (TMP3_ZP),Y
1555	.$124f	STA Y_REG+4
1556	.$1252	RTS
1560	.$1253	FACWORD
1561	.$1253	LDA FACEXP   
1562	.$1255	BNE DOFACWORD
1563	.$1257	STA FACSGN   
1564	.$1259	DOFACWORD:
1565	.$1259	JMP XFACWORD
1569	.$125c	INITOUTCHANNEL
1570	.$125c	LDA CHLOCKFLAG
1571	.$125f	BEQ INITOUT2
1572	.$1261	CMP #$FF
1573	.$1263	BNE SKIPINITCH
1574	.$1265	INITOUT2
1575	.$1265	LDA #<C_REG
1576	.$1267	LDY #>C_REG
1577	.$1269	JSR REALFAC
1578	.$126c	JSR FACWORD
1579	.$126f	TYA
1580	.$1270	TAX
1581	.$1271	CPX CMD_NUM
1582	.$1274	BNE CMDNEQUAL
1583	.$1276	LDY #0
1584	.$1278	STY CMD_NUM   
1585	.$127b	CMDNEQUAL STA CHANNEL
1586	.$127e	STA CHLOCKFLAG
1587	.$1281	JMP CHKOUT
1588	.$1284	SKIPINITCH
1589	.$1284	RTS
1592	.$1285	CLRCHNEW
1593	.$1285	LDA CHLOCKFLAG
1594	.$1288	BNE SKIPCLRCH
1595	.$128a	JMP CLRCH
1596	.$128d	SKIPCLRCH
1597	.$128d	RTS
1600	.$128e	TABOUTCHANNEL
1601	.$128e	JSR INITOUTCHANNEL
1602	.$1291	LDA CHANNEL
1603	.$1294	CMP #3  
1604	.$1296	BEQ TABOUTSCREEN
1605	.$1298	TABOUTCHANNEL2
1606	.$1298	LDA IOCHANNEL
1607	.$129a	STA STORE1
1608	.$129d	LDA #1
1609	.$129f	STA IOCHANNEL  
1610	.$12a1	LDX #10
1611	.$12a3	JMP EXITCHANNEL
1612	.$12a6	TABOUTSCREEN
1613	.$12a6	JSR CLRCHNEW
1614	.$12a9	JMP TABOUT
1617	.$12ac	EXITCHANNEL CLC
1618	.$12ad	JSR TABSPC
1619	.$12b0	JSR CLRCHNEW
1620	.$12b3	LDA STORE1
1621	.$12b6	STA IOCHANNEL
1622	.$12b8	RTS
1625	.$12b9	OUTOFMEMORY
1629	.$12b9	LDX #$10
1630	.$12bb	JMP ERRALL
1633	.$12be	STRINGTOOLONG
1637	.$12be	LDX #$17
1638	.$12c0	JMP ERRALL
1641	.$12c3	FACXREG  LDA FACLO
1642	.$12c5	STA X_REG+4
1643	.$12c7	LDA FACMO
1644	.$12c9	STA X_REG+3
1645	.$12cb	LDA FACMOH
1646	.$12cd	STA X_REG+2
1647	.$12cf	LDA FACSGN
1648	.$12d1	ORA #$7F
1649	.$12d3	AND FACHO
1650	.$12d5	STA X_REG+1
1651	.$12d7	LDA FACEXP
1652	.$12d9	STA X_REG
1653	.$12db	LDA #0   
1654	.$12dd	STA FACOV
1655	.$12df	RTS
1658	.$12e0	XREGFAC  LDA X_REG+4
1659	.$12e2	STA FACLO
1660	.$12e4	LDA X_REG+3
1661	.$12e6	STA FACMO
1662	.$12e8	LDA X_REG+2
1663	.$12ea	STA FACMOH
1664	.$12ec	LDA X_REG+1
1665	.$12ee	STA FACSGN
1666	.$12f0	ORA #$80
1667	.$12f2	STA FACHO
1668	.$12f4	LDA X_REG
1669	.$12f6	STA FACEXP
1670	.$12f8	LDA #0
1671	.$12fa	STA FACOV
1672	.$12fc	RTS
1786	.$12fd	INITVARS
1787	.$12fd	JSR INITSTRVARS
1788	.$1300	LDA #0
1789	.$1302	RTS
1793	.$1303	CONSTANTS
1796	.$1303	CONST_0 .REAL 1.0
1798	.$1308	CONST_1 .BYTE 14
1799	.$1309	.STRG "12345678901234"
1801	.$1317	CONST_2 .BYTE 2
1802	.$1318	.STRG "a="
1804	.$131a	CONST_3 .BYTE 2
1805	.$131b	.STRG "b="
1807	.$131d	CONST_4 .BYTE 20
1808	.$131e	.STRG "--------------------"
1811	.$1332	CONST_5 .REAL 0.0
1813	.$1337	CONST_6 .BYTE 3
1814	.$1338	.STRG "abc"
1817	.$133b	CONST_7R .REAL 0.0
1819	.$1340	CONST_8 .BYTE 5
1820	.$1341	.STRG "vals:"
1823	.$1346	DATAS
1824	.$1346	.BYTE $FF
1826	.$1347	CONSTANTS_END
1829	.$1347	VARIABLES
1830	.$1347	STRINGVARS_START
1832	.$1347	VAR_A$ .WORD EMPTYSTR
1834	.$1349	VAR_B$ .WORD EMPTYSTR
1836	.$134b	VAR_TI$ .WORD EMPTYSTR
1837	.$134d	STRINGVARS_END
1838	.$134d	STRINGARRAYS_START
1839	.$134d	STRINGARRAYS_END
1840	.$134d	VARIABLES_END
1842	.$134d	Y_REG .REAL 0.0
1843	.$1352	C_REG .REAL 0.0
1844	.$1357	D_REG .REAL 0.0
1845	.$135c	E_REG .REAL 0.0
1846	.$1361	F_REG .REAL 0.0
1847	.$1366	A_REG .WORD 0
1848	.$1368	B_REG .WORD 0
1849	.$136a	CMD_NUM .BYTE 0
1850	.$136b	CHANNEL .BYTE 0
1851	.$136c	SP_SAVE .BYTE 0
1852	.$136d	TMP2_REG .WORD 0
1853	.$136f	TMP3_REG .WORD 0
1854	.$1371	TMP4_REG .WORD 0
1855	.$1373	AS_TMP .WORD 0
1856	.$1375	BPOINTER_TMP .WORD 0
1857	.$1377	BASICTEXTP .BYTE 0
1858	.$1378	STORE1 .WORD 0
1859	.$137a	STORE2 .WORD 0
1860	.$137c	STORE3 .WORD 0
1861	.$137e	STORE4 .WORD 0
1862	.$1380	GCSTART .WORD 0
1863	.$1382	GCLEN .WORD 0
1864	.$1384	GCWORK .WORD 0
1865	.$1386	INPUTLENGTH .BYTE 0
1866	.$1387	TMP_FREG .REAL 0
1867	.$138c	TMP2_FREG .REAL 0
1868	.$1391	TMP_FLAG .BYTE 0
1869	.$1392	INT_FLAG .BYTE 0
1870	.$1393	REAL_CONST_ONE .REAL 1.0
1871	.$1398	REAL_CONST_ZERO .REAL 0.0
1872	.$139d	REAL_CONST_MINUS_ONE .REAL -1.0
1873	.$13a2	CHLOCKFLAG .BYTE 0
1874	.$13a3	EMPTYSTR .BYTE 0
1875	.$13a4	FPSTACKP .WORD FPSTACK
1876	.$13a6	FORSTACKP .WORD FORSTACK
1877	.$13a8	DATASP .WORD DATAS
1878	.$13aa	LASTVAR .WORD 0
1879	.$13ac	LASTVARP .WORD 0
1880	.$13ae	HIGHP .WORD STRBUF
1881	.$13b0	STRBUFP .WORD STRBUF
1882	.$13b2	ENDSTRBUF .WORD 0
1883	.$13b4	INPUTQUEUEP .BYTE 0
1884	.$13b5	PROGRAMEND
1885	.$13b5	INPUTQUEUE .ARRAY $0F
1886	.$13c4	FPSTACK .ARRAY 100
1887	.$1428	FORSTACK .ARRAY 340
1888	.$157c	STRBUF .BYTE 0
