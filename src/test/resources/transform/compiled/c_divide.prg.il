PROGRAMSTART:
JSR START
0:
1000:
NOP
JSR COMPACTMAX
MOV Y,#147{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
NOP
INPUT0:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#teile...{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP1
MOV NU${STRING},A
EMPTYINPUTSKIP1:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK0
JSR EXTRAIGNORED
INPUTCHECK0:
1010:
NOP
INPUT1:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#durch...{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTSTR
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP2
MOV DI${STRING},A
EMPTYINPUTSKIP2:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK1
JSR EXTRAIGNORED
INPUTCHECK1:
1020:
NOP
MOV B,NU${STRING}
CHGCTX #0
JSR LEN
PUSH X
CHGCTX #1
MOV B,DI${STRING}
CHGCTX #0
JSR LEN
POP Y
GT X,Y
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
JMP 1000
NOP
SKIP0:
1030:
NOP
JSR GOSUB
JSR 10000
NOP
JSR GOSUB
JSR 20000
1050:
NOP
JMP 1000
10000:
NOP
MOV Y,#2{INTEGER}
MOV EN{REAL},Y
NOP
MOV Y,#1{INTEGER}
MOV SA{REAL},Y
NOP
JSR COMPACTMAX
MOV B,NU${STRING}
MOV A,# {STRING}
JSR CONCAT
JSR COPYSTR
MOV NU${STRING},A
NOP
MOV B,#{STRING}
MOV NN${STRING},B
NOP
MOV B,#{STRING}
MOV NR${STRING},B
NOP
JSR COMPACTMAX
MOV Y,#147{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
MOV A,NU${STRING}
JSR STROUT
NOP
JSR COMPACTMAX
MOV Y,#58{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
MOV A,DI${STRING}
JSR STROUT
NOP
JSR COMPACTMAX
MOV Y,#61{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
JSR LINEBREAK
10010:
NOP
MOV B,#{STRING}
MOV OF${STRING},B
NOP
NOP
MOV B,DI${STRING}
CHGCTX #0
JSR VAL
MOV DI{REAL},X
10020:
NOP
JSR COMPACTMAX
MOV Y,#1{INTEGER}
MOV X,SA{REAL}
ADD X,Y
PUSH X
MOV Y,SA{REAL}
MOV X,EN{REAL}
SUB X,Y
PUSH X
CHGCTX #1
MOV B,NU${STRING}
POP D
POP C
JSR MID
MOV B,A
MOV A,OF${STRING}
JSR CONCAT
JSR COPYSTR
MOV PA${STRING},A
10030:
NOP
MOV B,PA${STRING}
CHGCTX #0
JSR VAL
MOV VA{REAL},X
10040:
NOP
MOV B,NU${STRING}
CHGCTX #0
JSR LEN
PUSH X
MOV Y,#1{INTEGER}
MOV X,EN{REAL}
ADD X,Y
POP Y
LTEQ X,Y
PUSH X
MOV Y,DI{REAL}
MOV X,VA{REAL}
LT X,Y
PUSH X
MOV Y,#0{INTEGER}
MOV X,VA{REAL}
GT X,Y
POP Y
AND X,Y
POP Y
AND X,Y
MOV Y,X
NOT X,Y
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
JMP 10100
NOP
SKIP1:
10050:
NOP
MOV B,NN${STRING}
JSR LEN
MOV Y,#0{INTEGER}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP2
JMP SKIP2
NSKIP2:
NOP
JSR COMPACTMAX
MOV B,#0{STRING}
MOV A,NN${STRING}
JSR CONCAT
JSR COPYSTR
MOV NN${STRING},A
NOP
MOV B,NN${STRING}
MOV PR${STRING},B
JSR GOSUB
JSR 30000
JSR GOSUB
JSR 20000
NOP
SKIP2:
10060:
NOP
MOV Y,#1{INTEGER}
MOV X,EN{REAL}
ADD X,Y
MOV EN{REAL},X
10070:
NOP
JMP 10020
10100:
NOP
MOV Y,DI{REAL}
MOV X,VA{REAL}
DIV X,Y
MOV Y,X
INT X,Y
MOV WN{REAL},X
NOP
MOV Y,DI{REAL}
MOV X,WN{REAL}
MUL X,Y
MOV WS{REAL},X
10110:
NOP
MOV Y,WS{REAL}
MOV X,VA{REAL}
SUB X,Y
MOV RE{REAL},X
NOP
JSR COMPACTMAX
MOV Y,VA{REAL}
CHGCTX #1
JSR STR
JSR COPYSTR
MOV VA${STRING},A
NOP
JSR COMPACTMAX
MOV B,VA${STRING}
JSR LEN
MOV Y,#1{INTEGER}
SUB X,Y
MOV C,X
CHGCTX #1
MOV B,VA${STRING}
JSR RIGHT
JSR COPYSTR
MOV VA${STRING},A
10112:
NOP
MOV B,VA${STRING}
CHGCTX #0
JSR LEN
MOV Y,X
MOV X,EN{REAL}
SUB X,Y
MOV Y,X
CHGCTX #1
JSR SPC
NOP
MOV A,VA${STRING}
JSR STROUT
JSR LINEBREAK
NOP
MOV B,VA${STRING}
CHGCTX #0
JSR LEN
MOV Y,X
MOV X,EN{REAL}
SUB X,Y
MOV Y,#1{INTEGER}
SUB X,Y
MOV SP{REAL},X
NOP
MOV Y,#0{INTEGER}
MOV X,SP{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP3
JMP SKIP3
NSKIP3:
NOP
MOV Y,#0{INTEGER}
MOV SP{REAL},Y
NOP
SKIP3:
10115:
NOP
JSR COMPACTMAX
MOV Y,WS{REAL}
CHGCTX #1
JSR STR
JSR COPYSTR
MOV WS${STRING},A
NOP
MOV Y,SP{REAL}
CHGCTX #1
JSR SPC
NOP
JSR COMPACTMAX
MOV B,WS${STRING}
JSR LEN
MOV Y,#1{INTEGER}
ADD X,Y
MOV C,X
CHGCTX #1
MOV B,#--------------------{STRING}
JSR LEFT
JSR STROUT
JSR LINEBREAK
10116:
NOP
JSR GOSUB
JSR 20000
10118:
NOP
MOV Y,SP{REAL}
CHGCTX #1
JSR SPC
NOP
JSR COMPACTMAX
MOV Y,#45{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
JSR COMPACTMAX
MOV B,WS${STRING}
JSR LEN
MOV Y,#1{INTEGER}
SUB X,Y
MOV C,X
CHGCTX #1
MOV B,WS${STRING}
JSR RIGHT
JSR STROUT
JSR LINEBREAK
10120:
NOP
JSR COMPACTMAX
MOV Y,WN{REAL}
CHGCTX #1
JSR STR
JSR COPYSTR
MOV T${STRING},A
NOP
JSR COMPACTMAX
MOV B,T${STRING}
JSR LEN
MOV Y,#1{INTEGER}
SUB X,Y
MOV C,X
CHGCTX #1
MOV B,T${STRING}
JSR RIGHT
JSR COPYSTR
MOV T${STRING},A
10130:
NOP
JSR COMPACTMAX
MOV B,T${STRING}
MOV A,NN${STRING}
JSR CONCAT
JSR COPYSTR
MOV NN${STRING},A
NOP
MOV B,NN${STRING}
MOV PR${STRING},B
NOP
JSR GOSUB
JSR 30000
NOP
JSR GOSUB
JSR 20000
10140:
NOP
JSR COMPACTMAX
MOV Y,RE{REAL}
CHGCTX #1
JSR STR
JSR COPYSTR
MOV T${STRING},A
NOP
JSR COMPACTMAX
MOV B,T${STRING}
JSR LEN
MOV Y,#1{INTEGER}
SUB X,Y
MOV C,X
CHGCTX #1
MOV B,T${STRING}
JSR RIGHT
JSR COPYSTR
MOV T${STRING},A
10150:
NOP
MOV B,T${STRING}
MOV OF${STRING},B
10160:
NOP
MOV B,NU${STRING}
CHGCTX #0
JSR LEN
PUSH X
MOV Y,#1{INTEGER}
MOV X,EN{REAL}
ADD X,Y
POP Y
GT X,Y
CMP X,#0{REAL}
JNE NSKIP4
JMP SKIP4
NSKIP4:
JMP 10200
NOP
SKIP4:
10170:
NOP
MOV Y,EN{REAL}
MOV SA{REAL},Y
NOP
MOV Y,#1{INTEGER}
MOV X,EN{REAL}
ADD X,Y
MOV EN{REAL},X
NOP
JMP 10020
10200:
NOP
JSR COMPACTMAX
MOV Y,RE{REAL}
CHGCTX #1
JSR STR
JSR COPYSTR
MOV NR${STRING},A
10210:
NOP
MOV B,NR${STRING}
CHGCTX #0
JSR LEN
MOV Y,X
MOV X,EN{REAL}
SUB X,Y
MOV Y,X
CHGCTX #1
JSR SPC
NOP
MOV A,NR${STRING}
JSR STROUT
JSR LINEBREAK
10220:
NOP
MOV B,NN${STRING}
MOV PR${STRING},B
NOP
MOV B,NR${STRING}
JSR VAL
MOV Y,#0{INTEGER}
GT X,Y
PUSH X
MOV B,NR${STRING}
JSR LEN
MOV Y,#0{INTEGER}
GT X,Y
POP Y
AND X,Y
CMP X,#0{REAL}
JNE NSKIP5
JMP SKIP5
NSKIP5:
NOP
JSR COMPACTMAX
MOV B,# r{STRING}
MOV A,PR${STRING}
JSR CONCAT
MOV B,NR${STRING}
JSR CONCAT
JSR COPYSTR
MOV PR${STRING},A
NOP
SKIP5:
10230:
NOP
JSR GOSUB
JSR 30000
NOP
JMP RETURN
20000:
NOP
MOVB X,53280
MOV CS{REAL},X
NOP
MOVB 53280,#1{INTEGER}
20010:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP6
JMP SKIP6
NSKIP6:
JMP 20010
NOP
SKIP6:
20020:
NOP
MOV X,CS{REAL}
MOVB 53280,X
NOP
JMP RETURN
30000:
NOP
MOV B,DI${STRING}
CHGCTX #0
JSR LEN
PUSH X
CHGCTX #1
MOV B,NU${STRING}
CHGCTX #0
JSR LEN
POP Y
ADD X,Y
MOV Y,#2{INTEGER}
ADD X,Y
MOV Y,#1024{INTEGER}
ADD X,Y
MOV PO{REAL},X
30010:
NOP
MOV Y,#1{INTEGER}
MOV I{REAL},Y
NOP
MOV B,PR${STRING}
CHGCTX #0
JSR LEN
PUSH X
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
JSR COMPACTMAX
MOV C,I{REAL}
MOV D,#1{INTEGER}
CHGCTX #1
MOV B,PR${STRING}
JSR MID
MOV B,A
CHGCTX #0
JSR ASC
MOV AS{REAL},X
30015:
NOP
MOV Y,#58{INTEGER}
MOV X,AS{REAL}
GT X,Y
CMP X,#0{REAL}
JNE NSKIP7
JMP SKIP7
NSKIP7:
NOP
MOV Y,#64{INTEGER}
MOV X,AS{REAL}
SUB X,Y
MOV AS{REAL},X
NOP
SKIP7:
30020:
NOP
MOV Y,I{REAL}
MOV X,PO{REAL}
ADD X,Y
PUSH X
MOV X,AS{REAL}
POP Y
MOVB (Y),X
30030:
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
JMP RETURN
NOP
JSR END
RTS
