PROGRAMSTART:
JSR START
0:
NOP
MOVB X,53281
MOVB 53280,X
1:
NOP
2:
NOP
MOV B,# Here is a little scrolly dem{STRING}
MOV A${STRING},B
3:
NOP
JSR COMPACTMAX
MOV B,#o using a 'go to'-less tec{STRING}
MOV A,A${STRING}
JSR CONCAT
JSR COPYSTR
MOV A${STRING},A
4:
NOP
JSR COMPACTMAX
MOV B,#hnique. Hellos to Ruby Mae{STRING}
MOV A,A${STRING}
JSR CONCAT
JSR COPYSTR
MOV A${STRING},A
5:
NOP
JSR COMPACTMAX
MOV B,#. Press a key to exit.....{STRING}
MOV A,A${STRING}
JSR CONCAT
JSR COPYSTR
MOV A${STRING},A
6:
NOP
MOV A,#{clr/home}{STRING}
JSR STROUT
JSR LINEBREAK
7:
NOP
MOV Y,#0.0{REAL}
MOV I{REAL},Y
NOP
NOP
MOV B,A${STRING}
JSR LEN
MOV Y,#1.0{REAL}
SUB X,Y
MOV L{REAL},X
8:
NOP
NOP
NOP
9:
NOP
NOP
10:
NOP
MOV Y,#7{INTEGER}
MOV X{REAL},Y
NOP
MOV Y,#56334{INTEGER}
MOV A,#254{INTEGER}
JSR PEEKBYTEAND
MOVB 56335,X
11:
NOP
MOV Y,#0.0{REAL}
MOV I{REAL},Y
NOP
MOV Y,#1.0{REAL}
PUSH Y
NOP
MOV Y,#0.0{REAL}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
MOVB 53273,#1{INTEGER}
NOP
MOV Y,#53273.0{REAL}
MOV X,#1.0{REAL}
WAIT0:
MOV D,(Y)
AND D,X
CMP D,#0{INTEGER}
JE WAIT0
NOP
12:
NOP
MOV X,X{REAL}
MOVB 53270,X
NOP
MOV A,#{control+n}{home}{STRING}
JSR STROUT
NOP
JSR COMPACTMAX
MOV C,#39.0{REAL}
CHGCTX #1
MOV B,A${STRING}
JSR LEFT
JSR STROUT
JSR LINEBREAK
NOP
MOV Y,#1.0{REAL}
MOV X,X{REAL}
SUB X,Y
MOV X{REAL},X
NOP
MOV Y,#0.0{REAL}
MOV X,X{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
NOP
JSR COMPACTMAX
MOV C,#1.0{REAL}
CHGCTX #1
MOV B,A${STRING}
JSR LEFT
PUSH A
CHGCTX #0
MOV C,L{REAL}
CHGCTX #1
MOV B,A${STRING}
JSR RIGHT
POP B
JSR CONCAT
JSR COPYSTR
MOV A${STRING},A
NOP
SKIP0:
13:
NOP
MOV Y,#198.0{REAL}
MOVB X,(Y)
MOV I{REAL},X
NOP
MOV Y,#0.0{REAL}
MOV X,X{REAL}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
NOP
MOV Y,#7{INTEGER}
MOV X{REAL},Y
NOP
SKIP1:
14:
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
15:
NOP
MOVB 53270,#200{INTEGER}
16:
NOP
MOV Y,#56334{INTEGER}
MOV A,#1{INTEGER}
JSR PEEKBYTEOR
MOVB 56334,X
NOP
JSR GETSTR
MOV K${STRING},A
NOP
MOVB 198,#0{INTEGER}
NOP
JSR END
RTS
