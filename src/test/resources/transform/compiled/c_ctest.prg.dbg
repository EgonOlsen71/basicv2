117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
125	.$81f	JMP LINE_10
127	.$822	LINE_1:
129	.$822	LDX #4
130	.$824	dcloop235_1:
131	.$824	LDA CONST_0R,X
132	.$827	STA VAR_J,X
133	.$82a	DEX
134	.$82b	BPL dcloop235_1
136	.$82d	LDA #<CONST_1R
137	.$82f	LDY #>CONST_1R
138	.$831	JSR REALFACPUSH
140	.$834	LDA #<CONST_0R
141	.$836	LDY #>CONST_0R
142	.$838	JSR REALFACPUSH
144	.$83b	LDA #<VAR_J
145	.$83d	LDY #>VAR_J
146	.$83f	STA A_REG
147	.$842	STY A_REG+1
148	.$845	LDA #<FORLOOP0
149	.$847	STA JUMP_TARGET
150	.$849	LDA #>FORLOOP0
151	.$84b	STA JUMP_TARGET+1
152	.$84d	JSR INITFOR
153	.$850	FORLOOP0:
154	.$850	LDX #4
155	.$852	dcloop235_2:
156	.$852	LDA CONST_2R,X
157	.$855	STA VAR_I,X
158	.$858	DEX
159	.$859	BPL dcloop235_2
161	.$85b	LDA #<CONST_3R
162	.$85d	LDY #>CONST_3R
163	.$85f	JSR REALFACPUSH
165	.$862	LDA #<CONST_0R
166	.$864	LDY #>CONST_0R
167	.$866	JSR REALFACPUSH
169	.$869	LDA #<VAR_I
170	.$86b	LDY #>VAR_I
171	.$86d	STA A_REG
172	.$870	STY A_REG+1
173	.$873	LDA #<FORLOOP1
174	.$875	STA JUMP_TARGET
175	.$877	LDA #>FORLOOP1
176	.$879	STA JUMP_TARGET+1
177	.$87b	JSR INITFOR
178	.$87e	FORLOOP1:
179	.$87e	LDA #<VAR_I
180	.$880	LDY #>VAR_I
181	.$882	JSR REALFACPUSH
183	.$885	LDA #<VAR_I
184	.$887	LDY #>VAR_I
185	.$889	JSR REALFAC
188	.$88c	JSR FACWORD
189	.$88f	STY MOVBSELF1+1
190	.$892	STA MOVBSELF1+2
191	.$895	MOVBSELF1:
192	.$895	LDY $FFFF
193	.$898	LDA #0
195	.$89a	JSR INTFAC
196	.$89d	JSR FACXREG
198	.$8a0	JSR ONETOFAC
201	.$8a3	LDA #<X_REG
202	.$8a5	LDY #>X_REG
204	.$8a7	JSR FASTFADDMEM
207	.$8aa	JSR FACXREG
209	.$8ad	LDA #<CONST_5
210	.$8af	LDY #>CONST_5
211	.$8b1	JSR MEMARG
212	.$8b4	JSR FASTAND
215	.$8b7	JSR FACXREG
217	.$8ba	JSR POPREAL
218	.$8bd	JSR FACWORD
220	.$8c0	STY MOVBSELF2+1
221	.$8c3	STA MOVBSELF2+2
222	.$8c6	JSR XREGFAC
225	.$8c9	JSR FACWORD
226	.$8cc	MOVBSELF2:
227	.$8cc	STY $FFFF
228	.$8cf	LDA #0
229	.$8d1	STA A_REG
230	.$8d4	STA A_REG+1
231	.$8d7	JSR NEXT
233	.$8da	LDA A_REG
234	.$8dd	BNE RBEQ_0
235	.$8df	JMP (JUMP_TARGET)
237	.$8e2	RBEQ_0:
238	.$8e2	LDA #0
239	.$8e4	STA A_REG
240	.$8e7	STA A_REG+1
241	.$8ea	JSR NEXT
243	.$8ed	LDA A_REG
244	.$8f0	BNE RBEQ_1
245	.$8f2	JMP (JUMP_TARGET)
247	.$8f5	RBEQ_1:
248	.$8f5	JMP RETURN
250	.$8f8	LINE_2:
252	.$8f8	LDX #4
253	.$8fa	dcloop401_1:
254	.$8fa	LDA CONST_0R,X
255	.$8fd	STA VAR_J,X
256	.$900	DEX
257	.$901	BPL dcloop401_1
259	.$903	LDA #<CONST_7R
260	.$905	LDY #>CONST_7R
261	.$907	JSR REALFACPUSH
263	.$90a	LDA #<CONST_0R
264	.$90c	LDY #>CONST_0R
265	.$90e	JSR REALFACPUSH
267	.$911	LDA #<VAR_J
268	.$913	LDY #>VAR_J
269	.$915	STA A_REG
270	.$918	STY A_REG+1
271	.$91b	LDA #<FORLOOP2
272	.$91d	STA JUMP_TARGET
273	.$91f	LDA #>FORLOOP2
274	.$921	STA JUMP_TARGET+1
275	.$923	JSR INITFOR
276	.$926	FORLOOP2:
277	.$926	LDX #4
278	.$928	dcloop401_2:
279	.$928	LDA CONST_2R,X
280	.$92b	STA VAR_I,X
281	.$92e	DEX
282	.$92f	BPL dcloop401_2
284	.$931	LDA #<CONST_3R
285	.$933	LDY #>CONST_3R
286	.$935	JSR REALFACPUSH
288	.$938	LDA #<CONST_0R
289	.$93a	LDY #>CONST_0R
290	.$93c	JSR REALFACPUSH
292	.$93f	LDA #<VAR_I
293	.$941	LDY #>VAR_I
294	.$943	STA A_REG
295	.$946	STY A_REG+1
296	.$949	LDA #<FORLOOP3
297	.$94b	STA JUMP_TARGET
298	.$94d	LDA #>FORLOOP3
299	.$94f	STA JUMP_TARGET+1
300	.$951	JSR INITFOR
301	.$954	FORLOOP3:
302	.$954	LDA #<VAR_I
303	.$956	LDY #>VAR_I
304	.$958	JSR REALFACPUSH
306	.$95b	LDA #<VAR_I
307	.$95d	LDY #>VAR_I
308	.$95f	JSR REALFAC
311	.$962	JSR FACWORD
312	.$965	STY MOVBSELF3+1
313	.$968	STA MOVBSELF3+2
314	.$96b	MOVBSELF3:
315	.$96b	LDY $FFFF
316	.$96e	LDA #0
318	.$970	JSR INTFAC
319	.$973	JSR FACXREG
321	.$976	JSR ONETOFAC
324	.$979	LDA #<X_REG
325	.$97b	LDY #>X_REG
327	.$97d	JSR FASTFADDMEM
330	.$980	JSR FACXREG
332	.$983	JSR POPREAL
333	.$986	JSR FACWORD
335	.$989	STY MOVBSELF4+1
336	.$98c	STA MOVBSELF4+2
337	.$98f	JSR XREGFAC
340	.$992	JSR FACWORD
341	.$995	MOVBSELF4:
342	.$995	STY $FFFF
343	.$998	LDA #0
344	.$99a	STA A_REG
345	.$99d	STA A_REG+1
346	.$9a0	JSR NEXT
348	.$9a3	LDA A_REG
349	.$9a6	BNE RBEQ_2
350	.$9a8	JMP (JUMP_TARGET)
352	.$9ab	RBEQ_2:
353	.$9ab	LDA #0
354	.$9ad	STA A_REG
355	.$9b0	STA A_REG+1
356	.$9b3	JSR NEXT
358	.$9b6	LDA A_REG
359	.$9b9	BNE RBEQ_3
360	.$9bb	JMP (JUMP_TARGET)
362	.$9be	RBEQ_3:
363	.$9be	JMP RETURN
365	.$9c1	LINE_3:
367	.$9c1	LDX #4
368	.$9c3	dcloop567_1:
369	.$9c3	LDA CONST_0R,X
370	.$9c6	STA VAR_J,X
371	.$9c9	DEX
372	.$9ca	BPL dcloop567_1
374	.$9cc	LDA #<CONST_1R
375	.$9ce	LDY #>CONST_1R
376	.$9d0	JSR REALFACPUSH
378	.$9d3	LDA #<CONST_0R
379	.$9d5	LDY #>CONST_0R
380	.$9d7	JSR REALFACPUSH
382	.$9da	LDA #<VAR_J
383	.$9dc	LDY #>VAR_J
384	.$9de	STA A_REG
385	.$9e1	STY A_REG+1
386	.$9e4	LDA #<FORLOOP4
387	.$9e6	STA JUMP_TARGET
388	.$9e8	LDA #>FORLOOP4
389	.$9ea	STA JUMP_TARGET+1
390	.$9ec	JSR INITFOR
391	.$9ef	FORLOOP4:
392	.$9ef	LDX #4
393	.$9f1	dcloop567_2:
394	.$9f1	LDA CONST_2R,X
395	.$9f4	STA VAR_I,X
396	.$9f7	DEX
397	.$9f8	BPL dcloop567_2
399	.$9fa	LDA #<CONST_3R
400	.$9fc	LDY #>CONST_3R
401	.$9fe	JSR REALFACPUSH
403	.$a01	LDA #<CONST_0R
404	.$a03	LDY #>CONST_0R
405	.$a05	JSR REALFACPUSH
407	.$a08	LDA #<VAR_I
408	.$a0a	LDY #>VAR_I
409	.$a0c	STA A_REG
410	.$a0f	STY A_REG+1
411	.$a12	LDA #<FORLOOP5
412	.$a14	STA JUMP_TARGET
413	.$a16	LDA #>FORLOOP5
414	.$a18	STA JUMP_TARGET+1
415	.$a1a	JSR INITFOR
416	.$a1d	FORLOOP5:
417	.$a1d	LDA #<VAR_I
418	.$a1f	LDY #>VAR_I
419	.$a21	JSR REALFACPUSH
421	.$a24	LDA #<VAR_I
422	.$a26	LDY #>VAR_I
423	.$a28	JSR COPY2_XYA_YREG
427	.$a2b	LDY #1
428	.$a2d	LDA #0
429	.$a2f	STY A_REG
430	.$a32	STA A_REG+1
431	.$a35	LDY #255
432	.$a37	LDA #0
433	.$a39	STY B_REG
434	.$a3c	STA B_REG+1
435	.$a3f	JSR PEEKBYTEADDANDFAST
436	.$a42	JSR POPREAL
437	.$a45	JSR FACWORD
438	.$a48	STY MOVBSELF5+1
439	.$a4b	STA MOVBSELF5+2
440	.$a4e	LDY A_REG
441	.$a51	MOVBSELF5:
442	.$a51	STY $FFFF
444	.$a54	LDA #0
445	.$a56	STA A_REG
446	.$a59	STA A_REG+1
447	.$a5c	JSR NEXT
449	.$a5f	LDA A_REG
450	.$a62	BNE RBEQ_4
451	.$a64	JMP (JUMP_TARGET)
453	.$a67	RBEQ_4:
454	.$a67	LDA #0
455	.$a69	STA A_REG
456	.$a6c	STA A_REG+1
457	.$a6f	JSR NEXT
459	.$a72	LDA A_REG
460	.$a75	BNE RBEQ_5
461	.$a77	JMP (JUMP_TARGET)
463	.$a7a	RBEQ_5:
464	.$a7a	JMP RETURN
466	.$a7d	LINE_4:
468	.$a7d	LDX #4
469	.$a7f	dcloop733_1:
470	.$a7f	LDA CONST_0R,X
471	.$a82	STA VAR_J,X
472	.$a85	DEX
473	.$a86	BPL dcloop733_1
475	.$a88	LDA #<CONST_7R
476	.$a8a	LDY #>CONST_7R
477	.$a8c	JSR REALFACPUSH
479	.$a8f	LDA #<CONST_0R
480	.$a91	LDY #>CONST_0R
481	.$a93	JSR REALFACPUSH
483	.$a96	LDA #<VAR_J
484	.$a98	LDY #>VAR_J
485	.$a9a	STA A_REG
486	.$a9d	STY A_REG+1
487	.$aa0	LDA #<FORLOOP6
488	.$aa2	STA JUMP_TARGET
489	.$aa4	LDA #>FORLOOP6
490	.$aa6	STA JUMP_TARGET+1
491	.$aa8	JSR INITFOR
492	.$aab	FORLOOP6:
493	.$aab	LDX #4
494	.$aad	dcloop733_2:
495	.$aad	LDA CONST_2R,X
496	.$ab0	STA VAR_I,X
497	.$ab3	DEX
498	.$ab4	BPL dcloop733_2
500	.$ab6	LDA #<CONST_3R
501	.$ab8	LDY #>CONST_3R
502	.$aba	JSR REALFACPUSH
504	.$abd	LDA #<CONST_0R
505	.$abf	LDY #>CONST_0R
506	.$ac1	JSR REALFACPUSH
508	.$ac4	LDA #<VAR_I
509	.$ac6	LDY #>VAR_I
510	.$ac8	STA A_REG
511	.$acb	STY A_REG+1
512	.$ace	LDA #<FORLOOP7
513	.$ad0	STA JUMP_TARGET
514	.$ad2	LDA #>FORLOOP7
515	.$ad4	STA JUMP_TARGET+1
516	.$ad6	JSR INITFOR
517	.$ad9	FORLOOP7:
518	.$ad9	LDA #<VAR_I
519	.$adb	LDY #>VAR_I
520	.$add	JSR REALFACPUSH
522	.$ae0	LDA #<VAR_I
523	.$ae2	LDY #>VAR_I
524	.$ae4	JSR COPY2_XYA_YREG
528	.$ae7	LDY #1
529	.$ae9	LDA #0
530	.$aeb	STY A_REG
531	.$aee	STA A_REG+1
532	.$af1	JSR PEEKBYTEADD
533	.$af4	JSR POPREAL
534	.$af7	JSR FACWORD
535	.$afa	STY MOVBSELF6+1
536	.$afd	STA MOVBSELF6+2
537	.$b00	LDY TMP2_ZP
538	.$b02	MOVBSELF6:
539	.$b02	STY $FFFF
544	.$b05	LDA #0
545	.$b07	STA A_REG
546	.$b0a	STA A_REG+1
547	.$b0d	JSR NEXT
549	.$b10	LDA A_REG
550	.$b13	BNE RBEQ_6
551	.$b15	JMP (JUMP_TARGET)
553	.$b18	RBEQ_6:
554	.$b18	LDA #0
555	.$b1a	STA A_REG
556	.$b1d	STA A_REG+1
557	.$b20	JSR NEXT
559	.$b23	LDA A_REG
560	.$b26	BNE RBEQ_7
561	.$b28	JMP (JUMP_TARGET)
563	.$b2b	RBEQ_7:
564	.$b2b	JMP RETURN
566	.$b2e	LINE_10:
568	.$b2e	LDA #<CONST_9
569	.$b30	LDY #>CONST_9
570	.$b32	JSR STROUTBRKWL
574	.$b35	LINE_12:
576	.$b35	LDA #<CONST_10
577	.$b37	LDY #>CONST_10
578	.$b39	JSR STROUTBRKWL
582	.$b3c	LINE_14:
584	.$b3c	LDA #<CONST_11
585	.$b3e	LDY #>CONST_11
586	.$b40	JSR STROUTBRKWL
590	.$b43	LINE_16:
592	.$b43	LDA #<CONST_12
593	.$b45	LDY #>CONST_12
594	.$b47	JSR STROUTBRKWL
598	.$b4a	LINE_18:
600	.$b4a	LDA #<CONST_13
601	.$b4c	LDY #>CONST_13
602	.$b4e	JSR STROUTBRKWL
606	.$b51	LINE_100:
608	.$b51	LDA #<CONST_14R
609	.$b53	LDY #>CONST_14R
610	.$b55	JSR COPY2_XYA_YREG
614	.$b58	LDA #<CONST_0R
615	.$b5a	LDY #>CONST_0R
616	.$b5c	JSR COPY2_XYA_XREG
620	.$b5f	WAIT1:
621	.$b5f	JSR YREGFAC
623	.$b62	JSR FACWORD
624	.$b65	STY MOVSELF0+1
625	.$b68	STA MOVSELF0+2
626	.$b6b	MOVSELF0:
627	.$b6b	LDA $FFFF
628	.$b6e	TAY
629	.$b6f	LDA #0
631	.$b71	JSR INTFAC
632	.$b74	LDX #<D_REG
633	.$b76	LDY #>D_REG
635	.$b78	JSR FACMEM
636	.$b7b	JSR XREGFAC
638	.$b7e	LDA #<D_REG
639	.$b80	LDY #>D_REG
641	.$b82	JSR MEMARG
643	.$b85	JSR FASTAND
645	.$b88	LDX #<D_REG
646	.$b8a	LDY #>D_REG
648	.$b8c	JSR FACMEM
649	.$b8f	LDA D_REG
650	.$b92	COMP_SKP8:
651	.$b92	BEQ WAIT1
653	.$b94	JSR GETADOLLAR
655	.$b97	LDA VAR_A$
656	.$b9a	LDY VAR_A$+1
657	.$b9d	STA B_REG
658	.$ba0	STY B_REG+1
660	.$ba3	JSR VAL
661	.$ba6	LDX #<VAR_A
662	.$ba8	LDY #>VAR_A
663	.$baa	JSR XREG2VAR
665	.$bad	LDA #<CONST_15R
666	.$baf	LDY #>CONST_15R
667	.$bb1	JSR REALFAC
668	.$bb4	LDA #<VAR_A
669	.$bb6	LDY #>VAR_A
670	.$bb8	JSR CMPFAC
672	.$bbb	ROL
673	.$bbc	BCS GT_GT0
674	.$bbe	LDA #<REAL_CONST_ZERO
675	.$bc0	LDY #>REAL_CONST_ZERO
676	.$bc2	JMP GT_SKIP0
677	.$bc5	GT_GT0:
678	.$bc5	LDA #<REAL_CONST_MINUS_ONE
679	.$bc7	LDY #>REAL_CONST_MINUS_ONE
680	.$bc9	GT_SKIP0:
682	.$bc9	JSR REALFACPUSH
684	.$bcc	JSR ONETOFAC
686	.$bcf	LDA #<VAR_A
687	.$bd1	LDY #>VAR_A
688	.$bd3	JSR CMPFAC
690	.$bd6	BEQ LT_LT_EQ1
691	.$bd8	ROL
692	.$bd9	BCC LT_LT1
693	.$bdb	LT_LT_EQ1:
694	.$bdb	LDA #<REAL_CONST_ZERO
695	.$bdd	LDY #>REAL_CONST_ZERO
696	.$bdf	JMP LT_SKIP1
697	.$be2	LT_LT1:
698	.$be2	LDA #<REAL_CONST_MINUS_ONE
699	.$be4	LDY #>REAL_CONST_MINUS_ONE
700	.$be6	LT_SKIP1:
702	.$be6	JSR REALFAC
703	.$be9	JSR FACXREG
705	.$bec	JSR POPREAL2X
707	.$bef	JSR FASTOR
710	.$bf2	JSR FACXREG
712	.$bf5	LDA X_REG
713	.$bf7	COMP_SKP9:
714	.$bf7	BEQ LINE_SKIP1
717	.$bf9	LINE_NSKIP1:
719	.$bf9	LDA #<CONST_16
720	.$bfb	LDY #>CONST_16
721	.$bfd	JSR STROUTBRKWL
724	.$c00	JMP LINE_100
726	.$c03	LINE_SKIP1:
729	.$c03	LINE_102:
731	.$c03	LDA #<CONST_17
732	.$c05	LDY #>CONST_17
733	.$c07	JSR STROUTWL
735	.$c0a	LDA VAR_A$
736	.$c0d	LDY VAR_A$+1
737	.$c10	JSR STROUTWL
739	.$c13	LDA #<CONST_18
740	.$c15	LDY #>CONST_18
741	.$c17	JSR STROUTWL
743	.$c1a	LDA #<CONST_19
744	.$c1c	LDY #>CONST_19
745	.$c1e	STA TMP_ZP
746	.$c20	STY TMP_ZP+1
748	.$c22	JSR WRITETID
750	.$c25	LINE_104:
752	.$c25	LDA #<VAR_A
753	.$c27	LDY #>VAR_A
754	.$c29	JSR REALFAC
757	.$c2c	JSR FACWORD
758	.$c2f	STY TMP_ZP
760	.$c31	ON1SUB0:
761	.$c31	LDX #1
762	.$c33	CPX TMP_ZP
763	.$c35	COMP_SKP10:
764	.$c35	BNE ON1SUB1
765	.$c37	JSR GOSUB
766	.$c3a	JSR LINE_1
767	.$c3d	JMP GSKIPON1
768	.$c40	ON1SUB1:
769	.$c40	INX
770	.$c41	CPX TMP_ZP
771	.$c43	COMP_SKP11:
772	.$c43	BNE ON1SUB2
773	.$c45	JSR GOSUB
774	.$c48	JSR LINE_2
775	.$c4b	JMP GSKIPON1
776	.$c4e	ON1SUB2:
777	.$c4e	INX
778	.$c4f	CPX TMP_ZP
779	.$c51	COMP_SKP12:
780	.$c51	BNE ON1SUB3
781	.$c53	JSR GOSUB
782	.$c56	JSR LINE_3
783	.$c59	JMP GSKIPON1
784	.$c5c	ON1SUB3:
785	.$c5c	INX
786	.$c5d	CPX TMP_ZP
787	.$c5f	COMP_SKP13:
788	.$c5f	BNE GSKIPON1
789	.$c61	JSR GOSUB
790	.$c64	JSR LINE_4
791	.$c67	JMP GSKIPON1
815	.$c6a	GSKIPON1:
817	.$c6a	LINE_106:
819	.$c6a	LDA #<CONST_22
820	.$c6c	LDY #>CONST_22
821	.$c6e	JSR STROUTWL
823	.$c71	JSR READTID
824	.$c74	LDA VAR_TI$
825	.$c77	LDY VAR_TI$+1
826	.$c7a	JSR STROUTBRKWL
829	.$c7d	JSR END
830	.$c80	RTS
833	.$c81	END   LDX SP_SAVE
834	.$c84	TXS
841	.$c85	RTS
844	.$c86	START  LDA ENDSTRBUF+1
845	.$c89	BNE ENDGIVEN
846	.$c8b	LDA BASICEND
847	.$c8d	STA ENDSTRBUF
848	.$c90	LDA BASICEND+1
849	.$c92	STA ENDSTRBUF+1
850	.$c95	ENDGIVEN LDA #<FPSTACK
851	.$c97	LDY #>FPSTACK
852	.$c99	STA FPSTACKP
853	.$c9c	STY FPSTACKP+1
854	.$c9f	LDA #<FORSTACK
855	.$ca1	LDY #>FORSTACK
856	.$ca3	STA FORSTACKP
857	.$ca6	STY FORSTACKP+1
858	.$ca9	LDA #<STRBUF
859	.$cab	LDY #>STRBUF
860	.$cad	STA STRBUFP
861	.$cb0	STY STRBUFP+1
862	.$cb3	STA HIGHP
863	.$cb6	STY HIGHP+1
864	.$cb9	LDA #0
865	.$cbb	STA CHLOCKFLAG
866	.$cbe	STA LASTVAR
867	.$cc1	STA LASTVAR+1
868	.$cc4	JSR INITVARS
869	.$cc7	LDA #0
870	.$cc9	STA CMD_NUM
871	.$ccc	STA CHANNEL
872	.$ccf	TAY
873	.$cd0	TAX
877	.$cd1	STA KEYNDX
883	.$cd3	JSR RESTORE
884	.$cd6	CLC
888	.$cd7	RTS
891	.$cd8	INITNARRAY
892	.$cd8	STA TMP_ZP
893	.$cda	STY TMP_ZP+1
894	.$cdc	LDY #0
895	.$cde	TYA
896	.$cdf	NINITLOOP STA (TMP_ZP),Y
897	.$ce1	INC TMP_ZP
898	.$ce3	BNE NLOOPNOV
899	.$ce5	INC TMP_ZP+1
900	.$ce7	NLOOPNOV LDX TMP2_ZP
901	.$ce9	BNE NLOOPNOV2
902	.$ceb	DEC TMP2_ZP+1
903	.$ced	NLOOPNOV2 DEC TMP2_ZP
904	.$cef	BNE NINITLOOP
905	.$cf1	LDX TMP2_ZP+1
906	.$cf3	BNE NINITLOOP
907	.$cf5	RTS
910	.$cf6	INITSTRARRAY
911	.$cf6	STA TMP_ZP
912	.$cf8	STY TMP_ZP+1
913	.$cfa	SINITLOOP LDY #0
914	.$cfc	LDA #<EMPTYSTR
915	.$cfe	STA (TMP_ZP),Y
916	.$d00	LDA #>EMPTYSTR
917	.$d02	INY
918	.$d03	STA (TMP_ZP),Y
919	.$d05	CLC
920	.$d06	LDA TMP_ZP
921	.$d08	ADC #2
922	.$d0a	STA TMP_ZP
923	.$d0c	BCC SLOOPNOV1
924	.$d0e	INC TMP_ZP+1
925	.$d10	SLOOPNOV1 SEC
926	.$d11	LDA TMP2_ZP
927	.$d13	SBC #2
928	.$d15	STA TMP2_ZP
929	.$d17	BCS SLOOPNOV2
930	.$d19	DEC TMP2_ZP+1
931	.$d1b	SLOOPNOV2 LDA TMP2_ZP
932	.$d1d	BNE SINITLOOP
933	.$d1f	LDA TMP2_ZP+1
934	.$d21	BNE SINITLOOP
935	.$d23	RTS
938	.$d24	INITSPARAMS STA TMP3_ZP
939	.$d26	STY TMP3_ZP+1
940	.$d28	SEC
941	.$d29	SBC #2
942	.$d2b	STA TMP_ZP
943	.$d2d	TYA
944	.$d2e	SBC #0
945	.$d30	STA TMP_ZP+1
946	.$d32	LDY #0
947	.$d34	LDA (TMP_ZP),Y
948	.$d36	STA TMP2_ZP
949	.$d38	INY
950	.$d39	LDA (TMP_ZP),Y
951	.$d3b	STA TMP2_ZP+1
952	.$d3d	LDA TMP3_ZP
953	.$d3f	LDY TMP3_ZP+1
954	.$d41	RTS
957	.$d42	INITSTRVARS LDA #<STRINGVARS_START  
958	.$d44	LDY #>STRINGVARS_START
959	.$d46	CMP #<STRINGVARS_END
960	.$d48	BNE INITIT1
961	.$d4a	CPY #>STRINGVARS_END
962	.$d4c	BNE INITIT1
963	.$d4e	JMP INITSA2     
964	.$d51	INITIT1  STA TMP_ZP
965	.$d53	STY TMP_ZP+1
966	.$d55	LDY #0
967	.$d57	INITSTRLOOP LDA #<EMPTYSTR
968	.$d59	STA (TMP_ZP),Y
969	.$d5b	INY
970	.$d5c	LDA #>EMPTYSTR
971	.$d5e	STA (TMP_ZP),Y
972	.$d60	DEY
973	.$d61	LDA TMP_ZP
974	.$d63	CLC
975	.$d64	ADC #2
976	.$d66	STA TMP_ZP
977	.$d68	LDA TMP_ZP+1
978	.$d6a	ADC #0
979	.$d6c	STA TMP_ZP+1
980	.$d6e	CMP #>STRINGVARS_END
981	.$d70	BNE INITSTRLOOP
982	.$d72	LDA TMP_ZP
983	.$d74	CMP #<STRINGVARS_END
984	.$d76	BNE INITSTRLOOP
985	.$d78	INITSA2  LDA #<STRINGARRAYS_START 
986	.$d7a	LDY #>STRINGARRAYS_START
987	.$d7c	CMP #<STRINGARRAYS_END
988	.$d7e	BNE ARRAYLOOP
989	.$d80	CPY #>STRINGARRAYS_END
990	.$d82	BNE ARRAYLOOP
991	.$d84	RTS       
992	.$d85	ARRAYLOOP CLC
993	.$d86	ADC #3
994	.$d88	BCC ARRAYSKIP1
995	.$d8a	INY
996	.$d8b	ARRAYSKIP1 CPY #>STRINGARRAYS_END
997	.$d8d	BEQ ARRAYSC
998	.$d8f	BCC ARRAYSKIP2
999	.$d91	JMP ARRAYQUIT
1000	.$d94	ARRAYSC  CMP #<STRINGARRAYS_END
1001	.$d96	BCS ARRAYQUIT
1002	.$d98	ARRAYSKIP2 STA TMP_REG
1003	.$d9a	STY TMP_REG+1
1004	.$d9c	JSR INITSPARAMS
1005	.$d9f	LDA TMP_REG
1006	.$da1	LDY TMP_REG+1
1007	.$da3	JSR INITSTRARRAY
1008	.$da6	LDA TMP_ZP
1009	.$da8	LDY TMP_ZP+1
1010	.$daa	JMP ARRAYLOOP
1011	.$dad	ARRAYQUIT RTS
1014	.$dae	RESTORE  LDA #<DATAS
1015	.$db0	LDY #>DATAS
1016	.$db2	STA DATASP
1017	.$db5	STY DATASP+1
1018	.$db8	RTS
1021	.$db9	VAL   LDA B_REG
1022	.$dbc	STA INDEX1
1023	.$dbe	LDA B_REG+1
1024	.$dc1	STA INDEX1+1
1025	.$dc3	LDY #0
1026	.$dc5	STY VALTYPE
1027	.$dc7	LDA (INDEX1),Y
1028	.$dc9	BNE DOACVAL
1029	.$dcb	JMP ZEROSET
1030	.$dce	DOACVAL  TAY
1031	.$dcf	INC INDEX1
1032	.$dd1	BNE VALSTR
1033	.$dd3	INC INDEX1+1
1034	.$dd5	VALSTR  JSR VALS
1035	.$dd8	JMP FACXREG 
1038	.$ddb	WRITETID LDY #0
1039	.$ddd	LDA (TMP_ZP),Y
1040	.$ddf	CMP #$6
1041	.$de1	BEQ FORMATOK
1042	.$de3	JMP ILLEGALQUANTITY
1043	.$de6	FORMATOK INC TMP_ZP
1044	.$de8	BNE WRITE2
1045	.$dea	INC TMP_ZP+1
1046	.$dec	WRITE2  LDA TMP_ZP
1047	.$dee	STA INDEX1
1048	.$df0	LDA TMP_ZP+1
1049	.$df2	STA INDEX1+1
1051	.$df4	JMP WRITETIS
1058	.$df7	READTID  LDA $FE
1059	.$df9	PHA
1061	.$dfa	STA FACOV
1062	.$dfc	JSR TI2FAC
1063	.$dff	LDY #0
1064	.$e01	STY LOWDS+1
1065	.$e03	DEY
1066	.$e04	STY FACOV+1
1067	.$e06	LDY #$06
1068	.$e08	STY LOWDS
1069	.$e0a	LDY #$24
1070	.$e0c	JSR GETTI
1075	.$e0f	LDA #$FE
1076	.$e11	STA TMP_ZP
1077	.$e13	LDA #0
1078	.$e15	STA TMP_ZP+1
1079	.$e17	LDA #$6
1080	.$e19	SEI    
1081	.$e1a	STA $FE
1082	.$e1c	LDA #<VAR_TI$
1083	.$e1e	LDY #>VAR_TI$
1084	.$e20	JSR COPYSTRING
1085	.$e23	PLA
1086	.$e24	STA $FE
1087	.$e26	CLI
1088	.$e27	RTS
1091	.$e28	SAVEPOINTERS
1092	.$e28	LDA TMP_ZP   
1093	.$e2a	STA STORE1
1094	.$e2d	LDA TMP_ZP+1
1095	.$e2f	STA STORE1+1
1096	.$e32	LDA TMP2_ZP
1097	.$e34	STA STORE2
1098	.$e37	LDA TMP2_ZP+1
1099	.$e39	STA STORE2+1
1100	.$e3c	LDA TMP3_ZP
1101	.$e3e	STA STORE3
1102	.$e41	LDA TMP3_ZP+1
1103	.$e43	STA STORE3+1
1104	.$e46	RTS
1107	.$e47	RESTOREPOINTERS
1108	.$e47	LDA STORE3+1  
1109	.$e4a	STA TMP3_ZP+1
1110	.$e4c	LDA STORE3
1111	.$e4f	STA TMP3_ZP
1112	.$e51	LDA STORE2+1
1113	.$e54	STA TMP2_ZP+1
1114	.$e56	LDA STORE2
1115	.$e59	STA TMP2_ZP
1116	.$e5b	LDA STORE1+1
1117	.$e5e	STA TMP_ZP+1
1118	.$e60	LDA STORE1
1119	.$e63	STA TMP_ZP
1120	.$e65	RTS
1123	.$e66	COMPACT
1124	.$e66	LDY #0
1125	.$e68	GCBUFNE  LDA (TMP_ZP),Y  
1126	.$e6a	COMPACTF STA TMP4_REG  
1127	.$e6d	LDY STRBUFP+1  
1128	.$e70	STY TMP4_REG+1  
1129	.$e73	INY     
1130	.$e74	BEQ ENDMEM   
1131	.$e76	CPY ENDSTRBUF+1  
1132	.$e79	BCC RGCEXIT   
1133	.$e7b	ENDMEM  LDA STRBUFP
1134	.$e7e	CLC
1135	.$e7f	ADC TMP4_REG
1136	.$e82	STA TMP4_REG
1137	.$e85	BCC RGCNOOV1
1138	.$e87	INC TMP4_REG+1
1139	.$e8a	RGCNOOV1 CLC
1140	.$e8b	LDA TMP4_REG
1141	.$e8e	ADC #3
1142	.$e90	STA TMP4_REG
1143	.$e93	BCC RGCNOOV2
1144	.$e95	INC TMP4_REG+1
1145	.$e98	RGCNOOV2 LDA TMP4_REG+1  
1146	.$e9b	CMP ENDSTRBUF+1
1147	.$e9e	BEQ RGCLOW1
1148	.$ea0	BCS GCEXECOMP  
1149	.$ea2	JMP RGCEXIT
1150	.$ea5	RGCLOW1  LDA TMP4_REG
1151	.$ea8	CMP ENDSTRBUF
1152	.$eab	BCS GCEXECOMP  
1153	.$ead	RGCEXIT  RTS     
1154	.$eae	GCEXECOMP LDA STRBUFP
1155	.$eb1	STA STORE4
1156	.$eb4	LDA STRBUFP+1
1157	.$eb7	STA STORE4+1
1158	.$eba	JSR GCEXE
1159	.$ebd	JMP CHECKMEMORY
1162	.$ec0	GCEXE  JSR SAVEPOINTERS
1163	.$ec3	LDA #0
1164	.$ec5	STA LASTVAR
1165	.$ec8	STA LASTVAR+1  
1166	.$ecb	LDA #<STRBUF
1167	.$ecd	STA TMP_ZP
1168	.$ecf	STA GCSTART
1169	.$ed2	LDA #>STRBUF
1170	.$ed4	STA TMP_ZP+1  
1171	.$ed6	STA GCSTART+1
1172	.$ed9	GCLOOP  LDY #0
1173	.$edb	LDA TMP_ZP
1174	.$edd	STA GCWORK
1175	.$ee0	LDA TMP_ZP+1
1176	.$ee2	STA GCWORK+1  
1177	.$ee5	LDA (TMP_ZP),Y
1178	.$ee7	STA GCLEN   
1179	.$eea	INC TMP_ZP
1180	.$eec	BNE GCLOOPNOOV
1181	.$eee	INC TMP_ZP+1
1182	.$ef0	GCLOOPNOOV LDA TMP_ZP
1183	.$ef2	CLC
1184	.$ef3	ADC GCLEN
1185	.$ef6	STA TMP_ZP
1186	.$ef8	BCC GCLOOPNOOV2
1187	.$efa	INC TMP_ZP+1  
1188	.$efc	GCLOOPNOOV2 LDY #0
1189	.$efe	LDA (TMP_ZP),Y
1190	.$f00	STA TMP2_ZP
1191	.$f02	INY
1192	.$f03	LDA (TMP_ZP),Y
1193	.$f05	STA TMP2_ZP+1  
1194	.$f07	LDA TMP_ZP
1195	.$f09	CLC
1196	.$f0a	ADC #2
1197	.$f0c	STA TMP_ZP
1198	.$f0e	BCC GCLOOPNOOV3
1199	.$f10	INC TMP_ZP+1  
1200	.$f12	GCLOOPNOOV3 LDY #0
1201	.$f14	LDA (TMP2_ZP),Y
1202	.$f16	CMP GCWORK
1203	.$f19	BNE GCKLOOP
1204	.$f1b	INY
1205	.$f1c	LDA (TMP2_ZP),Y
1206	.$f1e	CMP GCWORK+1
1207	.$f21	BEQ MEMFREE
1208	.$f23	GCKLOOP  LDA TMP_ZP+1  
1209	.$f25	CMP HIGHP+1
1210	.$f28	BEQ GCHECKLOW
1211	.$f2a	BCC GCLOOP
1212	.$f2c	JMP GCDONE
1213	.$f2f	GCHECKLOW LDA TMP_ZP
1214	.$f31	CMP HIGHP
1215	.$f34	BCS GCDONE
1216	.$f36	JMP GCLOOP
1217	.$f39	MEMFREE  LDA GCSTART   
1218	.$f3c	CMP GCWORK   
1219	.$f3f	BNE COPYDOWN
1220	.$f41	LDA GCSTART+1
1221	.$f44	CMP GCWORK+1
1222	.$f47	BNE COPYDOWN
1223	.$f49	LDA TMP_ZP   
1224	.$f4b	STA GCSTART
1225	.$f4e	LDA TMP_ZP+1
1226	.$f50	STA GCSTART+1
1227	.$f53	JMP GCKLOOP   
1228	.$f56	COPYDOWN LDA GCSTART   
1229	.$f59	STA TMP_REG
1230	.$f5b	LDA GCSTART+1
1231	.$f5e	STA TMP_REG+1  
1232	.$f60	LDA GCWORK
1233	.$f63	STA TMP2_REG
1234	.$f66	LDA GCWORK+1
1235	.$f69	STA TMP2_REG+1  
1236	.$f6c	LDA TMP_ZP
1237	.$f6e	SEC
1238	.$f6f	SBC GCWORK
1239	.$f72	STA TMP3_REG
1240	.$f75	LDA TMP_ZP+1
1241	.$f77	SBC GCWORK+1
1242	.$f7a	STA TMP3_REG+1  
1243	.$f7d	LDA GCSTART
1244	.$f80	CLC
1245	.$f81	ADC TMP3_REG
1246	.$f84	STA GCSTART
1247	.$f87	LDA GCSTART+1
1248	.$f8a	ADC TMP3_REG+1
1249	.$f8d	STA GCSTART+1  
1250	.$f90	JSR QUICKCOPY  
1251	.$f93	LDY #0
1252	.$f95	LDA TMP_REG
1253	.$f97	STA (TMP2_ZP),Y
1254	.$f99	INY
1255	.$f9a	LDA TMP_REG+1
1256	.$f9c	STA (TMP2_ZP),Y  
1257	.$f9e	JMP GCKLOOP
1258	.$fa1	GCDONE  LDA GCSTART
1259	.$fa4	STA HIGHP
1260	.$fa7	STA STRBUFP
1261	.$faa	LDA GCSTART+1
1262	.$fad	STA HIGHP+1
1263	.$fb0	STA STRBUFP+1  
1264	.$fb3	GCSKIP  JSR RESTOREPOINTERS
1265	.$fb6	RTS     
1268	.$fb7	CHECKMEMORY
1269	.$fb7	LDA STRBUFP+1  
1270	.$fba	CMP STORE4+1  
1271	.$fbd	BCC STILLFITSCM  
1275	.$fbf	BEQ CHECKMEMLOWCM
1276	.$fc1	JMP OUTOFMEMORY  
1277	.$fc4	CHECKMEMLOWCM
1278	.$fc4	LDA STRBUFP   
1279	.$fc7	CMP STORE4
1280	.$fca	BCC STILLFITSCM
1281	.$fcc	JMP OUTOFMEMORY  
1282	.$fcf	STILLFITSCM RTS
1285	.$fd0	QUICKCOPY LDA TMP_REG  
1286	.$fd2	STA TMEM+1
1287	.$fd5	LDA TMP_REG+1
1288	.$fd7	STA TMEM+2
1289	.$fda	LDA TMP2_REG
1290	.$fdd	STA SMEM+1
1291	.$fe0	LDA TMP2_REG+1
1292	.$fe3	STA SMEM+2
1293	.$fe6	LDY #$0
1294	.$fe8	LDX TMP3_REG
1295	.$feb	BNE QCLOOP
1296	.$fed	LDA TMP3_REG+1
1297	.$ff0	BEQ QCEXIT  
1298	.$ff2	QCLOOP
1299	.$ff2	SMEM  LDA $0000,Y
1300	.$ff5	TMEM  STA $0000,Y
1301	.$ff8	INY
1302	.$ff9	BNE YNOOV
1303	.$ffb	INC TMEM+2
1304	.$ffe	INC SMEM+2
1305	.$1001	YNOOV  DEX
1306	.$1002	BNE QCLOOP
1307	.$1004	LDA TMP3_REG+1
1308	.$1007	BEQ QCEXIT
1309	.$1009	DEC TMP3_REG+1
1310	.$100c	JMP QCLOOP
1311	.$100f	QCEXIT  RTS
1314	.$1010	COPYSTRING STA TMP2_ZP
1315	.$1012	STY TMP2_ZP+1
1316	.$1014	CPY TMP_ZP+1
1317	.$1016	BNE CONTCOPY
1318	.$1018	LDA TMP2_ZP
1319	.$101a	CMP TMP_ZP
1320	.$101c	BNE CONTCOPY
1321	.$101e	RTS     
1322	.$101f	CONTCOPY JSR COMPACT   
1323	.$1022	LDY #0
1324	.$1024	STY TMP_FLAG
1325	.$1027	LDA (TMP_ZP),Y
1326	.$1029	BNE NOTEMPTYSTR
1327	.$102b	LDA #<EMPTYSTR  
1328	.$102d	STA TMP_ZP
1329	.$102f	LDA #>EMPTYSTR
1330	.$1031	STA TMP_ZP+1
1331	.$1033	JMP ISCONST
1332	.$1036	NOTEMPTYSTR TAX     
1333	.$1037	LDA (TMP2_ZP),Y
1334	.$1039	STA TMP3_ZP
1335	.$103b	INY
1336	.$103c	LDA (TMP2_ZP),Y
1337	.$103e	STA TMP3_ZP+1
1338	.$1040	DEY
1339	.$1041	LDA TMP_ZP+1  
1340	.$1043	CMP #>CONSTANTS_END
1341	.$1045	BEQ CHECKLOW1
1342	.$1047	BCS INVAR
1343	.$1049	JMP CHECKNEXT
1344	.$104c	CHECKLOW1 LDA TMP_ZP
1345	.$104e	CMP #<CONSTANTS_END
1346	.$1050	BCS INVAR
1347	.$1052	CHECKNEXT LDA TMP_ZP+1  
1348	.$1054	CMP #>CONSTANTS
1349	.$1056	BEQ CHECKLOW3
1350	.$1058	BCC INVAR
1351	.$105a	JMP ISCONST
1352	.$105d	CHECKLOW3 LDA TMP_ZP
1353	.$105f	CMP #<CONSTANTS
1354	.$1061	BCC INVAR   
1355	.$1063	ISCONST  JSR CHECKLASTVAR 
1356	.$1066	LDA TMP_ZP
1357	.$1068	STA (TMP2_ZP),Y  
1358	.$106a	INY
1359	.$106b	LDA TMP_ZP+1
1360	.$106d	STA (TMP2_ZP),Y
1361	.$106f	LDA HIGHP   
1362	.$1072	STA STRBUFP
1363	.$1075	LDA HIGHP+1
1364	.$1078	STA STRBUFP+1
1365	.$107b	RTS
1366	.$107c	INVAR  INY
1367	.$107d	LDA (TMP2_ZP),Y  
1368	.$107f	CMP #>CONSTANTS_END
1369	.$1081	BEQ CHECKLOW2
1370	.$1083	BCS INVAR2
1371	.$1085	JMP PUPDATEPTR
1372	.$1088	CHECKLOW2 DEY
1373	.$1089	LDA (TMP2_ZP),Y
1374	.$108b	CMP #<CONSTANTS_END
1375	.$108d	BCS INVAR2
1376	.$108f	JMP PUPDATEPTR
1377	.$1092	INVAR2  LDY #0   
1378	.$1094	LDA (TMP3_ZP),Y
1379	.$1096	STA TMP_REG
1380	.$1098	TXA
1381	.$1099	CMP TMP_REG  
1382	.$109b	BEQ UPDATEHP2 
1385	.$109d	PUPDATEPTR JSR CHECKLASTVAR
1386	.$10a0	LDY #1   
1387	.$10a2	STY TMP_FLAG 
1388	.$10a5	JMP UPDATEPTR 
1389	.$10a8	UPDATEHP2 LDA HIGHP  
1390	.$10ab	STA STRBUFP
1391	.$10ae	LDA HIGHP+1
1392	.$10b1	STA STRBUFP+1
1393	.$10b4	JMP STRFITS
1394	.$10b7	COPYONLY LDY #0
1395	.$10b9	STY TMP_FLAG
1396	.$10bc	JMP CHECKMEM
1397	.$10bf	ALTCOPY  JMP COPYSTRING2
1398	.$10c2	UPDATEPTR LDA TMP_ZP+1 
1399	.$10c4	CMP HIGHP+1  
1400	.$10c7	BEQ CHECKXT1
1401	.$10c9	BCS ALTCOPY
1402	.$10cb	JMP CHECKMEM
1403	.$10ce	CHECKXT1 LDA TMP_ZP
1404	.$10d0	CMP HIGHP
1405	.$10d3	BCS ALTCOPY
1406	.$10d5	CHECKMEM
1407	.$10d5	MEMOK  LDY #0
1408	.$10d7	LDA STRBUFP  
1409	.$10da	STA (TMP2_ZP),Y 
1410	.$10dc	STA TMP3_ZP
1411	.$10de	LDA STRBUFP+1
1412	.$10e1	INY
1413	.$10e2	STA (TMP2_ZP),Y
1414	.$10e4	STA TMP3_ZP+1
1415	.$10e6	TXA
1416	.$10e7	CLC
1417	.$10e8	ADC STRBUFP
1418	.$10eb	PHP
1419	.$10ec	CLC
1420	.$10ed	ADC #3
1421	.$10ef	STA STRBUFP
1422	.$10f2	BCC NOCS1
1423	.$10f4	INC STRBUFP+1
1424	.$10f7	NOCS1  PLP
1425	.$10f8	BCC STRFITS
1426	.$10fa	INC STRBUFP+1
1427	.$10fd	STRFITS  LDY TMP_FLAG 
1428	.$1100	BEQ NOHPUPDATE 
1429	.$1102	LDA HIGHP+1
1430	.$1105	CMP STRBUFP+1
1431	.$1108	BCC UPDATEHIGHP
1432	.$110a	BEQ CHECKNEXTHP
1433	.$110c	JMP NOHPUPDATE
1434	.$110f	CHECKNEXTHP LDA HIGHP
1435	.$1112	CMP STRBUFP
1436	.$1115	BCC UPDATEHIGHP
1437	.$1117	JMP NOHPUPDATE
1438	.$111a	UPDATEHIGHP LDA STRBUFP
1439	.$111d	STA HIGHP
1440	.$1120	LDA STRBUFP+1
1441	.$1123	STA HIGHP+1  
1442	.$1126	JSR REMEMBERLASTVAR
1443	.$1129	JSR STOREVARREF
1444	.$112c	NOHPUPDATE LDY #0
1445	.$112e	LDA (TMP_ZP),Y 
1446	.$1130	STA (TMP3_ZP),Y
1447	.$1132	TAY    
1448	.$1133	BEQ EXITCOPY 
1449	.$1135	LOOP  LDA (TMP_ZP),Y 
1450	.$1137	STA (TMP3_ZP),Y
1451	.$1139	DEY
1452	.$113a	BNE LOOP
1453	.$113c	EXITCOPY RTS
1458	.$113d	COPYSTRING2 LDY #0
1459	.$113f	LDA (TMP_ZP),Y
1460	.$1141	STA TMP_REG
1461	.$1143	TAX
1462	.$1144	LDA HIGHP
1463	.$1147	STA TMP3_ZP
1464	.$1149	STA (TMP2_ZP),Y
1465	.$114b	LDA HIGHP+1
1466	.$114e	STA TMP3_ZP+1
1467	.$1150	INY
1468	.$1151	STA (TMP2_ZP),Y
1469	.$1153	JSR REMEMBERLASTVAR
1472	.$1156	LDA TMP_ZP
1473	.$1158	CMP TMP3_ZP
1474	.$115a	BNE DOLOOP
1475	.$115c	LDA TMP_ZP+1
1476	.$115e	CMP TMP3_ZP+1
1477	.$1160	BEQ SKIPCP2
1478	.$1162	DOLOOP  DEY
1479	.$1163	TXA
1480	.$1164	STA (TMP3_ZP),Y
1481	.$1166	INY
1482	.$1167	ASLOOP  LDA (TMP_ZP),Y
1483	.$1169	STA (TMP3_ZP),Y
1484	.$116b	INY
1485	.$116c	DEX
1486	.$116d	BNE ASLOOP
1487	.$116f	SKIPCP2  LDA HIGHP
1488	.$1172	CLC
1489	.$1173	ADC TMP_REG
1490	.$1175	PHP
1491	.$1176	CLC
1492	.$1177	ADC #3
1493	.$1179	STA HIGHP
1494	.$117c	STA STRBUFP
1495	.$117f	BCC SKIPLOWAS1
1496	.$1181	INC HIGHP+1
1497	.$1184	SKIPLOWAS1 PLP
1498	.$1185	BCC SKIPLOWAS2
1499	.$1187	INC HIGHP+1
1500	.$118a	SKIPLOWAS2 LDA HIGHP+1
1501	.$118d	STA STRBUFP+1
1502	.$1190	JSR STOREVARREF
1503	.$1193	RTS
1507	.$1194	CHECKLASTVAR
1508	.$1194	LDA TMP2_ZP
1509	.$1196	CMP LASTVAR
1510	.$1199	BNE NOTSAMEVAR
1511	.$119b	LDA TMP2_ZP+1
1512	.$119d	CMP LASTVAR+1
1513	.$11a0	BNE NOTSAMEVAR
1514	.$11a2	LDA LASTVARP   
1515	.$11a5	STA HIGHP
1516	.$11a8	STA STRBUFP
1517	.$11ab	LDA LASTVARP+1
1518	.$11ae	STA HIGHP+1
1519	.$11b1	STA STRBUFP+1
1520	.$11b4	NOTSAMEVAR RTS
1524	.$11b5	REMEMBERLASTVAR
1525	.$11b5	LDA TMP2_ZP
1526	.$11b7	STA LASTVAR
1527	.$11ba	LDA TMP2_ZP+1
1528	.$11bc	STA LASTVAR+1
1529	.$11bf	LDA TMP3_ZP
1530	.$11c1	STA LASTVARP
1531	.$11c4	LDA TMP3_ZP+1
1532	.$11c6	STA LASTVARP+1 
1533	.$11c9	RTS
1538	.$11ca	STOREVARREF
1539	.$11ca	TYA
1540	.$11cb	PHA    
1541	.$11cc	LDA TMP_ZP
1542	.$11ce	PHA
1543	.$11cf	LDA TMP_ZP+1
1544	.$11d1	PHA
1545	.$11d2	LDA HIGHP+1
1546	.$11d5	STA TMP_ZP+1
1547	.$11d7	LDA HIGHP
1548	.$11da	SEC
1549	.$11db	SBC #2
1550	.$11dd	STA TMP_ZP
1551	.$11df	BCS RLVNOOV
1552	.$11e1	DEC TMP_ZP+1
1553	.$11e3	RLVNOOV  LDA TMP2_ZP
1554	.$11e5	LDY #0
1555	.$11e7	STA (TMP_ZP),Y
1556	.$11e9	LDA TMP2_ZP+1
1557	.$11eb	INY
1558	.$11ec	STA (TMP_ZP),Y 
1559	.$11ee	PLA
1560	.$11ef	STA TMP_ZP+1
1561	.$11f1	PLA
1562	.$11f2	STA TMP_ZP  
1563	.$11f4	PLA
1564	.$11f5	TAY    
1565	.$11f6	RTS
1568	.$11f7	REROUTE  LDA CMD_NUM  
1569	.$11fa	BEQ REROUTECMD
1570	.$11fc	TAX
1571	.$11fd	STA CHANNEL
1572	.$1200	JMP CHKOUT
1573	.$1203	REROUTECMD RTS
1576	.$1204	RESETROUTE LDA CMD_NUM  
1577	.$1207	BEQ RESETROUTECMD
1578	.$1209	JMP CLRCHNEW
1579	.$120c	RESETROUTECMD
1580	.$120c	RTS
1583	.$120d	STROUTWL STA A_REG
1584	.$1210	STY A_REG+1
1585	.$1213	STROUT  JSR REROUTE
1586	.$1216	LDA A_REG
1587	.$1219	STA INDEX1
1588	.$121b	LDA A_REG+1
1589	.$121e	STA INDEX1+1
1590	.$1220	LDY #0
1591	.$1222	LDA (INDEX1),Y
1592	.$1224	TAX
1593	.$1225	INC INDEX1
1594	.$1227	BNE PRINTSTR
1595	.$1229	INC INDEX1+1
1596	.$122b	PRINTSTR JSR PRINTSTRS
1597	.$122e	LDA HIGHP   
1598	.$1231	STA STRBUFP
1599	.$1234	LDA HIGHP+1
1600	.$1237	STA STRBUFP+1
1601	.$123a	JSR RESETROUTE
1602	.$123d	RTS
1605	.$123e	STROUTBRKWL STA A_REG
1606	.$1241	STY A_REG+1
1607	.$1244	STROUTBRK JSR REROUTE
1608	.$1247	LDA A_REG
1609	.$124a	STA INDEX1
1610	.$124c	LDA A_REG+1
1611	.$124f	STA INDEX1+1
1612	.$1251	LDY #0
1613	.$1253	LDA (INDEX1),Y
1614	.$1255	TAX
1615	.$1256	INC INDEX1
1616	.$1258	BNE PRINTSTR2
1617	.$125a	INC INDEX1+1
1618	.$125c	PRINTSTR2 JSR PRINTSTRS
1619	.$125f	LDA HIGHP   
1620	.$1262	STA STRBUFP
1621	.$1265	LDA HIGHP+1
1622	.$1268	STA STRBUFP+1
1623	.$126b	LDA #$0D
1624	.$126d	JSR CHROUT
1625	.$1270	JMP RESETROUTE  
1628	.$1273	ADJUSTSTACK LDA FORSTACKP 
1629	.$1276	STA TMP_ZP
1630	.$1278	LDA FORSTACKP+1
1631	.$127b	STA TMP_ZP+1
1632	.$127d	ADSEARCHFOR LDA TMP_ZP
1633	.$127f	CMP #<FORSTACK
1634	.$1281	BNE ADJUST2
1635	.$1283	LDA TMP_ZP+1
1636	.$1285	CMP #>FORSTACK
1637	.$1287	BNE ADJUST2
1638	.$1289	RTS    
1639	.$128a	ADJUST2  LDA TMP_ZP
1640	.$128c	SEC
1641	.$128d	SBC #2
1642	.$128f	STA TMP_ZP
1643	.$1291	BCS ADNOPV1N1
1644	.$1293	DEC TMP_ZP+1
1645	.$1295	ADNOPV1N1 LDY #0
1646	.$1297	LDA (TMP_ZP),Y
1647	.$1299	BNE ADNOGOSUB
1648	.$129b	RTS    
1649	.$129c	ADNOGOSUB
1650	.$129c	INY
1651	.$129d	LDA TMP_ZP
1652	.$129f	SEC
1653	.$12a0	SBC (TMP_ZP),Y
1654	.$12a2	STA TMP_ZP
1655	.$12a4	BCS ADNOPV1N2
1656	.$12a6	DEC TMP_ZP+1
1657	.$12a8	ADNOPV1N2 DEY
1658	.$12a9	LDA A_REG
1659	.$12ac	ADCMPFOR CMP (TMP_ZP),Y
1660	.$12ae	BNE ADSEARCHFOR
1661	.$12b0	LDA A_REG+1
1662	.$12b3	INY
1663	.$12b4	CMP (TMP_ZP),Y
1664	.$12b6	BEQ ADFOUNDFOR
1665	.$12b8	JMP ADSEARCHFOR
1666	.$12bb	ADLOW0  LDX A_REG+1
1667	.$12be	BEQ ADFOUNDFOR
1668	.$12c0	BNE ADCMPFOR
1669	.$12c2	ADFOUNDFOR LDA TMP_ZP  
1670	.$12c4	STA FORSTACKP
1671	.$12c7	LDA TMP_ZP+1
1672	.$12c9	STA FORSTACKP+1
1673	.$12cc	RTS
1676	.$12cd	INITFOR  JSR ADJUSTSTACK
1677	.$12d0	LDA FORSTACKP
1678	.$12d3	STA TMP_ZP
1679	.$12d5	LDA FORSTACKP+1
1680	.$12d8	STA TMP_ZP+1
1681	.$12da	LDY #0
1682	.$12dc	LDA A_REG
1683	.$12df	STA (TMP_ZP),Y
1684	.$12e1	INY
1685	.$12e2	LDA A_REG+1
1686	.$12e5	STA (TMP_ZP),Y
1687	.$12e7	INY
1688	.$12e8	LDA JUMP_TARGET
1689	.$12ea	STA (TMP_ZP),Y
1690	.$12ec	INY
1691	.$12ed	LDA JUMP_TARGET+1
1692	.$12ef	STA (TMP_ZP),Y
1693	.$12f1	INY
1694	.$12f2	STY TMP3_ZP
1695	.$12f4	JSR INCTMPZP
1696	.$12f7	JSR POPREAL
1697	.$12fa	LDX TMP_ZP
1698	.$12fc	LDY TMP_ZP+1
1700	.$12fe	JSR FACMEM
1701	.$1301	JSR SGNFAC
1702	.$1304	STA TMP_FLAG
1703	.$1307	LDY #5
1704	.$1309	STY TMP3_ZP
1705	.$130b	JSR INCTMPZP
1706	.$130e	JSR POPREAL
1707	.$1311	LDX TMP_ZP
1708	.$1313	LDY TMP_ZP+1
1710	.$1315	JSR FACMEM
1711	.$1318	LDY #5
1712	.$131a	STY TMP3_ZP
1713	.$131c	JSR INCTMPZP
1714	.$131f	LDY #0
1715	.$1321	LDA TMP_FLAG
1716	.$1324	STA (TMP_ZP),Y
1717	.$1326	INY
1718	.$1327	LDA #1
1719	.$1329	STA (TMP_ZP),Y
1720	.$132b	INY
1721	.$132c	LDA #15
1722	.$132e	STA (TMP_ZP),Y
1723	.$1330	LDY #3
1724	.$1332	STY TMP3_ZP
1725	.$1334	JSR INCTMPZP
1726	.$1337	LDA TMP_ZP
1727	.$1339	STA FORSTACKP
1728	.$133c	LDA TMP_ZP+1
1729	.$133e	STA FORSTACKP+1
1730	.$1341	RTS
1733	.$1342	NEXT  LDA FORSTACKP
1734	.$1345	STA TMP_ZP
1735	.$1347	LDA FORSTACKP+1
1736	.$134a	STA TMP_ZP+1
1737	.$134c	SEARCHFOR LDA TMP_ZP+1
1738	.$134e	STA TMP3_REG+1
1739	.$1351	LDA TMP_ZP
1740	.$1353	STA TMP3_REG
1741	.$1356	SEC
1742	.$1357	SBC #2
1743	.$1359	STA TMP_ZP
1744	.$135b	BCS NOPV1N1
1745	.$135d	DEC TMP_ZP+1
1746	.$135f	NOPV1N1  LDY #0
1747	.$1361	LDA (TMP_ZP),Y
1748	.$1363	BNE NOGOSUB
1749	.$1365	JMP NEXTWOFOR
1750	.$1368	NOGOSUB
1751	.$1368	INY
1752	.$1369	LDA TMP_ZP
1753	.$136b	SEC
1754	.$136c	SBC (TMP_ZP),Y
1755	.$136e	STA TMP_ZP
1756	.$1370	BCS NOPV1N2
1757	.$1372	DEC TMP_ZP+1
1758	.$1374	NOPV1N2  DEY
1759	.$1375	LDA A_REG
1760	.$1378	BEQ LOW0
1761	.$137a	CMPFOR  CMP (TMP_ZP),Y
1762	.$137c	BNE SEARCHFOR
1763	.$137e	LDA A_REG+1
1764	.$1381	INY
1765	.$1382	CMP (TMP_ZP),Y
1766	.$1384	BEQ FOUNDFOR
1767	.$1386	JMP SEARCHFOR
1768	.$1389	LOW0  LDX A_REG+1
1769	.$138c	BEQ FOUNDFOR
1770	.$138e	BNE CMPFOR
1771	.$1390	FOUNDFOR LDA TMP_ZP
1772	.$1392	STA TMP2_REG
1773	.$1395	LDA TMP_ZP+1
1774	.$1397	STA TMP2_REG+1
1775	.$139a	VARREAL
1776	.$139a	LDY #0
1777	.$139c	STY A_REG+1 
1778	.$139f	LDA (TMP_ZP),Y
1779	.$13a1	TAX
1780	.$13a2	INY
1781	.$13a3	LDA (TMP_ZP),Y
1782	.$13a5	TAY
1783	.$13a6	TXA
1784	.$13a7	JSR REALFAC
1785	.$13aa	CALCNEXT LDA TMP_ZP
1786	.$13ac	CLC
1787	.$13ad	ADC #4
1788	.$13af	STA TMP_ZP
1789	.$13b1	BCC NOPV2IN
1790	.$13b3	INC TMP_ZP+1
1791	.$13b5	NOPV2IN  STA TMP_REG
1792	.$13b7	LDY TMP_ZP+1
1793	.$13b9	STY TMP_REG+1
1794	.$13bb	JSR FASTFADDMEM
1796	.$13be	LDA TMP2_REG
1797	.$13c1	STA TMP_ZP
1798	.$13c3	LDA TMP2_REG+1
1799	.$13c6	STA TMP_ZP+1
1800	.$13c8	STOREREAL
1801	.$13c8	LDY #0
1802	.$13ca	LDA (TMP_ZP),Y
1803	.$13cc	TAX
1804	.$13cd	INY
1805	.$13ce	LDA (TMP_ZP),Y
1806	.$13d0	TAY
1807	.$13d1	JSR FACMEM 
1808	.$13d4	CMPFORXX LDA #5
1809	.$13d6	STA TMP3_ZP
1810	.$13d8	LDA TMP_REG
1811	.$13da	CLC
1812	.$13db	ADC #5
1813	.$13dd	STA TMP_REG
1814	.$13df	BCC NOPV3
1815	.$13e1	INC TMP_REG+1
1816	.$13e3	NOPV3  LDY TMP_REG+1
1817	.$13e5	JSR CMPFAC  
1818	.$13e8	BEQ LOOPING
1819	.$13ea	PHA
1820	.$13eb	LDY #14
1821	.$13ed	LDA (TMP_ZP),Y
1822	.$13ef	BEQ STEPZERO
1823	.$13f1	ROL
1824	.$13f2	BCC STEPPOS
1825	.$13f4	STEPNEG  PLA
1826	.$13f5	ROL
1827	.$13f6	BCC LOOPING
1828	.$13f8	BCS EXITLOOP
1829	.$13fa	STEPPOS  PLA
1830	.$13fb	ROL
1831	.$13fc	BCC EXITLOOP
1832	.$13fe	LOOPING  LDA TMP3_REG
1833	.$1401	STA FORSTACKP
1834	.$1404	LDA TMP3_REG+1
1835	.$1407	STA FORSTACKP+1
1836	.$140a	LDA TMP2_REG
1837	.$140d	CLC
1838	.$140e	ADC #2
1839	.$1410	STA TMP2_REG
1840	.$1413	BCC NOPV4IN
1841	.$1415	INC TMP2_REG+1
1842	.$1418	NOPV4IN  LDY #0
1843	.$141a	STY A_REG
1844	.$141d	STA TMP_ZP
1845	.$141f	LDA TMP2_REG+1
1846	.$1422	STA TMP_ZP+1
1847	.$1424	LDA (TMP_ZP),Y
1848	.$1426	STA JUMP_TARGET
1849	.$1428	INY
1850	.$1429	LDA (TMP_ZP),Y
1851	.$142b	STA JUMP_TARGET+1
1852	.$142d	RTS
1853	.$142e	STEPZERO PLA
1854	.$142f	JMP LOOPING
1855	.$1432	EXITLOOP LDA TMP2_REG
1856	.$1435	STA FORSTACKP
1857	.$1438	LDA TMP2_REG+1
1858	.$143b	STA FORSTACKP+1
1859	.$143e	LDA #1
1860	.$1440	STA A_REG
1861	.$1443	RTS
1864	.$1444	RETURN  LDA FORSTACKP
1865	.$1447	STA TMP_ZP
1866	.$1449	LDA FORSTACKP+1
1867	.$144c	STA TMP_ZP+1
1868	.$144e	SEARCHGOSUB LDA TMP_ZP
1869	.$1450	SEC
1870	.$1451	SBC #2
1871	.$1453	STA TMP_ZP
1872	.$1455	BCS NOPV1SG
1873	.$1457	DEC TMP_ZP+1
1874	.$1459	NOPV1SG  LDY #0
1875	.$145b	LDA (TMP_ZP),Y
1876	.$145d	BEQ FOUNDGOSUB
1877	.$145f	INY
1878	.$1460	LDA (TMP_ZP),Y
1879	.$1462	STA TMP3_ZP
1880	.$1464	LDA TMP_ZP
1881	.$1466	SEC
1882	.$1467	SBC (TMP_ZP),Y
1883	.$1469	STA TMP_ZP
1884	.$146b	BCS NOPV1GS
1885	.$146d	DEC TMP_ZP+1
1886	.$146f	NOPV1GS  JMP SEARCHGOSUB
1887	.$1472	FOUNDGOSUB
1888	.$1472	LDA TMP_ZP
1889	.$1474	STA FORSTACKP
1890	.$1477	LDA TMP_ZP+1
1891	.$1479	STA FORSTACKP+1
1892	.$147c	RTS
1895	.$147d	GOSUB  LDA FORSTACKP
1896	.$1480	STA TMP_ZP
1897	.$1482	LDA FORSTACKP+1
1898	.$1485	STA TMP_ZP+1
1899	.$1487	LDY #0
1900	.$1489	TYA
1901	.$148a	STA (TMP_ZP),Y
1902	.$148c	INY
1903	.$148d	STA (TMP_ZP),Y
1904	.$148f	INY
1905	.$1490	TYA
1906	.$1491	CLC
1907	.$1492	ADC TMP_ZP
1908	.$1494	STA FORSTACKP
1909	.$1497	BCC GOSUBNOOV
1910	.$1499	INC FORSTACKP+1
1911	.$149c	GOSUBNOOV RTS
1914	.$149d	GETADOLLAR JSR GETSTR  
1915	.$14a0	LDA A_REG
1916	.$14a3	LDY A_REG+1
1917	.$14a6	STA TMP_ZP
1918	.$14a8	STY TMP_ZP+1
1919	.$14aa	LDA #<VAR_A$
1920	.$14ac	LDY #>VAR_A$
1921	.$14ae	JMP COPYSTRING
1924	.$14b1	GETSTR  LDA #8
1925	.$14b3	LDY #0
1926	.$14b5	JSR COMPACTF
1927	.$14b8	LDY #0
1928	.$14ba	STY CMD_NUM  
1929	.$14bd	JSR GETIN
1930	.$14c0	CMP #0   
1931	.$14c2	BNE SOMEKEY
1932	.$14c4	NOKEY  LDA #<EMPTYSTR
1933	.$14c6	STA A_REG
1934	.$14c9	LDA #>EMPTYSTR
1935	.$14cb	STA A_REG+1
1936	.$14ce	RTS
1937	.$14cf	SOMEKEY  TAX
1938	.$14d0	LDA STRBUFP
1939	.$14d3	STA TMP_ZP
1940	.$14d5	STA A_REG
1941	.$14d8	LDA STRBUFP+1
1942	.$14db	STA TMP_ZP+1
1943	.$14dd	STA A_REG+1
1944	.$14e0	LDA #1
1945	.$14e2	LDY #0
1946	.$14e4	STA (TMP_ZP),Y
1947	.$14e6	TXA
1948	.$14e7	LDY #1
1949	.$14e9	STA (TMP_ZP),Y
1950	.$14eb	LDA STRBUFP
1951	.$14ee	CLC
1952	.$14ef	ADC #2
1953	.$14f1	STA STRBUFP
1954	.$14f4	BCC GETSTR1
1955	.$14f6	INC STRBUFP+1
1956	.$14f9	GETSTR1  RTS
1959	.$14fa	ZEROSET  LDA #0
1960	.$14fc	STA X_REG
1961	.$14fe	STA X_REG+1
1962	.$1500	STA X_REG+2
1963	.$1502	STA X_REG+3
1964	.$1504	STA X_REG+4
1965	.$1506	RTS
1968	.$1507	REALFACPUSH STA TMP_ZP
1969	.$1509	STY TMP_ZP+1
1970	.$150b	LDX FPSTACKP
1971	.$150e	LDY FPSTACKP+1
1972	.$1511	STX TMP2_ZP
1973	.$1513	STY TMP2_ZP+1
1974	.$1515	LDY #0
1975	.$1517	LDA (TMP_ZP),Y
1976	.$1519	STA (TMP2_ZP),Y
1977	.$151b	INY
1978	.$151c	LDA (TMP_ZP),Y
1979	.$151e	STA (TMP2_ZP),Y
1980	.$1520	INY
1981	.$1521	LDA (TMP_ZP),Y
1982	.$1523	STA (TMP2_ZP),Y
1983	.$1525	INY
1984	.$1526	LDA (TMP_ZP),Y
1985	.$1528	STA (TMP2_ZP),Y
1986	.$152a	INY
1987	.$152b	LDA (TMP_ZP),Y
1988	.$152d	STA (TMP2_ZP),Y
1989	.$152f	TXA    
1990	.$1530	CLC
1991	.$1531	ADC #5
1992	.$1533	STA FPSTACKP
1993	.$1536	BCC NOPVRFPXX
1994	.$1538	INC FPSTACKP+1
1995	.$153b	NOPVRFPXX RTS
1998	.$153c	POPREAL2X LDA FPSTACKP
1999	.$153f	SEC
2000	.$1540	SBC #5
2001	.$1542	STA FPSTACKP
2002	.$1545	BCS NOPVPR2X
2003	.$1547	DEC FPSTACKP+1
2004	.$154a	NOPVPR2X LDA FPSTACKP
2005	.$154d	LDY FPSTACKP+1
2006	.$1550	JSR REALFAC
2007	.$1553	JSR XREGARG
2008	.$1556	RTS
2011	.$1557	POPREAL  LDA FPSTACKP
2012	.$155a	SEC
2013	.$155b	SBC #5
2014	.$155d	STA FPSTACKP
2015	.$1560	BCS NOPVPR
2016	.$1562	DEC FPSTACKP+1
2017	.$1565	NOPVPR  LDA FPSTACKP
2018	.$1568	LDY FPSTACKP+1
2019	.$156b	JMP REALFAC
2022	.$156e	INCTMPZP LDA TMP_ZP
2023	.$1570	CLC
2024	.$1571	ADC TMP3_ZP
2025	.$1573	STA TMP_ZP
2026	.$1575	BCC NOPV2
2027	.$1577	INC TMP_ZP+1
2028	.$1579	NOPV2  RTS
2031	.$157a	COPY2_XYA_XREG
2032	.$157a	STA TMP3_ZP
2033	.$157c	STY TMP3_ZP+1
2034	.$157e	COPY2_XY_XREG
2035	.$157e	LDX #<X_REG  
2036	.$1580	LDY #0
2037	.$1582	LDA (TMP3_ZP),Y
2038	.$1584	STA X_REG
2039	.$1586	INY
2040	.$1587	LDA (TMP3_ZP),Y
2041	.$1589	STA X_REG+1
2042	.$158b	INY
2043	.$158c	LDA (TMP3_ZP),Y
2044	.$158e	STA X_REG+2
2045	.$1590	INY
2046	.$1591	LDA (TMP3_ZP),Y
2047	.$1593	STA X_REG+3
2048	.$1595	INY
2049	.$1596	LDA (TMP3_ZP),Y
2050	.$1598	STA X_REG+4
2051	.$159a	RTS
2054	.$159b	COPY2_XYA_YREG
2055	.$159b	STA TMP3_ZP
2056	.$159d	STY TMP3_ZP+1
2057	.$159f	COPY2_XY_YREG
2058	.$159f	LDX #<Y_REG  
2059	.$15a1	LDY #0
2060	.$15a3	LDA (TMP3_ZP),Y
2061	.$15a5	STA Y_REG
2062	.$15a8	INY
2063	.$15a9	LDA (TMP3_ZP),Y
2064	.$15ab	STA Y_REG+1
2065	.$15ae	INY
2066	.$15af	LDA (TMP3_ZP),Y
2067	.$15b1	STA Y_REG+2
2068	.$15b4	INY
2069	.$15b5	LDA (TMP3_ZP),Y
2070	.$15b7	STA Y_REG+3
2071	.$15ba	INY
2072	.$15bb	LDA (TMP3_ZP),Y
2073	.$15bd	STA Y_REG+4
2074	.$15c0	RTS
2077	.$15c1	PEEKBYTEADDANDFAST
2078	.$15c1	JSR PEEKBYTEADDSUB
2079	.$15c4	TYA
2080	.$15c5	AND B_REG
2081	.$15c8	STA A_REG
2082	.$15cb	RTS
2085	.$15cc	PEEKBYTEADD
2086	.$15cc	JSR PEEKBYTEADDSUB
2087	.$15cf	JMP PEEKBYTESTORE
2090	.$15d2	PEEKBYTESTORE
2091	.$15d2	STY TMP2_ZP  
2092	.$15d4	JSR INTFAC
2093	.$15d7	JMP FACXREG
2096	.$15da	PEEKBYTEADDSUB
2097	.$15da	JSR PEEKBYTESUB
2098	.$15dd	TYA
2099	.$15de	CLC
2100	.$15df	ADC A_REG
2101	.$15e2	BCC PBNOOV
2102	.$15e4	INX
2103	.$15e5	PBNOOV  TAY
2104	.$15e6	TXA
2105	.$15e7	RTS
2108	.$15e8	PEEKBYTESUB
2109	.$15e8	JSR YREGFAC
2110	.$15eb	JSR FACWORD
2111	.$15ee	PEEKBYTESUBINT
2112	.$15ee	STY PEEKBYTE+1
2113	.$15f1	STA PEEKBYTE+2
2114	.$15f4	PEEKBYTE
2115	.$15f4	LDY $FFFF
2116	.$15f7	LDX #0
2117	.$15f9	RTS
2121	.$15fa	FACWORD
2122	.$15fa	LDA FACEXP   
2123	.$15fc	BNE DOFACWORD
2124	.$15fe	STA FACSGN   
2125	.$1600	DOFACWORD:
2126	.$1600	JMP XFACWORD
2130	.$1603	ONETOFAC    LDX #129
2131	.$1605	STX FAC
2132	.$1607	DEX
2133	.$1608	STX FAC+1
2134	.$160a	LDX #0
2135	.$160c	STX FAC+2
2136	.$160e	STX FAC+3
2137	.$1610	STX FAC+4
2138	.$1612	STX FAC+5
2139	.$1614	STX FAC+15
2140	.$1616	RTS
2143	.$1617	FASTAND  LDA ARGEXP   
2144	.$1619	BNE CHECKFAC
2145	.$161b	STA FACSGN   
2146	.$161d	STA FACLO
2147	.$161f	STA FACMO
2148	.$1621	STA FACMOH
2149	.$1623	STA FACHO
2150	.$1625	STA FACEXP
2151	.$1627	RTS
2152	.$1628	CHECKFAC LDA FACEXP   
2153	.$162a	BNE FACNOTNULL
2154	.$162c	STA FACSGN   
2155	.$162e	RTS    
2156	.$162f	FACNOTNULL CMP #$81
2157	.$1631	BNE NORMALAND
2158	.$1633	LDA FACHO
2159	.$1635	CMP #$80
2160	.$1637	BNE NORMALAND
2161	.$1639	LDA FACMOH
2162	.$163b	BNE NORMALAND
2163	.$163d	LDA FACMO
2164	.$163f	BNE NORMALAND
2165	.$1641	LDA FACLO
2166	.$1643	BNE NORMALAND
2167	.$1645	LDA FACSGN
2168	.$1647	ROL
2169	.$1648	BCC NORMALAND
2170	.$164a	LDA ARGEXP   
2171	.$164c	CMP #$81
2172	.$164e	BNE NORMALAND
2173	.$1650	LDA ARGHO
2174	.$1652	CMP #$80
2175	.$1654	BNE NORMALAND
2176	.$1656	LDA ARGMOH
2177	.$1658	BNE NORMALAND
2178	.$165a	LDA ARGMO
2179	.$165c	BNE NORMALAND
2180	.$165e	LDA ARGLO
2181	.$1660	BNE NORMALAND
2182	.$1662	LDA ARGSGN
2183	.$1664	ROL
2184	.$1665	BCC NORMALAND
2185	.$1667	RTS    
2186	.$1668	NORMALAND JMP ARGAND
2189	.$166b	FASTOR  LDA FACEXP   
2190	.$166d	BNE CHECKFACOR
2191	.$166f	LDA ARGEXP   
2192	.$1671	BNE CHECKARGOR 
2193	.$1673	LDA #0
2194	.$1675	STA FACSGN   
2195	.$1677	RTS    
2196	.$1678	CHECKFACOR LDA FACEXP   
2197	.$167a	CMP #$81
2198	.$167c	BNE NORMALOR
2199	.$167e	LDA FACHO
2200	.$1680	CMP #$80
2201	.$1682	BNE NORMALOR
2202	.$1684	LDA FACMOH
2203	.$1686	BNE NORMALOR
2204	.$1688	LDA FACMO
2205	.$168a	BNE NORMALOR
2206	.$168c	LDA FACLO
2207	.$168e	BNE NORMALOR
2208	.$1690	LDA FACSGN
2209	.$1692	ROL
2210	.$1693	BCC NORMALOR
2211	.$1695	CHECKARGOR LDA ARGEXP   
2212	.$1697	BNE CHECKARGOR2
2213	.$1699	RTS    
2214	.$169a	CHECKARGOR2 CMP #$81
2215	.$169c	BNE NORMALOR
2216	.$169e	LDA ARGHO
2217	.$16a0	CMP #$80
2218	.$16a2	BNE NORMALOR
2219	.$16a4	LDA ARGMOH
2220	.$16a6	BNE NORMALOR
2221	.$16a8	LDA ARGMO
2222	.$16aa	BNE NORMALOR
2223	.$16ac	LDA ARGLO
2224	.$16ae	BNE NORMALOR
2225	.$16b0	LDA ARGSGN
2226	.$16b2	AND #$80
2227	.$16b4	CMP #$80
2228	.$16b6	BNE NORMALOR
2229	.$16b8	JMP ARGFAC  
2230	.$16bb	NORMALOR JMP FACOR
2233	.$16be	CLRCHNEW
2234	.$16be	LDA CHLOCKFLAG
2235	.$16c1	BNE SKIPCLRCH
2236	.$16c3	JMP CLRCH
2237	.$16c6	SKIPCLRCH
2238	.$16c6	RTS
2241	.$16c7	NEXTWOFOR
2245	.$16c7	LDX #$0A
2246	.$16c9	JMP ERRALL
2249	.$16cc	OUTOFMEMORY
2253	.$16cc	LDX #$10
2254	.$16ce	JMP ERRALL
2257	.$16d1	ILLEGALQUANTITY
2261	.$16d1	JMP ERRIQ
2264	.$16d4	FACXREG  LDA FACLO
2265	.$16d6	STA X_REG+4
2266	.$16d8	LDA FACMO
2267	.$16da	STA X_REG+3
2268	.$16dc	LDA FACMOH
2269	.$16de	STA X_REG+2
2270	.$16e0	LDA FACSGN
2271	.$16e2	ORA #$7F
2272	.$16e4	AND FACHO
2273	.$16e6	STA X_REG+1
2274	.$16e8	LDA FACEXP
2275	.$16ea	STA X_REG
2276	.$16ec	LDA #0   
2277	.$16ee	STA FACOV
2278	.$16f0	RTS
2281	.$16f1	XREG2VAR
2282	.$16f1	STX TMP_ZP
2283	.$16f3	STY TMP_ZP+1
2284	.$16f5	LDY #0
2285	.$16f7	LDA X_REG
2286	.$16f9	STA (TMP_ZP),Y
2287	.$16fb	INY
2288	.$16fc	LDA X_REG+1
2289	.$16fe	STA (TMP_ZP),Y
2290	.$1700	INY
2291	.$1701	LDA X_REG+2
2292	.$1703	STA (TMP_ZP),Y
2293	.$1705	INY
2294	.$1706	LDA X_REG+3
2295	.$1708	STA (TMP_ZP),Y
2296	.$170a	INY
2297	.$170b	LDA X_REG+4
2298	.$170d	STA (TMP_ZP),Y
2299	.$170f	RTS
2302	.$1710	XREGFAC  LDA X_REG+4
2303	.$1712	STA FACLO
2304	.$1714	LDA X_REG+3
2305	.$1716	STA FACMO
2306	.$1718	LDA X_REG+2
2307	.$171a	STA FACMOH
2308	.$171c	LDA X_REG+1
2309	.$171e	STA FACSGN
2310	.$1720	ORA #$80
2311	.$1722	STA FACHO
2312	.$1724	LDA X_REG
2313	.$1726	STA FACEXP
2314	.$1728	LDA #0
2315	.$172a	STA FACOV
2316	.$172c	RTS
2319	.$172d	XREGARG  LDA X_REG+4
2320	.$172f	STA ARGLO
2321	.$1731	LDA X_REG+3
2322	.$1733	STA ARGMO
2323	.$1735	LDA X_REG+2
2324	.$1737	STA ARGMOH
2325	.$1739	LDA X_REG+1
2326	.$173b	STA ARGSGN
2327	.$173d	EOR FACSGN
2328	.$173f	STA ARISGN
2329	.$1741	LDA ARGSGN
2330	.$1743	ORA #$80
2331	.$1745	STA ARGHO
2332	.$1747	LDA X_REG
2333	.$1749	STA ARGEXP
2334	.$174b	LDA FACEXP
2335	.$174d	RTS
2338	.$174e	YREGFAC  LDA Y_REG+4
2339	.$1751	STA FACLO
2340	.$1753	LDA Y_REG+3
2341	.$1756	STA FACMO
2342	.$1758	LDA Y_REG+2
2343	.$175b	STA FACMOH
2344	.$175d	LDA Y_REG+1
2345	.$1760	STA FACSGN
2346	.$1762	ORA #$80
2347	.$1764	STA FACHO
2348	.$1766	LDA Y_REG
2349	.$1769	STA FACEXP
2350	.$176b	LDA #0
2351	.$176d	STA FACOV
2352	.$176f	RTS
2466	.$1770	FASTFADDMEM
2467	.$1770	JSR MEMARG
2468	.$1773	FASTFADDARG
2469	.$1773	BNE FADDRET2     
2470	.$1775	JMP ARGFAC
2471	.$1778	FADDRET2 LDA ARGEXP
2472	.$177a	BNE FADDRET1     
2473	.$177c	RTS
2474	.$177d	FADDRET1 SEC
2475	.$177e	SBC FACEXP
2476	.$1780	BEQ FFADD_EXPEQ     
2477	.$1782	BCC FFADD_SHFARG1   
2481	.$1784	LDY ARGEXP
2482	.$1786	STY FACEXP
2483	.$1788	LDY ARGSGN
2484	.$178a	STY FACSGN
2485	.$178c	LDX #0
2486	.$178e	STX OLDOV        
2487	.$1790	LDX #FAC         
2489	.$1792	SEC
2490	.$1793	SBC #$08
2491	.$1795	BMI FFADD_SHFFAC2
2493	.$1797	FFADD_SHFFAC1
2494	.$1797	LDY FACLO        
2495	.$1799	STY FACOV
2496	.$179b	LDY FACMO        
2497	.$179d	STY FACMO+1
2498	.$179f	LDY FACMOH       
2499	.$17a1	STY FACMOH+1
2500	.$17a3	LDY FACHO        
2501	.$17a5	STY FACHO+1
2502	.$17a7	LDY #0
2503	.$17a9	STY FACHO        
2504	.$17ab	SBC #$08         
2505	.$17ad	BPL FFADD_SHFFAC1   
2506	.$17af	FFADD_SHFFAC2
2507	.$17af	ADC #$08         
2508	.$17b1	BEQ FFADD_SHFFAC4   
2509	.$17b3	TAY
2510	.$17b4	LDA FACOV
2511	.$17b6	FFADD_SHFFAC3
2512	.$17b6	LSR FACHO        
2513	.$17b8	ROR FACMOH       
2514	.$17ba	ROR FACMO        
2515	.$17bc	ROR FACLO        
2516	.$17be	ROR              
2517	.$17bf	DEY
2518	.$17c0	BNE FFADD_SHFFAC3
2519	.$17c2	JMP FFADD_MANADD2   
2520	.$17c5	FFADD_SHFFAC4
2521	.$17c5	LDA FACOV        
2522	.$17c7	JMP FFADD_MANADD2
2523	.$17ca	FFADD_EXPEQ
2524	.$17ca	LDX FACOV
2525	.$17cc	STX OLDOV
2528	.$17ce	JMP FFADD_MANADD1
2529	.$17d1	FFADD_SHFARG2
2530	.$17d1	LDA FACOV        
2531	.$17d3	JMP FFADD_MANADD1
2532	.$17d6	FFADD_SHFARG1
2533	.$17d6	LDX FACOV
2534	.$17d8	STX OLDOV        
2535	.$17da	LDX #$00         
2538	.$17dc	ADC #$08
2539	.$17de	BPL FFADD_SHFARG6   
2540	.$17e0	FFADD_SHFARG3
2541	.$17e0	LDX ARGLO        
2542	.$17e2	LDY ARGMO        
2543	.$17e4	STY ARGMO+1
2544	.$17e6	LDY ARGMOH       
2545	.$17e8	STY ARGMOH+1
2546	.$17ea	LDY ARGHO        
2547	.$17ec	STY ARGHO+1
2548	.$17ee	LDY #0
2549	.$17f0	STY ARGHO        
2550	.$17f2	FFADD_SHFARG4
2551	.$17f2	ADC #$08
2552	.$17f4	BMI FFADD_SHFARG3
2553	.$17f6	BEQ FFADD_SHFARG3
2554	.$17f8	FFADD_SHFARG6
2555	.$17f8	SBC #$08
2556	.$17fa	BEQ FFADD_SHFARG2   
2557	.$17fc	TAY
2558	.$17fd	TXA              
2559	.$17fe	FFADD_SHFARG5
2560	.$17fe	LSR ARGHO
2561	.$1800	ROR ARGMOH
2562	.$1802	ROR ARGMO
2563	.$1804	ROR ARGLO
2564	.$1806	ROR           
2565	.$1807	INY
2566	.$1808	BNE FFADD_SHFARG5
2567	.$180a	FFADD_MANADD1
2568	.$180a	LDX #ARGEXP      
2569	.$180c	FFADD_MANADD2
2570	.$180c	BIT ARISGN
2571	.$180e	BMI FFADD_MANSUB1   
2572	.$1810	CLC
2573	.$1811	ADC OLDOV
2574	.$1813	STA FACOV
2575	.$1815	LDA FACLO
2576	.$1817	ADC ARGLO
2577	.$1819	STA FACLO
2578	.$181b	LDA FACMO
2579	.$181d	ADC ARGMO
2580	.$181f	STA FACMO
2581	.$1821	LDA FACMOH
2582	.$1823	ADC ARGMOH
2583	.$1825	STA FACMOH
2584	.$1827	LDA FACHO
2585	.$1829	ADC ARGHO
2586	.$182b	STA FACHO
2587	.$182d	BCC FFADD_RNDRTS
2588	.$182f	INC FACEXP
2589	.$1831	BEQ FFADD_OVERR
2591	.$1833	ROR FACHO
2592	.$1835	ROR FACMOH
2593	.$1837	ROR FACMO
2594	.$1839	ROR FACLO
2595	.$183b	ROR FACOV
2596	.$183d	FFADD_RNDRTS
2597	.$183d	RTS
2598	.$183e	FFADD_OVERR
2599	.$183e	JMP ILLEGALQUANTITY
2600	.$1841	FFADD_MANSUB1
2601	.$1841	LDY #FACEXP
2602	.$1843	CPX #ARGEXP
2603	.$1845	BEQ FFADD_MANSUB2
2604	.$1847	LDY #ARGEXP
2605	.$1849	FFADD_MANSUB2
2606	.$1849	SEC              
2607	.$184a	EOR #$FF
2608	.$184c	ADC OLDOV
2609	.$184e	STA FACOV
2610	.$1850	LDA 4,Y
2611	.$1853	SBC 4,X
2612	.$1855	STA FACLO
2613	.$1857	LDA 3,Y
2614	.$185a	SBC 3,X
2615	.$185c	STA FACMO
2616	.$185e	LDA 2,Y
2617	.$1861	SBC 2,X
2618	.$1863	STA FACMOH
2619	.$1865	LDA 1,Y
2620	.$1868	SBC 1,X
2621	.$186a	STA FACHO
2622	.$186c	BCS FCNORMAL
2623	.$186e	LDA FACSGN
2624	.$1870	EOR #$FF
2625	.$1872	STA FACSGN
2626	.$1874	LDA FACHO
2627	.$1876	EOR #$FF
2628	.$1878	STA FACHO
2629	.$187a	LDA FACMOH
2630	.$187c	EOR #$FF
2631	.$187e	STA FACMOH
2632	.$1880	LDA FACMO
2633	.$1882	EOR #$FF
2634	.$1884	STA FACMO
2635	.$1886	LDA FACLO
2636	.$1888	EOR #$FF
2637	.$188a	STA FACLO
2638	.$188c	LDA FACOV
2639	.$188e	EOR #$FF
2640	.$1890	CLC
2641	.$1891	ADC #1
2642	.$1893	STA FACOV
2643	.$1895	BNE FCNORMAL
2644	.$1897	INC FACLO
2645	.$1899	BNE FCNORMAL
2646	.$189b	INC FACMO
2647	.$189d	BNE FCNORMAL
2648	.$189f	INC FACMOH
2649	.$18a1	BNE FCNORMAL
2650	.$18a3	INC FACHO
2651	.$18a5	FCNORMAL   BIT FACHO
2652	.$18a7	BMI FFADD_RET       
2653	.$18a9	LDA #0           
2654	.$18ab	CLC
2655	.$18ac	FFADD_NORM3
2656	.$18ac	LDX FACHO
2657	.$18ae	BNE FFADD_NORM1
2658	.$18b0	LDX FACHO+1
2659	.$18b2	STX FACHO
2660	.$18b4	LDX FACMOH+1
2661	.$18b6	STX FACMOH
2662	.$18b8	LDX FACMO+1
2663	.$18ba	STX FACMO
2664	.$18bc	LDX FACOV
2665	.$18be	STX FACLO
2666	.$18c0	LDX #0
2667	.$18c2	STX FACOV
2668	.$18c4	ADC #$08
2669	.$18c6	CMP #$20
2670	.$18c8	BNE FFADD_NORM3
2671	.$18ca	JMP FFADD_ZEROFAC
2672	.$18cd	FFADD_NORM2
2673	.$18cd	CLC
2674	.$18ce	ADC #1
2675	.$18d0	ASL FACOV
2676	.$18d2	ROL FACLO
2677	.$18d4	ROL FACMO
2678	.$18d6	ROL FACMOH
2679	.$18d8	ROL FACHO
2680	.$18da	FFADD_NORM1
2681	.$18da	BPL FFADD_NORM2     
2682	.$18dc	SEC
2683	.$18dd	SBC FACEXP
2684	.$18df	BCS FFADD_ZEROFAC
2685	.$18e1	EOR #$FF
2686	.$18e3	CLC
2687	.$18e4	ADC #1
2688	.$18e6	STA FACEXP
2689	.$18e8	FFADD_RET   RTS
2690	.$18e9	FFADD_ZEROFAC
2691	.$18e9	LDX #0
2692	.$18eb	STX FACEXP
2693	.$18ed	STX FACSGN
2694	.$18ef	RTS
2697	.$18f0	INITVARS
2698	.$18f0	JSR INITSTRVARS
2699	.$18f3	LDA #0
2700	.$18f5	LDY #4
2701	.$18f7	REALINITLOOP0:
2702	.$18f7	STA VAR_J,Y
2703	.$18fa	STA VAR_I,Y
2704	.$18fd	STA VAR_A,Y
2705	.$1900	DEY
2706	.$1901	BMI REALLOOPEXIT0
2707	.$1903	JMP REALINITLOOP0
2708	.$1906	REALLOOPEXIT0:
2709	.$1906	RTS
2713	.$1907	CONSTANTS
2716	.$1907	CONST_0R .REAL 1.0
2719	.$190c	CONST_1R .REAL 256.0
2722	.$1911	CONST_2R .REAL 1024.0
2725	.$1916	CONST_3R .REAL 2023.0
2731	.$191b	CONST_5 .REAL 255.0
2737	.$1920	CONST_7R .REAL 128.0
2742	.$1925	CONST_9 .BYTE 12
2743	.$1926	.STRG "waehle test:"
2745	.$1932	CONST_10 .BYTE 40
2746	.$1933	.STRG " 1. 256 tests m/ variablen (schnell 256)"
2748	.$195b	CONST_11 .BYTE 40
2749	.$195c	.STRG " 2. 128 tests m/ variablen (schnell 128)"
2751	.$1984	CONST_12 .BYTE 25
2752	.$1985	.STRG " 3. 256 tests m/ konstant"
2754	.$199e	CONST_13 .BYTE 25
2755	.$199f	.STRG " 4. 128 tests m/ konstant"
2758	.$19b8	CONST_14R .REAL 198.0
2761	.$19bd	CONST_15R .REAL 4.0
2763	.$19c2	CONST_16 .BYTE 23
2764	.$19c3	.STRG "ungltig. bitte nochmal"
2766	.$19da	CONST_17 .BYTE 15
2767	.$19db	.STRG "compiler test ("
2769	.$19ea	CONST_18 .BYTE 3
2770	.$19eb	.STRG "): "
2772	.$19ee	CONST_19 .BYTE 6
2773	.$19ef	.STRG "000000"
2781	.$19f5	CONST_22 .BYTE 10
2782	.$19f6	.STRG "fertig in "
2785	.$1a00	DATAS
2786	.$1a00	.BYTE $FF
2788	.$1a01	CONSTANTS_END
2791	.$1a01	VARIABLES
2793	.$1a01	VAR_J .REAL 0.0
2795	.$1a06	VAR_I .REAL 0.0
2797	.$1a0b	VAR_A .REAL 0.0
2798	.$1a10	STRINGVARS_START
2800	.$1a10	VAR_A$ .WORD EMPTYSTR
2802	.$1a12	VAR_TI$ .WORD EMPTYSTR
2803	.$1a14	STRINGVARS_END
2804	.$1a14	STRINGARRAYS_START
2805	.$1a14	STRINGARRAYS_END
2806	.$1a14	VARIABLES_END
2808	.$1a14	Y_REG .REAL 0.0
2809	.$1a19	C_REG .REAL 0.0
2810	.$1a1e	D_REG .REAL 0.0
2811	.$1a23	E_REG .REAL 0.0
2812	.$1a28	F_REG .REAL 0.0
2813	.$1a2d	A_REG .WORD 0
2814	.$1a2f	B_REG .WORD 0
2815	.$1a31	CMD_NUM .BYTE 0
2816	.$1a32	CHANNEL .BYTE 0
2817	.$1a33	SP_SAVE .BYTE 0
2818	.$1a34	TMP2_REG .WORD 0
2819	.$1a36	TMP3_REG .WORD 0
2820	.$1a38	TMP4_REG .WORD 0
2821	.$1a3a	AS_TMP .WORD 0
2822	.$1a3c	BPOINTER_TMP .WORD 0
2823	.$1a3e	BASICTEXTP .BYTE 0
2824	.$1a3f	STORE1 .WORD 0
2825	.$1a41	STORE2 .WORD 0
2826	.$1a43	STORE3 .WORD 0
2827	.$1a45	STORE4 .WORD 0
2828	.$1a47	GCSTART .WORD 0
2829	.$1a49	GCLEN .WORD 0
2830	.$1a4b	GCWORK .WORD 0
2831	.$1a4d	INPUTLENGTH .BYTE 0
2832	.$1a4e	TMP_FREG .REAL 0
2833	.$1a53	TMP2_FREG .REAL 0
2834	.$1a58	TMP_FLAG .BYTE 0
2835	.$1a59	INT_FLAG .BYTE 0
2836	.$1a5a	REAL_CONST_ONE .REAL 1.0
2837	.$1a5f	REAL_CONST_ZERO .REAL 0.0
2838	.$1a64	REAL_CONST_MINUS_ONE .REAL -1.0
2839	.$1a69	CHLOCKFLAG .BYTE 0
2840	.$1a6a	EMPTYSTR .BYTE 0
2841	.$1a6b	FPSTACKP .WORD FPSTACK
2842	.$1a6d	FORSTACKP .WORD FORSTACK
2843	.$1a6f	DATASP .WORD DATAS
2844	.$1a71	LASTVAR .WORD 0
2845	.$1a73	LASTVARP .WORD 0
2846	.$1a75	HIGHP .WORD STRBUF
2847	.$1a77	STRBUFP .WORD STRBUF
2848	.$1a79	ENDSTRBUF .WORD 0
2849	.$1a7b	INPUTQUEUEP .BYTE 0
2850	.$1a7c	PROGRAMEND
2851	.$1a7c	INPUTQUEUE .ARRAY $0F
2852	.$1a8b	FPSTACK .ARRAY 100
2853	.$1aef	FORSTACK .ARRAY 340
2854	.$1c43	STRBUF .BYTE 0
