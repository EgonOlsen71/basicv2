117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_5:
128	.$81f	JMP ENDDEF3acf83834396fa1c878707132ead62b8
129	.$822	DEF3acf83834396fa1c878707132ead62b8:
130	.$822	JSR POPREALXREG
134	.$825	LDX #<VAR__Y_PE
135	.$827	LDY #>VAR__Y_PE
137	.$829	JSR FACMEM
138	.$82c	LDA #<VAR__Y_PE
139	.$82e	LDY #>VAR__Y_PE
140	.$830	JSR COPY2_XYA_XREG
144	.$833	LDY #1
145	.$835	STY A_REG
146	.$838	JSR XREGFAC
147	.$83b	JSR SHL
150	.$83e	JSR PUSHREAL
151	.$841	RTS
152	.$842	ENDDEF3acf83834396fa1c878707132ead62b8:
153	.$842	JMP LINE_10
155	.$845	LINE_8:
157	.$845	LDA #<CONST_1R
158	.$847	LDY #>CONST_1R
159	.$849	JSR REALFACPUSH
161	.$84c	JSR DEFc951270e425b15fc20c64da4341c1d89
162	.$84f	JSR POPREALXREG
165	.$852	JSR REALOUT
166	.$855	JSR CRSRRIGHT
167	.$858	JSR TABOUT
168	.$85b	LDA #<CONST_2R
169	.$85d	LDY #>CONST_2R
170	.$85f	JSR REALFACPUSH
172	.$862	JSR DEF3acf83834396fa1c878707132ead62b8
173	.$865	JSR POPREALXREG
176	.$868	JSR REALOUTBRK
178	.$86b	JSR END
179	.$86e	RTS
181	.$86f	LINE_10:
183	.$86f	JMP ENDDEFc951270e425b15fc20c64da4341c1d89
184	.$872	DEFc951270e425b15fc20c64da4341c1d89:
185	.$872	JSR POPREALXREG
189	.$875	LDX #<VAR__X_LB
190	.$877	LDY #>VAR__X_LB
192	.$879	JSR FACMEM
193	.$87c	LDA #<CONST_3
194	.$87e	LDY #>CONST_3
195	.$880	JSR REALFAC
196	.$883	LDA #<VAR__X_LB
197	.$885	LDY #>VAR__X_LB
198	.$887	JSR FASTFSUBMEM
203	.$88a	JSR PUSHREAL
204	.$88d	RTS
205	.$88e	ENDDEFc951270e425b15fc20c64da4341c1d89:
207	.$88e	LINE_20:
209	.$88e	JMP LINE_8
210	.$891	JSR END
211	.$894	RTS
214	.$895	END   LDX SP_SAVE
215	.$898	TXS
222	.$899	RTS
225	.$89a	START  LDA ENDSTRBUF+1
226	.$89d	BNE ENDGIVEN
227	.$89f	LDA BASICEND
228	.$8a1	STA ENDSTRBUF
229	.$8a4	LDA BASICEND+1
230	.$8a6	STA ENDSTRBUF+1
231	.$8a9	ENDGIVEN LDA #<FPSTACK
232	.$8ab	LDY #>FPSTACK
233	.$8ad	STA FPSTACKP
234	.$8b0	STY FPSTACKP+1
235	.$8b3	LDA #<FORSTACK
236	.$8b5	LDY #>FORSTACK
237	.$8b7	STA FORSTACKP
238	.$8ba	STY FORSTACKP+1
239	.$8bd	LDA #<STRBUF
240	.$8bf	LDY #>STRBUF
241	.$8c1	STA STRBUFP
242	.$8c4	STY STRBUFP+1
243	.$8c7	STA HIGHP
244	.$8ca	STY HIGHP+1
245	.$8cd	LDA #0
246	.$8cf	STA CHLOCKFLAG
247	.$8d2	STA LASTVAR
248	.$8d5	STA LASTVAR+1
249	.$8d8	JSR INITVARS
250	.$8db	LDA #0
251	.$8dd	STA CMD_NUM
252	.$8e0	STA CHANNEL
253	.$8e3	TAY
254	.$8e4	TAX
258	.$8e5	STA KEYNDX
264	.$8e7	JSR RESTORE
265	.$8ea	CLC
269	.$8eb	RTS
272	.$8ec	INITNARRAY
273	.$8ec	STA TMP_ZP
274	.$8ee	STY TMP_ZP+1
275	.$8f0	LDY #0
276	.$8f2	TYA
277	.$8f3	NINITLOOP STA (TMP_ZP),Y
278	.$8f5	INC TMP_ZP
279	.$8f7	BNE NLOOPNOV
280	.$8f9	INC TMP_ZP+1
281	.$8fb	NLOOPNOV LDX TMP2_ZP
282	.$8fd	BNE NLOOPNOV2
283	.$8ff	DEC TMP2_ZP+1
284	.$901	NLOOPNOV2 DEC TMP2_ZP
285	.$903	BNE NINITLOOP
286	.$905	LDX TMP2_ZP+1
287	.$907	BNE NINITLOOP
288	.$909	RTS
291	.$90a	INITSTRARRAY
292	.$90a	STA TMP_ZP
293	.$90c	STY TMP_ZP+1
294	.$90e	SINITLOOP LDY #0
295	.$910	LDA #<EMPTYSTR
296	.$912	STA (TMP_ZP),Y
297	.$914	LDA #>EMPTYSTR
298	.$916	INY
299	.$917	STA (TMP_ZP),Y
300	.$919	CLC
301	.$91a	LDA TMP_ZP
302	.$91c	ADC #2
303	.$91e	STA TMP_ZP
304	.$920	BCC SLOOPNOV1
305	.$922	INC TMP_ZP+1
306	.$924	SLOOPNOV1 SEC
307	.$925	LDA TMP2_ZP
308	.$927	SBC #2
309	.$929	STA TMP2_ZP
310	.$92b	BCS SLOOPNOV2
311	.$92d	DEC TMP2_ZP+1
312	.$92f	SLOOPNOV2 LDA TMP2_ZP
313	.$931	BNE SINITLOOP
314	.$933	LDA TMP2_ZP+1
315	.$935	BNE SINITLOOP
316	.$937	RTS
319	.$938	INITSPARAMS STA TMP3_ZP
320	.$93a	STY TMP3_ZP+1
321	.$93c	SEC
322	.$93d	SBC #2
323	.$93f	STA TMP_ZP
324	.$941	TYA
325	.$942	SBC #0
326	.$944	STA TMP_ZP+1
327	.$946	LDY #0
328	.$948	LDA (TMP_ZP),Y
329	.$94a	STA TMP2_ZP
330	.$94c	INY
331	.$94d	LDA (TMP_ZP),Y
332	.$94f	STA TMP2_ZP+1
333	.$951	LDA TMP3_ZP
334	.$953	LDY TMP3_ZP+1
335	.$955	RTS
338	.$956	INITSTRVARS LDA #<STRINGVARS_START  
339	.$958	LDY #>STRINGVARS_START
340	.$95a	CMP #<STRINGVARS_END
341	.$95c	BNE INITIT1
342	.$95e	CPY #>STRINGVARS_END
343	.$960	BNE INITIT1
344	.$962	JMP INITSA2     
345	.$965	INITIT1  STA TMP_ZP
346	.$967	STY TMP_ZP+1
347	.$969	LDY #0
348	.$96b	INITSTRLOOP LDA #<EMPTYSTR
349	.$96d	STA (TMP_ZP),Y
350	.$96f	INY
351	.$970	LDA #>EMPTYSTR
352	.$972	STA (TMP_ZP),Y
353	.$974	DEY
354	.$975	LDA TMP_ZP
355	.$977	CLC
356	.$978	ADC #2
357	.$97a	STA TMP_ZP
358	.$97c	LDA TMP_ZP+1
359	.$97e	ADC #0
360	.$980	STA TMP_ZP+1
361	.$982	CMP #>STRINGVARS_END
362	.$984	BNE INITSTRLOOP
363	.$986	LDA TMP_ZP
364	.$988	CMP #<STRINGVARS_END
365	.$98a	BNE INITSTRLOOP
366	.$98c	INITSA2  LDA #<STRINGARRAYS_START 
367	.$98e	LDY #>STRINGARRAYS_START
368	.$990	CMP #<STRINGARRAYS_END
369	.$992	BNE ARRAYLOOP
370	.$994	CPY #>STRINGARRAYS_END
371	.$996	BNE ARRAYLOOP
372	.$998	RTS       
373	.$999	ARRAYLOOP CLC
374	.$99a	ADC #3
375	.$99c	BCC ARRAYSKIP1
376	.$99e	INY
377	.$99f	ARRAYSKIP1 CPY #>STRINGARRAYS_END
378	.$9a1	BEQ ARRAYSC
379	.$9a3	BCC ARRAYSKIP2
380	.$9a5	JMP ARRAYQUIT
381	.$9a8	ARRAYSC  CMP #<STRINGARRAYS_END
382	.$9aa	BCS ARRAYQUIT
383	.$9ac	ARRAYSKIP2 STA TMP_REG
384	.$9ae	STY TMP_REG+1
385	.$9b0	JSR INITSPARAMS
386	.$9b3	LDA TMP_REG
387	.$9b5	LDY TMP_REG+1
388	.$9b7	JSR INITSTRARRAY
389	.$9ba	LDA TMP_ZP
390	.$9bc	LDY TMP_ZP+1
391	.$9be	JMP ARRAYLOOP
392	.$9c1	ARRAYQUIT RTS
395	.$9c2	RESTORE  LDA #<DATAS
396	.$9c4	LDY #>DATAS
397	.$9c6	STA DATASP
398	.$9c9	STY DATASP+1
399	.$9cc	RTS
402	.$9cd	TABSPC     BCC DOSPC
403	.$9cf	TXA
404	.$9d0	SBC $09
405	.$9d2	BCC TABSPCQUIT
406	.$9d4	TAX
407	.$9d5	DOSPC  INX
408	.$9d6	TABSPCLOOP  DEX
409	.$9d7	BNE TABSPCRIGHT
410	.$9d9	TABSPCQUIT RTS
411	.$9da	TABSPCRIGHT JSR CRSRRIGHT
412	.$9dd	JMP TABSPCLOOP
415	.$9e0	REROUTE  LDA CMD_NUM  
416	.$9e3	BEQ REROUTECMD
417	.$9e5	TAX
418	.$9e6	STA CHANNEL
419	.$9e9	JMP CHKOUT
420	.$9ec	REROUTECMD RTS
423	.$9ed	RESETROUTE LDA CMD_NUM  
424	.$9f0	BEQ RESETROUTECMD
425	.$9f2	JMP CLRCHNEW
426	.$9f5	RESETROUTECMD
427	.$9f5	RTS
430	.$9f6	INTOUTFASTZ LDX #32    
431	.$9f8	LDA TMP_ZP+1
432	.$9fa	BPL INTISPOS
433	.$9fc	CLC
434	.$9fd	LDA TMP_ZP
435	.$9ff	EOR #$FF
436	.$a01	ADC #1
437	.$a03	STA TMP_ZP
438	.$a05	LDA TMP_ZP+1
439	.$a07	EOR #$FF
440	.$a09	ADC #0
441	.$a0b	STA TMP_ZP+1
442	.$a0d	LDX #45    
443	.$a0f	INTISPOS
444	.$a0f	TXA
445	.$a10	JSR CHROUT
446	.$a13	JSR CONVPOSINT
447	.$a16	LDA NUMFLAG
448	.$a19	BNE ALLINTOUTDONE
449	.$a1b	LDA #48
450	.$a1d	JSR CHROUT
451	.$a20	ALLINTOUTDONE
452	.$a20	RTS
455	.$a21	NUMBEROUT
456	.$a21	BEQ NUMZERO
457	.$a23	ORA #$30
458	.$a25	STA NUMFLAG
459	.$a28	JMP CHROUT
460	.$a2b	NUMZERO
461	.$a2b	LDX NUMFLAG
462	.$a2e	BEQ STILLZERO
463	.$a30	ORA #$30
464	.$a32	JMP CHROUT
465	.$a35	STILLZERO
466	.$a35	RTS
469	.$a36	CONVPOSINT
470	.$a36	JSR INT2BCD
471	.$a39	LDX #0
472	.$a3b	STX NUMFLAG
473	.$a3e	AND #$0F
474	.$a40	JSR NUMBEROUT
475	.$a43	LDA BCD+1
476	.$a46	LSR
477	.$a47	LSR
478	.$a48	LSR
479	.$a49	LSR
480	.$a4a	JSR NUMBEROUT
481	.$a4d	LDA BCD+1
482	.$a50	AND #$0F
483	.$a52	TAY
484	.$a53	JSR NUMBEROUT
485	.$a56	LDA BCD
486	.$a59	LSR
487	.$a5a	LSR
488	.$a5b	LSR
489	.$a5c	LSR
490	.$a5d	JSR NUMBEROUT
491	.$a60	LDA BCD
492	.$a63	AND #$0F
493	.$a65	JSR NUMBEROUT
494	.$a68	RTS
497	.$a69	INT2BCD
498	.$a69	SED
499	.$a6a	LDA #0
500	.$a6c	STA BCD
501	.$a6f	STA BCD+1
502	.$a72	STA BCD+2
503	.$a75	ASL TMP_ZP
504	.$a77	ROL TMP_ZP+1
505	.$a79	LDA BCD
506	.$a7c	ADC BCD
507	.$a7f	STA BCD
508	.$a82	ASL TMP_ZP
509	.$a84	ROL TMP_ZP+1
510	.$a86	ADC BCD
511	.$a89	STA BCD
512	.$a8c	ASL TMP_ZP
513	.$a8e	ROL TMP_ZP+1
514	.$a90	ADC BCD
515	.$a93	STA BCD
516	.$a96	ASL TMP_ZP
517	.$a98	ROL TMP_ZP+1
518	.$a9a	ADC BCD
519	.$a9d	STA BCD
520	.$aa0	ASL TMP_ZP
521	.$aa2	ROL TMP_ZP+1
522	.$aa4	ADC BCD
523	.$aa7	STA BCD
524	.$aaa	ASL TMP_ZP
525	.$aac	ROL TMP_ZP+1
526	.$aae	ADC BCD
527	.$ab1	STA BCD
528	.$ab4	LDX #7
529	.$ab6	BCDBIT1
530	.$ab6	ASL TMP_ZP
531	.$ab8	ROL TMP_ZP+1
532	.$aba	LDA BCD
533	.$abd	ADC BCD
534	.$ac0	STA BCD
535	.$ac3	LDA BCD+1
536	.$ac6	ADC BCD+1
537	.$ac9	STA BCD+1
538	.$acc	DEX
539	.$acd	BNE BCDBIT1
540	.$acf	LDX #3
541	.$ad1	BCDBIT2
542	.$ad1	ASL TMP_ZP
543	.$ad3	ROL TMP_ZP+1
544	.$ad5	LDA BCD
545	.$ad8	ADC BCD
546	.$adb	STA BCD
547	.$ade	LDA BCD+1
548	.$ae1	ADC BCD+1
549	.$ae4	STA BCD+1
550	.$ae7	LDA BCD+2
551	.$aea	ADC BCD+2
552	.$aed	STA BCD+2
553	.$af0	DEX
554	.$af1	BNE BCDBIT2
555	.$af3	CLD
556	.$af4	RTS
557	.$af5	BCD
558	.$af5	.WORD 0 0
559	.$af9	NUMFLAG
560	.$af9	.BYTE 0
563	.$afa	REALOUTFAST JSR FACINT
564	.$afd	STA TMP_ZP+1
565	.$aff	STY TMP_ZP
566	.$b01	JMP INTOUTFASTZ
569	.$b04	CHECKFORFASTOUT
570	.$b04	JSR REROUTE
571	.$b07	JSR XREGFAC
572	.$b0a	LDA FACEXP
573	.$b0c	CMP #$90
574	.$b0e	BCS REALOUTINT
575	.$b10	CMP #$81
576	.$b12	BCC REALOUTINT
577	.$b14	MAYBEREALOUTFAST
578	.$b14	LDA FACEXP+3
579	.$b16	BNE REALOUTINT
580	.$b18	LDA FACEXP+4
581	.$b1a	BNE REALOUTINT
582	.$b1c	LDA FACEXP
583	.$b1e	SEC
584	.$b1f	SBC #129
585	.$b21	ASL
586	.$b22	TAX
587	.$b23	LDA FACEXP+1
588	.$b25	AND MANTMASK,X
589	.$b28	BNE REALOUTINT
590	.$b2a	INX
591	.$b2b	LDA FACEXP+2
592	.$b2d	AND MANTMASK,X
593	.$b30	BNE REALOUTINT
594	.$b32	JMP REALOUTFAST
595	.$b35	REALOUTINT LDY #0
596	.$b37	JSR FACSTR
597	.$b3a	LDY #0
598	.$b3c	LDA LOFBUF,Y
599	.$b3f	STRLOOPRO JSR CHROUT
600	.$b42	INY
601	.$b43	LDA LOFBUF,Y
602	.$b46	BNE STRLOOPRO
603	.$b48	RTS
604	.$b49	MANTMASK
605	.$b49	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
608	.$b67	REALOUT  LDA X_REG
609	.$b69	BNE RNOTNULL
610	.$b6b	JMP PRINTNULL
611	.$b6e	RNOTNULL JSR CHECKFORFASTOUT
612	.$b71	JMP RESETROUTE
615	.$b74	REALOUTBRK  LDA X_REG
616	.$b76	BNE RNOTNULLBRK
617	.$b78	JMP PRINTNULLBRK
618	.$b7b	RNOTNULLBRK JSR CHECKFORFASTOUT
619	.$b7e	LDA #$0D
620	.$b80	JSR CHROUT
621	.$b83	JMP RESETROUTE
624	.$b86	PRINTNULL JSR REROUTE
625	.$b89	LDA #$20
626	.$b8b	JSR CHROUT
627	.$b8e	LDA #$30
628	.$b90	JSR CHROUT
629	.$b93	JMP RESETROUTE
632	.$b96	PRINTNULLBRK
633	.$b96	JSR REROUTE
634	.$b99	LDA #$20
635	.$b9b	JSR CHROUT
636	.$b9e	LDA #$30
637	.$ba0	JSR CHROUT
638	.$ba3	LDA #$0D
639	.$ba5	JSR CHROUT
640	.$ba8	JMP RESETROUTE
643	.$bab	TABOUT  JSR REROUTE
644	.$bae	LDA CMD_NUM
645	.$bb1	BEQ NORMALTABOUT  
646	.$bb3	CMP #3
647	.$bb5	BEQ NORMALTABOUT2  
648	.$bb7	JMP TABOUTCHANNEL2
649	.$bba	NORMALTABOUT2
650	.$bba	JSR CLRCHNEW
651	.$bbd	NORMALTABOUT
652	.$bbd	SEC
653	.$bbe	JSR CRSRPOS
654	.$bc1	TYA
655	.$bc2	SEC
656	.$bc3	TABSUB   SBC #$0A
657	.$bc5	BCS TABSUB
658	.$bc7	EOR #$FF
659	.$bc9	ADC #$01
660	.$bcb	TAX
661	.$bcc	INX
662	.$bcd	TABLOOP  DEX
663	.$bce	BNE TABRIGHT
664	.$bd0	RTS
665	.$bd1	TABRIGHT JSR CRSRRIGHT
666	.$bd4	JMP TABLOOP
669	.$bd7	REALFACPUSH STA TMP_ZP
670	.$bd9	STY TMP_ZP+1
671	.$bdb	LDX FPSTACKP
672	.$bde	LDY FPSTACKP+1
673	.$be1	STX TMP2_ZP
674	.$be3	STY TMP2_ZP+1
675	.$be5	LDY #0
676	.$be7	LDA (TMP_ZP),Y
677	.$be9	STA (TMP2_ZP),Y
678	.$beb	INY
679	.$bec	LDA (TMP_ZP),Y
680	.$bee	STA (TMP2_ZP),Y
681	.$bf0	INY
682	.$bf1	LDA (TMP_ZP),Y
683	.$bf3	STA (TMP2_ZP),Y
684	.$bf5	INY
685	.$bf6	LDA (TMP_ZP),Y
686	.$bf8	STA (TMP2_ZP),Y
687	.$bfa	INY
688	.$bfb	LDA (TMP_ZP),Y
689	.$bfd	STA (TMP2_ZP),Y
690	.$bff	TXA    
691	.$c00	CLC
692	.$c01	ADC #5
693	.$c03	STA FPSTACKP
694	.$c06	BCC NOPVRFPXX
695	.$c08	INC FPSTACKP+1
696	.$c0b	NOPVRFPXX RTS
699	.$c0c	PUSHREAL LDX FPSTACKP
700	.$c0f	LDY FPSTACKP+1
701	.$c12	JSR FACMEM
702	.$c15	LDA FPSTACKP
703	.$c18	CLC
704	.$c19	ADC #5
705	.$c1b	STA FPSTACKP
706	.$c1e	BCC NOPVPUR
707	.$c20	INC FPSTACKP+1
708	.$c23	NOPVPUR  RTS
711	.$c24	POPREALXREG LDA FPSTACKP
712	.$c27	SEC
713	.$c28	SBC #5
714	.$c2a	STA FPSTACKP
715	.$c2d	BCS NOPVPRXR
716	.$c2f	DEC FPSTACKP+1
717	.$c32	NOPVPRXR LDA FPSTACKP
718	.$c35	LDY FPSTACKP+1
719	.$c38	STA TMP_ZP
720	.$c3a	STY TMP_ZP+1
721	.$c3c	LDY #$4
722	.$c3e	LDA (TMP_ZP),Y
723	.$c40	STA X_REG+4
724	.$c42	STA FACLO
725	.$c44	DEY
726	.$c45	LDA (TMP_ZP),Y
727	.$c47	STA X_REG+3
728	.$c49	STA FACMO
729	.$c4b	DEY
730	.$c4c	LDA (TMP_ZP),Y
731	.$c4e	STA X_REG+2
732	.$c50	STA FACMOH
733	.$c52	DEY
734	.$c53	LDA (TMP_ZP),Y
735	.$c55	STA X_REG+1
736	.$c57	STA FACSGN
737	.$c59	ORA #$80
738	.$c5b	STA FACHO
739	.$c5d	DEY
740	.$c5e	LDA (TMP_ZP),Y
741	.$c60	STA X_REG
742	.$c62	STA FACEXP
743	.$c64	STY FACOV
744	.$c66	RTS
747	.$c67	SHL   LDA FACEXP
748	.$c69	BEQ SHLOK
749	.$c6b	CLC
750	.$c6c	ADC A_REG
751	.$c6f	BCC SHLOK
752	.$c71	LDA #0
753	.$c73	STA FACSGN
754	.$c75	STA FACLO
755	.$c77	STA FACMO
756	.$c79	STA FACMOH
757	.$c7b	STA FACHO
758	.$c7d	LDA #$FF
759	.$c7f	SHLOK  STA FACEXP
760	.$c81	RTS
763	.$c82	COPY2_XYA_XREG
764	.$c82	STA TMP3_ZP
765	.$c84	STY TMP3_ZP+1
766	.$c86	COPY2_XY_XREG
767	.$c86	LDX #<X_REG  
768	.$c88	LDY #0
769	.$c8a	LDA (TMP3_ZP),Y
770	.$c8c	STA X_REG
771	.$c8e	INY
772	.$c8f	LDA (TMP3_ZP),Y
773	.$c91	STA X_REG+1
774	.$c93	INY
775	.$c94	LDA (TMP3_ZP),Y
776	.$c96	STA X_REG+2
777	.$c98	INY
778	.$c99	LDA (TMP3_ZP),Y
779	.$c9b	STA X_REG+3
780	.$c9d	INY
781	.$c9e	LDA (TMP3_ZP),Y
782	.$ca0	STA X_REG+4
783	.$ca2	RTS
787	.$ca3	FACWORD
788	.$ca3	LDA FACEXP   
789	.$ca5	BNE DOFACWORD
790	.$ca7	STA FACSGN   
791	.$ca9	DOFACWORD:
792	.$ca9	JMP XFACWORD
796	.$cac	INITOUTCHANNEL
797	.$cac	LDA CHLOCKFLAG
798	.$caf	BEQ INITOUT2
799	.$cb1	CMP #$FF
800	.$cb3	BNE SKIPINITCH
801	.$cb5	INITOUT2
802	.$cb5	LDA #<C_REG
803	.$cb7	LDY #>C_REG
804	.$cb9	JSR REALFAC
805	.$cbc	JSR FACWORD
806	.$cbf	TYA
807	.$cc0	TAX
808	.$cc1	CPX CMD_NUM
809	.$cc4	BNE CMDNEQUAL
810	.$cc6	LDY #0
811	.$cc8	STY CMD_NUM   
812	.$ccb	CMDNEQUAL STA CHANNEL
813	.$cce	STA CHLOCKFLAG
814	.$cd1	JMP CHKOUT
815	.$cd4	SKIPINITCH
816	.$cd4	RTS
819	.$cd5	CLRCHNEW
820	.$cd5	LDA CHLOCKFLAG
821	.$cd8	BNE SKIPCLRCH
822	.$cda	JMP CLRCH
823	.$cdd	SKIPCLRCH
824	.$cdd	RTS
827	.$cde	TABOUTCHANNEL
828	.$cde	JSR INITOUTCHANNEL
829	.$ce1	LDA CHANNEL
830	.$ce4	CMP #3  
831	.$ce6	BEQ TABOUTSCREEN
832	.$ce8	TABOUTCHANNEL2
833	.$ce8	LDA IOCHANNEL
834	.$cea	STA STORE1
835	.$ced	LDA #1
836	.$cef	STA IOCHANNEL  
837	.$cf1	LDX #10
838	.$cf3	JMP EXITCHANNEL
839	.$cf6	TABOUTSCREEN
840	.$cf6	JSR CLRCHNEW
841	.$cf9	JMP TABOUT
844	.$cfc	EXITCHANNEL CLC
845	.$cfd	JSR TABSPC
846	.$d00	JSR CLRCHNEW
847	.$d03	LDA STORE1
848	.$d06	STA IOCHANNEL
849	.$d08	RTS
852	.$d09	ILLEGALQUANTITY
856	.$d09	JMP ERRIQ
859	.$d0c	XREGFAC  LDA X_REG+4
860	.$d0e	STA FACLO
861	.$d10	LDA X_REG+3
862	.$d12	STA FACMO
863	.$d14	LDA X_REG+2
864	.$d16	STA FACMOH
865	.$d18	LDA X_REG+1
866	.$d1a	STA FACSGN
867	.$d1c	ORA #$80
868	.$d1e	STA FACHO
869	.$d20	LDA X_REG
870	.$d22	STA FACEXP
871	.$d24	LDA #0
872	.$d26	STA FACOV
873	.$d28	RTS
987	.$d29	FASTFSUBMEM
988	.$d29	JSR MEMARG
989	.$d2c	FASTFSUBARG
990	.$d2c	LDA FACSGN
991	.$d2e	EOR #$FF
992	.$d30	STA FACSGN
993	.$d32	EOR ARGSGN
994	.$d34	STA ARISGN
995	.$d36	LDA FACEXP
996	.$d38	JMP FASTFADDARG
999	.$d3b	FASTFADDMEM
1000	.$d3b	JSR MEMARG
1001	.$d3e	FASTFADDARG
1002	.$d3e	BNE FADDRET2     
1003	.$d40	JMP ARGFAC
1004	.$d43	FADDRET2 LDA ARGEXP
1005	.$d45	BNE FADDRET1     
1006	.$d47	RTS
1007	.$d48	FADDRET1 SEC
1008	.$d49	SBC FACEXP
1009	.$d4b	BEQ FFADD_EXPEQ     
1010	.$d4d	BCC FFADD_SHFARG1   
1014	.$d4f	LDY ARGEXP
1015	.$d51	STY FACEXP
1016	.$d53	LDY ARGSGN
1017	.$d55	STY FACSGN
1018	.$d57	LDX #0
1019	.$d59	STX OLDOV        
1020	.$d5b	LDX #FAC         
1022	.$d5d	SEC
1023	.$d5e	SBC #$08
1024	.$d60	BMI FFADD_SHFFAC2
1026	.$d62	FFADD_SHFFAC1
1027	.$d62	LDY FACLO        
1028	.$d64	STY FACOV
1029	.$d66	LDY FACMO        
1030	.$d68	STY FACMO+1
1031	.$d6a	LDY FACMOH       
1032	.$d6c	STY FACMOH+1
1033	.$d6e	LDY FACHO        
1034	.$d70	STY FACHO+1
1035	.$d72	LDY #0
1036	.$d74	STY FACHO        
1037	.$d76	SBC #$08         
1038	.$d78	BPL FFADD_SHFFAC1   
1039	.$d7a	FFADD_SHFFAC2
1040	.$d7a	ADC #$08         
1041	.$d7c	BEQ FFADD_SHFFAC4   
1042	.$d7e	TAY
1043	.$d7f	LDA FACOV
1044	.$d81	FFADD_SHFFAC3
1045	.$d81	LSR FACHO        
1046	.$d83	ROR FACMOH       
1047	.$d85	ROR FACMO        
1048	.$d87	ROR FACLO        
1049	.$d89	ROR              
1050	.$d8a	DEY
1051	.$d8b	BNE FFADD_SHFFAC3
1052	.$d8d	JMP FFADD_MANADD2   
1053	.$d90	FFADD_SHFFAC4
1054	.$d90	LDA FACOV        
1055	.$d92	JMP FFADD_MANADD2
1056	.$d95	FFADD_EXPEQ
1057	.$d95	LDX FACOV
1058	.$d97	STX OLDOV
1061	.$d99	JMP FFADD_MANADD1
1062	.$d9c	FFADD_SHFARG2
1063	.$d9c	LDA FACOV        
1064	.$d9e	JMP FFADD_MANADD1
1065	.$da1	FFADD_SHFARG1
1066	.$da1	LDX FACOV
1067	.$da3	STX OLDOV        
1068	.$da5	LDX #$00         
1071	.$da7	ADC #$08
1072	.$da9	BPL FFADD_SHFARG6   
1073	.$dab	FFADD_SHFARG3
1074	.$dab	LDX ARGLO        
1075	.$dad	LDY ARGMO        
1076	.$daf	STY ARGMO+1
1077	.$db1	LDY ARGMOH       
1078	.$db3	STY ARGMOH+1
1079	.$db5	LDY ARGHO        
1080	.$db7	STY ARGHO+1
1081	.$db9	LDY #0
1082	.$dbb	STY ARGHO        
1083	.$dbd	FFADD_SHFARG4
1084	.$dbd	ADC #$08
1085	.$dbf	BMI FFADD_SHFARG3
1086	.$dc1	BEQ FFADD_SHFARG3
1087	.$dc3	FFADD_SHFARG6
1088	.$dc3	SBC #$08
1089	.$dc5	BEQ FFADD_SHFARG2   
1090	.$dc7	TAY
1091	.$dc8	TXA              
1092	.$dc9	FFADD_SHFARG5
1093	.$dc9	LSR ARGHO
1094	.$dcb	ROR ARGMOH
1095	.$dcd	ROR ARGMO
1096	.$dcf	ROR ARGLO
1097	.$dd1	ROR           
1098	.$dd2	INY
1099	.$dd3	BNE FFADD_SHFARG5
1100	.$dd5	FFADD_MANADD1
1101	.$dd5	LDX #ARGEXP      
1102	.$dd7	FFADD_MANADD2
1103	.$dd7	BIT ARISGN
1104	.$dd9	BMI FFADD_MANSUB1   
1105	.$ddb	CLC
1106	.$ddc	ADC OLDOV
1107	.$dde	STA FACOV
1108	.$de0	LDA FACLO
1109	.$de2	ADC ARGLO
1110	.$de4	STA FACLO
1111	.$de6	LDA FACMO
1112	.$de8	ADC ARGMO
1113	.$dea	STA FACMO
1114	.$dec	LDA FACMOH
1115	.$dee	ADC ARGMOH
1116	.$df0	STA FACMOH
1117	.$df2	LDA FACHO
1118	.$df4	ADC ARGHO
1119	.$df6	STA FACHO
1120	.$df8	BCC FFADD_RNDRTS
1121	.$dfa	INC FACEXP
1122	.$dfc	BEQ FFADD_OVERR
1124	.$dfe	ROR FACHO
1125	.$e00	ROR FACMOH
1126	.$e02	ROR FACMO
1127	.$e04	ROR FACLO
1128	.$e06	ROR FACOV
1129	.$e08	FFADD_RNDRTS
1130	.$e08	RTS
1131	.$e09	FFADD_OVERR
1132	.$e09	JMP ILLEGALQUANTITY
1133	.$e0c	FFADD_MANSUB1
1134	.$e0c	LDY #FACEXP
1135	.$e0e	CPX #ARGEXP
1136	.$e10	BEQ FFADD_MANSUB2
1137	.$e12	LDY #ARGEXP
1138	.$e14	FFADD_MANSUB2
1139	.$e14	SEC              
1140	.$e15	EOR #$FF
1141	.$e17	ADC OLDOV
1142	.$e19	STA FACOV
1143	.$e1b	LDA 4,Y
1144	.$e1e	SBC 4,X
1145	.$e20	STA FACLO
1146	.$e22	LDA 3,Y
1147	.$e25	SBC 3,X
1148	.$e27	STA FACMO
1149	.$e29	LDA 2,Y
1150	.$e2c	SBC 2,X
1151	.$e2e	STA FACMOH
1152	.$e30	LDA 1,Y
1153	.$e33	SBC 1,X
1154	.$e35	STA FACHO
1155	.$e37	BCS FCNORMAL
1156	.$e39	LDA FACSGN
1157	.$e3b	EOR #$FF
1158	.$e3d	STA FACSGN
1159	.$e3f	LDA FACHO
1160	.$e41	EOR #$FF
1161	.$e43	STA FACHO
1162	.$e45	LDA FACMOH
1163	.$e47	EOR #$FF
1164	.$e49	STA FACMOH
1165	.$e4b	LDA FACMO
1166	.$e4d	EOR #$FF
1167	.$e4f	STA FACMO
1168	.$e51	LDA FACLO
1169	.$e53	EOR #$FF
1170	.$e55	STA FACLO
1171	.$e57	LDA FACOV
1172	.$e59	EOR #$FF
1173	.$e5b	CLC
1174	.$e5c	ADC #1
1175	.$e5e	STA FACOV
1176	.$e60	BNE FCNORMAL
1177	.$e62	INC FACLO
1178	.$e64	BNE FCNORMAL
1179	.$e66	INC FACMO
1180	.$e68	BNE FCNORMAL
1181	.$e6a	INC FACMOH
1182	.$e6c	BNE FCNORMAL
1183	.$e6e	INC FACHO
1184	.$e70	FCNORMAL   BIT FACHO
1185	.$e72	BMI FFADD_RET       
1186	.$e74	LDA #0           
1187	.$e76	CLC
1188	.$e77	FFADD_NORM3
1189	.$e77	LDX FACHO
1190	.$e79	BNE FFADD_NORM1
1191	.$e7b	LDX FACHO+1
1192	.$e7d	STX FACHO
1193	.$e7f	LDX FACMOH+1
1194	.$e81	STX FACMOH
1195	.$e83	LDX FACMO+1
1196	.$e85	STX FACMO
1197	.$e87	LDX FACOV
1198	.$e89	STX FACLO
1199	.$e8b	LDX #0
1200	.$e8d	STX FACOV
1201	.$e8f	ADC #$08
1202	.$e91	CMP #$20
1203	.$e93	BNE FFADD_NORM3
1204	.$e95	JMP FFADD_ZEROFAC
1205	.$e98	FFADD_NORM2
1206	.$e98	CLC
1207	.$e99	ADC #1
1208	.$e9b	ASL FACOV
1209	.$e9d	ROL FACLO
1210	.$e9f	ROL FACMO
1211	.$ea1	ROL FACMOH
1212	.$ea3	ROL FACHO
1213	.$ea5	FFADD_NORM1
1214	.$ea5	BPL FFADD_NORM2     
1215	.$ea7	SEC
1216	.$ea8	SBC FACEXP
1217	.$eaa	BCS FFADD_ZEROFAC
1218	.$eac	EOR #$FF
1219	.$eae	CLC
1220	.$eaf	ADC #1
1221	.$eb1	STA FACEXP
1222	.$eb3	FFADD_RET   RTS
1223	.$eb4	FFADD_ZEROFAC
1224	.$eb4	LDX #0
1225	.$eb6	STX FACEXP
1226	.$eb8	STX FACSGN
1227	.$eba	RTS
1230	.$ebb	INITVARS
1231	.$ebb	JSR INITSTRVARS
1232	.$ebe	LDA #0
1233	.$ec0	LDY #4
1234	.$ec2	REALINITLOOP0:
1235	.$ec2	STA VAR__Y_PE,Y
1236	.$ec5	STA VAR__X_LB,Y
1237	.$ec8	DEY
1238	.$ec9	BMI REALLOOPEXIT0
1239	.$ecb	JMP REALINITLOOP0
1240	.$ece	REALLOOPEXIT0:
1241	.$ece	RTS
1245	.$ecf	CONSTANTS
1251	.$ecf	CONST_1R .REAL 8.0
1254	.$ed4	CONST_2R .REAL 32.0
1257	.$ed9	CONST_3 .REAL 32768
1260	.$ede	DATAS
1261	.$ede	.BYTE $FF
1263	.$edf	CONSTANTS_END
1266	.$edf	VARIABLES
1268	.$edf	VAR__Y_PE .REAL 0.0
1270	.$ee4	VAR__X_LB .REAL 0.0
1271	.$ee9	STRINGVARS_START
1273	.$ee9	VAR_TI$ .WORD EMPTYSTR
1274	.$eeb	STRINGVARS_END
1275	.$eeb	STRINGARRAYS_START
1276	.$eeb	STRINGARRAYS_END
1277	.$eeb	VARIABLES_END
1279	.$eeb	Y_REG .REAL 0.0
1280	.$ef0	C_REG .REAL 0.0
1281	.$ef5	D_REG .REAL 0.0
1282	.$efa	E_REG .REAL 0.0
1283	.$eff	F_REG .REAL 0.0
1284	.$f04	A_REG .WORD 0
1285	.$f06	B_REG .WORD 0
1286	.$f08	CMD_NUM .BYTE 0
1287	.$f09	CHANNEL .BYTE 0
1288	.$f0a	SP_SAVE .BYTE 0
1289	.$f0b	TMP2_REG .WORD 0
1290	.$f0d	TMP3_REG .WORD 0
1291	.$f0f	TMP4_REG .WORD 0
1292	.$f11	AS_TMP .WORD 0
1293	.$f13	BPOINTER_TMP .WORD 0
1294	.$f15	BASICTEXTP .BYTE 0
1295	.$f16	STORE1 .WORD 0
1296	.$f18	STORE2 .WORD 0
1297	.$f1a	STORE3 .WORD 0
1298	.$f1c	STORE4 .WORD 0
1299	.$f1e	GCSTART .WORD 0
1300	.$f20	GCLEN .WORD 0
1301	.$f22	GCWORK .WORD 0
1302	.$f24	INPUTLENGTH .BYTE 0
1303	.$f25	TMP_FREG .REAL 0
1304	.$f2a	TMP2_FREG .REAL 0
1305	.$f2f	TMP_FLAG .BYTE 0
1306	.$f30	INT_FLAG .BYTE 0
1307	.$f31	REAL_CONST_ONE .REAL 1.0
1308	.$f36	REAL_CONST_ZERO .REAL 0.0
1309	.$f3b	REAL_CONST_MINUS_ONE .REAL -1.0
1310	.$f40	CHLOCKFLAG .BYTE 0
1311	.$f41	EMPTYSTR .BYTE 0
1312	.$f42	FPSTACKP .WORD FPSTACK
1313	.$f44	FORSTACKP .WORD FORSTACK
1314	.$f46	DATASP .WORD DATAS
1315	.$f48	LASTVAR .WORD 0
1316	.$f4a	LASTVARP .WORD 0
1317	.$f4c	HIGHP .WORD STRBUF
1318	.$f4e	STRBUFP .WORD STRBUF
1319	.$f50	ENDSTRBUF .WORD 0
1320	.$f52	INPUTQUEUEP .BYTE 0
1321	.$f53	PROGRAMEND
1322	.$f53	INPUTQUEUE .ARRAY $0F
1323	.$f62	FPSTACK .ARRAY 100
1324	.$fc6	FORSTACK .ARRAY 340
1325	.$111a	STRBUF .BYTE 0
