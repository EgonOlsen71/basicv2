PROGRAMSTART:
JSR START
0:
100:
NOP
MOV A,#basic test: {STRING}
JSR STROUT
NOP
MOV B,#000000{STRING}
MOV TI${STRING},B
110:
NOP
MOV Y,#0{INTEGER}
MOV J{REAL},Y
NOP
MOV Y,#255{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(J{REAL})
JSR INITFOR
NOP
MOV Y,#1024{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#2023{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
NOP
MOV Y,I{REAL}
PUSH Y
MOV Y,I{REAL}
MOV A,#1{INTEGER}
MOV B,#255{INTEGER}
JSR PEEKBYTEADDAND
POP Y
MOVB (Y),X
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
MOV A,#0{INTEGER}
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
120:
NOP
JSR COMPACTMAX
MOV Y,#60{INTEGER}
MOV X,TI{REAL}
DIV X,Y
MOV Y,X
INT X,Y
MOV Y,X
CHGCTX #1
JSR STR
JSR COPYSTR
MOV T${STRING},A
NOP
MOV B,T${STRING}
CHGCTX #0
JSR LEN
MOV T{REAL},X
130:
NOP
JSR COMPACTMAX
MOV Y,#1{INTEGER}
MOV X,T{REAL}
SUB X,Y
MOV C,X
CHGCTX #1
MOV B,T${STRING}
JSR RIGHT
JSR COPYSTR
MOV T${STRING},A
NOP
JSR COMPACTMAX
MOV B,#:{STRING}
CHGCTX #0
PUSH B
MOV C,#2{INTEGER}
CHGCTX #1
MOV B,TI${STRING}
JSR LEFT
POP B
JSR CONCAT
JSR COPYSTR
MOV H${STRING},A
140:
NOP
JSR COMPACTMAX
MOV B,#:{STRING}
CHGCTX #0
PUSH B
MOV C,#3{INTEGER}
MOV D,#2{INTEGER}
CHGCTX #1
MOV B,TI${STRING}
JSR MID
POP B
JSR CONCAT
JSR COPYSTR
MOV M${STRING},A
NOP
JSR COMPACTMAX
MOV C,#2{INTEGER}
CHGCTX #1
MOV B,TI${STRING}
JSR RIGHT
JSR COPYSTR
MOV S${STRING},A
150:
NOP
MOV A,H${STRING}
JSR STROUT
NOP
MOV A,M${STRING}
JSR STROUT
NOP
MOV A,S${STRING}
JSR STROUT
NOP
MOV A,# ({STRING}
JSR STROUT
NOP
MOV A,T${STRING}
JSR STROUT
NOP
MOV A,# seconds){STRING}
JSR STROUT
JSR LINEBREAK
NOP
JSR END
RTS
