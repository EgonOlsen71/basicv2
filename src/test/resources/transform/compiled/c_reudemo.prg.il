PROGRAMSTART:
JSR START
0:
NOP
MOVB 53280,#0{INTEGER}
NOP
MOVB 53281,#0{INTEGER}
NOP
MOVB 646,#5{INTEGER}
NOP
JSR COMPACTMAX
MOV Y,#147{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
10:
NOP
MOV Y,#57088{INTEGER}
MOV RE{REAL},Y
30:
NOP
JSR GOSUB
JSR 500
NOP
JSR GOSUB
JSR 2000
60:
NOP
MOVB 646,#7{INTEGER}
NOP
JSR COMPACTMAX
MOV Y,#147{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
70:
NOP
JMP 3000
500:
NOP
505:
NOP
MOV A,#setting up address table...{STRING}
JSR STROUT
JSR LINEBREAK
510:
NOP
MOV Y,#0{INTEGER}
MOV IX%{INTEGER},Y
520:
NOP
MOV Y,#0{INTEGER}
MOV AD{REAL},Y
NOP
MOV Y,#255000.0{REAL}
PUSH Y
NOP
MOV Y,#1000{INTEGER}
PUSH Y
MOV A,(AD{REAL})
JSR INITFOR
530:
NOP
MOV Y,#65536{INTEGER}
MOV X,AD{REAL}
DIV X,Y
MOV Y,X
INT X,Y
MOV MB%{INTEGER},X
532:
NOP
MOV A,#8{INTEGER}
MOV X,AD{REAL}
SHR X,A
MOV Y,X
INT X,Y
MOV Y,#255{INTEGER}
AND X,Y
MOV BB%{INTEGER},X
534:
NOP
MOV X,BB%{INTEGER}
MOV A,#8{INTEGER}
SHL X,A
PUSH X
MOV X,MB%{INTEGER}
MOV Y,#65536{INTEGER}
MUL X,Y
MOV Y,X
MOV X,AD{REAL}
SUB X,Y
POP Y
SUB X,Y
MOV LB%{INTEGER},X
540:
NOP
MOV Y,IX%{INTEGER}
PUSH Y
NOP
POP X
MOV Y,LB%{INTEGER}
MOV G,AD%[]{INTEGER}
JSR ARRAYSTORE
NOP
MOV X,IX%{INTEGER}
JSR FINX
NOP
MOV Y,BB%{INTEGER}
MOV G,AD%[]{INTEGER}
JSR ARRAYSTORE
NOP
MOV Y,#2{INTEGER}
MOV X,IX%{INTEGER}
ADD X,Y
NOP
MOV Y,MB%{INTEGER}
MOV G,AD%[]{INTEGER}
JSR ARRAYSTORE
545:
NOP
MOV Y,#3{INTEGER}
MOV X,IX%{INTEGER}
ADD X,Y
MOV IX%{INTEGER},X
550:
NOP
MOV A,(AD{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
JMP RETURN
1000:
NOP
1020:
NOP
MOVB 57090,#0{INTEGER}
NOP
MOVB 57091,#4{INTEGER}
NOP
1030:
NOP
MOV X,IX%{INTEGER}
MOV G,AD%[]{INTEGER}
CHGCTX #0
JSR ARRAYACCESS
MOVB 57092,X
NOP
MOV X,IX%{INTEGER}
JSR FINX
MOV G,AD%[]{INTEGER}
CHGCTX #0
JSR ARRAYACCESS
MOVB 57093,X
1035:
NOP
MOV Y,#2{INTEGER}
MOV X,IX%{INTEGER}
ADD X,Y
MOV G,AD%[]{INTEGER}
CHGCTX #0
JSR ARRAYACCESS
MOVB 57094,X
NOP
1040:
NOP
MOVB 57095,#232{INTEGER}
NOP
MOVB 57096,#3{INTEGER}
NOP
1050:
NOP
JMP RETURN
2000:
NOP
2010:
NOP
MOV Y,#0{INTEGER}
MOV IX%{INTEGER},Y
NOP
MOV Y,#0{INTEGER}
MOV I{REAL},Y
NOP
MOV Y,#255{INTEGER}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
JSR INITFOR
2020:
NOP
MOV Y,#1024{INTEGER}
MOV P{REAL},Y
MOV Y,#2023{INTEGER}
PUSH Y
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(P{REAL})
MOV X,I{REAL}
JSR FASTFOR
CMP A,#0{INTEGER}
JE ($JUMP)
2050:
NOP
JSR COMPACTMAX
MOV Y,#19{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
MOV X,I{REAL}
JSR REALOUT
JSR LINEBREAK
2060:
NOP
JSR GOSUB
JSR 1000
2065:
NOP
MOV Y,#3{INTEGER}
MOV X,IX%{INTEGER}
ADD X,Y
MOV IX%{INTEGER},X
2070:
NOP
MOVB 57089,#144{INTEGER}
NOP
2075:
NOP
JSR GOSUB
JSR 4000
2080:
NOP
MOV A,(I{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
2090:
NOP
JMP RETURN
3000:
NOP
3010:
NOP
MOV B,#000000{STRING}
MOV TI${STRING},B
NOP
MOV Y,#0{INTEGER}
MOV IX%{INTEGER},Y
3020:
NOP
JSR GOSUB
JSR 1000
3030:
NOP
MOVB 57089,#145{INTEGER}
NOP
3035:
NOP
JSR GOSUB
JSR 4000
3040:
NOP
MOV Y,#3{INTEGER}
MOV X,IX%{INTEGER}
ADD X,Y
MOV IX%{INTEGER},X
NOP
MOV Y,#256{INTEGER}
MOV X,IX%{INTEGER}
LT X,Y
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
JMP 3020
NOP
SKIP0:
3050:
NOP
JSR COMPACTMAX
MOV Y,#147{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
MOV Y,#60{INTEGER}
MOV X,TI{REAL}
DIV X,Y
PUSH X
MOV Y,#1024{INTEGER}
MOV X,AD{REAL}
DIV X,Y
POP Y
DIV X,Y
MOV Y,X
INT X,Y
JSR INTOUT
JSR CRSRRIGHT
NOP
MOV A,# kbytes/sec.{STRING}
JSR STROUT
JSR LINEBREAK
3060:
NOP
JSR GETSTR
MOV A${STRING},A
NOP
MOV B,#{STRING}
MOV A,A${STRING}
CHGCTX #0
JSR SEQ
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
JMP 3060
NOP
SKIP1:
3070:
NOP
JMP 3000
4000:
NOP
4010:
NOP
MOV Y,#57088.0{REAL}
MOV A,#64{INTEGER}
JSR PEEKBYTEAND
MOV Y,#0{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP2
JMP SKIP2
NSKIP2:
JMP 4010
NOP
SKIP2:
4020:
NOP
JMP RETURN
NOP
JSR END
RTS
