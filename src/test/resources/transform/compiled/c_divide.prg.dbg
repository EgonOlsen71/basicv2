117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_1000:
128	.$81f	LDA #147
129	.$821	JSR SINGLECHROUTBRKMAX
133	.$824	INPUT2:
134	.$824	JSR CLEARQUEUE
135	.$827	JSR COMPACTMAX
136	.$82a	LDA #<CONST_1
137	.$82c	LDY #>CONST_1
138	.$82e	JSR STROUTWL
140	.$831	JSR QMARKOUT1
141	.$834	JSR INPUTSTR
142	.$837	JSR INPUTLENGTHCHECK
143	.$83a	BEQ EMPTYINPUTSKIP3
144	.$83c	LDA A_REG
145	.$83f	LDY A_REG+1
146	.$842	STA TMP_ZP
147	.$844	STY TMP_ZP+1
148	.$846	LDA #<VAR_NU$
149	.$848	LDY #>VAR_NU$
150	.$84a	JSR COPYSTRING
151	.$84d	EMPTYINPUTSKIP3:
152	.$84d	JSR QUEUESIZE
153	.$850	LDA X_REG
154	.$852	COMP_SKP0:
155	.$852	BEQ INPUTCHECK2
157	.$854	JSR EXTRAIGNORED
158	.$857	INPUTCHECK2:
160	.$857	LINE_1010:
162	.$857	INPUT3:
163	.$857	JSR CLEARQUEUE
164	.$85a	JSR COMPACTMAX
165	.$85d	LDA #<CONST_3
166	.$85f	LDY #>CONST_3
167	.$861	JSR STROUTWL
169	.$864	JSR QMARKOUT1
170	.$867	JSR INPUTSTR
171	.$86a	JSR INPUTLENGTHCHECK
172	.$86d	BEQ EMPTYINPUTSKIP4
173	.$86f	LDA A_REG
174	.$872	LDY A_REG+1
175	.$875	STA TMP_ZP
176	.$877	STY TMP_ZP+1
177	.$879	LDA #<VAR_DI$
178	.$87b	LDY #>VAR_DI$
179	.$87d	JSR COPYSTRING
180	.$880	EMPTYINPUTSKIP4:
181	.$880	JSR QUEUESIZE
182	.$883	LDA X_REG
183	.$885	COMP_SKP1:
184	.$885	BEQ INPUTCHECK3
186	.$887	JSR EXTRAIGNORED
187	.$88a	INPUTCHECK3:
189	.$88a	LINE_1020:
191	.$88a	LDA VAR_NU$
192	.$88d	LDY VAR_NU$+1
193	.$890	STA B_REG
194	.$893	STY B_REG+1
196	.$896	JSR LEN
197	.$899	JSR REALFACPUSHXREG
201	.$89c	LDA VAR_DI$
202	.$89f	LDY VAR_DI$+1
203	.$8a2	STA B_REG
204	.$8a5	STY B_REG+1
206	.$8a8	JSR LEN
207	.$8ab	JSR POPREAL
208	.$8ae	JSR FACYREG
211	.$8b1	LDA #<X_REG
212	.$8b3	LDY #>X_REG
214	.$8b5	JSR CMPFAC
215	.$8b8	ROL
216	.$8b9	BCS GT_GT0
217	.$8bb	LDA #0
218	.$8bd	JMP GT_SKIP0
219	.$8c0	GT_GT0:
220	.$8c0	LDA #$1
221	.$8c2	GT_SKIP0:
222	.$8c2	COMP_SKP2:
223	.$8c2	BEQ LINE_SKIP8
226	.$8c4	LINE_NSKIP8:
228	.$8c4	JMP LINE_1000
230	.$8c7	LINE_SKIP8:
233	.$8c7	LINE_1030:
235	.$8c7	JSR GOSUB
236	.$8ca	JSR LINE_10000
237	.$8cd	JSR GOSUB
238	.$8d0	JSR LINE_20000
240	.$8d3	LINE_1050:
242	.$8d3	JMP LINE_1000
244	.$8d6	LINE_10000:
245	.$8d6	LDX #4
246	.$8d8	dcloop567_1:
247	.$8d8	LDA CONST_4R,X
248	.$8db	STA VAR_EN,X
249	.$8de	LDA CONST_5R,X
250	.$8e1	STA VAR_SA,X
251	.$8e4	DEX
252	.$8e5	BPL dcloop567_1
255	.$8e7	JSR COMPACTMAX
256	.$8ea	LDA VAR_NU$
257	.$8ed	LDY VAR_NU$+1
258	.$8f0	STA B_REG
259	.$8f3	STY B_REG+1
260	.$8f6	LDA #<CONST_6
261	.$8f8	LDY #>CONST_6
262	.$8fa	STA A_REG
263	.$8fd	STY A_REG+1
264	.$900	JSR CONCAT
266	.$903	LDA A_REG
267	.$906	LDY A_REG+1
268	.$909	STA TMP_ZP
269	.$90b	STY TMP_ZP+1
270	.$90d	LDA #<VAR_NU$
271	.$90f	LDY #>VAR_NU$
272	.$911	JSR COPYSTRING
273	.$914	LDA #<EMPTYSTR
274	.$916	LDY #>EMPTYSTR
275	.$918	STA VAR_NN$
276	.$91b	STY VAR_NN$+1
279	.$91e	LDA #<EMPTYSTR
280	.$920	LDY #>EMPTYSTR
281	.$922	STA VAR_NR$
282	.$925	STY VAR_NR$+1
285	.$928	LDA #147
286	.$92a	JSR SINGLECHROUTMAX
289	.$92d	LDA VAR_NU$
290	.$930	LDY VAR_NU$+1
291	.$933	JSR STROUTWL
293	.$936	LDA #58
294	.$938	JSR SINGLECHROUTMAX
297	.$93b	LDA VAR_DI$
298	.$93e	LDY VAR_DI$+1
299	.$941	JSR STROUTWL
301	.$944	LDA #61
302	.$946	JSR SINGLECHROUTBRKMAX
307	.$949	LINE_10010:
309	.$949	LDA #<EMPTYSTR
310	.$94b	LDY #>EMPTYSTR
311	.$94d	STA VAR_OF$
312	.$950	STY VAR_OF$+1
315	.$953	LDA VAR_DI$
316	.$956	LDY VAR_DI$+1
317	.$959	STA B_REG
318	.$95c	STY B_REG+1
320	.$95f	JSR VAL
321	.$962	JSR XREGFAC
323	.$965	LDX #<VAR_DI
324	.$967	LDY #>VAR_DI
326	.$969	JSR FACMEM
328	.$96c	LINE_10020:
330	.$96c	JSR COMPACTMAX
331	.$96f	JSR ONETOFAC
333	.$972	LDA #<VAR_SA
334	.$974	LDY #>VAR_SA
335	.$976	JSR FASTFADDMEM
340	.$979	JSR PUSHREAL
341	.$97c	LDA #<VAR_SA
342	.$97e	LDY #>VAR_SA
343	.$980	JSR REALFAC
344	.$983	LDA #<VAR_EN
345	.$985	LDY #>VAR_EN
346	.$987	JSR FASTFSUBMEM
350	.$98a	JSR FACXREG
352	.$98d	JSR REALFACPUSHXREG
356	.$990	LDA VAR_NU$
357	.$993	LDY VAR_NU$+1
358	.$996	STA B_REG
359	.$999	STY B_REG+1
360	.$99c	JSR POPREAL
361	.$99f	LDX #<D_REG
362	.$9a1	LDY #>D_REG
364	.$9a3	JSR FACMEM
365	.$9a6	JSR POPREAL
366	.$9a9	LDX #<C_REG
367	.$9ab	LDY #>C_REG
369	.$9ad	JSR FACMEM
370	.$9b0	JSR MID
371	.$9b3	LDY A_REG
372	.$9b6	LDA A_REG+1
373	.$9b9	STY B_REG
374	.$9bc	STA B_REG+1
375	.$9bf	LDA VAR_OF$
376	.$9c2	LDY VAR_OF$+1
377	.$9c5	STA A_REG
378	.$9c8	STY A_REG+1
379	.$9cb	JSR CONCAT
381	.$9ce	LDA A_REG
382	.$9d1	LDY A_REG+1
383	.$9d4	STA TMP_ZP
384	.$9d6	STY TMP_ZP+1
385	.$9d8	LDA #<VAR_PA$
386	.$9da	LDY #>VAR_PA$
387	.$9dc	JSR COPYSTRING
389	.$9df	LINE_10030:
391	.$9df	LDA VAR_PA$
392	.$9e2	LDY VAR_PA$+1
393	.$9e5	STA B_REG
394	.$9e8	STY B_REG+1
396	.$9eb	JSR VAL
397	.$9ee	JSR XREGFAC
399	.$9f1	LDX #<VAR_VA
400	.$9f3	LDY #>VAR_VA
402	.$9f5	JSR FACMEM
404	.$9f8	LINE_10040:
406	.$9f8	LDA VAR_NU$
407	.$9fb	LDY VAR_NU$+1
408	.$9fe	STA B_REG
409	.$a01	STY B_REG+1
411	.$a04	JSR LEN
412	.$a07	JSR REALFACPUSHXREG
415	.$a0a	JSR ONETOFAC
417	.$a0d	LDA #<VAR_EN
418	.$a0f	LDY #>VAR_EN
419	.$a11	JSR FASTFADDMEM
423	.$a14	JSR FACXREG
425	.$a17	JSR POPREAL
426	.$a1a	JSR FACYREG
429	.$a1d	LDA #<X_REG
430	.$a1f	LDY #>X_REG
432	.$a21	JSR CMPFAC
433	.$a24	BCC LTEQ_LTEQ1
434	.$a26	BEQ LTEQ_LTEQ1
435	.$a28	LDA #<REAL_CONST_ZERO
436	.$a2a	LDY #>REAL_CONST_ZERO
437	.$a2c	JMP LTEQ_SKIP1
438	.$a2f	LTEQ_LTEQ1:
439	.$a2f	LDA #<REAL_CONST_MINUS_ONE
440	.$a31	LDY #>REAL_CONST_MINUS_ONE
441	.$a33	LTEQ_SKIP1:
443	.$a33	JSR REALFACPUSH
445	.$a36	LDA #<VAR_DI
446	.$a38	LDY #>VAR_DI
447	.$a3a	JSR REALFAC
448	.$a3d	LDA #<VAR_VA
449	.$a3f	LDY #>VAR_VA
450	.$a41	JSR CMPFAC
452	.$a44	BEQ LT_LT_EQ2
453	.$a46	ROL
454	.$a47	BCC LT_LT2
455	.$a49	LT_LT_EQ2:
456	.$a49	LDA #<REAL_CONST_ZERO
457	.$a4b	LDY #>REAL_CONST_ZERO
458	.$a4d	JMP LT_SKIP2
459	.$a50	LT_LT2:
460	.$a50	LDA #<REAL_CONST_MINUS_ONE
461	.$a52	LDY #>REAL_CONST_MINUS_ONE
462	.$a54	LT_SKIP2:
464	.$a54	JSR REALFACPUSH
466	.$a57	LDA #<CONST_2R
467	.$a59	LDY #>CONST_2R
468	.$a5b	JSR REALFAC
469	.$a5e	LDA #<VAR_VA
470	.$a60	LDY #>VAR_VA
471	.$a62	JSR CMPFAC
473	.$a65	ROL
474	.$a66	BCS GT_GT3
475	.$a68	LDA #<REAL_CONST_ZERO
476	.$a6a	LDY #>REAL_CONST_ZERO
477	.$a6c	JMP GT_SKIP3
478	.$a6f	GT_GT3:
479	.$a6f	LDA #<REAL_CONST_MINUS_ONE
480	.$a71	LDY #>REAL_CONST_MINUS_ONE
481	.$a73	GT_SKIP3:
483	.$a73	JSR REALFAC
484	.$a76	JSR FACXREG
486	.$a79	JSR POPREAL2X
488	.$a7c	JSR FASTAND
491	.$a7f	JSR FACXREG
493	.$a82	JSR POPREAL2X
495	.$a85	JSR FASTAND
501	.$a88	JSR FACNOT
502	.$a8b	JSR FACXREG
504	.$a8e	LDA X_REG
505	.$a90	COMP_SKP3:
506	.$a90	BEQ LINE_SKIP9
509	.$a92	LINE_NSKIP9:
511	.$a92	JMP LINE_10100
513	.$a95	LINE_SKIP9:
516	.$a95	LINE_10050:
518	.$a95	LDA VAR_NN$
519	.$a98	LDY VAR_NN$+1
520	.$a9b	STA B_REG
521	.$a9e	STY B_REG+1
522	.$aa1	JSR LEN
523	.$aa4	LDA #<CONST_2R
524	.$aa6	LDY #>CONST_2R
525	.$aa8	JSR REALFAC
528	.$aab	LDA #<X_REG
529	.$aad	LDY #>X_REG
531	.$aaf	JSR CMPFAC
532	.$ab2	ROL
533	.$ab3	BCS GT_GT4
534	.$ab5	LDA #0
535	.$ab7	JMP GT_SKIP4
536	.$aba	GT_GT4:
537	.$aba	LDA #$1
538	.$abc	GT_SKIP4:
539	.$abc	COMP_SKP4:
540	.$abc	BNE LINE_NSKIP10
542	.$abe	JMP LINE_SKIP10
544	.$ac1	LINE_NSKIP10:
546	.$ac1	JSR COMPACTMAX
547	.$ac4	LDA #<CONST_10
548	.$ac6	LDY #>CONST_10
549	.$ac8	STA B_REG
550	.$acb	STY B_REG+1
551	.$ace	LDA VAR_NN$
552	.$ad1	LDY VAR_NN$+1
553	.$ad4	STA A_REG
554	.$ad7	STY A_REG+1
555	.$ada	JSR CONCAT
557	.$add	LDA A_REG
558	.$ae0	LDY A_REG+1
559	.$ae3	STA TMP_ZP
560	.$ae5	STY TMP_ZP+1
561	.$ae7	LDA #<VAR_NN$
562	.$ae9	LDY #>VAR_NN$
563	.$aeb	JSR COPYSTRING
564	.$aee	LDA VAR_NN$
565	.$af1	LDY VAR_NN$+1
566	.$af4	STA TMP_ZP
567	.$af6	STY TMP_ZP+1
568	.$af8	LDA #<VAR_PR$
569	.$afa	LDY #>VAR_PR$
570	.$afc	JSR COPYSTRING
572	.$aff	JSR GOSUB
573	.$b02	JSR LINE_30000
574	.$b05	JSR GOSUB
575	.$b08	JSR LINE_20000
577	.$b0b	LINE_SKIP10:
580	.$b0b	LINE_10060:
582	.$b0b	JSR ONETOFAC
584	.$b0e	LDA #<VAR_EN
585	.$b10	LDY #>VAR_EN
586	.$b12	JSR FASTFADDMEM
591	.$b15	LDX #<VAR_EN
592	.$b17	LDY #>VAR_EN
594	.$b19	JSR FACMEM
596	.$b1c	LINE_10070:
598	.$b1c	JMP LINE_10020
600	.$b1f	LINE_10100:
602	.$b1f	LDA #<VAR_DI
603	.$b21	LDY #>VAR_DI
604	.$b23	JSR REALFAC
605	.$b26	LDA #<VAR_VA
606	.$b28	LDY #>VAR_VA
607	.$b2a	JSR FACDIV
613	.$b2d	JSR BASINT
615	.$b30	LDX #<VAR_WN
616	.$b32	LDY #>VAR_WN
618	.$b34	JSR FACMEM
619	.$b37	LDA #<VAR_DI
620	.$b39	LDY #>VAR_DI
621	.$b3b	JSR REALFAC
622	.$b3e	LDA #<VAR_WN
623	.$b40	LDY #>VAR_WN
624	.$b42	JSR FASTFMULMEM
628	.$b45	LDX #<VAR_WS
629	.$b47	LDY #>VAR_WS
631	.$b49	JSR FACMEM
633	.$b4c	LINE_10110:
635	.$b4c	LDA #<VAR_WS
636	.$b4e	LDY #>VAR_WS
637	.$b50	JSR REALFAC
638	.$b53	LDA #<VAR_VA
639	.$b55	LDY #>VAR_VA
640	.$b57	JSR FASTFSUBMEM
644	.$b5a	JSR FACXREG
647	.$b5d	LDX #<VAR_RE
648	.$b5f	LDY #>VAR_RE
650	.$b61	JSR FACMEM
651	.$b64	JSR COMPACTMAX
652	.$b67	LDA #<VAR_VA
653	.$b69	LDY #>VAR_VA
654	.$b6b	JSR COPY2_XYA_YREG
659	.$b6e	JSR STR
661	.$b71	LDA A_REG
662	.$b74	LDY A_REG+1
663	.$b77	STA TMP_ZP
664	.$b79	STY TMP_ZP+1
665	.$b7b	LDA #<VAR_VA$
666	.$b7d	LDY #>VAR_VA$
667	.$b7f	JSR COPYSTRING
668	.$b82	JSR COMPACTMAX
669	.$b85	LDA VAR_VA$
670	.$b88	LDY VAR_VA$+1
671	.$b8b	STA B_REG
672	.$b8e	STY B_REG+1
673	.$b91	JSR LEN
674	.$b94	JSR ONETOFAC
678	.$b97	LDA #<X_REG
679	.$b99	LDY #>X_REG
681	.$b9b	JSR FASTFSUBMEM
684	.$b9e	JSR FACXREG
686	.$ba1	LDA #<X_REG
687	.$ba3	LDY #>X_REG
688	.$ba5	STY TMP3_ZP+1
689	.$ba7	LDX #<C_REG
690	.$ba9	LDY #>C_REG
691	.$bab	JSR COPY2_XYA
695	.$bae	LDA VAR_VA$
696	.$bb1	LDY VAR_VA$+1
697	.$bb4	STA B_REG
698	.$bb7	STY B_REG+1
699	.$bba	JSR RIGHT
701	.$bbd	LDA A_REG
702	.$bc0	LDY A_REG+1
703	.$bc3	STA TMP_ZP
704	.$bc5	STY TMP_ZP+1
705	.$bc7	LDA #<VAR_VA$
706	.$bc9	LDY #>VAR_VA$
707	.$bcb	JSR COPYSTRING
709	.$bce	LINE_10112:
711	.$bce	LDA VAR_VA$
712	.$bd1	LDY VAR_VA$+1
713	.$bd4	STA B_REG
714	.$bd7	STY B_REG+1
716	.$bda	JSR LEN
717	.$bdd	JSR XREGFAC
718	.$be0	LDA #<VAR_EN
719	.$be2	LDY #>VAR_EN
720	.$be4	JSR COPY2_XYA_XREG
723	.$be7	LDA #<X_REG
724	.$be9	LDY #>X_REG
726	.$beb	JSR FASTFSUBMEM
729	.$bee	JSR FACXREG
731	.$bf1	JSR COPY_XREG2YREG
736	.$bf4	JSR SPC
737	.$bf7	LDA VAR_VA$
738	.$bfa	LDY VAR_VA$+1
739	.$bfd	JSR STROUTBRKWL
742	.$c00	LDA VAR_VA$
743	.$c03	LDY VAR_VA$+1
744	.$c06	STA B_REG
745	.$c09	STY B_REG+1
747	.$c0c	JSR LEN
748	.$c0f	JSR XREGFAC
749	.$c12	LDA #<VAR_EN
750	.$c14	LDY #>VAR_EN
751	.$c16	JSR COPY2_XYA_XREG
754	.$c19	LDA #<X_REG
755	.$c1b	LDY #>X_REG
757	.$c1d	JSR FASTFSUBMEM
760	.$c20	JSR FACXREG
762	.$c23	JSR ONETOFAC
766	.$c26	LDA #<X_REG
767	.$c28	LDY #>X_REG
769	.$c2a	JSR FASTFSUBMEM
773	.$c2d	LDX #<VAR_SP
774	.$c2f	LDY #>VAR_SP
776	.$c31	JSR FACMEM
777	.$c34	LDA #<CONST_2R
778	.$c36	LDY #>CONST_2R
779	.$c38	JSR REALFAC
780	.$c3b	LDA #<VAR_SP
781	.$c3d	LDY #>VAR_SP
782	.$c3f	JSR CMPFAC
784	.$c42	BEQ LT_LT_EQ5
785	.$c44	ROL
786	.$c45	BCC LT_LT5
787	.$c47	LT_LT_EQ5:
788	.$c47	LDA #0
789	.$c49	JMP LT_SKIP5
790	.$c4c	LT_LT5:
791	.$c4c	LDA #$1
792	.$c4e	LT_SKIP5:
793	.$c4e	COMP_SKP5:
794	.$c4e	BEQ LINE_SKIP11
797	.$c50	LINE_NSKIP11:
799	.$c50	LDA #0
800	.$c52	STA VAR_SP
801	.$c55	STA VAR_SP+1
802	.$c58	STA VAR_SP+2
803	.$c5b	STA VAR_SP+3
804	.$c5e	STA VAR_SP+4
807	.$c61	LINE_SKIP11:
810	.$c61	LINE_10115:
812	.$c61	JSR COMPACTMAX
813	.$c64	LDA #<VAR_WS
814	.$c66	LDY #>VAR_WS
815	.$c68	JSR COPY2_XYA_YREG
820	.$c6b	JSR STR
822	.$c6e	LDA A_REG
823	.$c71	LDY A_REG+1
824	.$c74	STA TMP_ZP
825	.$c76	STY TMP_ZP+1
826	.$c78	LDA #<VAR_WS$
827	.$c7a	LDY #>VAR_WS$
828	.$c7c	JSR COPYSTRING
829	.$c7f	LDA #<VAR_SP
830	.$c81	LDY #>VAR_SP
831	.$c83	JSR COPY2_XYA_YREG
836	.$c86	JSR SPC
837	.$c89	JSR COMPACTMAX
838	.$c8c	LDA VAR_WS$
839	.$c8f	LDY VAR_WS$+1
840	.$c92	STA B_REG
841	.$c95	STY B_REG+1
842	.$c98	JSR LEN
843	.$c9b	JSR ONETOFAC
847	.$c9e	LDA #<X_REG
848	.$ca0	LDY #>X_REG
850	.$ca2	JSR FASTFADDMEM
853	.$ca5	JSR FACXREG
855	.$ca8	LDA #<X_REG
856	.$caa	LDY #>X_REG
857	.$cac	STY TMP3_ZP+1
858	.$cae	LDX #<C_REG
859	.$cb0	LDY #>C_REG
860	.$cb2	JSR COPY2_XYA
864	.$cb5	LDA #<CONST_11
865	.$cb7	LDY #>CONST_11
866	.$cb9	STA B_REG
867	.$cbc	STY B_REG+1
868	.$cbf	JSR LEFT
869	.$cc2	JSR STROUTBRK
872	.$cc5	LINE_10116:
874	.$cc5	JSR GOSUB
875	.$cc8	JSR LINE_20000
877	.$ccb	LINE_10118:
879	.$ccb	LDA #<VAR_SP
880	.$ccd	LDY #>VAR_SP
881	.$ccf	JSR COPY2_XYA_YREG
886	.$cd2	JSR SPC
887	.$cd5	LDA #45
888	.$cd7	JSR SINGLECHROUTMAX
891	.$cda	JSR COMPACTMAX
892	.$cdd	LDA VAR_WS$
893	.$ce0	LDY VAR_WS$+1
894	.$ce3	STA B_REG
895	.$ce6	STY B_REG+1
896	.$ce9	JSR LEN
897	.$cec	JSR ONETOFAC
901	.$cef	LDA #<X_REG
902	.$cf1	LDY #>X_REG
904	.$cf3	JSR FASTFSUBMEM
907	.$cf6	JSR FACXREG
909	.$cf9	LDA #<X_REG
910	.$cfb	LDY #>X_REG
911	.$cfd	STY TMP3_ZP+1
912	.$cff	LDX #<C_REG
913	.$d01	LDY #>C_REG
914	.$d03	JSR COPY2_XYA
918	.$d06	LDA VAR_WS$
919	.$d09	LDY VAR_WS$+1
920	.$d0c	STA B_REG
921	.$d0f	STY B_REG+1
922	.$d12	JSR RIGHT
923	.$d15	JSR STROUTBRK
926	.$d18	LINE_10120:
928	.$d18	JSR COMPACTMAX
929	.$d1b	LDA #<VAR_WN
930	.$d1d	LDY #>VAR_WN
931	.$d1f	JSR COPY2_XYA_YREG
936	.$d22	JSR STR
938	.$d25	LDA A_REG
939	.$d28	LDY A_REG+1
940	.$d2b	STA TMP_ZP
941	.$d2d	STY TMP_ZP+1
942	.$d2f	LDA #<VAR_T$
943	.$d31	LDY #>VAR_T$
944	.$d33	JSR COPYSTRING
945	.$d36	JSR COMPACTMAX
946	.$d39	LDA VAR_T$
947	.$d3c	LDY VAR_T$+1
948	.$d3f	STA B_REG
949	.$d42	STY B_REG+1
950	.$d45	JSR LEN
951	.$d48	JSR ONETOFAC
955	.$d4b	LDA #<X_REG
956	.$d4d	LDY #>X_REG
958	.$d4f	JSR FASTFSUBMEM
961	.$d52	JSR FACXREG
963	.$d55	LDA #<X_REG
964	.$d57	LDY #>X_REG
965	.$d59	STY TMP3_ZP+1
966	.$d5b	LDX #<C_REG
967	.$d5d	LDY #>C_REG
968	.$d5f	JSR COPY2_XYA
972	.$d62	LDA VAR_T$
973	.$d65	LDY VAR_T$+1
974	.$d68	STA B_REG
975	.$d6b	STY B_REG+1
976	.$d6e	JSR RIGHT
978	.$d71	LDA A_REG
979	.$d74	LDY A_REG+1
980	.$d77	STA TMP_ZP
981	.$d79	STY TMP_ZP+1
982	.$d7b	LDA #<VAR_T$
983	.$d7d	LDY #>VAR_T$
984	.$d7f	JSR COPYSTRING
986	.$d82	LINE_10130:
988	.$d82	JSR COMPACTMAX
989	.$d85	LDA VAR_T$
990	.$d88	LDY VAR_T$+1
991	.$d8b	STA B_REG
992	.$d8e	STY B_REG+1
993	.$d91	LDA VAR_NN$
994	.$d94	LDY VAR_NN$+1
995	.$d97	STA A_REG
996	.$d9a	STY A_REG+1
997	.$d9d	JSR CONCAT
999	.$da0	LDA A_REG
1000	.$da3	LDY A_REG+1
1001	.$da6	STA TMP_ZP
1002	.$da8	STY TMP_ZP+1
1003	.$daa	LDA #<VAR_NN$
1004	.$dac	LDY #>VAR_NN$
1005	.$dae	JSR COPYSTRING
1006	.$db1	LDA VAR_NN$
1007	.$db4	LDY VAR_NN$+1
1008	.$db7	STA TMP_ZP
1009	.$db9	STY TMP_ZP+1
1010	.$dbb	LDA #<VAR_PR$
1011	.$dbd	LDY #>VAR_PR$
1012	.$dbf	JSR COPYSTRING
1014	.$dc2	JSR GOSUB
1015	.$dc5	JSR LINE_30000
1016	.$dc8	JSR GOSUB
1017	.$dcb	JSR LINE_20000
1019	.$dce	LINE_10140:
1021	.$dce	JSR COMPACTMAX
1022	.$dd1	LDA #<VAR_RE
1023	.$dd3	LDY #>VAR_RE
1024	.$dd5	JSR COPY2_XYA_YREG
1029	.$dd8	JSR STR
1031	.$ddb	LDA A_REG
1032	.$dde	LDY A_REG+1
1033	.$de1	STA TMP_ZP
1034	.$de3	STY TMP_ZP+1
1035	.$de5	LDA #<VAR_T$
1036	.$de7	LDY #>VAR_T$
1037	.$de9	JSR COPYSTRING
1038	.$dec	JSR COMPACTMAX
1039	.$def	LDA VAR_T$
1040	.$df2	LDY VAR_T$+1
1041	.$df5	STA B_REG
1042	.$df8	STY B_REG+1
1043	.$dfb	JSR LEN
1044	.$dfe	JSR ONETOFAC
1048	.$e01	LDA #<X_REG
1049	.$e03	LDY #>X_REG
1051	.$e05	JSR FASTFSUBMEM
1054	.$e08	JSR FACXREG
1056	.$e0b	LDA #<X_REG
1057	.$e0d	LDY #>X_REG
1058	.$e0f	STY TMP3_ZP+1
1059	.$e11	LDX #<C_REG
1060	.$e13	LDY #>C_REG
1061	.$e15	JSR COPY2_XYA
1065	.$e18	LDA VAR_T$
1066	.$e1b	LDY VAR_T$+1
1067	.$e1e	STA B_REG
1068	.$e21	STY B_REG+1
1069	.$e24	JSR RIGHT
1071	.$e27	LDA A_REG
1072	.$e2a	LDY A_REG+1
1073	.$e2d	STA TMP_ZP
1074	.$e2f	STY TMP_ZP+1
1075	.$e31	LDA #<VAR_T$
1076	.$e33	LDY #>VAR_T$
1077	.$e35	JSR COPYSTRING
1079	.$e38	LINE_10150:
1081	.$e38	LDA VAR_T$
1082	.$e3b	LDY VAR_T$+1
1083	.$e3e	STA TMP_ZP
1084	.$e40	STY TMP_ZP+1
1085	.$e42	LDA #<VAR_OF$
1086	.$e44	LDY #>VAR_OF$
1087	.$e46	JSR COPYSTRING
1090	.$e49	LINE_10160:
1092	.$e49	LDA VAR_NU$
1093	.$e4c	LDY VAR_NU$+1
1094	.$e4f	STA B_REG
1095	.$e52	STY B_REG+1
1097	.$e55	JSR LEN
1098	.$e58	JSR REALFACPUSHXREG
1101	.$e5b	JSR ONETOFAC
1103	.$e5e	LDA #<VAR_EN
1104	.$e60	LDY #>VAR_EN
1105	.$e62	JSR FASTFADDMEM
1109	.$e65	JSR FACXREG
1111	.$e68	JSR POPREAL
1112	.$e6b	JSR FACYREG
1115	.$e6e	LDA #<X_REG
1116	.$e70	LDY #>X_REG
1118	.$e72	JSR CMPFAC
1119	.$e75	ROL
1120	.$e76	BCS GT_GT6
1121	.$e78	LDA #0
1122	.$e7a	JMP GT_SKIP6
1123	.$e7d	GT_GT6:
1124	.$e7d	LDA #$1
1125	.$e7f	GT_SKIP6:
1126	.$e7f	COMP_SKP6:
1127	.$e7f	BEQ LINE_SKIP12
1130	.$e81	LINE_NSKIP12:
1132	.$e81	JMP LINE_10200
1134	.$e84	LINE_SKIP12:
1137	.$e84	LINE_10170:
1139	.$e84	LDX #4
1140	.$e86	dcloop2559_1:
1141	.$e86	LDA VAR_EN,X
1142	.$e89	STA VAR_SA,X
1143	.$e8c	DEX
1144	.$e8d	BPL dcloop2559_1
1146	.$e8f	JSR ONETOFAC
1148	.$e92	LDA #<VAR_EN
1149	.$e94	LDY #>VAR_EN
1150	.$e96	JSR FASTFADDMEM
1155	.$e99	LDX #<VAR_EN
1156	.$e9b	LDY #>VAR_EN
1158	.$e9d	JSR FACMEM
1159	.$ea0	JMP LINE_10020
1161	.$ea3	LINE_10200:
1163	.$ea3	JSR COMPACTMAX
1164	.$ea6	LDA #<VAR_RE
1165	.$ea8	LDY #>VAR_RE
1166	.$eaa	JSR COPY2_XYA_YREG
1171	.$ead	JSR STR
1173	.$eb0	LDA A_REG
1174	.$eb3	LDY A_REG+1
1175	.$eb6	STA TMP_ZP
1176	.$eb8	STY TMP_ZP+1
1177	.$eba	LDA #<VAR_NR$
1178	.$ebc	LDY #>VAR_NR$
1179	.$ebe	JSR COPYSTRING
1181	.$ec1	LINE_10210:
1183	.$ec1	LDA VAR_NR$
1184	.$ec4	LDY VAR_NR$+1
1185	.$ec7	STA B_REG
1186	.$eca	STY B_REG+1
1188	.$ecd	JSR LEN
1189	.$ed0	JSR XREGFAC
1190	.$ed3	LDA #<VAR_EN
1191	.$ed5	LDY #>VAR_EN
1192	.$ed7	JSR COPY2_XYA_XREG
1195	.$eda	LDA #<X_REG
1196	.$edc	LDY #>X_REG
1198	.$ede	JSR FASTFSUBMEM
1202	.$ee1	JSR FACYREG
1205	.$ee4	JSR SPC
1206	.$ee7	LDA VAR_NR$
1207	.$eea	LDY VAR_NR$+1
1208	.$eed	JSR STROUTBRKWL
1212	.$ef0	LINE_10220:
1214	.$ef0	LDA VAR_NN$
1215	.$ef3	LDY VAR_NN$+1
1216	.$ef6	STA TMP_ZP
1217	.$ef8	STY TMP_ZP+1
1218	.$efa	LDA #<VAR_PR$
1219	.$efc	LDY #>VAR_PR$
1220	.$efe	JSR COPYSTRING
1222	.$f01	LDA VAR_NR$
1223	.$f04	LDY VAR_NR$+1
1224	.$f07	STA B_REG
1225	.$f0a	STY B_REG+1
1226	.$f0d	JSR VAL
1227	.$f10	LDA #<CONST_2R
1228	.$f12	LDY #>CONST_2R
1229	.$f14	JSR REALFAC
1232	.$f17	LDA #<X_REG
1233	.$f19	LDY #>X_REG
1235	.$f1b	JSR CMPFAC
1236	.$f1e	ROL
1237	.$f1f	BCS GT_GT7
1238	.$f21	LDA #<REAL_CONST_ZERO
1239	.$f23	LDY #>REAL_CONST_ZERO
1240	.$f25	JMP GT_SKIP7
1241	.$f28	GT_GT7:
1242	.$f28	LDA #<REAL_CONST_MINUS_ONE
1243	.$f2a	LDY #>REAL_CONST_MINUS_ONE
1244	.$f2c	GT_SKIP7:
1246	.$f2c	JSR REALFACPUSH
1248	.$f2f	LDA VAR_NR$
1249	.$f32	LDY VAR_NR$+1
1250	.$f35	STA B_REG
1251	.$f38	STY B_REG+1
1252	.$f3b	JSR LEN
1253	.$f3e	LDA #<CONST_2R
1254	.$f40	LDY #>CONST_2R
1255	.$f42	JSR REALFAC
1258	.$f45	LDA #<X_REG
1259	.$f47	LDY #>X_REG
1261	.$f49	JSR CMPFAC
1262	.$f4c	ROL
1263	.$f4d	BCS GT_GT8
1264	.$f4f	LDA #<REAL_CONST_ZERO
1265	.$f51	LDY #>REAL_CONST_ZERO
1266	.$f53	JMP GT_SKIP8
1267	.$f56	GT_GT8:
1268	.$f56	LDA #<REAL_CONST_MINUS_ONE
1269	.$f58	LDY #>REAL_CONST_MINUS_ONE
1270	.$f5a	GT_SKIP8:
1272	.$f5a	JSR REALFAC
1273	.$f5d	JSR FACXREG
1275	.$f60	JSR POPREAL2X
1277	.$f63	JSR FASTAND
1280	.$f66	JSR FACXREG
1282	.$f69	LDA X_REG
1283	.$f6b	COMP_SKP7:
1284	.$f6b	BNE LINE_NSKIP13
1286	.$f6d	JMP LINE_SKIP13
1288	.$f70	LINE_NSKIP13:
1290	.$f70	JSR COMPACTMAX
1291	.$f73	LDA #<CONST_13
1292	.$f75	LDY #>CONST_13
1293	.$f77	STA B_REG
1294	.$f7a	STY B_REG+1
1295	.$f7d	LDA VAR_PR$
1296	.$f80	LDY VAR_PR$+1
1297	.$f83	STA A_REG
1298	.$f86	STY A_REG+1
1299	.$f89	JSR CONCAT
1300	.$f8c	LDA VAR_NR$
1301	.$f8f	LDY VAR_NR$+1
1302	.$f92	STA B_REG
1303	.$f95	STY B_REG+1
1304	.$f98	JSR CONCAT
1306	.$f9b	LDA A_REG
1307	.$f9e	LDY A_REG+1
1308	.$fa1	STA TMP_ZP
1309	.$fa3	STY TMP_ZP+1
1310	.$fa5	LDA #<VAR_PR$
1311	.$fa7	LDY #>VAR_PR$
1312	.$fa9	JSR COPYSTRING
1314	.$fac	LINE_SKIP13:
1317	.$fac	LINE_10230:
1319	.$fac	JSR GOSUB
1320	.$faf	JSR LINE_30000
1321	.$fb2	JMP RETURN
1323	.$fb5	LINE_20000:
1325	.$fb5	LDY 53280
1326	.$fb8	LDA #0
1328	.$fba	JSR INTFAC
1330	.$fbd	LDX #<VAR_CS
1331	.$fbf	LDY #>VAR_CS
1333	.$fc1	JSR FACMEM
1334	.$fc4	LDY #1
1335	.$fc6	STY 53280
1338	.$fc9	LINE_20010:
1340	.$fc9	JSR GETADOLLAR
1342	.$fcc	LDA #<CONST_7
1343	.$fce	LDY #>CONST_7
1344	.$fd0	STA B_REG
1345	.$fd3	STY B_REG+1
1346	.$fd6	LDA VAR_A$
1347	.$fd9	LDY VAR_A$+1
1348	.$fdc	STA A_REG
1349	.$fdf	STY A_REG+1
1351	.$fe2	JSR SEQ
1352	.$fe5	LDA X_REG
1353	.$fe7	COMP_SKP8:
1354	.$fe7	BEQ LINE_SKIP14
1357	.$fe9	LINE_NSKIP14:
1359	.$fe9	JMP LINE_20010
1361	.$fec	LINE_SKIP14:
1364	.$fec	LINE_20020:
1366	.$fec	LDA #<VAR_CS
1367	.$fee	LDY #>VAR_CS
1368	.$ff0	JSR COPY2_XYA_XREG
1371	.$ff3	JSR XREGFAC
1374	.$ff6	JSR FACWORD
1375	.$ff9	STY 53280
1376	.$ffc	JMP RETURN
1378	.$fff	LINE_30000:
1380	.$fff	LDA VAR_DI$
1381	.$1002	LDY VAR_DI$+1
1382	.$1005	STA B_REG
1383	.$1008	STY B_REG+1
1385	.$100b	JSR LEN
1386	.$100e	LDY #>X_REG
1387	.$1010	LDA #<X_REG
1389	.$1012	JSR REALFACPUSH
1392	.$1015	LDA VAR_NU$
1393	.$1018	LDY VAR_NU$+1
1394	.$101b	STA B_REG
1395	.$101e	STY B_REG+1
1397	.$1021	JSR LEN
1398	.$1024	JSR POPREAL2X
1400	.$1027	JSR FASTFADDARG
1403	.$102a	JSR FACXREG
1405	.$102d	LDA #<CONST_4R
1406	.$102f	LDY #>CONST_4R
1407	.$1031	JSR REALFAC
1410	.$1034	LDA #<X_REG
1411	.$1036	LDY #>X_REG
1413	.$1038	JSR FASTFADDMEM
1416	.$103b	JSR FACXREG
1418	.$103e	LDA #<CONST_14R
1419	.$1040	LDY #>CONST_14R
1420	.$1042	JSR REALFAC
1423	.$1045	LDA #<X_REG
1424	.$1047	LDY #>X_REG
1426	.$1049	JSR FASTFADDMEM
1429	.$104c	JSR FACXREG
1432	.$104f	LDX #<VAR_PO
1433	.$1051	LDY #>VAR_PO
1435	.$1053	JSR FACMEM
1437	.$1056	LINE_30010:
1439	.$1056	LDX #4
1440	.$1058	dcloop3223_1:
1441	.$1058	LDA CONST_5R,X
1442	.$105b	STA VAR_I,X
1443	.$105e	DEX
1444	.$105f	BPL dcloop3223_1
1446	.$1061	LDA VAR_PR$
1447	.$1064	LDY VAR_PR$+1
1448	.$1067	STA B_REG
1449	.$106a	STY B_REG+1
1451	.$106d	JSR LEN
1452	.$1070	JSR REALFACPUSHXREG
1455	.$1073	LDA #<CONST_5R
1456	.$1075	LDY #>CONST_5R
1457	.$1077	JSR REALFACPUSH
1459	.$107a	LDA #<VAR_I
1460	.$107c	LDY #>VAR_I
1461	.$107e	STA A_REG
1462	.$1081	STY A_REG+1
1463	.$1084	LDA #<FORLOOP0
1464	.$1086	STA JUMP_TARGET
1465	.$1088	LDA #>FORLOOP0
1466	.$108a	STA JUMP_TARGET+1
1467	.$108c	JSR INITFOR
1468	.$108f	FORLOOP0:
1469	.$108f	JSR COMPACTMAX
1470	.$1092	LDA #<VAR_I
1471	.$1094	LDY #>VAR_I
1472	.$1096	JSR COPY2_XYA_CREG
1476	.$1099	LDA VAR_PR$
1477	.$109c	LDY VAR_PR$+1
1478	.$109f	STA B_REG
1479	.$10a2	STY B_REG+1
1480	.$10a5	LDY #1
1481	.$10a7	JSR MIDCONST
1490	.$10aa	LDY A_REG
1491	.$10ad	LDA A_REG+1
1492	.$10b0	STY B_REG
1493	.$10b3	STA B_REG+1
1495	.$10b6	JSR ASC
1496	.$10b9	JSR XREGFAC
1498	.$10bc	LDX #<VAR_AS
1499	.$10be	LDY #>VAR_AS
1501	.$10c0	JSR FACMEM
1503	.$10c3	LINE_30015:
1505	.$10c3	LDA #<CONST_8R
1506	.$10c5	LDY #>CONST_8R
1507	.$10c7	JSR REALFAC
1508	.$10ca	LDA #<VAR_AS
1509	.$10cc	LDY #>VAR_AS
1510	.$10ce	JSR CMPFAC
1512	.$10d1	ROL
1513	.$10d2	BCS GT_GT9
1514	.$10d4	LDA #0
1515	.$10d6	JMP GT_SKIP9
1516	.$10d9	GT_GT9:
1517	.$10d9	LDA #$1
1518	.$10db	GT_SKIP9:
1519	.$10db	COMP_SKP9:
1520	.$10db	BEQ LINE_SKIP15
1523	.$10dd	LINE_NSKIP15:
1525	.$10dd	LDA #<CONST_15R
1526	.$10df	LDY #>CONST_15R
1527	.$10e1	JSR REALFAC
1528	.$10e4	LDA #<VAR_AS
1529	.$10e6	LDY #>VAR_AS
1530	.$10e8	JSR FASTFSUBMEM
1535	.$10eb	LDX #<VAR_AS
1536	.$10ed	LDY #>VAR_AS
1538	.$10ef	JSR FACMEM
1540	.$10f2	LINE_SKIP15:
1543	.$10f2	LINE_30020:
1545	.$10f2	LDA #<VAR_I
1546	.$10f4	LDY #>VAR_I
1547	.$10f6	JSR REALFAC
1548	.$10f9	LDA #<VAR_PO
1549	.$10fb	LDY #>VAR_PO
1550	.$10fd	JSR FASTFADDMEM
1552	.$1100	JSR FACWORD
1553	.$1103	STY MOVBSELF4+1
1554	.$1106	STA MOVBSELF4+2
1555	.$1109	LDA #<VAR_AS
1556	.$110b	LDY #>VAR_AS
1557	.$110d	JSR REALFAC
1558	.$1110	JSR FACWORD
1559	.$1113	MOVBSELF4:
1560	.$1113	STY $FFFF
1563	.$1116	LINE_30030:
1565	.$1116	LDA #0
1566	.$1118	STA A_REG
1567	.$111b	STA A_REG+1
1568	.$111e	JSR NEXT
1570	.$1121	LDA A_REG
1571	.$1124	BNE RBEQ_0
1572	.$1126	JMP (JUMP_TARGET)
1574	.$1129	RBEQ_0:
1575	.$1129	JMP RETURN
1576	.$112c	JSR END
1577	.$112f	RTS
1580	.$1130	END   LDX SP_SAVE
1581	.$1133	TXS
1588	.$1134	RTS
1591	.$1135	START  LDA ENDSTRBUF+1
1592	.$1138	BNE ENDGIVEN
1593	.$113a	LDA BASICEND
1594	.$113c	STA ENDSTRBUF
1595	.$113f	LDA BASICEND+1
1596	.$1141	STA ENDSTRBUF+1
1597	.$1144	ENDGIVEN LDA #<FPSTACK
1598	.$1146	LDY #>FPSTACK
1599	.$1148	STA FPSTACKP
1600	.$114b	STY FPSTACKP+1
1601	.$114e	LDA #<FORSTACK
1602	.$1150	LDY #>FORSTACK
1603	.$1152	STA FORSTACKP
1604	.$1155	STY FORSTACKP+1
1605	.$1158	LDA #<STRBUF
1606	.$115a	LDY #>STRBUF
1607	.$115c	STA STRBUFP
1608	.$115f	STY STRBUFP+1
1609	.$1162	STA HIGHP
1610	.$1165	STY HIGHP+1
1611	.$1168	LDA #0
1612	.$116a	STA CHLOCKFLAG
1613	.$116d	STA LASTVAR
1614	.$1170	STA LASTVAR+1
1615	.$1173	JSR INITVARS
1616	.$1176	LDA #0
1617	.$1178	STA CMD_NUM
1618	.$117b	STA CHANNEL
1619	.$117e	TAY
1620	.$117f	TAX
1624	.$1180	STA KEYNDX
1630	.$1182	JSR RESTORE
1631	.$1185	CLC
1635	.$1186	RTS
1638	.$1187	INITNARRAY
1639	.$1187	STA TMP_ZP
1640	.$1189	STY TMP_ZP+1
1641	.$118b	LDY #0
1642	.$118d	TYA
1643	.$118e	NINITLOOP STA (TMP_ZP),Y
1644	.$1190	INC TMP_ZP
1645	.$1192	BNE NLOOPNOV
1646	.$1194	INC TMP_ZP+1
1647	.$1196	NLOOPNOV LDX TMP2_ZP
1648	.$1198	BNE NLOOPNOV2
1649	.$119a	DEC TMP2_ZP+1
1650	.$119c	NLOOPNOV2 DEC TMP2_ZP
1651	.$119e	BNE NINITLOOP
1652	.$11a0	LDX TMP2_ZP+1
1653	.$11a2	BNE NINITLOOP
1654	.$11a4	RTS
1657	.$11a5	INITSTRARRAY
1658	.$11a5	STA TMP_ZP
1659	.$11a7	STY TMP_ZP+1
1660	.$11a9	SINITLOOP LDY #0
1661	.$11ab	LDA #<EMPTYSTR
1662	.$11ad	STA (TMP_ZP),Y
1663	.$11af	LDA #>EMPTYSTR
1664	.$11b1	INY
1665	.$11b2	STA (TMP_ZP),Y
1666	.$11b4	CLC
1667	.$11b5	LDA TMP_ZP
1668	.$11b7	ADC #2
1669	.$11b9	STA TMP_ZP
1670	.$11bb	BCC SLOOPNOV1
1671	.$11bd	INC TMP_ZP+1
1672	.$11bf	SLOOPNOV1 SEC
1673	.$11c0	LDA TMP2_ZP
1674	.$11c2	SBC #2
1675	.$11c4	STA TMP2_ZP
1676	.$11c6	BCS SLOOPNOV2
1677	.$11c8	DEC TMP2_ZP+1
1678	.$11ca	SLOOPNOV2 LDA TMP2_ZP
1679	.$11cc	BNE SINITLOOP
1680	.$11ce	LDA TMP2_ZP+1
1681	.$11d0	BNE SINITLOOP
1682	.$11d2	RTS
1685	.$11d3	INITSPARAMS STA TMP3_ZP
1686	.$11d5	STY TMP3_ZP+1
1687	.$11d7	SEC
1688	.$11d8	SBC #2
1689	.$11da	STA TMP_ZP
1690	.$11dc	TYA
1691	.$11dd	SBC #0
1692	.$11df	STA TMP_ZP+1
1693	.$11e1	LDY #0
1694	.$11e3	LDA (TMP_ZP),Y
1695	.$11e5	STA TMP2_ZP
1696	.$11e7	INY
1697	.$11e8	LDA (TMP_ZP),Y
1698	.$11ea	STA TMP2_ZP+1
1699	.$11ec	LDA TMP3_ZP
1700	.$11ee	LDY TMP3_ZP+1
1701	.$11f0	RTS
1704	.$11f1	INITSTRVARS LDA #<STRINGVARS_START  
1705	.$11f3	LDY #>STRINGVARS_START
1706	.$11f5	CMP #<STRINGVARS_END
1707	.$11f7	BNE INITIT1
1708	.$11f9	CPY #>STRINGVARS_END
1709	.$11fb	BNE INITIT1
1710	.$11fd	JMP INITSA2     
1711	.$1200	INITIT1  STA TMP_ZP
1712	.$1202	STY TMP_ZP+1
1713	.$1204	LDY #0
1714	.$1206	INITSTRLOOP LDA #<EMPTYSTR
1715	.$1208	STA (TMP_ZP),Y
1716	.$120a	INY
1717	.$120b	LDA #>EMPTYSTR
1718	.$120d	STA (TMP_ZP),Y
1719	.$120f	DEY
1720	.$1210	LDA TMP_ZP
1721	.$1212	CLC
1722	.$1213	ADC #2
1723	.$1215	STA TMP_ZP
1724	.$1217	LDA TMP_ZP+1
1725	.$1219	ADC #0
1726	.$121b	STA TMP_ZP+1
1727	.$121d	CMP #>STRINGVARS_END
1728	.$121f	BNE INITSTRLOOP
1729	.$1221	LDA TMP_ZP
1730	.$1223	CMP #<STRINGVARS_END
1731	.$1225	BNE INITSTRLOOP
1732	.$1227	INITSA2  LDA #<STRINGARRAYS_START 
1733	.$1229	LDY #>STRINGARRAYS_START
1734	.$122b	CMP #<STRINGARRAYS_END
1735	.$122d	BNE ARRAYLOOP
1736	.$122f	CPY #>STRINGARRAYS_END
1737	.$1231	BNE ARRAYLOOP
1738	.$1233	RTS       
1739	.$1234	ARRAYLOOP CLC
1740	.$1235	ADC #3
1741	.$1237	BCC ARRAYSKIP1
1742	.$1239	INY
1743	.$123a	ARRAYSKIP1 CPY #>STRINGARRAYS_END
1744	.$123c	BEQ ARRAYSC
1745	.$123e	BCC ARRAYSKIP2
1746	.$1240	JMP ARRAYQUIT
1747	.$1243	ARRAYSC  CMP #<STRINGARRAYS_END
1748	.$1245	BCS ARRAYQUIT
1749	.$1247	ARRAYSKIP2 STA TMP_REG
1750	.$1249	STY TMP_REG+1
1751	.$124b	JSR INITSPARAMS
1752	.$124e	LDA TMP_REG
1753	.$1250	LDY TMP_REG+1
1754	.$1252	JSR INITSTRARRAY
1755	.$1255	LDA TMP_ZP
1756	.$1257	LDY TMP_ZP+1
1757	.$1259	JMP ARRAYLOOP
1758	.$125c	ARRAYQUIT RTS
1761	.$125d	RESTORE  LDA #<DATAS
1762	.$125f	LDY #>DATAS
1763	.$1261	STA DATASP
1764	.$1264	STY DATASP+1
1765	.$1267	RTS
1768	.$1268	MID   LDA #<D_REG
1769	.$126a	LDY #>D_REG
1770	.$126c	JSR REALFAC
1771	.$126f	JSR SGNFAC
1772	.$1272	ROL
1773	.$1273	BCC MIDLENGTH  
1774	.$1275	MIDNEGC  JSR STRFUNCINT  
1775	.$1278	LDA TMP_REG   
1776	.$127a	STA TMP_REG+1
1777	.$127c	BNE MIDOK2
1778	.$127e	JMP ILLEGALQUANTITY 
1779	.$1281	MIDOK2  DEC TMP_REG+1  
1780	.$1283	LDA (TMP_ZP),Y
1781	.$1285	SEC
1782	.$1286	SBC TMP_REG+1
1783	.$1288	STA TMP_REG   
1784	.$128a	BCS MIDNOV2
1785	.$128c	STY TMP_REG   
1786	.$128e	JMP MIDNOV2
1787	.$1291	MIDLENGTH JSR FACWORD
1788	.$1294	MIDCONST STY TMP2_REG  
1789	.$1297	JSR STRFUNCINT
1790	.$129a	LDA TMP_REG   
1791	.$129c	BNE MIDOK
1792	.$129e	JMP ILLEGALQUANTITY 
1793	.$12a1	MIDOK  LDX TMP2_REG
1794	.$12a4	STX TMP_REG   
1795	.$12a6	STA TMP_REG+1
1796	.$12a8	DEC TMP_REG+1  
1797	.$12aa	MIDNOV
1798	.$12aa	MIDNOV2  LDA TMP_REG+1  
1799	.$12ac	CLC
1800	.$12ad	ADC TMP_REG   
1801	.$12af	BCS MIDCLAMP
1802	.$12b1	CMP (TMP_ZP),Y
1803	.$12b3	BCS MIDCLAMP
1804	.$12b5	MIDCOPY  JMP STRFUNC
1805	.$12b8	MIDCLAMP LDA (TMP_ZP),Y  
1806	.$12ba	SEC
1807	.$12bb	SBC TMP_REG+1
1808	.$12bd	STA TMP_REG
1809	.$12bf	BCS MIDCOPY
1810	.$12c1	STY TMP_REG
1811	.$12c3	JMP MIDCOPY
1814	.$12c6	RIGHT  JSR STRFUNCINT
1815	.$12c9	RIGHT2  LDA (TMP_ZP),Y
1816	.$12cb	TAX
1817	.$12cc	CMP TMP_REG   
1818	.$12ce	BCS RIGHTBELOW
1819	.$12d0	STA TMP_REG   
1820	.$12d2	RIGHTBELOW TXA
1821	.$12d3	SEC
1822	.$12d4	SBC TMP_REG
1823	.$12d6	BCS RIGHTNOV
1824	.$12d8	LDA #0
1825	.$12da	RIGHTNOV STA TMP_REG+1
1826	.$12dc	JMP STRFUNC
1829	.$12df	LEFT  JSR STRFUNCINT
1830	.$12e2	LEFT2  STY TMP_REG+1  
1831	.$12e4	LDA (TMP_ZP),Y
1832	.$12e6	CMP TMP_REG   
1833	.$12e8	BCS LEFTBELOW
1834	.$12ea	STA TMP_REG   
1835	.$12ec	LEFTBELOW JMP STRFUNC
1838	.$12ef	STRFUNCINT  LDA B_REG   
1839	.$12f2	STA TMP_ZP
1840	.$12f4	LDA B_REG+1
1841	.$12f7	STA TMP_ZP+1
1842	.$12f9	LDA #<C_REG
1843	.$12fb	LDY #>C_REG
1844	.$12fd	JSR REALFAC
1845	.$1300	JSR FACWORD
1846	.$1303	STY TMP_REG   
1847	.$1305	LDY #0
1848	.$1307	RTS
1855	.$1308	STRFUNC  LDA TMP_REG+1
1856	.$130a	BEQ STARTATZERO
1857	.$130c	LDA TMP_ZP
1858	.$130e	CLC
1859	.$130f	ADC TMP_REG+1
1860	.$1311	STA TMP_ZP
1861	.$1313	BCC STARTATZERO
1862	.$1315	INC TMP_ZP+1
1863	.$1317	STARTATZERO LDY #0
1864	.$1319	LDA (TMP_ZP),Y
1865	.$131b	PHA     
1866	.$131c	LDA TMP_REG
1867	.$131e	BNE STRFUNCNZ
1868	.$1320	LDA #<EMPTYSTR
1869	.$1322	STA A_REG
1870	.$1325	LDA #>EMPTYSTR
1871	.$1327	STA A_REG+1
1872	.$132a	PLA     
1875	.$132b	JMP EXITSTRFUNC
1876	.$132e	STRFUNCNZ STA (TMP_ZP),Y
1877	.$1330	LDA #<A_REG
1878	.$1332	LDY #>A_REG
1879	.$1334	STA TMP2_ZP
1880	.$1336	STY TMP2_ZP+1
1881	.$1338	LDX TMP_REG   
1882	.$133a	JSR COPYONLY
1883	.$133d	PLA
1884	.$133e	LDY #0
1885	.$1340	STA (TMP_ZP),Y  
1886	.$1342	EXITSTRFUNC RTS
1889	.$1343	CONCAT  LDA A_REG
1890	.$1346	STA TMP_ZP
1891	.$1348	LDA A_REG+1
1892	.$134b	STA TMP_ZP+1
1893	.$134d	LDA STRBUFP  
1894	.$1350	STA A_REG
1895	.$1353	STA TMP3_ZP
1896	.$1355	LDA STRBUFP+1
1897	.$1358	STA A_REG+1
1898	.$135b	STA TMP3_ZP+1
1899	.$135d	LDY #0
1900	.$135f	LDA (TMP_ZP),Y
1901	.$1361	TAX
1902	.$1362	LDA B_REG
1903	.$1365	STA TMP2_ZP
1904	.$1367	LDA B_REG+1
1905	.$136a	STA TMP2_ZP+1
1906	.$136c	TXA
1907	.$136d	CLC
1908	.$136e	ADC (TMP2_ZP),Y
1909	.$1370	BCC CCSTRFITS
1910	.$1372	JMP STRINGTOOLONG
1911	.$1375	CCSTRFITS STA (TMP3_ZP),Y
1912	.$1377	INC TMP3_ZP
1913	.$1379	BNE CCNOOV2
1914	.$137b	INC TMP3_ZP+1
1915	.$137d	CCNOOV2  CLC
1916	.$137e	ADC STRBUFP
1917	.$1381	PHP
1918	.$1382	CLC
1919	.$1383	ADC #3
1920	.$1385	STA STRBUFP
1921	.$1388	BCC CCNOCS1
1922	.$138a	INC STRBUFP+1
1923	.$138d	CCNOCS1  PLP
1924	.$138e	BCC CCSTRFITS2
1925	.$1390	INC STRBUFP+1
1926	.$1393	CCSTRFITS2 JSR COPY2CONCAT  
1927	.$1396	LDA B_REG   
1928	.$1399	STA TMP_ZP
1929	.$139b	LDA B_REG+1
1930	.$139e	STA TMP_ZP+1
1931	.$13a0	JMP COPY2CONCAT  
1934	.$13a3	COPY2CONCAT LDY #0
1935	.$13a5	LDA (TMP_ZP),Y
1936	.$13a7	BEQ NOC2C   
1937	.$13a9	STA TMP2_ZP
1938	.$13ab	INC TMP_ZP
1939	.$13ad	BNE COPY2LOOP
1940	.$13af	INC TMP_ZP+1
1941	.$13b1	COPY2LOOP LDA (TMP_ZP),Y
1942	.$13b3	STA (TMP3_ZP),Y
1943	.$13b5	INY
1944	.$13b6	CPY TMP2_ZP
1945	.$13b8	BNE COPY2LOOP
1946	.$13ba	TYA
1947	.$13bb	CLC
1948	.$13bc	ADC TMP3_ZP   
1949	.$13be	STA TMP3_ZP
1950	.$13c0	BCC NOC2C
1951	.$13c2	INC TMP3_ZP+1
1952	.$13c4	NOC2C  RTS
1955	.$13c5	STR   JSR YREGFAC
1956	.$13c8	STRINT  LDY #1
1957	.$13ca	JSR FACSTR
1958	.$13cd	LDY #0
1959	.$13cf	STY TMP_ZP+1
1960	.$13d1	LDA #LOFBUF
1961	.$13d3	STA TMP_ZP
1962	.$13d5	DEY
1963	.$13d6	STRLOOP  INY
1964	.$13d7	LDA LOFBUFH,Y
1965	.$13da	BNE STRLOOP
1966	.$13dc	STY LOFBUF
1967	.$13de	TYA
1968	.$13df	TAX   
1969	.$13e0	LDA #<A_REG
1970	.$13e2	LDY #>A_REG
1971	.$13e4	STA TMP2_ZP
1972	.$13e6	STY TMP2_ZP+1
1973	.$13e8	JMP COPYONLY
1976	.$13eb	VAL   LDA B_REG
1977	.$13ee	STA INDEX1
1978	.$13f0	LDA B_REG+1
1979	.$13f3	STA INDEX1+1
1980	.$13f5	LDY #0
1981	.$13f7	STY VALTYPE
1982	.$13f9	LDA (INDEX1),Y
1983	.$13fb	BNE DOACVAL
1984	.$13fd	JMP ZEROSET
1985	.$1400	DOACVAL  TAY
1986	.$1401	INC INDEX1
1987	.$1403	BNE VALSTR
1988	.$1405	INC INDEX1+1
1989	.$1407	VALSTR  JSR VALS
1990	.$140a	JMP FACXREG 
1993	.$140d	TAB   JSR TABSPCINIT
1994	.$1410	JSR REROUTE
1995	.$1413	LDA CMD_NUM
1996	.$1416	BEQ NORMALTAB  
1997	.$1418	CMP #3
1998	.$141a	BEQ NORMALTAB2  
1999	.$141c	JMP TABCHANNEL2
2000	.$141f	NORMALTAB2 JSR CLRCHNEW
2001	.$1422	NORMALTAB SEC
2002	.$1423	JMP TABSPC
2005	.$1426	SPC   JSR TABSPCINIT
2006	.$1429	JSR REROUTE
2007	.$142c	LDA CMD_NUM
2008	.$142f	BEQ NORMALSPC  
2009	.$1431	CMP #3
2010	.$1433	BEQ NORMALSPC2  
2011	.$1435	JMP TABCHANNEL2
2012	.$1438	NORMALSPC2 JSR CLRCHNEW
2013	.$143b	NORMALSPC CLC
2014	.$143c	JMP TABSPC
2017	.$143f	TABSPCINIT SEC
2018	.$1440	JSR CRSRPOS
2019	.$1443	STY $09
2020	.$1445	JSR YREGFAC
2021	.$1448	JSR FACWORD
2022	.$144b	TYA
2023	.$144c	TAX
2024	.$144d	RTS
2027	.$144e	TABSPC     BCC DOSPC
2028	.$1450	TXA
2029	.$1451	SBC $09
2030	.$1453	BCC TABSPCQUIT
2031	.$1455	TAX
2032	.$1456	DOSPC  INX
2033	.$1457	TABSPCLOOP  DEX
2034	.$1458	BNE TABSPCRIGHT
2035	.$145a	TABSPCQUIT RTS
2036	.$145b	TABSPCRIGHT JSR CRSRRIGHT
2037	.$145e	JMP TABSPCLOOP
2040	.$1461	LEN   LDA B_REG
2041	.$1464	STA TMP_ZP
2042	.$1466	LDA B_REG+1
2043	.$1469	STA TMP_ZP+1
2044	.$146b	LDY #0
2045	.$146d	LDA (TMP_ZP),Y
2046	.$146f	STA TMP2_ZP  
2047	.$1471	BEQ ZEROLEN
2048	.$1473	TAY
2049	.$1474	LDA #0
2050	.$1476	JSR INTFAC
2051	.$1479	JMP FACXREG 
2052	.$147c	ZEROLEN  JMP ZEROSET
2055	.$147f	ASC   LDA B_REG
2056	.$1482	STA TMP_ZP
2057	.$1484	LDA B_REG+1
2058	.$1487	STA TMP_ZP+1
2059	.$1489	LDY #0
2060	.$148b	LDA (TMP_ZP),Y
2061	.$148d	BNE DOASC
2062	.$148f	JMP ILLEGALQUANTITY
2063	.$1492	DOASC  INY
2064	.$1493	LDA (TMP_ZP),Y
2065	.$1495	STA TMP2_ZP  
2066	.$1497	TAY
2067	.$1498	LDA #0
2068	.$149a	JSR INTFAC
2069	.$149d	JMP FACXREG
2072	.$14a0	SAVEPOINTERS
2073	.$14a0	LDA TMP_ZP   
2074	.$14a2	STA STORE1
2075	.$14a5	LDA TMP_ZP+1
2076	.$14a7	STA STORE1+1
2077	.$14aa	LDA TMP2_ZP
2078	.$14ac	STA STORE2
2079	.$14af	LDA TMP2_ZP+1
2080	.$14b1	STA STORE2+1
2081	.$14b4	LDA TMP3_ZP
2082	.$14b6	STA STORE3
2083	.$14b9	LDA TMP3_ZP+1
2084	.$14bb	STA STORE3+1
2085	.$14be	RTS
2088	.$14bf	RESTOREPOINTERS
2089	.$14bf	LDA STORE3+1  
2090	.$14c2	STA TMP3_ZP+1
2091	.$14c4	LDA STORE3
2092	.$14c7	STA TMP3_ZP
2093	.$14c9	LDA STORE2+1
2094	.$14cc	STA TMP2_ZP+1
2095	.$14ce	LDA STORE2
2096	.$14d1	STA TMP2_ZP
2097	.$14d3	LDA STORE1+1
2098	.$14d6	STA TMP_ZP+1
2099	.$14d8	LDA STORE1
2100	.$14db	STA TMP_ZP
2101	.$14dd	RTS
2108	.$14de	COMPACTMAX
2109	.$14de	LDA #$FF
2110	.$14e0	LDY #$0
2111	.$14e2	JMP COMPACTF
2114	.$14e5	COMPACT
2115	.$14e5	LDY #0
2116	.$14e7	GCBUFNE  LDA (TMP_ZP),Y  
2117	.$14e9	COMPACTF STA TMP4_REG  
2118	.$14ec	LDY STRBUFP+1  
2119	.$14ef	STY TMP4_REG+1  
2120	.$14f2	INY     
2121	.$14f3	BEQ ENDMEM   
2122	.$14f5	CPY ENDSTRBUF+1  
2123	.$14f8	BCC RGCEXIT   
2124	.$14fa	ENDMEM  LDA STRBUFP
2125	.$14fd	CLC
2126	.$14fe	ADC TMP4_REG
2127	.$1501	STA TMP4_REG
2128	.$1504	BCC RGCNOOV1
2129	.$1506	INC TMP4_REG+1
2130	.$1509	RGCNOOV1 CLC
2131	.$150a	LDA TMP4_REG
2132	.$150d	ADC #3
2133	.$150f	STA TMP4_REG
2134	.$1512	BCC RGCNOOV2
2135	.$1514	INC TMP4_REG+1
2136	.$1517	RGCNOOV2 LDA TMP4_REG+1  
2137	.$151a	CMP ENDSTRBUF+1
2138	.$151d	BEQ RGCLOW1
2139	.$151f	BCS GCEXECOMP  
2140	.$1521	JMP RGCEXIT
2141	.$1524	RGCLOW1  LDA TMP4_REG
2142	.$1527	CMP ENDSTRBUF
2143	.$152a	BCS GCEXECOMP  
2144	.$152c	RGCEXIT  RTS     
2145	.$152d	GCEXECOMP LDA STRBUFP
2146	.$1530	STA STORE4
2147	.$1533	LDA STRBUFP+1
2148	.$1536	STA STORE4+1
2149	.$1539	JSR GCEXE
2150	.$153c	JMP CHECKMEMORY
2153	.$153f	GCEXE  JSR SAVEPOINTERS
2154	.$1542	LDA #0
2155	.$1544	STA LASTVAR
2156	.$1547	STA LASTVAR+1  
2157	.$154a	LDA #<STRBUF
2158	.$154c	STA TMP_ZP
2159	.$154e	STA GCSTART
2160	.$1551	LDA #>STRBUF
2161	.$1553	STA TMP_ZP+1  
2162	.$1555	STA GCSTART+1
2163	.$1558	GCLOOP  LDY #0
2164	.$155a	LDA TMP_ZP
2165	.$155c	STA GCWORK
2166	.$155f	LDA TMP_ZP+1
2167	.$1561	STA GCWORK+1  
2168	.$1564	LDA (TMP_ZP),Y
2169	.$1566	STA GCLEN   
2170	.$1569	INC TMP_ZP
2171	.$156b	BNE GCLOOPNOOV
2172	.$156d	INC TMP_ZP+1
2173	.$156f	GCLOOPNOOV LDA TMP_ZP
2174	.$1571	CLC
2175	.$1572	ADC GCLEN
2176	.$1575	STA TMP_ZP
2177	.$1577	BCC GCLOOPNOOV2
2178	.$1579	INC TMP_ZP+1  
2179	.$157b	GCLOOPNOOV2 LDY #0
2180	.$157d	LDA (TMP_ZP),Y
2181	.$157f	STA TMP2_ZP
2182	.$1581	INY
2183	.$1582	LDA (TMP_ZP),Y
2184	.$1584	STA TMP2_ZP+1  
2185	.$1586	LDA TMP_ZP
2186	.$1588	CLC
2187	.$1589	ADC #2
2188	.$158b	STA TMP_ZP
2189	.$158d	BCC GCLOOPNOOV3
2190	.$158f	INC TMP_ZP+1  
2191	.$1591	GCLOOPNOOV3 LDY #0
2192	.$1593	LDA (TMP2_ZP),Y
2193	.$1595	CMP GCWORK
2194	.$1598	BNE GCKLOOP
2195	.$159a	INY
2196	.$159b	LDA (TMP2_ZP),Y
2197	.$159d	CMP GCWORK+1
2198	.$15a0	BEQ MEMFREE
2199	.$15a2	GCKLOOP  LDA TMP_ZP+1  
2200	.$15a4	CMP HIGHP+1
2201	.$15a7	BEQ GCHECKLOW
2202	.$15a9	BCC GCLOOP
2203	.$15ab	JMP GCDONE
2204	.$15ae	GCHECKLOW LDA TMP_ZP
2205	.$15b0	CMP HIGHP
2206	.$15b3	BCS GCDONE
2207	.$15b5	JMP GCLOOP
2208	.$15b8	MEMFREE  LDA GCSTART   
2209	.$15bb	CMP GCWORK   
2210	.$15be	BNE COPYDOWN
2211	.$15c0	LDA GCSTART+1
2212	.$15c3	CMP GCWORK+1
2213	.$15c6	BNE COPYDOWN
2214	.$15c8	LDA TMP_ZP   
2215	.$15ca	STA GCSTART
2216	.$15cd	LDA TMP_ZP+1
2217	.$15cf	STA GCSTART+1
2218	.$15d2	JMP GCKLOOP   
2219	.$15d5	COPYDOWN LDA GCSTART   
2220	.$15d8	STA TMP_REG
2221	.$15da	LDA GCSTART+1
2222	.$15dd	STA TMP_REG+1  
2223	.$15df	LDA GCWORK
2224	.$15e2	STA TMP2_REG
2225	.$15e5	LDA GCWORK+1
2226	.$15e8	STA TMP2_REG+1  
2227	.$15eb	LDA TMP_ZP
2228	.$15ed	SEC
2229	.$15ee	SBC GCWORK
2230	.$15f1	STA TMP3_REG
2231	.$15f4	LDA TMP_ZP+1
2232	.$15f6	SBC GCWORK+1
2233	.$15f9	STA TMP3_REG+1  
2234	.$15fc	LDA GCSTART
2235	.$15ff	CLC
2236	.$1600	ADC TMP3_REG
2237	.$1603	STA GCSTART
2238	.$1606	LDA GCSTART+1
2239	.$1609	ADC TMP3_REG+1
2240	.$160c	STA GCSTART+1  
2241	.$160f	JSR QUICKCOPY  
2242	.$1612	LDY #0
2243	.$1614	LDA TMP_REG
2244	.$1616	STA (TMP2_ZP),Y
2245	.$1618	INY
2246	.$1619	LDA TMP_REG+1
2247	.$161b	STA (TMP2_ZP),Y  
2248	.$161d	JMP GCKLOOP
2249	.$1620	GCDONE  LDA GCSTART
2250	.$1623	STA HIGHP
2251	.$1626	STA STRBUFP
2252	.$1629	LDA GCSTART+1
2253	.$162c	STA HIGHP+1
2254	.$162f	STA STRBUFP+1  
2255	.$1632	GCSKIP  JSR RESTOREPOINTERS
2256	.$1635	RTS     
2259	.$1636	CHECKMEMORY
2260	.$1636	LDA STRBUFP+1  
2261	.$1639	CMP STORE4+1  
2262	.$163c	BCC STILLFITSCM  
2266	.$163e	BEQ CHECKMEMLOWCM
2267	.$1640	JMP OUTOFMEMORY  
2268	.$1643	CHECKMEMLOWCM
2269	.$1643	LDA STRBUFP   
2270	.$1646	CMP STORE4
2271	.$1649	BCC STILLFITSCM
2272	.$164b	JMP OUTOFMEMORY  
2273	.$164e	STILLFITSCM RTS
2276	.$164f	QUICKCOPY LDA TMP_REG  
2277	.$1651	STA TMEM+1
2278	.$1654	LDA TMP_REG+1
2279	.$1656	STA TMEM+2
2280	.$1659	LDA TMP2_REG
2281	.$165c	STA SMEM+1
2282	.$165f	LDA TMP2_REG+1
2283	.$1662	STA SMEM+2
2284	.$1665	LDY #$0
2285	.$1667	LDX TMP3_REG
2286	.$166a	BNE QCLOOP
2287	.$166c	LDA TMP3_REG+1
2288	.$166f	BEQ QCEXIT  
2289	.$1671	QCLOOP
2290	.$1671	SMEM  LDA $0000,Y
2291	.$1674	TMEM  STA $0000,Y
2292	.$1677	INY
2293	.$1678	BNE YNOOV
2294	.$167a	INC TMEM+2
2295	.$167d	INC SMEM+2
2296	.$1680	YNOOV  DEX
2297	.$1681	BNE QCLOOP
2298	.$1683	LDA TMP3_REG+1
2299	.$1686	BEQ QCEXIT
2300	.$1688	DEC TMP3_REG+1
2301	.$168b	JMP QCLOOP
2302	.$168e	QCEXIT  RTS
2305	.$168f	COPYSTRING STA TMP2_ZP
2306	.$1691	STY TMP2_ZP+1
2307	.$1693	CPY TMP_ZP+1
2308	.$1695	BNE CONTCOPY
2309	.$1697	LDA TMP2_ZP
2310	.$1699	CMP TMP_ZP
2311	.$169b	BNE CONTCOPY
2312	.$169d	RTS     
2313	.$169e	CONTCOPY JSR COMPACT   
2314	.$16a1	LDY #0
2315	.$16a3	STY TMP_FLAG
2316	.$16a6	LDA (TMP_ZP),Y
2317	.$16a8	BNE NOTEMPTYSTR
2318	.$16aa	LDA #<EMPTYSTR  
2319	.$16ac	STA TMP_ZP
2320	.$16ae	LDA #>EMPTYSTR
2321	.$16b0	STA TMP_ZP+1
2322	.$16b2	JMP ISCONST
2323	.$16b5	NOTEMPTYSTR TAX     
2324	.$16b6	LDA (TMP2_ZP),Y
2325	.$16b8	STA TMP3_ZP
2326	.$16ba	INY
2327	.$16bb	LDA (TMP2_ZP),Y
2328	.$16bd	STA TMP3_ZP+1
2329	.$16bf	DEY
2330	.$16c0	LDA TMP_ZP+1  
2331	.$16c2	CMP #>CONSTANTS_END
2332	.$16c4	BEQ CHECKLOW1
2333	.$16c6	BCS INVAR
2334	.$16c8	JMP CHECKNEXT
2335	.$16cb	CHECKLOW1 LDA TMP_ZP
2336	.$16cd	CMP #<CONSTANTS_END
2337	.$16cf	BCS INVAR
2338	.$16d1	CHECKNEXT LDA TMP_ZP+1  
2339	.$16d3	CMP #>CONSTANTS
2340	.$16d5	BEQ CHECKLOW3
2341	.$16d7	BCC INVAR
2342	.$16d9	JMP ISCONST
2343	.$16dc	CHECKLOW3 LDA TMP_ZP
2344	.$16de	CMP #<CONSTANTS
2345	.$16e0	BCC INVAR   
2346	.$16e2	ISCONST  JSR CHECKLASTVAR 
2347	.$16e5	LDA TMP_ZP
2348	.$16e7	STA (TMP2_ZP),Y  
2349	.$16e9	INY
2350	.$16ea	LDA TMP_ZP+1
2351	.$16ec	STA (TMP2_ZP),Y
2352	.$16ee	LDA HIGHP   
2353	.$16f1	STA STRBUFP
2354	.$16f4	LDA HIGHP+1
2355	.$16f7	STA STRBUFP+1
2356	.$16fa	RTS
2357	.$16fb	INVAR  INY
2358	.$16fc	LDA (TMP2_ZP),Y  
2359	.$16fe	CMP #>CONSTANTS_END
2360	.$1700	BEQ CHECKLOW2
2361	.$1702	BCS INVAR2
2362	.$1704	JMP PUPDATEPTR
2363	.$1707	CHECKLOW2 DEY
2364	.$1708	LDA (TMP2_ZP),Y
2365	.$170a	CMP #<CONSTANTS_END
2366	.$170c	BCS INVAR2
2367	.$170e	JMP PUPDATEPTR
2368	.$1711	INVAR2  LDY #0   
2369	.$1713	LDA (TMP3_ZP),Y
2370	.$1715	STA TMP_REG
2371	.$1717	TXA
2372	.$1718	CMP TMP_REG  
2373	.$171a	BEQ UPDATEHP2 
2376	.$171c	PUPDATEPTR JSR CHECKLASTVAR
2377	.$171f	LDY #1   
2378	.$1721	STY TMP_FLAG 
2379	.$1724	JMP UPDATEPTR 
2380	.$1727	UPDATEHP2 LDA HIGHP  
2381	.$172a	STA STRBUFP
2382	.$172d	LDA HIGHP+1
2383	.$1730	STA STRBUFP+1
2384	.$1733	JMP STRFITS
2385	.$1736	COPYONLY LDY #0
2386	.$1738	STY TMP_FLAG
2387	.$173b	JMP CHECKMEM
2388	.$173e	ALTCOPY  JMP COPYSTRING2
2389	.$1741	UPDATEPTR LDA TMP_ZP+1 
2390	.$1743	CMP HIGHP+1  
2391	.$1746	BEQ CHECKXT1
2392	.$1748	BCS ALTCOPY
2393	.$174a	JMP CHECKMEM
2394	.$174d	CHECKXT1 LDA TMP_ZP
2395	.$174f	CMP HIGHP
2396	.$1752	BCS ALTCOPY
2397	.$1754	CHECKMEM
2398	.$1754	MEMOK  LDY #0
2399	.$1756	LDA STRBUFP  
2400	.$1759	STA (TMP2_ZP),Y 
2401	.$175b	STA TMP3_ZP
2402	.$175d	LDA STRBUFP+1
2403	.$1760	INY
2404	.$1761	STA (TMP2_ZP),Y
2405	.$1763	STA TMP3_ZP+1
2406	.$1765	TXA
2407	.$1766	CLC
2408	.$1767	ADC STRBUFP
2409	.$176a	PHP
2410	.$176b	CLC
2411	.$176c	ADC #3
2412	.$176e	STA STRBUFP
2413	.$1771	BCC NOCS1
2414	.$1773	INC STRBUFP+1
2415	.$1776	NOCS1  PLP
2416	.$1777	BCC STRFITS
2417	.$1779	INC STRBUFP+1
2418	.$177c	STRFITS  LDY TMP_FLAG 
2419	.$177f	BEQ NOHPUPDATE 
2420	.$1781	LDA HIGHP+1
2421	.$1784	CMP STRBUFP+1
2422	.$1787	BCC UPDATEHIGHP
2423	.$1789	BEQ CHECKNEXTHP
2424	.$178b	JMP NOHPUPDATE
2425	.$178e	CHECKNEXTHP LDA HIGHP
2426	.$1791	CMP STRBUFP
2427	.$1794	BCC UPDATEHIGHP
2428	.$1796	JMP NOHPUPDATE
2429	.$1799	UPDATEHIGHP LDA STRBUFP
2430	.$179c	STA HIGHP
2431	.$179f	LDA STRBUFP+1
2432	.$17a2	STA HIGHP+1  
2433	.$17a5	JSR REMEMBERLASTVAR
2434	.$17a8	JSR STOREVARREF
2435	.$17ab	NOHPUPDATE LDY #0
2436	.$17ad	LDA (TMP_ZP),Y 
2437	.$17af	STA (TMP3_ZP),Y
2438	.$17b1	TAY    
2439	.$17b2	BEQ EXITCOPY 
2440	.$17b4	LOOP  LDA (TMP_ZP),Y 
2441	.$17b6	STA (TMP3_ZP),Y
2442	.$17b8	DEY
2443	.$17b9	BNE LOOP
2444	.$17bb	EXITCOPY RTS
2449	.$17bc	COPYSTRING2 LDY #0
2450	.$17be	LDA (TMP_ZP),Y
2451	.$17c0	STA TMP_REG
2452	.$17c2	TAX
2453	.$17c3	LDA HIGHP
2454	.$17c6	STA TMP3_ZP
2455	.$17c8	STA (TMP2_ZP),Y
2456	.$17ca	LDA HIGHP+1
2457	.$17cd	STA TMP3_ZP+1
2458	.$17cf	INY
2459	.$17d0	STA (TMP2_ZP),Y
2460	.$17d2	JSR REMEMBERLASTVAR
2463	.$17d5	LDA TMP_ZP
2464	.$17d7	CMP TMP3_ZP
2465	.$17d9	BNE DOLOOP
2466	.$17db	LDA TMP_ZP+1
2467	.$17dd	CMP TMP3_ZP+1
2468	.$17df	BEQ SKIPCP2
2469	.$17e1	DOLOOP  DEY
2470	.$17e2	TXA
2471	.$17e3	STA (TMP3_ZP),Y
2472	.$17e5	INY
2473	.$17e6	ASLOOP  LDA (TMP_ZP),Y
2474	.$17e8	STA (TMP3_ZP),Y
2475	.$17ea	INY
2476	.$17eb	DEX
2477	.$17ec	BNE ASLOOP
2478	.$17ee	SKIPCP2  LDA HIGHP
2479	.$17f1	CLC
2480	.$17f2	ADC TMP_REG
2481	.$17f4	PHP
2482	.$17f5	CLC
2483	.$17f6	ADC #3
2484	.$17f8	STA HIGHP
2485	.$17fb	STA STRBUFP
2486	.$17fe	BCC SKIPLOWAS1
2487	.$1800	INC HIGHP+1
2488	.$1803	SKIPLOWAS1 PLP
2489	.$1804	BCC SKIPLOWAS2
2490	.$1806	INC HIGHP+1
2491	.$1809	SKIPLOWAS2 LDA HIGHP+1
2492	.$180c	STA STRBUFP+1
2493	.$180f	JSR STOREVARREF
2494	.$1812	RTS
2498	.$1813	CHECKLASTVAR
2499	.$1813	LDA TMP2_ZP
2500	.$1815	CMP LASTVAR
2501	.$1818	BNE NOTSAMEVAR
2502	.$181a	LDA TMP2_ZP+1
2503	.$181c	CMP LASTVAR+1
2504	.$181f	BNE NOTSAMEVAR
2505	.$1821	LDA LASTVARP   
2506	.$1824	STA HIGHP
2507	.$1827	STA STRBUFP
2508	.$182a	LDA LASTVARP+1
2509	.$182d	STA HIGHP+1
2510	.$1830	STA STRBUFP+1
2511	.$1833	NOTSAMEVAR RTS
2515	.$1834	REMEMBERLASTVAR
2516	.$1834	LDA TMP2_ZP
2517	.$1836	STA LASTVAR
2518	.$1839	LDA TMP2_ZP+1
2519	.$183b	STA LASTVAR+1
2520	.$183e	LDA TMP3_ZP
2521	.$1840	STA LASTVARP
2522	.$1843	LDA TMP3_ZP+1
2523	.$1845	STA LASTVARP+1 
2524	.$1848	RTS
2529	.$1849	STOREVARREF
2530	.$1849	TYA
2531	.$184a	PHA    
2532	.$184b	LDA TMP_ZP
2533	.$184d	PHA
2534	.$184e	LDA TMP_ZP+1
2535	.$1850	PHA
2536	.$1851	LDA HIGHP+1
2537	.$1854	STA TMP_ZP+1
2538	.$1856	LDA HIGHP
2539	.$1859	SEC
2540	.$185a	SBC #2
2541	.$185c	STA TMP_ZP
2542	.$185e	BCS RLVNOOV
2543	.$1860	DEC TMP_ZP+1
2544	.$1862	RLVNOOV  LDA TMP2_ZP
2545	.$1864	LDY #0
2546	.$1866	STA (TMP_ZP),Y
2547	.$1868	LDA TMP2_ZP+1
2548	.$186a	INY
2549	.$186b	STA (TMP_ZP),Y 
2550	.$186d	PLA
2551	.$186e	STA TMP_ZP+1
2552	.$1870	PLA
2553	.$1871	STA TMP_ZP  
2554	.$1873	PLA
2555	.$1874	TAY    
2556	.$1875	RTS
2559	.$1876	REROUTE  LDA CMD_NUM  
2560	.$1879	BEQ REROUTECMD
2561	.$187b	TAX
2562	.$187c	STA CHANNEL
2563	.$187f	JMP CHKOUT
2564	.$1882	REROUTECMD RTS
2567	.$1883	RESETROUTE LDA CMD_NUM  
2568	.$1886	BEQ RESETROUTECMD
2569	.$1888	JMP CLRCHNEW
2570	.$188b	RESETROUTECMD
2571	.$188b	RTS
2574	.$188c	STROUTWL STA A_REG
2575	.$188f	STY A_REG+1
2576	.$1892	STROUT  JSR REROUTE
2577	.$1895	LDA A_REG
2578	.$1898	STA INDEX1
2579	.$189a	LDA A_REG+1
2580	.$189d	STA INDEX1+1
2581	.$189f	LDY #0
2582	.$18a1	LDA (INDEX1),Y
2583	.$18a3	TAX
2584	.$18a4	INC INDEX1
2585	.$18a6	BNE PRINTSTR
2586	.$18a8	INC INDEX1+1
2587	.$18aa	PRINTSTR JSR PRINTSTRS
2588	.$18ad	LDA HIGHP   
2589	.$18b0	STA STRBUFP
2590	.$18b3	LDA HIGHP+1
2591	.$18b6	STA STRBUFP+1
2592	.$18b9	JSR RESETROUTE
2593	.$18bc	RTS
2596	.$18bd	SINGLECHROUTBRKMAX
2597	.$18bd	JSR SINGLECHROUTBRK
2598	.$18c0	JMP COMPACTMAX
2601	.$18c3	SINGLECHROUTBRK
2602	.$18c3	STA TMP_ZP
2603	.$18c5	JSR REROUTE
2604	.$18c8	LDA TMP_ZP
2605	.$18ca	JSR CHROUT
2606	.$18cd	LDA #$0D
2607	.$18cf	JSR CHROUT
2608	.$18d2	JMP RESETROUTE
2611	.$18d5	SINGLECHROUTMAX
2612	.$18d5	JSR SINGLECHROUT
2613	.$18d8	JMP COMPACTMAX
2616	.$18db	SINGLECHROUT
2617	.$18db	STA TMP_ZP
2618	.$18dd	JSR REROUTE
2619	.$18e0	LDA TMP_ZP
2620	.$18e2	JSR CHROUT
2621	.$18e5	JMP RESETROUTE
2624	.$18e8	STROUTBRKWL STA A_REG
2625	.$18eb	STY A_REG+1
2626	.$18ee	STROUTBRK JSR REROUTE
2627	.$18f1	LDA A_REG
2628	.$18f4	STA INDEX1
2629	.$18f6	LDA A_REG+1
2630	.$18f9	STA INDEX1+1
2631	.$18fb	LDY #0
2632	.$18fd	LDA (INDEX1),Y
2633	.$18ff	TAX
2634	.$1900	INC INDEX1
2635	.$1902	BNE PRINTSTR2
2636	.$1904	INC INDEX1+1
2637	.$1906	PRINTSTR2 JSR PRINTSTRS
2638	.$1909	LDA HIGHP   
2639	.$190c	STA STRBUFP
2640	.$190f	LDA HIGHP+1
2641	.$1912	STA STRBUFP+1
2642	.$1915	LDA #$0D
2643	.$1917	JSR CHROUT
2644	.$191a	JMP RESETROUTE  
2647	.$191d	ADJUSTSTACK LDA FORSTACKP 
2648	.$1920	STA TMP_ZP
2649	.$1922	LDA FORSTACKP+1
2650	.$1925	STA TMP_ZP+1
2651	.$1927	ADSEARCHFOR LDA TMP_ZP
2652	.$1929	CMP #<FORSTACK
2653	.$192b	BNE ADJUST2
2654	.$192d	LDA TMP_ZP+1
2655	.$192f	CMP #>FORSTACK
2656	.$1931	BNE ADJUST2
2657	.$1933	RTS    
2658	.$1934	ADJUST2  LDA TMP_ZP
2659	.$1936	SEC
2660	.$1937	SBC #2
2661	.$1939	STA TMP_ZP
2662	.$193b	BCS ADNOPV1N1
2663	.$193d	DEC TMP_ZP+1
2664	.$193f	ADNOPV1N1 LDY #0
2665	.$1941	LDA (TMP_ZP),Y
2666	.$1943	BNE ADNOGOSUB
2667	.$1945	RTS    
2668	.$1946	ADNOGOSUB
2669	.$1946	INY
2670	.$1947	LDA TMP_ZP
2671	.$1949	SEC
2672	.$194a	SBC (TMP_ZP),Y
2673	.$194c	STA TMP_ZP
2674	.$194e	BCS ADNOPV1N2
2675	.$1950	DEC TMP_ZP+1
2676	.$1952	ADNOPV1N2 DEY
2677	.$1953	LDA A_REG
2678	.$1956	ADCMPFOR CMP (TMP_ZP),Y
2679	.$1958	BNE ADSEARCHFOR
2680	.$195a	LDA A_REG+1
2681	.$195d	INY
2682	.$195e	CMP (TMP_ZP),Y
2683	.$1960	BEQ ADFOUNDFOR
2684	.$1962	JMP ADSEARCHFOR
2685	.$1965	ADLOW0  LDX A_REG+1
2686	.$1968	BEQ ADFOUNDFOR
2687	.$196a	BNE ADCMPFOR
2688	.$196c	ADFOUNDFOR LDA TMP_ZP  
2689	.$196e	STA FORSTACKP
2690	.$1971	LDA TMP_ZP+1
2691	.$1973	STA FORSTACKP+1
2692	.$1976	RTS
2695	.$1977	INITFOR  JSR ADJUSTSTACK
2696	.$197a	LDA FORSTACKP
2697	.$197d	STA TMP_ZP
2698	.$197f	LDA FORSTACKP+1
2699	.$1982	STA TMP_ZP+1
2700	.$1984	LDY #0
2701	.$1986	LDA A_REG
2702	.$1989	STA (TMP_ZP),Y
2703	.$198b	INY
2704	.$198c	LDA A_REG+1
2705	.$198f	STA (TMP_ZP),Y
2706	.$1991	INY
2707	.$1992	LDA JUMP_TARGET
2708	.$1994	STA (TMP_ZP),Y
2709	.$1996	INY
2710	.$1997	LDA JUMP_TARGET+1
2711	.$1999	STA (TMP_ZP),Y
2712	.$199b	INY
2713	.$199c	STY TMP3_ZP
2714	.$199e	JSR INCTMPZP
2715	.$19a1	JSR POPREAL
2716	.$19a4	LDX TMP_ZP
2717	.$19a6	LDY TMP_ZP+1
2719	.$19a8	JSR FACMEM
2720	.$19ab	JSR SGNFAC
2721	.$19ae	STA TMP_FLAG
2722	.$19b1	LDY #5
2723	.$19b3	STY TMP3_ZP
2724	.$19b5	JSR INCTMPZP
2725	.$19b8	JSR POPREAL
2726	.$19bb	LDX TMP_ZP
2727	.$19bd	LDY TMP_ZP+1
2729	.$19bf	JSR FACMEM
2730	.$19c2	LDY #5
2731	.$19c4	STY TMP3_ZP
2732	.$19c6	JSR INCTMPZP
2733	.$19c9	LDY #0
2734	.$19cb	LDA TMP_FLAG
2735	.$19ce	STA (TMP_ZP),Y
2736	.$19d0	INY
2737	.$19d1	LDA #1
2738	.$19d3	STA (TMP_ZP),Y
2739	.$19d5	INY
2740	.$19d6	LDA #15
2741	.$19d8	STA (TMP_ZP),Y
2742	.$19da	LDY #3
2743	.$19dc	STY TMP3_ZP
2744	.$19de	JSR INCTMPZP
2745	.$19e1	LDA TMP_ZP
2746	.$19e3	STA FORSTACKP
2747	.$19e6	LDA TMP_ZP+1
2748	.$19e8	STA FORSTACKP+1
2749	.$19eb	RTS
2752	.$19ec	NEXT  LDA FORSTACKP
2753	.$19ef	STA TMP_ZP
2754	.$19f1	LDA FORSTACKP+1
2755	.$19f4	STA TMP_ZP+1
2756	.$19f6	SEARCHFOR LDA TMP_ZP+1
2757	.$19f8	STA TMP3_REG+1
2758	.$19fb	LDA TMP_ZP
2759	.$19fd	STA TMP3_REG
2760	.$1a00	SEC
2761	.$1a01	SBC #2
2762	.$1a03	STA TMP_ZP
2763	.$1a05	BCS NOPV1N1
2764	.$1a07	DEC TMP_ZP+1
2765	.$1a09	NOPV1N1  LDY #0
2766	.$1a0b	LDA (TMP_ZP),Y
2767	.$1a0d	BNE NOGOSUB
2768	.$1a0f	JMP NEXTWOFOR
2769	.$1a12	NOGOSUB
2770	.$1a12	INY
2771	.$1a13	LDA TMP_ZP
2772	.$1a15	SEC
2773	.$1a16	SBC (TMP_ZP),Y
2774	.$1a18	STA TMP_ZP
2775	.$1a1a	BCS NOPV1N2
2776	.$1a1c	DEC TMP_ZP+1
2777	.$1a1e	NOPV1N2  DEY
2778	.$1a1f	LDA A_REG
2779	.$1a22	BEQ LOW0
2780	.$1a24	CMPFOR  CMP (TMP_ZP),Y
2781	.$1a26	BNE SEARCHFOR
2782	.$1a28	LDA A_REG+1
2783	.$1a2b	INY
2784	.$1a2c	CMP (TMP_ZP),Y
2785	.$1a2e	BEQ FOUNDFOR
2786	.$1a30	JMP SEARCHFOR
2787	.$1a33	LOW0  LDX A_REG+1
2788	.$1a36	BEQ FOUNDFOR
2789	.$1a38	BNE CMPFOR
2790	.$1a3a	FOUNDFOR LDA TMP_ZP
2791	.$1a3c	STA TMP2_REG
2792	.$1a3f	LDA TMP_ZP+1
2793	.$1a41	STA TMP2_REG+1
2794	.$1a44	VARREAL
2795	.$1a44	LDY #0
2796	.$1a46	STY A_REG+1 
2797	.$1a49	LDA (TMP_ZP),Y
2798	.$1a4b	TAX
2799	.$1a4c	INY
2800	.$1a4d	LDA (TMP_ZP),Y
2801	.$1a4f	TAY
2802	.$1a50	TXA
2803	.$1a51	JSR REALFAC
2804	.$1a54	CALCNEXT LDA TMP_ZP
2805	.$1a56	CLC
2806	.$1a57	ADC #4
2807	.$1a59	STA TMP_ZP
2808	.$1a5b	BCC NOPV2IN
2809	.$1a5d	INC TMP_ZP+1
2810	.$1a5f	NOPV2IN  STA TMP_REG
2811	.$1a61	LDY TMP_ZP+1
2812	.$1a63	STY TMP_REG+1
2813	.$1a65	JSR FASTFADDMEM
2815	.$1a68	LDA TMP2_REG
2816	.$1a6b	STA TMP_ZP
2817	.$1a6d	LDA TMP2_REG+1
2818	.$1a70	STA TMP_ZP+1
2819	.$1a72	STOREREAL
2820	.$1a72	LDY #0
2821	.$1a74	LDA (TMP_ZP),Y
2822	.$1a76	TAX
2823	.$1a77	INY
2824	.$1a78	LDA (TMP_ZP),Y
2825	.$1a7a	TAY
2826	.$1a7b	JSR FACMEM 
2827	.$1a7e	CMPFORXX LDA #5
2828	.$1a80	STA TMP3_ZP
2829	.$1a82	LDA TMP_REG
2830	.$1a84	CLC
2831	.$1a85	ADC #5
2832	.$1a87	STA TMP_REG
2833	.$1a89	BCC NOPV3
2834	.$1a8b	INC TMP_REG+1
2835	.$1a8d	NOPV3  LDY TMP_REG+1
2836	.$1a8f	JSR CMPFAC  
2837	.$1a92	BEQ LOOPING
2838	.$1a94	PHA
2839	.$1a95	LDY #14
2840	.$1a97	LDA (TMP_ZP),Y
2841	.$1a99	BEQ STEPZERO
2842	.$1a9b	ROL
2843	.$1a9c	BCC STEPPOS
2844	.$1a9e	STEPNEG  PLA
2845	.$1a9f	ROL
2846	.$1aa0	BCC LOOPING
2847	.$1aa2	BCS EXITLOOP
2848	.$1aa4	STEPPOS  PLA
2849	.$1aa5	ROL
2850	.$1aa6	BCC EXITLOOP
2851	.$1aa8	LOOPING  LDA TMP3_REG
2852	.$1aab	STA FORSTACKP
2853	.$1aae	LDA TMP3_REG+1
2854	.$1ab1	STA FORSTACKP+1
2855	.$1ab4	LDA TMP2_REG
2856	.$1ab7	CLC
2857	.$1ab8	ADC #2
2858	.$1aba	STA TMP2_REG
2859	.$1abd	BCC NOPV4IN
2860	.$1abf	INC TMP2_REG+1
2861	.$1ac2	NOPV4IN  LDY #0
2862	.$1ac4	STY A_REG
2863	.$1ac7	STA TMP_ZP
2864	.$1ac9	LDA TMP2_REG+1
2865	.$1acc	STA TMP_ZP+1
2866	.$1ace	LDA (TMP_ZP),Y
2867	.$1ad0	STA JUMP_TARGET
2868	.$1ad2	INY
2869	.$1ad3	LDA (TMP_ZP),Y
2870	.$1ad5	STA JUMP_TARGET+1
2871	.$1ad7	RTS
2872	.$1ad8	STEPZERO PLA
2873	.$1ad9	JMP LOOPING
2874	.$1adc	EXITLOOP LDA TMP2_REG
2875	.$1adf	STA FORSTACKP
2876	.$1ae2	LDA TMP2_REG+1
2877	.$1ae5	STA FORSTACKP+1
2878	.$1ae8	LDA #1
2879	.$1aea	STA A_REG
2880	.$1aed	RTS
2883	.$1aee	RETURN  LDA FORSTACKP
2884	.$1af1	STA TMP_ZP
2885	.$1af3	LDA FORSTACKP+1
2886	.$1af6	STA TMP_ZP+1
2887	.$1af8	SEARCHGOSUB LDA TMP_ZP
2888	.$1afa	SEC
2889	.$1afb	SBC #2
2890	.$1afd	STA TMP_ZP
2891	.$1aff	BCS NOPV1SG
2892	.$1b01	DEC TMP_ZP+1
2893	.$1b03	NOPV1SG  LDY #0
2894	.$1b05	LDA (TMP_ZP),Y
2895	.$1b07	BEQ FOUNDGOSUB
2896	.$1b09	INY
2897	.$1b0a	LDA (TMP_ZP),Y
2898	.$1b0c	STA TMP3_ZP
2899	.$1b0e	LDA TMP_ZP
2900	.$1b10	SEC
2901	.$1b11	SBC (TMP_ZP),Y
2902	.$1b13	STA TMP_ZP
2903	.$1b15	BCS NOPV1GS
2904	.$1b17	DEC TMP_ZP+1
2905	.$1b19	NOPV1GS  JMP SEARCHGOSUB
2906	.$1b1c	FOUNDGOSUB
2907	.$1b1c	LDA TMP_ZP
2908	.$1b1e	STA FORSTACKP
2909	.$1b21	LDA TMP_ZP+1
2910	.$1b23	STA FORSTACKP+1
2911	.$1b26	RTS
2914	.$1b27	GOSUB  LDA FORSTACKP
2915	.$1b2a	STA TMP_ZP
2916	.$1b2c	LDA FORSTACKP+1
2917	.$1b2f	STA TMP_ZP+1
2918	.$1b31	LDY #0
2919	.$1b33	TYA
2920	.$1b34	STA (TMP_ZP),Y
2921	.$1b36	INY
2922	.$1b37	STA (TMP_ZP),Y
2923	.$1b39	INY
2924	.$1b3a	TYA
2925	.$1b3b	CLC
2926	.$1b3c	ADC TMP_ZP
2927	.$1b3e	STA FORSTACKP
2928	.$1b41	BCC GOSUBNOOV
2929	.$1b43	INC FORSTACKP+1
2930	.$1b46	GOSUBNOOV RTS
2933	.$1b47	QUEUESIZE LDY INPUTQUEUEP
2934	.$1b4a	LDA #0
2935	.$1b4c	JSR INTFAC
2936	.$1b4f	JMP FACXREG
2939	.$1b52	CLEARQUEUE LDA #$0
2940	.$1b54	STA INPUTQUEUEP
2941	.$1b57	RTS
2944	.$1b58	CLEANINPUT LDY #0    
2945	.$1b5a	LDX #0
2946	.$1b5c	STY STORE1   
2947	.$1b5f	STY STORE2   
2948	.$1b62	DEY
2949	.$1b63	CILOOP  INY
2950	.$1b64	LDA $0200,Y
2951	.$1b67	BNE CINOEND
2952	.$1b69	JMP CIEND   
2953	.$1b6c	CINOEND  STA STORE3   
2954	.$1b6f	LDA STORE1
2955	.$1b72	BEQ CINOQUOTE  
2956	.$1b74	LDA STORE3
2957	.$1b77	CMP #$22   
2958	.$1b79	BNE CISTILLQUOTE 
2959	.$1b7b	LDA #0    
2960	.$1b7d	STA STORE1
2961	.$1b80	JMP CILOOP
2962	.$1b83	CISTILLQUOTE
2963	.$1b83	STA $0200,X
2964	.$1b86	INX
2965	.$1b87	JMP CILOOP
2966	.$1b8a	CINOQUOTE LDA STORE3
2967	.$1b8d	CMP #$22
2968	.$1b8f	BNE CISOMECHAR  
2969	.$1b91	CIFIRSTCHAR LDA #1    
2970	.$1b93	STA STORE1   
2971	.$1b96	STA STORE2   
2972	.$1b99	JMP CILOOP
2973	.$1b9c	CISOMECHAR  CMP #$3A   
2974	.$1b9e	BNE CINOCOLON
2975	.$1ba0	JMP CIEND
2976	.$1ba3	CINOCOLON CMP #$2C   
2977	.$1ba5	BNE CINOCOMMA
2978	.$1ba7	LDA #$22   
2979	.$1ba9	STA $0200,X
2980	.$1bac	INX
2981	.$1bad	LDA #0
2982	.$1baf	STA STORE2   
2983	.$1bb2	JMP CILOOP
2984	.$1bb5	CINOCOMMA CMP #$20   
2985	.$1bb7	BNE CINOSPACE
2986	.$1bb9	LDA STORE2   
2987	.$1bbc	BEQ CINEXT   
2988	.$1bbe	LDA STORE3
2989	.$1bc1	CINOSPACE STA $0200,X
2990	.$1bc4	STA STORE2   
2991	.$1bc7	INX
2992	.$1bc8	CINEXT  JMP CILOOP
2993	.$1bcb	CIEND  LDA #0
2994	.$1bcd	STA $0200,X   
2995	.$1bd0	RTS     
2998	.$1bd1	QMARKOUT1 LDA #1
2999	.$1bd3	STA TMP_ZP
3000	.$1bd5	JMP QMARKOUT
3003	.$1bd8	QMARKOUT LDA IOCHANNEL    
3004	.$1bda	BNE NOQMARK
3005	.$1bdc	JSR REROUTE
3006	.$1bdf	LDA #63
3007	.$1be1	LDY TMP_ZP
3008	.$1be3	CPY #2    
3009	.$1be5	BNE ONEQMARK
3010	.$1be7	JSR CHROUT
3011	.$1bea	ONEQMARK JSR CHROUT
3012	.$1bed	LDA #32
3013	.$1bef	JSR CHROUT
3014	.$1bf2	JMP RESETROUTE
3015	.$1bf5	NOQMARK  RTS
3018	.$1bf6	INPUTSTR LDA #$0
3019	.$1bf8	INPUTSTR2 STA TMP_REG+1
3020	.$1bfa	LDA #$0
3021	.$1bfc	STX INPUTLENGTH
3022	.$1bff	STA TMP_REG
3023	.$1c01	STA TMP_FLAG
3024	.$1c04	LDX INPUTQUEUEP
3025	.$1c07	BEQ INPUTNORM
3026	.$1c09	LDA #LOFBUF
3027	.$1c0b	LDX #$1
3028	.$1c0d	CLC
3029	.$1c0e	ADC INPUTQUEUE
3030	.$1c11	STA TMP_ZP
3031	.$1c13	BCC INNONO
3032	.$1c15	LDX #$2
3033	.$1c17	INNONO  STX TMP_ZP+1
3034	.$1c19	DEC INPUTQUEUEP  
3035	.$1c1c	LDY INPUTQUEUE  
3036	.$1c1f	STY TMP_REG   
3037	.$1c21	DEY
3038	.$1c22	LDX #$0
3039	.$1c24	SHRINKQ  LDA INPUTQUEUEP
3040	.$1c27	BEQ QUEUEEMPTY
3041	.$1c29	INX
3042	.$1c2a	LDA INPUTQUEUE,X 
3043	.$1c2d	DEX
3044	.$1c2e	STA INPUTQUEUE,X
3045	.$1c31	INX
3046	.$1c32	CPX INPUTQUEUEP
3047	.$1c35	BNE SHRINKQ
3048	.$1c37	QUEUEEMPTY JMP ISTRLOOP
3049	.$1c3a	INPUTNORM AND #$FF
3050	.$1c3c	JSR INPUT
3051	.$1c3f	JSR CLEANINPUT
3052	.$1c42	LDA #LOFBUF
3053	.$1c44	STA TMP_ZP
3054	.$1c46	LDA #$1
3055	.$1c48	STA TMP_ZP+1
3056	.$1c4a	LDY #0
3057	.$1c4c	DEY
3058	.$1c4d	ISTRLOOP INY
3059	.$1c4e	LDA INPUTBUF,Y
3060	.$1c51	TAX
3061	.$1c52	CMP #$22   
3062	.$1c54	BNE ICHECK
3063	.$1c56	STA TMP_FLAG
3064	.$1c59	LDA #$0
3065	.$1c5b	STA INPUTBUF,Y   
3066	.$1c5e	LDX INPUTQUEUEP  
3067	.$1c61	BNE INQUEUENE  
3068	.$1c63	STA INPUTQUEUE  
3069	.$1c66	INX
3070	.$1c67	INQUEUENE INY
3071	.$1c68	TYA
3072	.$1c69	STA INPUTQUEUE,X 
3073	.$1c6c	INX
3074	.$1c6d	STX INPUTQUEUEP  
3075	.$1c70	JMP ISTRLOOP  
3076	.$1c73	ICHECK  TXA     
3077	.$1c74	BNE ISTRLOOP  
3078	.$1c76	LDA TMP_FLAG
3079	.$1c79	BEQ ISIMPLECOPY
3080	.$1c7b	JMP INPUTSTR
3081	.$1c7e	ISIMPLECOPY TYA
3082	.$1c7f	SEC
3083	.$1c80	SBC TMP_REG
3084	.$1c82	LDY #0
3085	.$1c84	STA (TMP_ZP),Y
3086	.$1c86	TAX    
3087	.$1c87	STX INPUTLENGTH
3088	.$1c8a	LDA TMP_REG+1 
3089	.$1c8c	BEQ INISSTR
3090	.$1c8e	RTS
3091	.$1c8f	INISSTR  LDA #<A_REG
3092	.$1c91	LDY #>A_REG
3093	.$1c93	STA TMP2_ZP
3094	.$1c95	STY TMP2_ZP+1
3095	.$1c97	JSR COPYONLY
3096	.$1c9a	RTS
3099	.$1c9b	GETADOLLAR JSR GETSTR  
3100	.$1c9e	LDA A_REG
3101	.$1ca1	LDY A_REG+1
3102	.$1ca4	STA TMP_ZP
3103	.$1ca6	STY TMP_ZP+1
3104	.$1ca8	LDA #<VAR_A$
3105	.$1caa	LDY #>VAR_A$
3106	.$1cac	JMP COPYSTRING
3109	.$1caf	GETSTR  LDA #8
3110	.$1cb1	LDY #0
3111	.$1cb3	JSR COMPACTF
3112	.$1cb6	LDY #0
3113	.$1cb8	STY CMD_NUM  
3114	.$1cbb	JSR GETIN
3115	.$1cbe	CMP #0   
3116	.$1cc0	BNE SOMEKEY
3117	.$1cc2	NOKEY  LDA #<EMPTYSTR
3118	.$1cc4	STA A_REG
3119	.$1cc7	LDA #>EMPTYSTR
3120	.$1cc9	STA A_REG+1
3121	.$1ccc	RTS
3122	.$1ccd	SOMEKEY  TAX
3123	.$1cce	LDA STRBUFP
3124	.$1cd1	STA TMP_ZP
3125	.$1cd3	STA A_REG
3126	.$1cd6	LDA STRBUFP+1
3127	.$1cd9	STA TMP_ZP+1
3128	.$1cdb	STA A_REG+1
3129	.$1cde	LDA #1
3130	.$1ce0	LDY #0
3131	.$1ce2	STA (TMP_ZP),Y
3132	.$1ce4	TXA
3133	.$1ce5	LDY #1
3134	.$1ce7	STA (TMP_ZP),Y
3135	.$1ce9	LDA STRBUFP
3136	.$1cec	CLC
3137	.$1ced	ADC #2
3138	.$1cef	STA STRBUFP
3139	.$1cf2	BCC GETSTR1
3140	.$1cf4	INC STRBUFP+1
3141	.$1cf7	GETSTR1  RTS
3144	.$1cf8	ZEROSET  LDA #0
3145	.$1cfa	STA X_REG
3146	.$1cfc	STA X_REG+1
3147	.$1cfe	STA X_REG+2
3148	.$1d00	STA X_REG+3
3149	.$1d02	STA X_REG+4
3150	.$1d04	RTS
3153	.$1d05	SEQ   JSR CMPSTR
3154	.$1d08	LDA TMP3_ZP
3155	.$1d0a	BNE NOTSEQ
3156	.$1d0c	LDA #<REAL_CONST_MINUS_ONE
3157	.$1d0e	STA TMP3_ZP
3158	.$1d10	LDA #>REAL_CONST_MINUS_ONE
3159	.$1d12	STA TMP3_ZP+1
3160	.$1d14	JMP COPY2_XY_XREG
3161	.$1d17	NOTSEQ  JMP ZEROSET
3164	.$1d1a	CMPSTR  LDY #0   
3165	.$1d1c	LDX #1
3166	.$1d1e	LDA A_REG
3167	.$1d21	STA TMP_ZP
3168	.$1d23	LDA A_REG+1
3169	.$1d26	STA TMP_ZP+1
3170	.$1d28	LDA B_REG
3171	.$1d2b	STA TMP2_ZP
3172	.$1d2d	LDA B_REG+1
3173	.$1d30	STA TMP2_ZP+1
3174	.$1d32	CMP TMP_ZP+1
3175	.$1d34	BNE CMPSTRSK1
3176	.$1d36	LDA TMP2_ZP
3177	.$1d38	CMP TMP_ZP
3178	.$1d3a	BNE CMPSTRSK1
3179	.$1d3c	LDX #0
3180	.$1d3e	JMP STRCMPRES
3181	.$1d41	CMPSTRSK1 LDA (TMP_ZP),Y
3182	.$1d43	CMP (TMP2_ZP),Y
3183	.$1d45	BNE STRCMPRES
3184	.$1d47	TAX
3185	.$1d48	BNE NOTZCTR
3186	.$1d4a	LDX #0
3187	.$1d4c	JMP STRCMPRES
3188	.$1d4f	NOTZCTR  INC TMP_ZP
3189	.$1d51	BNE SCSKP1
3190	.$1d53	INC TMP_ZP+1
3191	.$1d55	SCSKP1  INC TMP2_ZP
3192	.$1d57	BNE CMPSTRLOOP
3193	.$1d59	INC TMP2_ZP+1
3194	.$1d5b	CMPSTRLOOP LDA (TMP_ZP),Y
3195	.$1d5d	CMP (TMP2_ZP),Y
3196	.$1d5f	BNE STRCMPRES
3197	.$1d61	INY
3198	.$1d62	DEX
3199	.$1d63	BNE CMPSTRLOOP
3200	.$1d65	STRCMPRES STX TMP3_ZP
3201	.$1d67	RTS
3204	.$1d68	REALFACPUSH STA TMP_ZP
3205	.$1d6a	STY TMP_ZP+1
3206	.$1d6c	LDX FPSTACKP
3207	.$1d6f	LDY FPSTACKP+1
3208	.$1d72	STX TMP2_ZP
3209	.$1d74	STY TMP2_ZP+1
3210	.$1d76	LDY #0
3211	.$1d78	LDA (TMP_ZP),Y
3212	.$1d7a	STA (TMP2_ZP),Y
3213	.$1d7c	INY
3214	.$1d7d	LDA (TMP_ZP),Y
3215	.$1d7f	STA (TMP2_ZP),Y
3216	.$1d81	INY
3217	.$1d82	LDA (TMP_ZP),Y
3218	.$1d84	STA (TMP2_ZP),Y
3219	.$1d86	INY
3220	.$1d87	LDA (TMP_ZP),Y
3221	.$1d89	STA (TMP2_ZP),Y
3222	.$1d8b	INY
3223	.$1d8c	LDA (TMP_ZP),Y
3224	.$1d8e	STA (TMP2_ZP),Y
3225	.$1d90	TXA    
3226	.$1d91	CLC
3227	.$1d92	ADC #5
3228	.$1d94	STA FPSTACKP
3229	.$1d97	BCC NOPVRFPXX
3230	.$1d99	INC FPSTACKP+1
3231	.$1d9c	NOPVRFPXX RTS
3234	.$1d9d	REALFACPUSHXREG
3235	.$1d9d	LDX FPSTACKP
3236	.$1da0	LDY FPSTACKP+1
3237	.$1da3	STX TMP2_ZP
3238	.$1da5	STY TMP2_ZP+1
3239	.$1da7	LDY #0
3240	.$1da9	LDA X_REG
3241	.$1dab	STA (TMP2_ZP),Y
3242	.$1dad	INY
3243	.$1dae	LDA X_REG+1
3244	.$1db0	STA (TMP2_ZP),Y
3245	.$1db2	INY
3246	.$1db3	LDA X_REG+2
3247	.$1db5	STA (TMP2_ZP),Y
3248	.$1db7	INY
3249	.$1db8	LDA X_REG+3
3250	.$1dba	STA (TMP2_ZP),Y
3251	.$1dbc	INY
3252	.$1dbd	LDA X_REG+4
3253	.$1dbf	STA (TMP2_ZP),Y
3254	.$1dc1	TXA    
3255	.$1dc2	CLC
3256	.$1dc3	ADC #5
3257	.$1dc5	STA FPSTACKP
3258	.$1dc8	BCC NOPVRFPXXXREG
3259	.$1dca	INC FPSTACKP+1
3260	.$1dcd	NOPVRFPXXXREG
3261	.$1dcd	RTS
3264	.$1dce	PUSHREAL LDX FPSTACKP
3265	.$1dd1	LDY FPSTACKP+1
3266	.$1dd4	JSR FACMEM
3267	.$1dd7	LDA FPSTACKP
3268	.$1dda	CLC
3269	.$1ddb	ADC #5
3270	.$1ddd	STA FPSTACKP
3271	.$1de0	BCC NOPVPUR
3272	.$1de2	INC FPSTACKP+1
3273	.$1de5	NOPVPUR  RTS
3276	.$1de6	POPREAL2X LDA FPSTACKP
3277	.$1de9	SEC
3278	.$1dea	SBC #5
3279	.$1dec	STA FPSTACKP
3280	.$1def	BCS NOPVPR2X
3281	.$1df1	DEC FPSTACKP+1
3282	.$1df4	NOPVPR2X LDA FPSTACKP
3283	.$1df7	LDY FPSTACKP+1
3284	.$1dfa	JSR REALFAC
3285	.$1dfd	JSR XREGARG
3286	.$1e00	RTS
3289	.$1e01	POPREAL  LDA FPSTACKP
3290	.$1e04	SEC
3291	.$1e05	SBC #5
3292	.$1e07	STA FPSTACKP
3293	.$1e0a	BCS NOPVPR
3294	.$1e0c	DEC FPSTACKP+1
3295	.$1e0f	NOPVPR  LDA FPSTACKP
3296	.$1e12	LDY FPSTACKP+1
3297	.$1e15	JMP REALFAC
3300	.$1e18	INCTMPZP LDA TMP_ZP
3301	.$1e1a	CLC
3302	.$1e1b	ADC TMP3_ZP
3303	.$1e1d	STA TMP_ZP
3304	.$1e1f	BCC NOPV2
3305	.$1e21	INC TMP_ZP+1
3306	.$1e23	NOPV2  RTS
3309	.$1e24	COPY2_XYA STA TMP3_ZP
3310	.$1e26	COPY2_XY STX TMP_ZP
3311	.$1e28	STY TMP_ZP+1
3312	.$1e2a	COPY3_XY LDY #0
3313	.$1e2c	LDA (TMP3_ZP),Y
3314	.$1e2e	STA (TMP_ZP),Y
3315	.$1e30	INY
3316	.$1e31	LDA (TMP3_ZP),Y
3317	.$1e33	STA (TMP_ZP),Y
3318	.$1e35	INY
3319	.$1e36	LDA (TMP3_ZP),Y
3320	.$1e38	STA (TMP_ZP),Y
3321	.$1e3a	INY
3322	.$1e3b	LDA (TMP3_ZP),Y
3323	.$1e3d	STA (TMP_ZP),Y
3324	.$1e3f	INY
3325	.$1e40	LDA (TMP3_ZP),Y
3326	.$1e42	STA (TMP_ZP),Y
3327	.$1e44	RTS
3330	.$1e45	COPY2_XYA_XREG
3331	.$1e45	STA TMP3_ZP
3332	.$1e47	STY TMP3_ZP+1
3333	.$1e49	COPY2_XY_XREG
3334	.$1e49	LDX #<X_REG  
3335	.$1e4b	LDY #0
3336	.$1e4d	LDA (TMP3_ZP),Y
3337	.$1e4f	STA X_REG
3338	.$1e51	INY
3339	.$1e52	LDA (TMP3_ZP),Y
3340	.$1e54	STA X_REG+1
3341	.$1e56	INY
3342	.$1e57	LDA (TMP3_ZP),Y
3343	.$1e59	STA X_REG+2
3344	.$1e5b	INY
3345	.$1e5c	LDA (TMP3_ZP),Y
3346	.$1e5e	STA X_REG+3
3347	.$1e60	INY
3348	.$1e61	LDA (TMP3_ZP),Y
3349	.$1e63	STA X_REG+4
3350	.$1e65	RTS
3353	.$1e66	COPY2_XYA_CREG
3354	.$1e66	STA TMP3_ZP
3355	.$1e68	STY TMP3_ZP+1
3356	.$1e6a	COPY2_XY_CREG
3357	.$1e6a	LDX #<C_REG  
3358	.$1e6c	LDY #0
3359	.$1e6e	LDA (TMP3_ZP),Y
3360	.$1e70	STA C_REG
3361	.$1e73	INY
3362	.$1e74	LDA (TMP3_ZP),Y
3363	.$1e76	STA C_REG+1
3364	.$1e79	INY
3365	.$1e7a	LDA (TMP3_ZP),Y
3366	.$1e7c	STA C_REG+2
3367	.$1e7f	INY
3368	.$1e80	LDA (TMP3_ZP),Y
3369	.$1e82	STA C_REG+3
3370	.$1e85	INY
3371	.$1e86	LDA (TMP3_ZP),Y
3372	.$1e88	STA C_REG+4
3373	.$1e8b	RTS
3376	.$1e8c	COPY2_XYA_YREG
3377	.$1e8c	STA TMP3_ZP
3378	.$1e8e	STY TMP3_ZP+1
3379	.$1e90	COPY2_XY_YREG
3380	.$1e90	LDX #<Y_REG  
3381	.$1e92	LDY #0
3382	.$1e94	LDA (TMP3_ZP),Y
3383	.$1e96	STA Y_REG
3384	.$1e99	INY
3385	.$1e9a	LDA (TMP3_ZP),Y
3386	.$1e9c	STA Y_REG+1
3387	.$1e9f	INY
3388	.$1ea0	LDA (TMP3_ZP),Y
3389	.$1ea2	STA Y_REG+2
3390	.$1ea5	INY
3391	.$1ea6	LDA (TMP3_ZP),Y
3392	.$1ea8	STA Y_REG+3
3393	.$1eab	INY
3394	.$1eac	LDA (TMP3_ZP),Y
3395	.$1eae	STA Y_REG+4
3396	.$1eb1	RTS
3399	.$1eb2	COPY_XREG2YREG
3400	.$1eb2	LDA X_REG
3401	.$1eb4	STA Y_REG
3402	.$1eb7	LDA X_REG+1
3403	.$1eb9	STA Y_REG+1
3404	.$1ebc	LDA X_REG+2
3405	.$1ebe	STA Y_REG+2
3406	.$1ec1	LDA X_REG+3
3407	.$1ec3	STA Y_REG+3
3408	.$1ec6	LDA X_REG+4
3409	.$1ec8	STA Y_REG+4
3410	.$1ecb	RTS
3414	.$1ecc	FACWORD
3415	.$1ecc	LDA FACEXP   
3416	.$1ece	BNE DOFACWORD
3417	.$1ed0	STA FACSGN   
3418	.$1ed2	DOFACWORD:
3419	.$1ed2	JMP XFACWORD
3423	.$1ed5	ONETOFAC    LDX #129
3424	.$1ed7	STX FAC
3425	.$1ed9	DEX
3426	.$1eda	STX FAC+1
3427	.$1edc	LDX #0
3428	.$1ede	STX FAC+2
3429	.$1ee0	STX FAC+3
3430	.$1ee2	STX FAC+4
3431	.$1ee4	STX FAC+5
3432	.$1ee6	STX FAC+15
3433	.$1ee8	RTS
3436	.$1ee9	FASTAND  LDA ARGEXP   
3437	.$1eeb	BNE CHECKFAC
3438	.$1eed	STA FACSGN   
3439	.$1eef	STA FACLO
3440	.$1ef1	STA FACMO
3441	.$1ef3	STA FACMOH
3442	.$1ef5	STA FACHO
3443	.$1ef7	STA FACEXP
3444	.$1ef9	RTS
3445	.$1efa	CHECKFAC LDA FACEXP   
3446	.$1efc	BNE FACNOTNULL
3447	.$1efe	STA FACSGN   
3448	.$1f00	RTS    
3449	.$1f01	FACNOTNULL CMP #$81
3450	.$1f03	BNE NORMALAND
3451	.$1f05	LDA FACHO
3452	.$1f07	CMP #$80
3453	.$1f09	BNE NORMALAND
3454	.$1f0b	LDA FACMOH
3455	.$1f0d	BNE NORMALAND
3456	.$1f0f	LDA FACMO
3457	.$1f11	BNE NORMALAND
3458	.$1f13	LDA FACLO
3459	.$1f15	BNE NORMALAND
3460	.$1f17	LDA FACSGN
3461	.$1f19	ROL
3462	.$1f1a	BCC NORMALAND
3463	.$1f1c	LDA ARGEXP   
3464	.$1f1e	CMP #$81
3465	.$1f20	BNE NORMALAND
3466	.$1f22	LDA ARGHO
3467	.$1f24	CMP #$80
3468	.$1f26	BNE NORMALAND
3469	.$1f28	LDA ARGMOH
3470	.$1f2a	BNE NORMALAND
3471	.$1f2c	LDA ARGMO
3472	.$1f2e	BNE NORMALAND
3473	.$1f30	LDA ARGLO
3474	.$1f32	BNE NORMALAND
3475	.$1f34	LDA ARGSGN
3476	.$1f36	ROL
3477	.$1f37	BCC NORMALAND
3478	.$1f39	RTS    
3479	.$1f3a	NORMALAND JMP ARGAND
3482	.$1f3d	INITOUTCHANNEL
3483	.$1f3d	LDA CHLOCKFLAG
3484	.$1f40	BEQ INITOUT2
3485	.$1f42	CMP #$FF
3486	.$1f44	BNE SKIPINITCH
3487	.$1f46	INITOUT2
3488	.$1f46	LDA #<C_REG
3489	.$1f48	LDY #>C_REG
3490	.$1f4a	JSR REALFAC
3491	.$1f4d	JSR FACWORD
3492	.$1f50	TYA
3493	.$1f51	TAX
3494	.$1f52	CPX CMD_NUM
3495	.$1f55	BNE CMDNEQUAL
3496	.$1f57	LDY #0
3497	.$1f59	STY CMD_NUM   
3498	.$1f5c	CMDNEQUAL STA CHANNEL
3499	.$1f5f	STA CHLOCKFLAG
3500	.$1f62	JMP CHKOUT
3501	.$1f65	SKIPINITCH
3502	.$1f65	RTS
3505	.$1f66	CLRCHNEW
3506	.$1f66	LDA CHLOCKFLAG
3507	.$1f69	BNE SKIPCLRCH
3508	.$1f6b	JMP CLRCH
3509	.$1f6e	SKIPCLRCH
3510	.$1f6e	RTS
3513	.$1f6f	INPUTLENGTHCHECK LDA INPUTLENGTH
3514	.$1f72	RTS
3517	.$1f73	TABCHANNEL
3518	.$1f73	JSR INITOUTCHANNEL
3519	.$1f76	TABCHANNELINT
3520	.$1f76	LDA CHANNEL
3521	.$1f79	CMP #3  
3522	.$1f7b	BEQ TABSCREEN
3523	.$1f7d	TABCHANNEL2 LDA IOCHANNEL
3524	.$1f7f	STA STORE1
3525	.$1f82	LDA #1
3526	.$1f84	STA IOCHANNEL  
3527	.$1f86	JSR YREGFAC
3528	.$1f89	JSR FACWORD
3529	.$1f8c	TYA
3530	.$1f8d	TAX
3531	.$1f8e	JMP EXITCHANNEL
3532	.$1f91	TABSCREEN
3533	.$1f91	JSR CLRCHNEW
3534	.$1f94	JMP TAB
3537	.$1f97	EXITCHANNEL CLC
3538	.$1f98	JSR TABSPC
3539	.$1f9b	JSR CLRCHNEW
3540	.$1f9e	LDA STORE1
3541	.$1fa1	STA IOCHANNEL
3542	.$1fa3	RTS
3545	.$1fa4	NEXTWOFOR
3549	.$1fa4	LDX #$0A
3550	.$1fa6	JMP ERRALL
3553	.$1fa9	OUTOFMEMORY
3557	.$1fa9	LDX #$10
3558	.$1fab	JMP ERRALL
3561	.$1fae	STRINGTOOLONG
3565	.$1fae	LDX #$17
3566	.$1fb0	JMP ERRALL
3569	.$1fb3	ILLEGALQUANTITY
3573	.$1fb3	JMP ERRIQ
3576	.$1fb6	EXTRAIGNORED
3580	.$1fb6	JMP ERREI
3583	.$1fb9	FACXREG  LDA FACLO
3584	.$1fbb	STA X_REG+4
3585	.$1fbd	LDA FACMO
3586	.$1fbf	STA X_REG+3
3587	.$1fc1	LDA FACMOH
3588	.$1fc3	STA X_REG+2
3589	.$1fc5	LDA FACSGN
3590	.$1fc7	ORA #$7F
3591	.$1fc9	AND FACHO
3592	.$1fcb	STA X_REG+1
3593	.$1fcd	LDA FACEXP
3594	.$1fcf	STA X_REG
3595	.$1fd1	LDA #0   
3596	.$1fd3	STA FACOV
3597	.$1fd5	RTS
3600	.$1fd6	FACYREG  LDA FACLO
3601	.$1fd8	STA Y_REG+4
3602	.$1fdb	LDA FACMO
3603	.$1fdd	STA Y_REG+3
3604	.$1fe0	LDA FACMOH
3605	.$1fe2	STA Y_REG+2
3606	.$1fe5	LDA FACSGN
3607	.$1fe7	ORA #$7F
3608	.$1fe9	AND FACHO
3609	.$1feb	STA Y_REG+1
3610	.$1fee	LDA FACEXP
3611	.$1ff0	STA Y_REG
3612	.$1ff3	LDA #0   
3613	.$1ff5	STA FACOV
3614	.$1ff7	RTS
3617	.$1ff8	XREGFAC  LDA X_REG+4
3618	.$1ffa	STA FACLO
3619	.$1ffc	LDA X_REG+3
3620	.$1ffe	STA FACMO
3621	.$2000	LDA X_REG+2
3622	.$2002	STA FACMOH
3623	.$2004	LDA X_REG+1
3624	.$2006	STA FACSGN
3625	.$2008	ORA #$80
3626	.$200a	STA FACHO
3627	.$200c	LDA X_REG
3628	.$200e	STA FACEXP
3629	.$2010	LDA #0
3630	.$2012	STA FACOV
3631	.$2014	RTS
3634	.$2015	XREGARG  LDA X_REG+4
3635	.$2017	STA ARGLO
3636	.$2019	LDA X_REG+3
3637	.$201b	STA ARGMO
3638	.$201d	LDA X_REG+2
3639	.$201f	STA ARGMOH
3640	.$2021	LDA X_REG+1
3641	.$2023	STA ARGSGN
3642	.$2025	EOR FACSGN
3643	.$2027	STA ARISGN
3644	.$2029	LDA ARGSGN
3645	.$202b	ORA #$80
3646	.$202d	STA ARGHO
3647	.$202f	LDA X_REG
3648	.$2031	STA ARGEXP
3649	.$2033	LDA FACEXP
3650	.$2035	RTS
3653	.$2036	YREGFAC  LDA Y_REG+4
3654	.$2039	STA FACLO
3655	.$203b	LDA Y_REG+3
3656	.$203e	STA FACMO
3657	.$2040	LDA Y_REG+2
3658	.$2043	STA FACMOH
3659	.$2045	LDA Y_REG+1
3660	.$2048	STA FACSGN
3661	.$204a	ORA #$80
3662	.$204c	STA FACHO
3663	.$204e	LDA Y_REG
3664	.$2051	STA FACEXP
3665	.$2053	LDA #0
3666	.$2055	STA FACOV
3667	.$2057	RTS
3781	.$2058	FASTFSUBMEM
3782	.$2058	JSR MEMARG
3783	.$205b	FASTFSUBARG
3784	.$205b	LDA FACSGN
3785	.$205d	EOR #$FF
3786	.$205f	STA FACSGN
3787	.$2061	EOR ARGSGN
3788	.$2063	STA ARISGN
3789	.$2065	LDA FACEXP
3790	.$2067	JMP FASTFADDARG
3793	.$206a	FASTFADDMEM
3794	.$206a	JSR MEMARG
3795	.$206d	FASTFADDARG
3796	.$206d	BNE FADDRET2     
3797	.$206f	JMP ARGFAC
3798	.$2072	FADDRET2 LDA ARGEXP
3799	.$2074	BNE FADDRET1     
3800	.$2076	RTS
3801	.$2077	FADDRET1 SEC
3802	.$2078	SBC FACEXP
3803	.$207a	BEQ FFADD_EXPEQ     
3804	.$207c	BCC FFADD_SHFARG1   
3808	.$207e	LDY ARGEXP
3809	.$2080	STY FACEXP
3810	.$2082	LDY ARGSGN
3811	.$2084	STY FACSGN
3812	.$2086	LDX #0
3813	.$2088	STX OLDOV        
3814	.$208a	LDX #FAC         
3816	.$208c	SEC
3817	.$208d	SBC #$08
3818	.$208f	BMI FFADD_SHFFAC2
3820	.$2091	FFADD_SHFFAC1
3821	.$2091	LDY FACLO        
3822	.$2093	STY FACOV
3823	.$2095	LDY FACMO        
3824	.$2097	STY FACMO+1
3825	.$2099	LDY FACMOH       
3826	.$209b	STY FACMOH+1
3827	.$209d	LDY FACHO        
3828	.$209f	STY FACHO+1
3829	.$20a1	LDY #0
3830	.$20a3	STY FACHO        
3831	.$20a5	SBC #$08         
3832	.$20a7	BPL FFADD_SHFFAC1   
3833	.$20a9	FFADD_SHFFAC2
3834	.$20a9	ADC #$08         
3835	.$20ab	BEQ FFADD_SHFFAC4   
3836	.$20ad	TAY
3837	.$20ae	LDA FACOV
3838	.$20b0	FFADD_SHFFAC3
3839	.$20b0	LSR FACHO        
3840	.$20b2	ROR FACMOH       
3841	.$20b4	ROR FACMO        
3842	.$20b6	ROR FACLO        
3843	.$20b8	ROR              
3844	.$20b9	DEY
3845	.$20ba	BNE FFADD_SHFFAC3
3846	.$20bc	JMP FFADD_MANADD2   
3847	.$20bf	FFADD_SHFFAC4
3848	.$20bf	LDA FACOV        
3849	.$20c1	JMP FFADD_MANADD2
3850	.$20c4	FFADD_EXPEQ
3851	.$20c4	LDX FACOV
3852	.$20c6	STX OLDOV
3855	.$20c8	JMP FFADD_MANADD1
3856	.$20cb	FFADD_SHFARG2
3857	.$20cb	LDA FACOV        
3858	.$20cd	JMP FFADD_MANADD1
3859	.$20d0	FFADD_SHFARG1
3860	.$20d0	LDX FACOV
3861	.$20d2	STX OLDOV        
3862	.$20d4	LDX #$00         
3865	.$20d6	ADC #$08
3866	.$20d8	BPL FFADD_SHFARG6   
3867	.$20da	FFADD_SHFARG3
3868	.$20da	LDX ARGLO        
3869	.$20dc	LDY ARGMO        
3870	.$20de	STY ARGMO+1
3871	.$20e0	LDY ARGMOH       
3872	.$20e2	STY ARGMOH+1
3873	.$20e4	LDY ARGHO        
3874	.$20e6	STY ARGHO+1
3875	.$20e8	LDY #0
3876	.$20ea	STY ARGHO        
3877	.$20ec	FFADD_SHFARG4
3878	.$20ec	ADC #$08
3879	.$20ee	BMI FFADD_SHFARG3
3880	.$20f0	BEQ FFADD_SHFARG3
3881	.$20f2	FFADD_SHFARG6
3882	.$20f2	SBC #$08
3883	.$20f4	BEQ FFADD_SHFARG2   
3884	.$20f6	TAY
3885	.$20f7	TXA              
3886	.$20f8	FFADD_SHFARG5
3887	.$20f8	LSR ARGHO
3888	.$20fa	ROR ARGMOH
3889	.$20fc	ROR ARGMO
3890	.$20fe	ROR ARGLO
3891	.$2100	ROR           
3892	.$2101	INY
3893	.$2102	BNE FFADD_SHFARG5
3894	.$2104	FFADD_MANADD1
3895	.$2104	LDX #ARGEXP      
3896	.$2106	FFADD_MANADD2
3897	.$2106	BIT ARISGN
3898	.$2108	BMI FFADD_MANSUB1   
3899	.$210a	CLC
3900	.$210b	ADC OLDOV
3901	.$210d	STA FACOV
3902	.$210f	LDA FACLO
3903	.$2111	ADC ARGLO
3904	.$2113	STA FACLO
3905	.$2115	LDA FACMO
3906	.$2117	ADC ARGMO
3907	.$2119	STA FACMO
3908	.$211b	LDA FACMOH
3909	.$211d	ADC ARGMOH
3910	.$211f	STA FACMOH
3911	.$2121	LDA FACHO
3912	.$2123	ADC ARGHO
3913	.$2125	STA FACHO
3914	.$2127	BCC FFADD_RNDRTS
3915	.$2129	INC FACEXP
3916	.$212b	BEQ FFADD_OVERR
3918	.$212d	ROR FACHO
3919	.$212f	ROR FACMOH
3920	.$2131	ROR FACMO
3921	.$2133	ROR FACLO
3922	.$2135	ROR FACOV
3923	.$2137	FFADD_RNDRTS
3924	.$2137	RTS
3925	.$2138	FFADD_OVERR
3926	.$2138	JMP ILLEGALQUANTITY
3927	.$213b	FFADD_MANSUB1
3928	.$213b	LDY #FACEXP
3929	.$213d	CPX #ARGEXP
3930	.$213f	BEQ FFADD_MANSUB2
3931	.$2141	LDY #ARGEXP
3932	.$2143	FFADD_MANSUB2
3933	.$2143	SEC              
3934	.$2144	EOR #$FF
3935	.$2146	ADC OLDOV
3936	.$2148	STA FACOV
3937	.$214a	LDA 4,Y
3938	.$214d	SBC 4,X
3939	.$214f	STA FACLO
3940	.$2151	LDA 3,Y
3941	.$2154	SBC 3,X
3942	.$2156	STA FACMO
3943	.$2158	LDA 2,Y
3944	.$215b	SBC 2,X
3945	.$215d	STA FACMOH
3946	.$215f	LDA 1,Y
3947	.$2162	SBC 1,X
3948	.$2164	STA FACHO
3949	.$2166	BCS FCNORMAL
3950	.$2168	LDA FACSGN
3951	.$216a	EOR #$FF
3952	.$216c	STA FACSGN
3953	.$216e	LDA FACHO
3954	.$2170	EOR #$FF
3955	.$2172	STA FACHO
3956	.$2174	LDA FACMOH
3957	.$2176	EOR #$FF
3958	.$2178	STA FACMOH
3959	.$217a	LDA FACMO
3960	.$217c	EOR #$FF
3961	.$217e	STA FACMO
3962	.$2180	LDA FACLO
3963	.$2182	EOR #$FF
3964	.$2184	STA FACLO
3965	.$2186	LDA FACOV
3966	.$2188	EOR #$FF
3967	.$218a	CLC
3968	.$218b	ADC #1
3969	.$218d	STA FACOV
3970	.$218f	BNE FCNORMAL
3971	.$2191	INC FACLO
3972	.$2193	BNE FCNORMAL
3973	.$2195	INC FACMO
3974	.$2197	BNE FCNORMAL
3975	.$2199	INC FACMOH
3976	.$219b	BNE FCNORMAL
3977	.$219d	INC FACHO
3978	.$219f	FCNORMAL   BIT FACHO
3979	.$21a1	BMI FFADD_RET       
3980	.$21a3	LDA #0           
3981	.$21a5	CLC
3982	.$21a6	FFADD_NORM3
3983	.$21a6	LDX FACHO
3984	.$21a8	BNE FFADD_NORM1
3985	.$21aa	LDX FACHO+1
3986	.$21ac	STX FACHO
3987	.$21ae	LDX FACMOH+1
3988	.$21b0	STX FACMOH
3989	.$21b2	LDX FACMO+1
3990	.$21b4	STX FACMO
3991	.$21b6	LDX FACOV
3992	.$21b8	STX FACLO
3993	.$21ba	LDX #0
3994	.$21bc	STX FACOV
3995	.$21be	ADC #$08
3996	.$21c0	CMP #$20
3997	.$21c2	BNE FFADD_NORM3
3998	.$21c4	JMP FFADD_ZEROFAC
3999	.$21c7	FFADD_NORM2
4000	.$21c7	CLC
4001	.$21c8	ADC #1
4002	.$21ca	ASL FACOV
4003	.$21cc	ROL FACLO
4004	.$21ce	ROL FACMO
4005	.$21d0	ROL FACMOH
4006	.$21d2	ROL FACHO
4007	.$21d4	FFADD_NORM1
4008	.$21d4	BPL FFADD_NORM2     
4009	.$21d6	SEC
4010	.$21d7	SBC FACEXP
4011	.$21d9	BCS FFADD_ZEROFAC
4012	.$21db	EOR #$FF
4013	.$21dd	CLC
4014	.$21de	ADC #1
4015	.$21e0	STA FACEXP
4016	.$21e2	FFADD_RET   RTS
4017	.$21e3	FFADD_ZEROFAC
4018	.$21e3	LDX #0
4019	.$21e5	STX FACEXP
4020	.$21e7	STX FACSGN
4021	.$21e9	RTS
4024	.$21ea	FASTFMULMEM
4025	.$21ea	JSR MEMARG
4026	.$21ed	FASTFMULARG
4027	.$21ed	BEQ FFMUL_MULTRT    
4028	.$21ef	LDA ARGEXP
4029	.$21f1	BEQ FFMUL_ZEREMV    
4030	.$21f3	CLC
4031	.$21f4	ADC FACEXP
4032	.$21f6	BCC FFMUL_TRYOFF
4033	.$21f8	CLC
4034	.$21f9	BPL FFMUL_ADJUST
4035	.$21fb	JMP ILLEGALQUANTITY
4036	.$21fe	FFMUL_ZEREMV
4037	.$21fe	LDY #0
4038	.$2200	STY FACEXP       
4039	.$2202	STY FACSGN
4040	.$2204	FFMUL_MULTRT
4041	.$2204	RTS
4042	.$2205	FFMUL_TRYOFF
4043	.$2205	BPL FFMUL_ZEREMV    
4044	.$2207	FFMUL_ADJUST
4045	.$2207	ADC #$80         
4046	.$2209	BEQ FFMUL_ZEREMV    
4047	.$220b	STA FACEXP
4048	.$220d	LDA ARISGN
4049	.$220f	STA FACSGN
4050	.$2211	LDY #0
4051	.$2213	STY RESHOP
4052	.$2215	STY RESHO
4053	.$2217	STY RESMOH
4054	.$2219	STY RESMO
4055	.$221b	STY RESLO
4056	.$221d	STY RESOV
4057	.$221f	STY FACHOP
4058	.$2221	FFMUL_B0
4059	.$2221	LSR ARGLO        
4060	.$2223	BCC FFMUL_B1
4061	.$2225	LDA RESOV
4062	.$2227	CLC
4063	.$2228	ADC FACMOH       
4064	.$222a	STA RESOV
4065	.$222c	LDA RESLO
4066	.$222e	ADC FACHO        
4067	.$2230	STA RESLO
4068	.$2232	LDA RESMO
4069	.$2234	ADC FACHOP       
4070	.$2236	STA RESMO
4071	.$2238	BCC FFMUL_B1
4072	.$223a	INC RESMOH
4073	.$223c	BNE FFMUL_B1
4074	.$223e	INC RESHO
4075	.$2240	BNE FFMUL_B1
4076	.$2242	INC RESHOP
4077	.$2244	FFMUL_B1
4078	.$2244	LSR ARGMO        
4079	.$2246	BCC FFMUL_B2
4080	.$2248	LDA RESOV
4081	.$224a	CLC
4082	.$224b	ADC FACMO        
4083	.$224d	STA RESOV
4084	.$224f	LDA RESLO
4085	.$2251	ADC FACMOH       
4086	.$2253	STA RESLO
4087	.$2255	LDA RESMO
4088	.$2257	ADC FACHO        
4089	.$2259	STA RESMO
4090	.$225b	LDA RESMOH
4091	.$225d	ADC FACHOP       
4092	.$225f	STA RESMOH
4093	.$2261	BCC FFMUL_B2
4094	.$2263	INC RESHO
4095	.$2265	BNE FFMUL_B2
4096	.$2267	INC RESHOP
4097	.$2269	FFMUL_B2
4098	.$2269	LSR ARGMOH       
4099	.$226b	BCC FFMUL_B3
4100	.$226d	LDA RESOV
4101	.$226f	CLC
4102	.$2270	ADC FACLO        
4103	.$2272	STA RESOV
4104	.$2274	LDA RESLO
4105	.$2276	ADC FACMO        
4106	.$2278	STA RESLO
4107	.$227a	LDA RESMO
4108	.$227c	ADC FACMOH       
4109	.$227e	STA RESMO
4110	.$2280	LDA RESMOH
4111	.$2282	ADC FACHO        
4112	.$2284	STA RESMOH
4113	.$2286	LDA RESHO
4114	.$2288	ADC FACHOP       
4115	.$228a	STA RESHO
4116	.$228c	BCC FFMUL_B3
4117	.$228e	INC RESHOP
4118	.$2290	FFMUL_B3
4119	.$2290	LSR ARGHO        
4120	.$2292	BCC FFMUL_ROTA
4121	.$2294	LDA RESOV
4122	.$2296	CLC
4123	.$2297	ADC FACOV        
4124	.$2299	STA RESOV
4125	.$229b	LDA RESLO
4126	.$229d	ADC FACLO        
4127	.$229f	STA RESLO
4128	.$22a1	LDA RESMO
4129	.$22a3	ADC FACMO        
4130	.$22a5	STA RESMO
4131	.$22a7	LDA RESMOH
4132	.$22a9	ADC FACMOH       
4133	.$22ab	STA RESMOH
4134	.$22ad	LDA RESHO
4135	.$22af	ADC FACHO        
4136	.$22b1	STA RESHO
4137	.$22b3	LDA RESHOP
4138	.$22b5	ADC FACHOP       
4139	.$22b7	STA RESHOP
4140	.$22b9	FFMUL_ROTA
4141	.$22b9	ASL FACOV
4142	.$22bb	ROL FACLO
4143	.$22bd	ROL FACMO
4144	.$22bf	ROL FACMOH
4145	.$22c1	ROL FACHO
4146	.$22c3	ROL FACHOP
4147	.$22c5	BMI FFMUL_FIN
4148	.$22c7	JMP FFMUL_B0
4149	.$22ca	FFMUL_FIN
4150	.$22ca	LDA RESHOP
4151	.$22cc	STA FACHO
4152	.$22ce	LDA RESHO
4153	.$22d0	STA FACMOH
4154	.$22d2	LDA RESMOH
4155	.$22d4	STA FACMO
4156	.$22d6	LDA RESMO
4157	.$22d8	STA FACLO
4158	.$22da	LDA RESLO
4159	.$22dc	STA FACOV
4160	.$22de	JMP FCNORMAL      
4161	.$22e1	MUL10
4162	.$22e1	JSR ARGFAC       
4163	.$22e4	TAX              
4164	.$22e5	BEQ FFMUL_MUL101    
4165	.$22e7	CLC
4166	.$22e8	ADC #2
4167	.$22ea	BCS FFMUL_MUL102    
4168	.$22ec	STA FACEXP       
4169	.$22ee	LDY #0
4170	.$22f0	STY ARISGN
4171	.$22f2	JSR FASTFADDARG      
4172	.$22f5	INC FACEXP
4173	.$22f7	BEQ FFMUL_MUL102     
4174	.$22f9	FFMUL_MUL101
4175	.$22f9	RTS
4176	.$22fa	FFMUL_MUL102
4177	.$22fa	JMP ILLEGALQUANTITY
4178	.$22fd	MUL6
4179	.$22fd	JSR ARGFAC       
4180	.$2300	TAX              
4181	.$2301	BEQ FFMUL_MUL61     
4182	.$2303	INC FACEXP
4183	.$2305	BEQ FFMUL_MUL62     
4184	.$2307	LDY #0
4185	.$2309	STY ARISGN
4186	.$230b	JSR FASTFADDARG      
4187	.$230e	INC FACEXP
4188	.$2310	BEQ FFMUL_MUL62     
4189	.$2312	FFMUL_MUL61
4190	.$2312	RTS
4191	.$2313	FFMUL_MUL62
4192	.$2313	JMP ILLEGALQUANTITY
4195	.$2316	INITVARS
4196	.$2316	JSR INITSTRVARS
4197	.$2319	LDA #0
4198	.$231b	LDY #4
4199	.$231d	REALINITLOOP0:
4200	.$231d	STA VAR_EN,Y
4201	.$2320	STA VAR_SA,Y
4202	.$2323	STA VAR_DI,Y
4203	.$2326	STA VAR_VA,Y
4204	.$2329	STA VAR_WN,Y
4205	.$232c	STA VAR_WS,Y
4206	.$232f	STA VAR_RE,Y
4207	.$2332	STA VAR_SP,Y
4208	.$2335	STA VAR_CS,Y
4209	.$2338	STA VAR_PO,Y
4210	.$233b	STA VAR_I,Y
4211	.$233e	STA VAR_AS,Y
4212	.$2341	DEY
4213	.$2342	BMI REALLOOPEXIT0
4214	.$2344	JMP REALINITLOOP0
4215	.$2347	REALLOOPEXIT0:
4216	.$2347	RTS
4220	.$2348	CONSTANTS
4225	.$2348	CONST_1 .BYTE 8
4226	.$2349	.STRG "teile..."
4228	.$2351	CONST_2R
4229	.$2351	CONST_2 .REAL 0
4231	.$2356	CONST_3 .BYTE 8
4232	.$2357	.STRG "durch..."
4235	.$235f	CONST_4R .REAL 2.0
4238	.$2364	CONST_5R .REAL 1.0
4240	.$2369	CONST_6 .BYTE 1
4241	.$236a	.STRG " "
4243	.$236b	CONST_7 .BYTE 0
4244	.$236c	.STRG ""
4247	.$236c	CONST_8R .REAL 58.0
4252	.$2371	CONST_10 .BYTE 1
4253	.$2372	.STRG "0"
4255	.$2373	CONST_11 .BYTE 20
4256	.$2374	.STRG "--------------------"
4261	.$2388	CONST_13 .BYTE 2
4262	.$2389	.STRG " r"
4265	.$238b	CONST_14R .REAL 1024.0
4268	.$2390	CONST_15R .REAL 64.0
4271	.$2395	DATAS
4272	.$2395	.BYTE $FF
4274	.$2396	CONSTANTS_END
4277	.$2396	VARIABLES
4279	.$2396	VAR_EN .REAL 0.0
4281	.$239b	VAR_SA .REAL 0.0
4283	.$23a0	VAR_DI .REAL 0.0
4285	.$23a5	VAR_VA .REAL 0.0
4287	.$23aa	VAR_WN .REAL 0.0
4289	.$23af	VAR_WS .REAL 0.0
4291	.$23b4	VAR_RE .REAL 0.0
4293	.$23b9	VAR_SP .REAL 0.0
4295	.$23be	VAR_CS .REAL 0.0
4297	.$23c3	VAR_PO .REAL 0.0
4299	.$23c8	VAR_I .REAL 0.0
4301	.$23cd	VAR_AS .REAL 0.0
4302	.$23d2	STRINGVARS_START
4304	.$23d2	VAR_NU$ .WORD EMPTYSTR
4306	.$23d4	VAR_DI$ .WORD EMPTYSTR
4308	.$23d6	VAR_NN$ .WORD EMPTYSTR
4310	.$23d8	VAR_NR$ .WORD EMPTYSTR
4312	.$23da	VAR_OF$ .WORD EMPTYSTR
4314	.$23dc	VAR_PA$ .WORD EMPTYSTR
4316	.$23de	VAR_PR$ .WORD EMPTYSTR
4318	.$23e0	VAR_VA$ .WORD EMPTYSTR
4320	.$23e2	VAR_WS$ .WORD EMPTYSTR
4322	.$23e4	VAR_T$ .WORD EMPTYSTR
4324	.$23e6	VAR_A$ .WORD EMPTYSTR
4326	.$23e8	VAR_TI$ .WORD EMPTYSTR
4327	.$23ea	STRINGVARS_END
4328	.$23ea	STRINGARRAYS_START
4329	.$23ea	STRINGARRAYS_END
4330	.$23ea	VARIABLES_END
4332	.$23ea	Y_REG .REAL 0.0
4333	.$23ef	C_REG .REAL 0.0
4334	.$23f4	D_REG .REAL 0.0
4335	.$23f9	E_REG .REAL 0.0
4336	.$23fe	F_REG .REAL 0.0
4337	.$2403	A_REG .WORD 0
4338	.$2405	B_REG .WORD 0
4339	.$2407	CMD_NUM .BYTE 0
4340	.$2408	CHANNEL .BYTE 0
4341	.$2409	SP_SAVE .BYTE 0
4342	.$240a	TMP2_REG .WORD 0
4343	.$240c	TMP3_REG .WORD 0
4344	.$240e	TMP4_REG .WORD 0
4345	.$2410	AS_TMP .WORD 0
4346	.$2412	BPOINTER_TMP .WORD 0
4347	.$2414	BASICTEXTP .BYTE 0
4348	.$2415	STORE1 .WORD 0
4349	.$2417	STORE2 .WORD 0
4350	.$2419	STORE3 .WORD 0
4351	.$241b	STORE4 .WORD 0
4352	.$241d	GCSTART .WORD 0
4353	.$241f	GCLEN .WORD 0
4354	.$2421	GCWORK .WORD 0
4355	.$2423	INPUTLENGTH .BYTE 0
4356	.$2424	TMP_FREG .REAL 0
4357	.$2429	TMP2_FREG .REAL 0
4358	.$242e	TMP_FLAG .BYTE 0
4359	.$242f	INT_FLAG .BYTE 0
4360	.$2430	REAL_CONST_ONE .REAL 1.0
4361	.$2435	REAL_CONST_ZERO .REAL 0.0
4362	.$243a	REAL_CONST_MINUS_ONE .REAL -1.0
4363	.$243f	CHLOCKFLAG .BYTE 0
4364	.$2440	EMPTYSTR .BYTE 0
4365	.$2441	FPSTACKP .WORD FPSTACK
4366	.$2443	FORSTACKP .WORD FORSTACK
4367	.$2445	DATASP .WORD DATAS
4368	.$2447	LASTVAR .WORD 0
4369	.$2449	LASTVARP .WORD 0
4370	.$244b	HIGHP .WORD STRBUF
4371	.$244d	STRBUFP .WORD STRBUF
4372	.$244f	ENDSTRBUF .WORD 0
4373	.$2451	INPUTQUEUEP .BYTE 0
4374	.$2452	PROGRAMEND
4375	.$2452	INPUTQUEUE .ARRAY $0F
4376	.$2461	FPSTACK .ARRAY 100
4377	.$24c5	FORSTACK .ARRAY 340
4378	.$2619	STRBUF .BYTE 0
