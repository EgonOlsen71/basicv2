117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
128	.$81f	LDY #1
129	.$821	STY 646
131	.$824	LDA #147
132	.$826	JSR SINGLECHROUTBRKMAX
136	.$829	LDY #0
137	.$82b	STY 53280
139	.$82e	STY 53281
142	.$831	LINE_30:
145	.$831	LINE_35:
147	.$831	LDA #0
148	.$833	STA VAR_I
149	.$836	STA VAR_I+1
150	.$839	STA VAR_I+2
151	.$83c	STA VAR_I+3
152	.$83f	STA VAR_I+4
154	.$842	LDA #<CONST_3
155	.$844	LDY #>CONST_3
156	.$846	JSR REALFACPUSH
158	.$849	LDA #<CONST_0R
159	.$84b	LDY #>CONST_0R
160	.$84d	JSR REALFACPUSH
162	.$850	LDA #<VAR_I
163	.$852	LDY #>VAR_I
164	.$854	STA A_REG
165	.$857	STY A_REG+1
166	.$85a	LDA #<FORLOOP0
167	.$85c	STA JUMP_TARGET
168	.$85e	LDA #>FORLOOP0
169	.$860	STA JUMP_TARGET+1
170	.$862	JSR INITFOR
171	.$865	FORLOOP0:
172	.$865	LDA #<VAR_I
173	.$867	LDY #>VAR_I
174	.$869	JSR COPY2_XYA_XREG
178	.$86c	LDA #<CONST_4R
179	.$86e	LDY #>CONST_4R
180	.$870	JSR COPY2_XYA_YREG
184	.$873	LDA #<VAR_TY[]
185	.$875	LDY #>VAR_TY[]
186	.$877	STA G_REG
187	.$879	STY G_REG+1
188	.$87b	JSR ARRAYSTORE_REAL
189	.$87e	LDA #0
190	.$880	STA A_REG
191	.$883	STA A_REG+1
192	.$886	JSR NEXT
194	.$889	LDA A_REG
195	.$88c	BNE RBEQ_0
196	.$88e	JMP (JUMP_TARGET)
198	.$891	RBEQ_0:
199	.$891	LDA #0
200	.$893	STA VAR_LP
201	.$896	STA VAR_LP+1
202	.$899	STA VAR_LP+2
203	.$89c	STA VAR_LP+3
204	.$89f	STA VAR_LP+4
207	.$8a2	LINE_40:
209	.$8a2	LDY #30
210	.$8a4	STY 54286
212	.$8a7	LDY #0
213	.$8a9	STY 54287
215	.$8ac	LDY #129
216	.$8ae	STY 54290
219	.$8b1	LINE_50:
221	.$8b1	LDY 54299
222	.$8b4	LDA #0
224	.$8b6	JSR INTFAC
225	.$8b9	JSR FACXREG
227	.$8bc	LDA #<CONST_7
228	.$8be	LDY #>CONST_7
229	.$8c0	JSR REALFAC
231	.$8c3	LDA #<X_REG
232	.$8c5	LDY #>X_REG
234	.$8c7	JSR FASTFMULMEM
237	.$8ca	LDX #<VAR_I
238	.$8cc	LDY #>VAR_I
240	.$8ce	JSR FACMEM
242	.$8d1	LINE_60:
244	.$8d1	LDA #<VAR_I
245	.$8d3	LDY #>VAR_I
246	.$8d5	JSR COPY2_XYA_XREG
250	.$8d8	LDA #<VAR_P[]
251	.$8da	LDY #>VAR_P[]
252	.$8dc	JSR ARRAYACCESS_REAL_S
254	.$8df	LDA X_REG
255	.$8e1	BEQ EQ_EQ0
256	.$8e3	LDA #0
258	.$8e5	JMP EQ_SKIP0
259	.$8e8	EQ_EQ0:
260	.$8e8	LDA #$1
261	.$8ea	EQ_SKIP0:
262	.$8ea	COMP_SKP1:
263	.$8ea	BNE LINE_NSKIP19
265	.$8ec	JMP LINE_SKIP19
267	.$8ef	LINE_NSKIP19:
269	.$8ef	LDA #<VAR_I
270	.$8f1	LDY #>VAR_I
271	.$8f3	JSR REALFACPUSH
273	.$8f6	LDY 54299
274	.$8f9	LDA #0
276	.$8fb	JSR INTFAC
277	.$8fe	JSR FACXREG
279	.$901	LDA #<CONST_8
280	.$903	LDY #>CONST_8
281	.$905	JSR REALFAC
283	.$908	LDA #<X_REG
284	.$90a	LDY #>X_REG
286	.$90c	JSR FACDIV
291	.$90f	JSR BASINT
292	.$912	JSR FACXREG
294	.$915	LDA #<CONST_9R
295	.$917	LDY #>CONST_9R
296	.$919	JSR REALFAC
299	.$91c	LDA #<X_REG
300	.$91e	LDY #>X_REG
302	.$920	JSR FASTFADDMEM
306	.$923	JSR FACYREG
308	.$926	JSR POPREALXREG
311	.$929	LDA #<VAR_P[]
312	.$92b	LDY #>VAR_P[]
313	.$92d	STA G_REG
314	.$92f	STY G_REG+1
315	.$931	JSR ARRAYSTORE_REAL
316	.$934	LDA #<VAR_I
317	.$936	LDY #>VAR_I
318	.$938	JSR COPY2_XYA_XREG
322	.$93b	LDA #<CONST_4R
323	.$93d	LDY #>CONST_4R
324	.$93f	JSR COPY2_XYA_YREG
328	.$942	LDA #<VAR_TY[]
329	.$944	LDY #>VAR_TY[]
330	.$946	STA G_REG
331	.$948	STY G_REG+1
332	.$94a	JSR ARRAYSTORE_REAL
334	.$94d	LINE_SKIP19:
337	.$94d	LINE_70:
339	.$94d	LDA #0
340	.$94f	STA VAR_I
341	.$952	STA VAR_I+1
342	.$955	STA VAR_I+2
343	.$958	STA VAR_I+3
344	.$95b	STA VAR_I+4
346	.$95e	LDA #<CONST_3
347	.$960	LDY #>CONST_3
348	.$962	JSR REALFACPUSH
350	.$965	LDA #<CONST_0R
351	.$967	LDY #>CONST_0R
352	.$969	JSR REALFACPUSH
354	.$96c	LDA #<VAR_I
355	.$96e	LDY #>VAR_I
356	.$970	STA A_REG
357	.$973	STY A_REG+1
358	.$976	LDA #<FORLOOP1
359	.$978	STA JUMP_TARGET
360	.$97a	LDA #>FORLOOP1
361	.$97c	STA JUMP_TARGET+1
362	.$97e	JSR INITFOR
363	.$981	FORLOOP1:
364	.$981	LDA #<VAR_I
365	.$983	LDY #>VAR_I
366	.$985	JSR COPY2_XYA_XREG
370	.$988	LDA #<VAR_P[]
371	.$98a	LDY #>VAR_P[]
372	.$98c	JSR ARRAYACCESS_REAL_S
374	.$98f	JSR XREGFAC
376	.$992	LDX #<VAR_PT
377	.$994	LDY #>VAR_PT
379	.$996	JSR FACMEM
381	.$999	LINE_80:
383	.$999	LDA VAR_PT
384	.$99c	BEQ EQ_SKIP1
385	.$99e	EQ_EQ1:
386	.$99e	JMP LINE_SKIP20
387	.$9a1	EQ_SKIP1:
388	.$9a1	COMP_SKP2:
392	.$9a1	LINE_NSKIP20:
394	.$9a1	LDA #0
395	.$9a3	STA A_REG
396	.$9a6	STA A_REG+1
397	.$9a9	JSR NEXT
399	.$9ac	LDA A_REG
400	.$9af	BNE RBEQ_1
401	.$9b1	JMP (JUMP_TARGET)
403	.$9b4	RBEQ_1:
404	.$9b4	JMP LINE_50
406	.$9b7	LINE_SKIP20:
409	.$9b7	LINE_85:
411	.$9b7	LDA #<VAR_PT
412	.$9b9	LDY #>VAR_PT
413	.$9bb	JSR REALFAC
416	.$9be	JSR FACWORD
417	.$9c1	STY MOVBSELF9+1
418	.$9c4	STA MOVBSELF9+2
419	.$9c7	MOVBSELF9:
420	.$9c7	LDA $FFFF
421	.$9ca	CMP #98
422	.$9cc	BCC PEEKLT0
423	.$9ce	BEQ PEEKEQ0
424	.$9d0	LDA #$FF
425	.$9d2	JMP PEEKDONE0
426	.$9d5	PEEKLT0:
427	.$9d5	LDA #$01
428	.$9d7	JMP PEEKDONE0
429	.$9da	PEEKEQ0:
430	.$9da	LDA #0
431	.$9dc	PEEKDONE0:
435	.$9dc	BEQ LT_LT_EQ2
436	.$9de	ROL
437	.$9df	BCC LT_LT2
438	.$9e1	LT_LT_EQ2:
439	.$9e1	LDA #0
440	.$9e3	JMP LT_SKIP2
441	.$9e6	LT_LT2:
442	.$9e6	LDA #$1
443	.$9e8	LT_SKIP2:
444	.$9e8	COMP_SKP4:
445	.$9e8	BEQ LINE_SKIP21
448	.$9ea	LINE_NSKIP21:
450	.$9ea	LDA #<VAR_PT
451	.$9ec	LDY #>VAR_PT
452	.$9ee	JSR REALFAC
455	.$9f1	JSR FACWORD
456	.$9f4	STY MOVBSELF10+1
457	.$9f7	STA MOVBSELF10+2
458	.$9fa	LDA #$20
459	.$9fc	MOVBSELF10:
460	.$9fc	STA $FFFF
462	.$9ff	LINE_SKIP21:
465	.$9ff	LINE_90:
467	.$9ff	LDA #<CONST_12R
468	.$a01	LDY #>CONST_12R
469	.$a03	JSR REALFAC
470	.$a06	LDA #<VAR_PT
471	.$a08	LDY #>VAR_PT
472	.$a0a	JSR FASTFADDMEM
477	.$a0d	LDX #<VAR_PO
478	.$a0f	LDY #>VAR_PO
480	.$a11	JSR FACMEM
481	.$a14	LDA #<VAR_I
482	.$a16	LDY #>VAR_I
483	.$a18	JSR COPY2_XYA_XREG
487	.$a1b	LDA #<VAR_PO
488	.$a1d	LDY #>VAR_PO
489	.$a1f	JSR COPY2_XYA_YREG
493	.$a22	LDA #<VAR_P[]
494	.$a24	LDY #>VAR_P[]
495	.$a26	STA G_REG
496	.$a28	STY G_REG+1
497	.$a2a	JSR ARRAYSTORE_REAL
498	.$a2d	LDA #<VAR_I
499	.$a2f	LDY #>VAR_I
500	.$a31	JSR COPY2_XYA_XREG
504	.$a34	LDA #<VAR_TY[]
505	.$a36	LDY #>VAR_TY[]
506	.$a38	JSR ARRAYACCESS_REAL_S
508	.$a3b	JSR XREGFAC
510	.$a3e	LDX #<VAR_PC
511	.$a40	LDY #>VAR_PC
513	.$a42	JSR FACMEM
515	.$a45	LINE_100:
517	.$a45	LDA #<CONST_13R
518	.$a47	LDY #>CONST_13R
519	.$a49	JSR REALFAC
520	.$a4c	LDA #<VAR_PO
521	.$a4e	LDY #>VAR_PO
522	.$a50	JSR CMPFAC
524	.$a53	ROL
525	.$a54	BCS GT_GT3
526	.$a56	LDA #0
527	.$a58	JMP GT_SKIP3
528	.$a5b	GT_GT3:
529	.$a5b	LDA #$1
530	.$a5d	GT_SKIP3:
531	.$a5d	COMP_SKP5:
532	.$a5d	BNE LINE_NSKIP22
534	.$a5f	JMP LINE_SKIP22
536	.$a62	LINE_NSKIP22:
538	.$a62	LDA #<VAR_PT
539	.$a64	LDY #>VAR_PT
540	.$a66	JSR REALFAC
543	.$a69	JSR FACWORD
544	.$a6c	STY MOVBSELF11+1
545	.$a6f	STA MOVBSELF11+2
546	.$a72	LDA #$64
547	.$a74	MOVBSELF11:
548	.$a74	STA $FFFF
549	.$a77	LDA #<VAR_I
550	.$a79	LDY #>VAR_I
551	.$a7b	JSR COPY2_XYA_XREG
555	.$a7e	LDA #<CONST_2R
556	.$a80	LDY #>CONST_2R
557	.$a82	JSR COPY2_XYA_YREG
561	.$a85	LDA #<VAR_P[]
562	.$a87	LDY #>VAR_P[]
563	.$a89	STA G_REG
564	.$a8b	STY G_REG+1
565	.$a8d	JSR ARRAYSTORE_REAL
566	.$a90	LDX #4
567	.$a92	dcloop1231_1:
568	.$a92	LDA VAR_I,X
569	.$a95	STA VAR_LP,X
570	.$a98	DEX
571	.$a99	BPL dcloop1231_1
573	.$a9b	LDA #0
574	.$a9d	STA A_REG
575	.$aa0	STA A_REG+1
576	.$aa3	JSR NEXT
578	.$aa6	LDA A_REG
579	.$aa9	BNE RBEQ_2
580	.$aab	JMP (JUMP_TARGET)
582	.$aae	RBEQ_2:
583	.$aae	JMP LINE_50
585	.$ab1	LINE_SKIP22:
588	.$ab1	LINE_110:
590	.$ab1	LDA #<VAR_PO
591	.$ab3	LDY #>VAR_PO
592	.$ab5	JSR REALFAC
595	.$ab8	JSR FACWORD
596	.$abb	STY MOVBSELF12+1
597	.$abe	STA MOVBSELF12+2
598	.$ac1	MOVBSELF12:
599	.$ac1	LDY $FFFF
600	.$ac4	LDA #0
602	.$ac6	JSR INTFAC
604	.$ac9	LDX #<VAR_CH
605	.$acb	LDY #>VAR_CH
607	.$acd	JSR FACMEM
608	.$ad0	LDA #<CONST_4R
609	.$ad2	LDY #>CONST_4R
610	.$ad4	JSR REALFAC
611	.$ad7	LDA #<VAR_CH
612	.$ad9	LDY #>VAR_CH
613	.$adb	JSR CMPFAC
615	.$ade	BEQ EQ_EQ4
616	.$ae0	LDA #<REAL_CONST_ZERO
617	.$ae2	LDY #>REAL_CONST_ZERO
618	.$ae4	JMP EQ_SKIP4
619	.$ae7	EQ_EQ4:
620	.$ae7	LDA #<REAL_CONST_MINUS_ONE
621	.$ae9	LDY #>REAL_CONST_MINUS_ONE
622	.$aeb	EQ_SKIP4:
624	.$aeb	JSR REALFACPUSH
626	.$aee	LDA #<CONST_11R
627	.$af0	LDY #>CONST_11R
628	.$af2	JSR REALFAC
629	.$af5	LDA #<VAR_CH
630	.$af7	LDY #>VAR_CH
631	.$af9	JSR CMPFAC
633	.$afc	BEQ EQ_EQ5
634	.$afe	LDA #<REAL_CONST_ZERO
635	.$b00	LDY #>REAL_CONST_ZERO
636	.$b02	JMP EQ_SKIP5
637	.$b05	EQ_EQ5:
638	.$b05	LDA #<REAL_CONST_MINUS_ONE
639	.$b07	LDY #>REAL_CONST_MINUS_ONE
640	.$b09	EQ_SKIP5:
642	.$b09	JSR REALFAC
643	.$b0c	JSR FACXREG
645	.$b0f	JSR POPREAL2X
647	.$b12	JSR FASTOR
650	.$b15	JSR FACXREG
652	.$b18	LDA X_REG
653	.$b1a	COMP_SKP7:
654	.$b1a	BNE LINE_NSKIP23
656	.$b1c	JMP LINE_SKIP23
658	.$b1f	LINE_NSKIP23:
660	.$b1f	LDA #<VAR_PC
661	.$b21	LDY #>VAR_PC
662	.$b23	JSR COPY2_XYA_XREG
663	.$b26	LDA #<VAR_PO
664	.$b28	LDY #>VAR_PO
665	.$b2a	JSR REALFAC
666	.$b2d	JSR FACWORD
669	.$b30	STY MOVBSELF13+1
670	.$b33	STA MOVBSELF13+2
671	.$b36	JSR XREGFAC
674	.$b39	JSR FACWORD
675	.$b3c	MOVBSELF13:
676	.$b3c	STY $FFFF
677	.$b3f	LDA #0
678	.$b41	STA A_REG
679	.$b44	STA A_REG+1
680	.$b47	JSR NEXT
682	.$b4a	LDA A_REG
683	.$b4d	BNE RBEQ_3
684	.$b4f	JMP (JUMP_TARGET)
686	.$b52	RBEQ_3:
687	.$b52	JMP LINE_50
689	.$b55	LINE_SKIP23:
692	.$b55	LINE_111:
694	.$b55	LDA #<CONST_15R
695	.$b57	LDY #>CONST_15R
696	.$b59	JSR REALFAC
697	.$b5c	LDA #<VAR_PO
698	.$b5e	LDY #>VAR_PO
699	.$b60	JSR CMPFAC
701	.$b63	ROL
702	.$b64	BCS GT_GT6
703	.$b66	LDA #<REAL_CONST_ZERO
704	.$b68	LDY #>REAL_CONST_ZERO
705	.$b6a	JMP GT_SKIP6
706	.$b6d	GT_GT6:
707	.$b6d	LDA #<REAL_CONST_MINUS_ONE
708	.$b6f	LDY #>REAL_CONST_MINUS_ONE
709	.$b71	GT_SKIP6:
711	.$b71	JSR REALFACPUSH
713	.$b74	LDA #<CONST_11R
714	.$b76	LDY #>CONST_11R
715	.$b78	JSR REALFAC
716	.$b7b	LDA #<VAR_CH
717	.$b7d	LDY #>VAR_CH
718	.$b7f	JSR CMPFAC
720	.$b82	BEQ EQ_EQ7
721	.$b84	LDA #<REAL_CONST_ZERO
722	.$b86	LDY #>REAL_CONST_ZERO
723	.$b88	JMP EQ_SKIP7
724	.$b8b	EQ_EQ7:
725	.$b8b	LDA #<REAL_CONST_MINUS_ONE
726	.$b8d	LDY #>REAL_CONST_MINUS_ONE
727	.$b8f	EQ_SKIP7:
729	.$b8f	JSR REALFAC
730	.$b92	JSR FACXREG
732	.$b95	JSR POPREAL2X
734	.$b98	JSR FASTAND
738	.$b9b	JSR PUSHREAL
739	.$b9e	LDA #<CONST_14R
740	.$ba0	LDY #>CONST_14R
741	.$ba2	JSR REALFAC
742	.$ba5	LDA #<VAR_CH
743	.$ba7	LDY #>VAR_CH
744	.$ba9	JSR CMPFAC
746	.$bac	BEQ EQ_EQ8
747	.$bae	LDA #<REAL_CONST_ZERO
748	.$bb0	LDY #>REAL_CONST_ZERO
749	.$bb2	JMP EQ_SKIP8
750	.$bb5	EQ_EQ8:
751	.$bb5	LDA #<REAL_CONST_MINUS_ONE
752	.$bb7	LDY #>REAL_CONST_MINUS_ONE
753	.$bb9	EQ_SKIP8:
755	.$bb9	JSR REALFACPUSH
757	.$bbc	LDA #<CONST_16R
758	.$bbe	LDY #>CONST_16R
759	.$bc0	JSR REALFAC
760	.$bc3	LDA #<VAR_PC
761	.$bc5	LDY #>VAR_PC
762	.$bc7	JSR CMPFAC
764	.$bca	BEQ EQ_EQ9
765	.$bcc	LDA #<REAL_CONST_ZERO
766	.$bce	LDY #>REAL_CONST_ZERO
767	.$bd0	JMP EQ_SKIP9
768	.$bd3	EQ_EQ9:
769	.$bd3	LDA #<REAL_CONST_MINUS_ONE
770	.$bd5	LDY #>REAL_CONST_MINUS_ONE
771	.$bd7	EQ_SKIP9:
773	.$bd7	JSR REALFAC
774	.$bda	JSR FACXREG
776	.$bdd	JSR POPREAL2X
778	.$be0	JSR FASTOR
781	.$be3	JSR FACXREG
783	.$be6	JSR POPREAL2X
785	.$be9	JSR FASTOR
788	.$bec	JSR FACXREG
790	.$bef	LDA X_REG
791	.$bf1	COMP_SKP9:
792	.$bf1	BEQ LINE_SKIP24
795	.$bf3	LINE_NSKIP24:
797	.$bf3	JMP LINE_119
799	.$bf6	LINE_SKIP24:
802	.$bf6	LINE_112:
804	.$bf6	LDA #<CONST_9R
805	.$bf8	LDY #>CONST_9R
806	.$bfa	JSR REALFAC
807	.$bfd	LDA #<VAR_PO
808	.$bff	LDY #>VAR_PO
809	.$c01	JSR FASTFSUBMEM
814	.$c04	LDX #<VAR_IX
815	.$c06	LDY #>VAR_IX
817	.$c08	JSR FACMEM
818	.$c0b	LDA #<CONST_12R
819	.$c0d	LDY #>CONST_12R
820	.$c0f	JSR REALFAC
821	.$c12	LDA #<VAR_IX
822	.$c14	LDY #>VAR_IX
823	.$c16	JSR FACDIV
829	.$c19	JSR BASINT
830	.$c1c	JSR FACXREG
831	.$c1f	LDY #5
832	.$c21	LDA #0
833	.$c23	STY A_REG
834	.$c26	STA A_REG+1
835	.$c29	JSR COPY_XREG2YREG
839	.$c2c	JSR SHL
840	.$c2f	JSR FACXREG
842	.$c32	LDY #3
843	.$c34	LDA #0
844	.$c36	STY A_REG
845	.$c39	STA A_REG+1
846	.$c3c	JSR YREGFAC
849	.$c3f	JSR SHL
851	.$c42	LDA #<X_REG
852	.$c44	LDY #>X_REG
854	.$c46	JSR FASTFADDMEM
858	.$c49	LDA #<VAR_IX
859	.$c4b	LDY #>VAR_IX
860	.$c4d	JSR COPY2_XYA_XREG
863	.$c50	LDA #<X_REG
864	.$c52	LDY #>X_REG
866	.$c54	JSR FASTFSUBMEM
870	.$c57	LDX #<VAR_IX
871	.$c59	LDY #>VAR_IX
873	.$c5b	JSR FACMEM
875	.$c5e	LINE_113:
877	.$c5e	JSR ONETOFAC
879	.$c61	LDA #<VAR_IX
880	.$c63	LDY #>VAR_IX
881	.$c65	JSR CMPFAC
883	.$c68	ROL
884	.$c69	BCS GT_GT10
885	.$c6b	LDA #0
886	.$c6d	JMP GT_SKIP10
887	.$c70	GT_GT10:
888	.$c70	LDA #$1
889	.$c72	GT_SKIP10:
890	.$c72	COMP_SKP10:
891	.$c72	BEQ LINE_SKIP25
894	.$c74	LINE_NSKIP25:
896	.$c74	JSR ONETOFAC
898	.$c77	LDA #<VAR_PO
899	.$c79	LDY #>VAR_PO
900	.$c7b	JSR FASTFSUBMEM
905	.$c7e	LDX #<VAR_NX
906	.$c80	LDY #>VAR_NX
908	.$c82	JSR FACMEM
909	.$c85	JSR GOSUB
910	.$c88	JSR LINE_2000
912	.$c8b	LINE_SKIP25:
915	.$c8b	LINE_114:
917	.$c8b	LDA #<CONST_19R
918	.$c8d	LDY #>CONST_19R
919	.$c8f	JSR REALFAC
920	.$c92	LDA #<VAR_IX
921	.$c94	LDY #>VAR_IX
922	.$c96	JSR CMPFAC
924	.$c99	BEQ LT_LT_EQ11
925	.$c9b	ROL
926	.$c9c	BCC LT_LT11
927	.$c9e	LT_LT_EQ11:
928	.$c9e	LDA #0
929	.$ca0	JMP LT_SKIP11
930	.$ca3	LT_LT11:
931	.$ca3	LDA #$1
932	.$ca5	LT_SKIP11:
933	.$ca5	COMP_SKP11:
934	.$ca5	BEQ LINE_SKIP26
937	.$ca7	LINE_NSKIP26:
939	.$ca7	JSR ONETOFAC
941	.$caa	LDA #<VAR_PO
942	.$cac	LDY #>VAR_PO
943	.$cae	JSR FASTFADDMEM
948	.$cb1	LDX #<VAR_NX
949	.$cb3	LDY #>VAR_NX
951	.$cb5	JSR FACMEM
952	.$cb8	JSR GOSUB
953	.$cbb	JSR LINE_2000
955	.$cbe	LINE_SKIP26:
958	.$cbe	LINE_119:
960	.$cbe	LDA #<CONST_20R
961	.$cc0	LDY #>CONST_20R
962	.$cc2	JSR REALFAC
963	.$cc5	LDA #<VAR_CH
964	.$cc7	LDY #>VAR_CH
965	.$cc9	JSR CMPFAC
967	.$ccc	BEQ EQ_EQ12
968	.$cce	LDA #0
969	.$cd0	JMP EQ_SKIP12
970	.$cd3	EQ_EQ12:
971	.$cd3	LDA #$1
972	.$cd5	EQ_SKIP12:
973	.$cd5	COMP_SKP12:
974	.$cd5	BNE LINE_NSKIP27
976	.$cd7	JMP LINE_SKIP27
978	.$cda	LINE_NSKIP27:
980	.$cda	LDA #<VAR_I
981	.$cdc	LDY #>VAR_I
982	.$cde	JSR REALFACPUSH
984	.$ce1	LDA #<CONST_12R
985	.$ce3	LDY #>CONST_12R
986	.$ce5	JSR REALFAC
987	.$ce8	LDA #<VAR_PO
988	.$cea	LDY #>VAR_PO
989	.$cec	JSR FASTFSUBMEM
994	.$cef	JSR FACYREG
996	.$cf2	JSR POPREALXREG
999	.$cf5	LDA #<VAR_P[]
1000	.$cf7	LDY #>VAR_P[]
1001	.$cf9	STA G_REG
1002	.$cfb	STY G_REG+1
1003	.$cfd	JSR ARRAYSTORE_REAL
1004	.$d00	LDA #<VAR_I
1005	.$d02	LDY #>VAR_I
1006	.$d04	JSR COPY2_XYA_XREG
1010	.$d07	LDA #<VAR_P[]
1011	.$d09	LDY #>VAR_P[]
1012	.$d0b	JSR ARRAYACCESS_REAL_S
1014	.$d0e	JSR XREGFAC
1018	.$d11	JSR FACWORD
1019	.$d14	STY MOVBSELF14+1
1020	.$d17	STA MOVBSELF14+2
1021	.$d1a	MOVBSELF14:
1022	.$d1a	LDY $FFFF
1023	.$d1d	LDA #0
1025	.$d1f	JSR INTFAC
1027	.$d22	LDX #<VAR_CH
1028	.$d24	LDY #>VAR_CH
1030	.$d26	JSR FACMEM
1032	.$d29	LINE_SKIP27:
1035	.$d29	LINE_120:
1037	.$d29	LDA #<VAR_I
1038	.$d2b	LDY #>VAR_I
1039	.$d2d	JSR COPY2_XYA_XREG
1043	.$d30	LDA #<VAR_P[]
1044	.$d32	LDY #>VAR_P[]
1045	.$d34	JSR ARRAYACCESS_REAL_S
1047	.$d37	LDX #<VAR_CP
1048	.$d39	LDY #>VAR_CP
1049	.$d3b	JSR XREG2VAR
1051	.$d3e	JSR GOSUB
1052	.$d41	JSR LINE_1000
1053	.$d44	JSR ONETOFAC
1055	.$d47	LDA #<VAR_FL
1056	.$d49	LDY #>VAR_FL
1057	.$d4b	JSR CMPFAC
1059	.$d4e	BEQ EQ_EQ13
1060	.$d50	LDA #0
1061	.$d52	JMP EQ_SKIP13
1062	.$d55	EQ_EQ13:
1063	.$d55	LDA #$1
1064	.$d57	EQ_SKIP13:
1065	.$d57	COMP_SKP13:
1066	.$d57	BNE LINE_NSKIP28
1068	.$d59	JMP LINE_SKIP28
1070	.$d5c	LINE_NSKIP28:
1072	.$d5c	LDA #<VAR_I
1073	.$d5e	LDY #>VAR_I
1074	.$d60	JSR COPY2_XYA_XREG
1078	.$d63	LDA #<CONST_2R
1079	.$d65	LDY #>CONST_2R
1080	.$d67	JSR COPY2_XYA_YREG
1084	.$d6a	LDA #<VAR_P[]
1085	.$d6c	LDY #>VAR_P[]
1086	.$d6e	STA G_REG
1087	.$d70	STY G_REG+1
1088	.$d72	JSR ARRAYSTORE_REAL
1089	.$d75	LDX #4
1090	.$d77	dcloop2393_1:
1091	.$d77	LDA VAR_I,X
1092	.$d7a	STA VAR_LP,X
1093	.$d7d	DEX
1094	.$d7e	BPL dcloop2393_1
1097	.$d80	LINE_SKIP28:
1100	.$d80	LINE_310:
1102	.$d80	LDA #0
1103	.$d82	STA A_REG
1104	.$d85	STA A_REG+1
1105	.$d88	JSR NEXT
1107	.$d8b	LDA A_REG
1108	.$d8e	BNE RBEQ_4
1109	.$d90	JMP (JUMP_TARGET)
1111	.$d93	RBEQ_4:
1112	.$d93	JMP LINE_50
1114	.$d96	LINE_1000:
1116	.$d96	LDA #0
1117	.$d98	STA VAR_FL
1118	.$d9b	STA VAR_FL+1
1119	.$d9e	STA VAR_FL+2
1120	.$da1	STA VAR_FL+3
1121	.$da4	STA VAR_FL+4
1123	.$da7	LDA #<VAR_CP
1124	.$da9	LDY #>VAR_CP
1125	.$dab	JSR REALFAC
1128	.$dae	JSR FACWORD
1129	.$db1	STY MOVBSELF15+1
1130	.$db4	STA MOVBSELF15+2
1131	.$db7	MOVBSELF15:
1132	.$db7	LDY $FFFF
1133	.$dba	LDA #0
1135	.$dbc	JSR INTFAC
1137	.$dbf	LDX #<VAR_CH
1138	.$dc1	LDY #>VAR_CH
1140	.$dc3	JSR FACMEM
1141	.$dc6	LDX #4
1142	.$dc8	dceloop3986_1:
1143	.$dc8	LDA CONST_11R,X
1144	.$dcb	CMP VAR_CH,X
1145	.$dce	BNE LINE_SKIP29
1146	.$dd0	DEX
1147	.$dd1	BPL dceloop3986_1
1149	.$dd3	LINE_NSKIP29:
1152	.$dd3	LDX #4
1153	.$dd5	dcloop2725_1:
1154	.$dd5	LDA CONST_14R,X
1155	.$dd8	STA VAR_PC,X
1156	.$ddb	DEX
1157	.$ddc	BPL dcloop2725_1
1159	.$dde	JMP LINE_1500
1161	.$de1	LINE_SKIP29:
1164	.$de1	LINE_1004:
1166	.$de1	LDX #4
1167	.$de3	dceloop3986_2:
1168	.$de3	LDA CONST_14R,X
1169	.$de6	CMP VAR_CH,X
1170	.$de9	BNE LINE_SKIP30
1171	.$deb	DEX
1172	.$dec	BPL dceloop3986_2
1174	.$dee	LINE_NSKIP30:
1177	.$dee	LDX #4
1178	.$df0	dcloop2725_2:
1179	.$df0	LDA CONST_21R,X
1180	.$df3	STA VAR_PC,X
1181	.$df6	DEX
1182	.$df7	BPL dcloop2725_2
1184	.$df9	JMP LINE_1500
1186	.$dfc	LINE_SKIP30:
1189	.$dfc	LINE_1005:
1191	.$dfc	LDX #4
1192	.$dfe	dceloop3986_3:
1193	.$dfe	LDA CONST_21R,X
1194	.$e01	CMP VAR_CH,X
1195	.$e04	BNE LINE_SKIP31
1196	.$e06	DEX
1197	.$e07	BPL dceloop3986_3
1199	.$e09	LINE_NSKIP31:
1202	.$e09	LDX #4
1203	.$e0b	dcloop2891_1:
1204	.$e0b	LDA CONST_10R,X
1205	.$e0e	STA VAR_PC,X
1206	.$e11	DEX
1207	.$e12	BPL dcloop2891_1
1209	.$e14	JMP LINE_1500
1211	.$e17	LINE_SKIP31:
1214	.$e17	LINE_1010:
1216	.$e17	LDX #4
1217	.$e19	dceloop3986_4:
1218	.$e19	LDA CONST_10R,X
1219	.$e1c	CMP VAR_CH,X
1220	.$e1f	BNE LINE_SKIP32
1221	.$e21	DEX
1222	.$e22	BPL dceloop3986_4
1224	.$e24	LINE_NSKIP32:
1227	.$e24	LDX #4
1228	.$e26	dcloop3057_1:
1229	.$e26	LDA CONST_22R,X
1230	.$e29	STA VAR_PC,X
1231	.$e2c	DEX
1232	.$e2d	BPL dcloop3057_1
1234	.$e2f	JMP LINE_1500
1236	.$e32	LINE_SKIP32:
1239	.$e32	LINE_1020:
1241	.$e32	LDX #4
1242	.$e34	dceloop3986_5:
1243	.$e34	LDA CONST_22R,X
1244	.$e37	CMP VAR_CH,X
1245	.$e3a	BNE LINE_SKIP33
1246	.$e3c	DEX
1247	.$e3d	BPL dceloop3986_5
1249	.$e3f	LINE_NSKIP33:
1252	.$e3f	LDX #4
1253	.$e41	dcloop3057_2:
1254	.$e41	LDA CONST_23R,X
1255	.$e44	STA VAR_PC,X
1256	.$e47	DEX
1257	.$e48	BPL dcloop3057_2
1259	.$e4a	JMP LINE_1500
1261	.$e4d	LINE_SKIP33:
1264	.$e4d	LINE_1030:
1266	.$e4d	LDX #4
1267	.$e4f	dceloop3986_6:
1268	.$e4f	LDA CONST_23R,X
1269	.$e52	CMP VAR_CH,X
1270	.$e55	BNE LINE_SKIP34
1271	.$e57	DEX
1272	.$e58	BPL dceloop3986_6
1274	.$e5a	LINE_NSKIP34:
1277	.$e5a	LDX #4
1278	.$e5c	dcloop3223_1:
1279	.$e5c	LDA CONST_20R,X
1280	.$e5f	STA VAR_PC,X
1281	.$e62	DEX
1282	.$e63	BPL dcloop3223_1
1284	.$e65	JMP LINE_1500
1286	.$e68	LINE_SKIP34:
1289	.$e68	LINE_1040:
1291	.$e68	JMP RETURN
1293	.$e6b	LINE_1500:
1295	.$e6b	LDX #4
1296	.$e6d	dcloop3223_2:
1297	.$e6d	LDA CONST_0R,X
1298	.$e70	STA VAR_FL,X
1299	.$e73	DEX
1300	.$e74	BPL dcloop3223_2
1302	.$e76	LDA #<VAR_PC
1303	.$e78	LDY #>VAR_PC
1304	.$e7a	JSR COPY2_XYA_XREG
1305	.$e7d	LDA #<VAR_CP
1306	.$e7f	LDY #>VAR_CP
1307	.$e81	JSR REALFAC
1308	.$e84	JSR FACWORD
1311	.$e87	STY MOVBSELF16+1
1312	.$e8a	STA MOVBSELF16+2
1313	.$e8d	JSR XREGFAC
1316	.$e90	JSR FACWORD
1317	.$e93	MOVBSELF16:
1318	.$e93	STY $FFFF
1319	.$e96	JMP RETURN
1321	.$e99	LINE_2000:
1323	.$e99	LDA #<CONST_12R
1324	.$e9b	LDY #>CONST_12R
1325	.$e9d	JSR REALFAC
1326	.$ea0	LDA #<VAR_NX
1327	.$ea2	LDY #>VAR_NX
1328	.$ea4	JSR FASTFSUBMEM
1333	.$ea7	LDX #<VAR_NF
1334	.$ea9	LDY #>VAR_NF
1335	.$eab	JSR FACMEM
1339	.$eae	JSR FACWORD
1340	.$eb1	STY MOVBSELF17+1
1341	.$eb4	STA MOVBSELF17+2
1342	.$eb7	MOVBSELF17:
1343	.$eb7	LDA $FFFF
1344	.$eba	CMP #32
1345	.$ebc	BCC PEEKLT1
1346	.$ebe	BEQ PEEKEQ1
1347	.$ec0	LDA #$FF
1348	.$ec2	JMP PEEKDONE1
1349	.$ec5	PEEKLT1:
1350	.$ec5	LDA #$01
1351	.$ec7	JMP PEEKDONE1
1352	.$eca	PEEKEQ1:
1353	.$eca	LDA #0
1354	.$ecc	PEEKDONE1:
1358	.$ecc	NEQ_NEQ20:
1359	.$ecc	NEQ_SKIP20:
1360	.$ecc	COMP_SKP21:
1361	.$ecc	BEQ LINE_SKIP35
1362	.$ece	LINE_NSKIP35:
1365	.$ece	JMP RETURN
1367	.$ed1	LINE_SKIP35:
1370	.$ed1	LINE_2001:
1372	.$ed1	LDA #<VAR_LP
1373	.$ed3	LDY #>VAR_LP
1374	.$ed5	JSR COPY2_XYA_XREG
1378	.$ed8	LDA #<VAR_P[]
1379	.$eda	LDY #>VAR_P[]
1380	.$edc	JSR ARRAYACCESS_REAL_S
1382	.$edf	LDA X_REG
1383	.$ee1	BEQ EQ_EQ21
1384	.$ee3	LDA #0
1386	.$ee5	JMP EQ_SKIP21
1387	.$ee8	EQ_EQ21:
1388	.$ee8	LDA #$1
1389	.$eea	EQ_SKIP21:
1390	.$eea	COMP_SKP22:
1391	.$eea	BNE LINE_NSKIP36
1393	.$eec	JMP LINE_SKIP36
1395	.$eef	LINE_NSKIP36:
1397	.$eef	LDA #<VAR_LP
1398	.$ef1	LDY #>VAR_LP
1399	.$ef3	JSR COPY2_XYA_XREG
1403	.$ef6	LDA #<VAR_NF
1404	.$ef8	LDY #>VAR_NF
1405	.$efa	JSR COPY2_XYA_YREG
1409	.$efd	LDA #<VAR_P[]
1410	.$eff	LDY #>VAR_P[]
1411	.$f01	STA G_REG
1412	.$f03	STY G_REG+1
1413	.$f05	JSR ARRAYSTORE_REAL
1414	.$f08	LDA #<VAR_LP
1415	.$f0a	LDY #>VAR_LP
1416	.$f0c	JSR COPY2_XYA_XREG
1420	.$f0f	LDA #<CONST_16R
1421	.$f11	LDY #>CONST_16R
1422	.$f13	JSR COPY2_XYA_YREG
1426	.$f16	LDA #<VAR_TY[]
1427	.$f18	LDY #>VAR_TY[]
1428	.$f1a	STA G_REG
1429	.$f1c	STY G_REG+1
1430	.$f1e	JSR ARRAYSTORE_REAL
1431	.$f21	LDA #<VAR_NF
1432	.$f23	LDY #>VAR_NF
1433	.$f25	JSR REALFAC
1436	.$f28	JSR FACWORD
1437	.$f2b	STY MOVBSELF18+1
1438	.$f2e	STA MOVBSELF18+2
1439	.$f31	LDA #$2E
1440	.$f33	MOVBSELF18:
1441	.$f33	STA $FFFF
1442	.$f36	JMP RETURN
1444	.$f39	LINE_SKIP36:
1447	.$f39	LINE_2005:
1449	.$f39	LDA #0
1450	.$f3b	STA VAR_Z
1451	.$f3e	STA VAR_Z+1
1452	.$f41	STA VAR_Z+2
1453	.$f44	STA VAR_Z+3
1454	.$f47	STA VAR_Z+4
1456	.$f4a	LDA #<CONST_3
1457	.$f4c	LDY #>CONST_3
1458	.$f4e	JSR REALFACPUSH
1460	.$f51	LDA #<CONST_0R
1461	.$f53	LDY #>CONST_0R
1462	.$f55	JSR REALFACPUSH
1464	.$f58	LDA #<VAR_Z
1465	.$f5a	LDY #>VAR_Z
1466	.$f5c	STA A_REG
1467	.$f5f	STY A_REG+1
1468	.$f62	LDA #<FORLOOP2
1469	.$f64	STA JUMP_TARGET
1470	.$f66	LDA #>FORLOOP2
1471	.$f68	STA JUMP_TARGET+1
1472	.$f6a	JSR INITFOR
1473	.$f6d	FORLOOP2:
1474	.$f6d	LDA #<VAR_Z
1475	.$f6f	LDY #>VAR_Z
1476	.$f71	JSR COPY2_XYA_XREG
1480	.$f74	LDA #<VAR_P[]
1481	.$f76	LDY #>VAR_P[]
1482	.$f78	JSR ARRAYACCESS_REAL_S
1484	.$f7b	LDA X_REG
1485	.$f7d	BEQ EQ_EQ22
1486	.$f7f	LDA #0
1488	.$f81	JMP EQ_SKIP22
1489	.$f84	EQ_EQ22:
1490	.$f84	LDA #$1
1491	.$f86	EQ_SKIP22:
1492	.$f86	COMP_SKP23:
1493	.$f86	BNE LINE_NSKIP37
1495	.$f88	JMP LINE_SKIP37
1497	.$f8b	LINE_NSKIP37:
1499	.$f8b	LDA #<VAR_Z
1500	.$f8d	LDY #>VAR_Z
1501	.$f8f	JSR COPY2_XYA_XREG
1505	.$f92	LDA #<VAR_NF
1506	.$f94	LDY #>VAR_NF
1507	.$f96	JSR COPY2_XYA_YREG
1511	.$f99	LDA #<VAR_P[]
1512	.$f9b	LDY #>VAR_P[]
1513	.$f9d	STA G_REG
1514	.$f9f	STY G_REG+1
1515	.$fa1	JSR ARRAYSTORE_REAL
1516	.$fa4	LDA #<VAR_Z
1517	.$fa6	LDY #>VAR_Z
1518	.$fa8	JSR COPY2_XYA_XREG
1522	.$fab	LDA #<CONST_16R
1523	.$fad	LDY #>CONST_16R
1524	.$faf	JSR COPY2_XYA_YREG
1528	.$fb2	LDA #<VAR_TY[]
1529	.$fb4	LDY #>VAR_TY[]
1530	.$fb6	STA G_REG
1531	.$fb8	STY G_REG+1
1532	.$fba	JSR ARRAYSTORE_REAL
1533	.$fbd	LDA #<VAR_NF
1534	.$fbf	LDY #>VAR_NF
1535	.$fc1	JSR REALFAC
1538	.$fc4	JSR FACWORD
1539	.$fc7	STY MOVBSELF19+1
1540	.$fca	STA MOVBSELF19+2
1541	.$fcd	LDA #$2E
1542	.$fcf	MOVBSELF19:
1543	.$fcf	STA $FFFF
1544	.$fd2	JMP RETURN
1546	.$fd5	LINE_SKIP37:
1549	.$fd5	LINE_2010:
1551	.$fd5	LDA #0
1552	.$fd7	STA A_REG
1553	.$fda	STA A_REG+1
1554	.$fdd	JSR NEXT
1556	.$fe0	LDA A_REG
1557	.$fe3	BNE RBEQ_5
1558	.$fe5	JMP (JUMP_TARGET)
1560	.$fe8	RBEQ_5:
1561	.$fe8	JMP RETURN
1562	.$feb	JSR END
1563	.$fee	RTS
1566	.$fef	END   LDX SP_SAVE
1567	.$ff2	TXS
1574	.$ff3	RTS
1577	.$ff4	START  LDA ENDSTRBUF+1
1578	.$ff7	BNE ENDGIVEN
1579	.$ff9	LDA BASICEND
1580	.$ffb	STA ENDSTRBUF
1581	.$ffe	LDA BASICEND+1
1582	.$1000	STA ENDSTRBUF+1
1583	.$1003	ENDGIVEN LDA #<FPSTACK
1584	.$1005	LDY #>FPSTACK
1585	.$1007	STA FPSTACKP
1586	.$100a	STY FPSTACKP+1
1587	.$100d	LDA #<FORSTACK
1588	.$100f	LDY #>FORSTACK
1589	.$1011	STA FORSTACKP
1590	.$1014	STY FORSTACKP+1
1591	.$1017	LDA #<STRBUF
1592	.$1019	LDY #>STRBUF
1593	.$101b	STA STRBUFP
1594	.$101e	STY STRBUFP+1
1595	.$1021	STA HIGHP
1596	.$1024	STY HIGHP+1
1597	.$1027	LDA #0
1598	.$1029	STA CHLOCKFLAG
1599	.$102c	STA LASTVAR
1600	.$102f	STA LASTVAR+1
1601	.$1032	JSR INITVARS
1602	.$1035	LDA #0
1603	.$1037	STA CMD_NUM
1604	.$103a	STA CHANNEL
1605	.$103d	TAY
1606	.$103e	TAX
1610	.$103f	STA KEYNDX
1616	.$1041	JSR RESTORE
1617	.$1044	CLC
1621	.$1045	RTS
1624	.$1046	INITNARRAY
1625	.$1046	STA TMP_ZP
1626	.$1048	STY TMP_ZP+1
1627	.$104a	LDY #0
1628	.$104c	TYA
1629	.$104d	NINITLOOP STA (TMP_ZP),Y
1630	.$104f	INC TMP_ZP
1631	.$1051	BNE NLOOPNOV
1632	.$1053	INC TMP_ZP+1
1633	.$1055	NLOOPNOV LDX TMP2_ZP
1634	.$1057	BNE NLOOPNOV2
1635	.$1059	DEC TMP2_ZP+1
1636	.$105b	NLOOPNOV2 DEC TMP2_ZP
1637	.$105d	BNE NINITLOOP
1638	.$105f	LDX TMP2_ZP+1
1639	.$1061	BNE NINITLOOP
1640	.$1063	RTS
1643	.$1064	INITSTRARRAY
1644	.$1064	STA TMP_ZP
1645	.$1066	STY TMP_ZP+1
1646	.$1068	SINITLOOP LDY #0
1647	.$106a	LDA #<EMPTYSTR
1648	.$106c	STA (TMP_ZP),Y
1649	.$106e	LDA #>EMPTYSTR
1650	.$1070	INY
1651	.$1071	STA (TMP_ZP),Y
1652	.$1073	CLC
1653	.$1074	LDA TMP_ZP
1654	.$1076	ADC #2
1655	.$1078	STA TMP_ZP
1656	.$107a	BCC SLOOPNOV1
1657	.$107c	INC TMP_ZP+1
1658	.$107e	SLOOPNOV1 SEC
1659	.$107f	LDA TMP2_ZP
1660	.$1081	SBC #2
1661	.$1083	STA TMP2_ZP
1662	.$1085	BCS SLOOPNOV2
1663	.$1087	DEC TMP2_ZP+1
1664	.$1089	SLOOPNOV2 LDA TMP2_ZP
1665	.$108b	BNE SINITLOOP
1666	.$108d	LDA TMP2_ZP+1
1667	.$108f	BNE SINITLOOP
1668	.$1091	RTS
1671	.$1092	INITSPARAMS STA TMP3_ZP
1672	.$1094	STY TMP3_ZP+1
1673	.$1096	SEC
1674	.$1097	SBC #2
1675	.$1099	STA TMP_ZP
1676	.$109b	TYA
1677	.$109c	SBC #0
1678	.$109e	STA TMP_ZP+1
1679	.$10a0	LDY #0
1680	.$10a2	LDA (TMP_ZP),Y
1681	.$10a4	STA TMP2_ZP
1682	.$10a6	INY
1683	.$10a7	LDA (TMP_ZP),Y
1684	.$10a9	STA TMP2_ZP+1
1685	.$10ab	LDA TMP3_ZP
1686	.$10ad	LDY TMP3_ZP+1
1687	.$10af	RTS
1690	.$10b0	INITSTRVARS LDA #<STRINGVARS_START  
1691	.$10b2	LDY #>STRINGVARS_START
1692	.$10b4	CMP #<STRINGVARS_END
1693	.$10b6	BNE INITIT1
1694	.$10b8	CPY #>STRINGVARS_END
1695	.$10ba	BNE INITIT1
1696	.$10bc	JMP INITSA2     
1697	.$10bf	INITIT1  STA TMP_ZP
1698	.$10c1	STY TMP_ZP+1
1699	.$10c3	LDY #0
1700	.$10c5	INITSTRLOOP LDA #<EMPTYSTR
1701	.$10c7	STA (TMP_ZP),Y
1702	.$10c9	INY
1703	.$10ca	LDA #>EMPTYSTR
1704	.$10cc	STA (TMP_ZP),Y
1705	.$10ce	DEY
1706	.$10cf	LDA TMP_ZP
1707	.$10d1	CLC
1708	.$10d2	ADC #2
1709	.$10d4	STA TMP_ZP
1710	.$10d6	LDA TMP_ZP+1
1711	.$10d8	ADC #0
1712	.$10da	STA TMP_ZP+1
1713	.$10dc	CMP #>STRINGVARS_END
1714	.$10de	BNE INITSTRLOOP
1715	.$10e0	LDA TMP_ZP
1716	.$10e2	CMP #<STRINGVARS_END
1717	.$10e4	BNE INITSTRLOOP
1718	.$10e6	INITSA2  LDA #<STRINGARRAYS_START 
1719	.$10e8	LDY #>STRINGARRAYS_START
1720	.$10ea	CMP #<STRINGARRAYS_END
1721	.$10ec	BNE ARRAYLOOP
1722	.$10ee	CPY #>STRINGARRAYS_END
1723	.$10f0	BNE ARRAYLOOP
1724	.$10f2	RTS       
1725	.$10f3	ARRAYLOOP CLC
1726	.$10f4	ADC #3
1727	.$10f6	BCC ARRAYSKIP1
1728	.$10f8	INY
1729	.$10f9	ARRAYSKIP1 CPY #>STRINGARRAYS_END
1730	.$10fb	BEQ ARRAYSC
1731	.$10fd	BCC ARRAYSKIP2
1732	.$10ff	JMP ARRAYQUIT
1733	.$1102	ARRAYSC  CMP #<STRINGARRAYS_END
1734	.$1104	BCS ARRAYQUIT
1735	.$1106	ARRAYSKIP2 STA TMP_REG
1736	.$1108	STY TMP_REG+1
1737	.$110a	JSR INITSPARAMS
1738	.$110d	LDA TMP_REG
1739	.$110f	LDY TMP_REG+1
1740	.$1111	JSR INITSTRARRAY
1741	.$1114	LDA TMP_ZP
1742	.$1116	LDY TMP_ZP+1
1743	.$1118	JMP ARRAYLOOP
1744	.$111b	ARRAYQUIT RTS
1747	.$111c	RESTORE  LDA #<DATAS
1748	.$111e	LDY #>DATAS
1749	.$1120	STA DATASP
1750	.$1123	STY DATASP+1
1751	.$1126	RTS
1754	.$1127	SAVEPOINTERS
1755	.$1127	LDA TMP_ZP   
1756	.$1129	STA STORE1
1757	.$112c	LDA TMP_ZP+1
1758	.$112e	STA STORE1+1
1759	.$1131	LDA TMP2_ZP
1760	.$1133	STA STORE2
1761	.$1136	LDA TMP2_ZP+1
1762	.$1138	STA STORE2+1
1763	.$113b	LDA TMP3_ZP
1764	.$113d	STA STORE3
1765	.$1140	LDA TMP3_ZP+1
1766	.$1142	STA STORE3+1
1767	.$1145	RTS
1770	.$1146	RESTOREPOINTERS
1771	.$1146	LDA STORE3+1  
1772	.$1149	STA TMP3_ZP+1
1773	.$114b	LDA STORE3
1774	.$114e	STA TMP3_ZP
1775	.$1150	LDA STORE2+1
1776	.$1153	STA TMP2_ZP+1
1777	.$1155	LDA STORE2
1778	.$1158	STA TMP2_ZP
1779	.$115a	LDA STORE1+1
1780	.$115d	STA TMP_ZP+1
1781	.$115f	LDA STORE1
1782	.$1162	STA TMP_ZP
1783	.$1164	RTS
1790	.$1165	COMPACTMAX
1791	.$1165	LDA #$FF
1792	.$1167	LDY #$0
1793	.$1169	JMP COMPACTF
1796	.$116c	COMPACT
1797	.$116c	LDY #0
1798	.$116e	GCBUFNE  LDA (TMP_ZP),Y  
1799	.$1170	COMPACTF STA TMP4_REG  
1800	.$1173	LDY STRBUFP+1  
1801	.$1176	STY TMP4_REG+1  
1802	.$1179	INY     
1803	.$117a	BEQ ENDMEM   
1804	.$117c	CPY ENDSTRBUF+1  
1805	.$117f	BCC RGCEXIT   
1806	.$1181	ENDMEM  LDA STRBUFP
1807	.$1184	CLC
1808	.$1185	ADC TMP4_REG
1809	.$1188	STA TMP4_REG
1810	.$118b	BCC RGCNOOV1
1811	.$118d	INC TMP4_REG+1
1812	.$1190	RGCNOOV1 CLC
1813	.$1191	LDA TMP4_REG
1814	.$1194	ADC #3
1815	.$1196	STA TMP4_REG
1816	.$1199	BCC RGCNOOV2
1817	.$119b	INC TMP4_REG+1
1818	.$119e	RGCNOOV2 LDA TMP4_REG+1  
1819	.$11a1	CMP ENDSTRBUF+1
1820	.$11a4	BEQ RGCLOW1
1821	.$11a6	BCS GCEXECOMP  
1822	.$11a8	JMP RGCEXIT
1823	.$11ab	RGCLOW1  LDA TMP4_REG
1824	.$11ae	CMP ENDSTRBUF
1825	.$11b1	BCS GCEXECOMP  
1826	.$11b3	RGCEXIT  RTS     
1827	.$11b4	GCEXECOMP LDA STRBUFP
1828	.$11b7	STA STORE4
1829	.$11ba	LDA STRBUFP+1
1830	.$11bd	STA STORE4+1
1831	.$11c0	JSR GCEXE
1832	.$11c3	JMP CHECKMEMORY
1835	.$11c6	GCEXE  JSR SAVEPOINTERS
1836	.$11c9	LDA #0
1837	.$11cb	STA LASTVAR
1838	.$11ce	STA LASTVAR+1  
1839	.$11d1	LDA #<STRBUF
1840	.$11d3	STA TMP_ZP
1841	.$11d5	STA GCSTART
1842	.$11d8	LDA #>STRBUF
1843	.$11da	STA TMP_ZP+1  
1844	.$11dc	STA GCSTART+1
1845	.$11df	GCLOOP  LDY #0
1846	.$11e1	LDA TMP_ZP
1847	.$11e3	STA GCWORK
1848	.$11e6	LDA TMP_ZP+1
1849	.$11e8	STA GCWORK+1  
1850	.$11eb	LDA (TMP_ZP),Y
1851	.$11ed	STA GCLEN   
1852	.$11f0	INC TMP_ZP
1853	.$11f2	BNE GCLOOPNOOV
1854	.$11f4	INC TMP_ZP+1
1855	.$11f6	GCLOOPNOOV LDA TMP_ZP
1856	.$11f8	CLC
1857	.$11f9	ADC GCLEN
1858	.$11fc	STA TMP_ZP
1859	.$11fe	BCC GCLOOPNOOV2
1860	.$1200	INC TMP_ZP+1  
1861	.$1202	GCLOOPNOOV2 LDY #0
1862	.$1204	LDA (TMP_ZP),Y
1863	.$1206	STA TMP2_ZP
1864	.$1208	INY
1865	.$1209	LDA (TMP_ZP),Y
1866	.$120b	STA TMP2_ZP+1  
1867	.$120d	LDA TMP_ZP
1868	.$120f	CLC
1869	.$1210	ADC #2
1870	.$1212	STA TMP_ZP
1871	.$1214	BCC GCLOOPNOOV3
1872	.$1216	INC TMP_ZP+1  
1873	.$1218	GCLOOPNOOV3 LDY #0
1874	.$121a	LDA (TMP2_ZP),Y
1875	.$121c	CMP GCWORK
1876	.$121f	BNE GCKLOOP
1877	.$1221	INY
1878	.$1222	LDA (TMP2_ZP),Y
1879	.$1224	CMP GCWORK+1
1880	.$1227	BEQ MEMFREE
1881	.$1229	GCKLOOP  LDA TMP_ZP+1  
1882	.$122b	CMP HIGHP+1
1883	.$122e	BEQ GCHECKLOW
1884	.$1230	BCC GCLOOP
1885	.$1232	JMP GCDONE
1886	.$1235	GCHECKLOW LDA TMP_ZP
1887	.$1237	CMP HIGHP
1888	.$123a	BCS GCDONE
1889	.$123c	JMP GCLOOP
1890	.$123f	MEMFREE  LDA GCSTART   
1891	.$1242	CMP GCWORK   
1892	.$1245	BNE COPYDOWN
1893	.$1247	LDA GCSTART+1
1894	.$124a	CMP GCWORK+1
1895	.$124d	BNE COPYDOWN
1896	.$124f	LDA TMP_ZP   
1897	.$1251	STA GCSTART
1898	.$1254	LDA TMP_ZP+1
1899	.$1256	STA GCSTART+1
1900	.$1259	JMP GCKLOOP   
1901	.$125c	COPYDOWN LDA GCSTART   
1902	.$125f	STA TMP_REG
1903	.$1261	LDA GCSTART+1
1904	.$1264	STA TMP_REG+1  
1905	.$1266	LDA GCWORK
1906	.$1269	STA TMP2_REG
1907	.$126c	LDA GCWORK+1
1908	.$126f	STA TMP2_REG+1  
1909	.$1272	LDA TMP_ZP
1910	.$1274	SEC
1911	.$1275	SBC GCWORK
1912	.$1278	STA TMP3_REG
1913	.$127b	LDA TMP_ZP+1
1914	.$127d	SBC GCWORK+1
1915	.$1280	STA TMP3_REG+1  
1916	.$1283	LDA GCSTART
1917	.$1286	CLC
1918	.$1287	ADC TMP3_REG
1919	.$128a	STA GCSTART
1920	.$128d	LDA GCSTART+1
1921	.$1290	ADC TMP3_REG+1
1922	.$1293	STA GCSTART+1  
1923	.$1296	JSR QUICKCOPY  
1924	.$1299	LDY #0
1925	.$129b	LDA TMP_REG
1926	.$129d	STA (TMP2_ZP),Y
1927	.$129f	INY
1928	.$12a0	LDA TMP_REG+1
1929	.$12a2	STA (TMP2_ZP),Y  
1930	.$12a4	JMP GCKLOOP
1931	.$12a7	GCDONE  LDA GCSTART
1932	.$12aa	STA HIGHP
1933	.$12ad	STA STRBUFP
1934	.$12b0	LDA GCSTART+1
1935	.$12b3	STA HIGHP+1
1936	.$12b6	STA STRBUFP+1  
1937	.$12b9	GCSKIP  JSR RESTOREPOINTERS
1938	.$12bc	RTS     
1941	.$12bd	CHECKMEMORY
1942	.$12bd	LDA STRBUFP+1  
1943	.$12c0	CMP STORE4+1  
1944	.$12c3	BCC STILLFITSCM  
1948	.$12c5	BEQ CHECKMEMLOWCM
1949	.$12c7	JMP OUTOFMEMORY  
1950	.$12ca	CHECKMEMLOWCM
1951	.$12ca	LDA STRBUFP   
1952	.$12cd	CMP STORE4
1953	.$12d0	BCC STILLFITSCM
1954	.$12d2	JMP OUTOFMEMORY  
1955	.$12d5	STILLFITSCM RTS
1958	.$12d6	QUICKCOPY LDA TMP_REG  
1959	.$12d8	STA TMEM+1
1960	.$12db	LDA TMP_REG+1
1961	.$12dd	STA TMEM+2
1962	.$12e0	LDA TMP2_REG
1963	.$12e3	STA SMEM+1
1964	.$12e6	LDA TMP2_REG+1
1965	.$12e9	STA SMEM+2
1966	.$12ec	LDY #$0
1967	.$12ee	LDX TMP3_REG
1968	.$12f1	BNE QCLOOP
1969	.$12f3	LDA TMP3_REG+1
1970	.$12f6	BEQ QCEXIT  
1971	.$12f8	QCLOOP
1972	.$12f8	SMEM  LDA $0000,Y
1973	.$12fb	TMEM  STA $0000,Y
1974	.$12fe	INY
1975	.$12ff	BNE YNOOV
1976	.$1301	INC TMEM+2
1977	.$1304	INC SMEM+2
1978	.$1307	YNOOV  DEX
1979	.$1308	BNE QCLOOP
1980	.$130a	LDA TMP3_REG+1
1981	.$130d	BEQ QCEXIT
1982	.$130f	DEC TMP3_REG+1
1983	.$1312	JMP QCLOOP
1984	.$1315	QCEXIT  RTS
1987	.$1316	REROUTE  LDA CMD_NUM  
1988	.$1319	BEQ REROUTECMD
1989	.$131b	TAX
1990	.$131c	STA CHANNEL
1991	.$131f	JMP CHKOUT
1992	.$1322	REROUTECMD RTS
1995	.$1323	RESETROUTE LDA CMD_NUM  
1996	.$1326	BEQ RESETROUTECMD
1997	.$1328	JMP CLRCHNEW
1998	.$132b	RESETROUTECMD
1999	.$132b	RTS
2002	.$132c	SINGLECHROUTBRKMAX
2003	.$132c	JSR SINGLECHROUTBRK
2004	.$132f	JMP COMPACTMAX
2007	.$1332	SINGLECHROUTBRK
2008	.$1332	STA TMP_ZP
2009	.$1334	JSR REROUTE
2010	.$1337	LDA TMP_ZP
2011	.$1339	JSR CHROUT
2012	.$133c	LDA #$0D
2013	.$133e	JSR CHROUT
2014	.$1341	JMP RESETROUTE
2017	.$1344	ARRAYACCESS_REAL_S
2018	.$1344	STA G_REG
2019	.$1346	STY G_REG+1
2020	.$1348	ARRAYACCESS_REAL
2021	.$1348	JSR XREGFAC
2022	.$134b	JSR FACINT
2023	.$134e	ARRAYACCESS_REAL_INT
2024	.$134e	LDX G_REG
2025	.$1350	STX TMP_ZP
2026	.$1352	LDX G_REG+1
2027	.$1354	STX TMP_ZP+1
2028	.$1356	STY TMP3_ZP
2029	.$1358	STA TMP3_ZP+1
2030	.$135a	TAX
2031	.$135b	TYA
2032	.$135c	ASL
2033	.$135d	TAY
2034	.$135e	TXA
2035	.$135f	ROL
2036	.$1360	TAX
2037	.$1361	TYA
2038	.$1362	ASL
2039	.$1363	STA TMP2_ZP
2040	.$1365	TXA
2041	.$1366	ROL
2042	.$1367	STA TMP2_ZP+1
2043	.$1369	LDA TMP_ZP
2044	.$136b	CLC
2045	.$136c	ADC TMP3_ZP
2046	.$136e	STA TMP_ZP
2047	.$1370	LDA TMP_ZP+1
2048	.$1372	ADC TMP3_ZP+1
2049	.$1374	STA TMP_ZP+1
2050	.$1376	LDA TMP_ZP
2051	.$1378	CLC
2052	.$1379	ADC TMP2_ZP
2053	.$137b	STA TMP3_ZP
2054	.$137d	LDA TMP_ZP+1
2055	.$137f	ADC TMP2_ZP+1
2056	.$1381	STA TMP3_ZP+1
2057	.$1383	JMP COPY2_XY_XREG
2060	.$1386	ARRAYSTORE_REAL
2061	.$1386	JSR XREGFAC
2062	.$1389	JSR FACINT
2063	.$138c	ARRAYSTORE_REAL_INT
2064	.$138c	LDX G_REG
2065	.$138e	STX TMP_ZP
2066	.$1390	LDX G_REG+1
2067	.$1392	STX TMP_ZP+1
2068	.$1394	STY TMP3_ZP
2069	.$1396	STA TMP3_ZP+1
2070	.$1398	TAX
2071	.$1399	TYA
2072	.$139a	ASL
2073	.$139b	TAY
2074	.$139c	TXA
2075	.$139d	ROL
2076	.$139e	TAX
2077	.$139f	TYA
2078	.$13a0	ASL
2079	.$13a1	STA TMP2_ZP
2080	.$13a3	TXA
2081	.$13a4	ROL
2082	.$13a5	STA TMP2_ZP+1
2083	.$13a7	LDA TMP_ZP
2084	.$13a9	CLC
2085	.$13aa	ADC TMP3_ZP
2086	.$13ac	STA TMP_ZP
2087	.$13ae	LDA TMP_ZP+1
2088	.$13b0	ADC TMP3_ZP+1
2089	.$13b2	STA TMP_ZP+1
2090	.$13b4	LDA TMP_ZP
2091	.$13b6	CLC
2092	.$13b7	ADC TMP2_ZP
2093	.$13b9	STA TMP_ZP
2094	.$13bb	LDA TMP_ZP+1
2095	.$13bd	ADC TMP2_ZP+1
2096	.$13bf	STA TMP_ZP+1
2097	.$13c1	JMP COPY2_YREG_XYA 
2100	.$13c4	ADJUSTSTACK LDA FORSTACKP 
2101	.$13c7	STA TMP_ZP
2102	.$13c9	LDA FORSTACKP+1
2103	.$13cc	STA TMP_ZP+1
2104	.$13ce	ADSEARCHFOR LDA TMP_ZP
2105	.$13d0	CMP #<FORSTACK
2106	.$13d2	BNE ADJUST2
2107	.$13d4	LDA TMP_ZP+1
2108	.$13d6	CMP #>FORSTACK
2109	.$13d8	BNE ADJUST2
2110	.$13da	RTS    
2111	.$13db	ADJUST2  LDA TMP_ZP
2112	.$13dd	SEC
2113	.$13de	SBC #2
2114	.$13e0	STA TMP_ZP
2115	.$13e2	BCS ADNOPV1N1
2116	.$13e4	DEC TMP_ZP+1
2117	.$13e6	ADNOPV1N1 LDY #0
2118	.$13e8	LDA (TMP_ZP),Y
2119	.$13ea	BNE ADNOGOSUB
2120	.$13ec	RTS    
2121	.$13ed	ADNOGOSUB
2122	.$13ed	INY
2123	.$13ee	LDA TMP_ZP
2124	.$13f0	SEC
2125	.$13f1	SBC (TMP_ZP),Y
2126	.$13f3	STA TMP_ZP
2127	.$13f5	BCS ADNOPV1N2
2128	.$13f7	DEC TMP_ZP+1
2129	.$13f9	ADNOPV1N2 DEY
2130	.$13fa	LDA A_REG
2131	.$13fd	ADCMPFOR CMP (TMP_ZP),Y
2132	.$13ff	BNE ADSEARCHFOR
2133	.$1401	LDA A_REG+1
2134	.$1404	INY
2135	.$1405	CMP (TMP_ZP),Y
2136	.$1407	BEQ ADFOUNDFOR
2137	.$1409	JMP ADSEARCHFOR
2138	.$140c	ADLOW0  LDX A_REG+1
2139	.$140f	BEQ ADFOUNDFOR
2140	.$1411	BNE ADCMPFOR
2141	.$1413	ADFOUNDFOR LDA TMP_ZP  
2142	.$1415	STA FORSTACKP
2143	.$1418	LDA TMP_ZP+1
2144	.$141a	STA FORSTACKP+1
2145	.$141d	RTS
2148	.$141e	INITFOR  JSR ADJUSTSTACK
2149	.$1421	LDA FORSTACKP
2150	.$1424	STA TMP_ZP
2151	.$1426	LDA FORSTACKP+1
2152	.$1429	STA TMP_ZP+1
2153	.$142b	LDY #0
2154	.$142d	LDA A_REG
2155	.$1430	STA (TMP_ZP),Y
2156	.$1432	INY
2157	.$1433	LDA A_REG+1
2158	.$1436	STA (TMP_ZP),Y
2159	.$1438	INY
2160	.$1439	LDA JUMP_TARGET
2161	.$143b	STA (TMP_ZP),Y
2162	.$143d	INY
2163	.$143e	LDA JUMP_TARGET+1
2164	.$1440	STA (TMP_ZP),Y
2165	.$1442	INY
2166	.$1443	STY TMP3_ZP
2167	.$1445	JSR INCTMPZP
2168	.$1448	JSR POPREAL
2169	.$144b	LDX TMP_ZP
2170	.$144d	LDY TMP_ZP+1
2172	.$144f	JSR FACMEM
2173	.$1452	JSR SGNFAC
2174	.$1455	STA TMP_FLAG
2175	.$1458	LDY #5
2176	.$145a	STY TMP3_ZP
2177	.$145c	JSR INCTMPZP
2178	.$145f	JSR POPREAL
2179	.$1462	LDX TMP_ZP
2180	.$1464	LDY TMP_ZP+1
2182	.$1466	JSR FACMEM
2183	.$1469	LDY #5
2184	.$146b	STY TMP3_ZP
2185	.$146d	JSR INCTMPZP
2186	.$1470	LDY #0
2187	.$1472	LDA TMP_FLAG
2188	.$1475	STA (TMP_ZP),Y
2189	.$1477	INY
2190	.$1478	LDA #1
2191	.$147a	STA (TMP_ZP),Y
2192	.$147c	INY
2193	.$147d	LDA #15
2194	.$147f	STA (TMP_ZP),Y
2195	.$1481	LDY #3
2196	.$1483	STY TMP3_ZP
2197	.$1485	JSR INCTMPZP
2198	.$1488	LDA TMP_ZP
2199	.$148a	STA FORSTACKP
2200	.$148d	LDA TMP_ZP+1
2201	.$148f	STA FORSTACKP+1
2202	.$1492	RTS
2205	.$1493	NEXT  LDA FORSTACKP
2206	.$1496	STA TMP_ZP
2207	.$1498	LDA FORSTACKP+1
2208	.$149b	STA TMP_ZP+1
2209	.$149d	SEARCHFOR LDA TMP_ZP+1
2210	.$149f	STA TMP3_REG+1
2211	.$14a2	LDA TMP_ZP
2212	.$14a4	STA TMP3_REG
2213	.$14a7	SEC
2214	.$14a8	SBC #2
2215	.$14aa	STA TMP_ZP
2216	.$14ac	BCS NOPV1N1
2217	.$14ae	DEC TMP_ZP+1
2218	.$14b0	NOPV1N1  LDY #0
2219	.$14b2	LDA (TMP_ZP),Y
2220	.$14b4	BNE NOGOSUB
2221	.$14b6	JMP NEXTWOFOR
2222	.$14b9	NOGOSUB
2223	.$14b9	INY
2224	.$14ba	LDA TMP_ZP
2225	.$14bc	SEC
2226	.$14bd	SBC (TMP_ZP),Y
2227	.$14bf	STA TMP_ZP
2228	.$14c1	BCS NOPV1N2
2229	.$14c3	DEC TMP_ZP+1
2230	.$14c5	NOPV1N2  DEY
2231	.$14c6	LDA A_REG
2232	.$14c9	BEQ LOW0
2233	.$14cb	CMPFOR  CMP (TMP_ZP),Y
2234	.$14cd	BNE SEARCHFOR
2235	.$14cf	LDA A_REG+1
2236	.$14d2	INY
2237	.$14d3	CMP (TMP_ZP),Y
2238	.$14d5	BEQ FOUNDFOR
2239	.$14d7	JMP SEARCHFOR
2240	.$14da	LOW0  LDX A_REG+1
2241	.$14dd	BEQ FOUNDFOR
2242	.$14df	BNE CMPFOR
2243	.$14e1	FOUNDFOR LDA TMP_ZP
2244	.$14e3	STA TMP2_REG
2245	.$14e6	LDA TMP_ZP+1
2246	.$14e8	STA TMP2_REG+1
2247	.$14eb	VARREAL
2248	.$14eb	LDY #0
2249	.$14ed	STY A_REG+1 
2250	.$14f0	LDA (TMP_ZP),Y
2251	.$14f2	TAX
2252	.$14f3	INY
2253	.$14f4	LDA (TMP_ZP),Y
2254	.$14f6	TAY
2255	.$14f7	TXA
2256	.$14f8	JSR REALFAC
2257	.$14fb	CALCNEXT LDA TMP_ZP
2258	.$14fd	CLC
2259	.$14fe	ADC #4
2260	.$1500	STA TMP_ZP
2261	.$1502	BCC NOPV2IN
2262	.$1504	INC TMP_ZP+1
2263	.$1506	NOPV2IN  STA TMP_REG
2264	.$1508	LDY TMP_ZP+1
2265	.$150a	STY TMP_REG+1
2266	.$150c	JSR FASTFADDMEM
2268	.$150f	LDA TMP2_REG
2269	.$1512	STA TMP_ZP
2270	.$1514	LDA TMP2_REG+1
2271	.$1517	STA TMP_ZP+1
2272	.$1519	STOREREAL
2273	.$1519	LDY #0
2274	.$151b	LDA (TMP_ZP),Y
2275	.$151d	TAX
2276	.$151e	INY
2277	.$151f	LDA (TMP_ZP),Y
2278	.$1521	TAY
2279	.$1522	JSR FACMEM 
2280	.$1525	CMPFORXX LDA #5
2281	.$1527	STA TMP3_ZP
2282	.$1529	LDA TMP_REG
2283	.$152b	CLC
2284	.$152c	ADC #5
2285	.$152e	STA TMP_REG
2286	.$1530	BCC NOPV3
2287	.$1532	INC TMP_REG+1
2288	.$1534	NOPV3  LDY TMP_REG+1
2289	.$1536	JSR CMPFAC  
2290	.$1539	BEQ LOOPING
2291	.$153b	PHA
2292	.$153c	LDY #14
2293	.$153e	LDA (TMP_ZP),Y
2294	.$1540	BEQ STEPZERO
2295	.$1542	ROL
2296	.$1543	BCC STEPPOS
2297	.$1545	STEPNEG  PLA
2298	.$1546	ROL
2299	.$1547	BCC LOOPING
2300	.$1549	BCS EXITLOOP
2301	.$154b	STEPPOS  PLA
2302	.$154c	ROL
2303	.$154d	BCC EXITLOOP
2304	.$154f	LOOPING  LDA TMP3_REG
2305	.$1552	STA FORSTACKP
2306	.$1555	LDA TMP3_REG+1
2307	.$1558	STA FORSTACKP+1
2308	.$155b	LDA TMP2_REG
2309	.$155e	CLC
2310	.$155f	ADC #2
2311	.$1561	STA TMP2_REG
2312	.$1564	BCC NOPV4IN
2313	.$1566	INC TMP2_REG+1
2314	.$1569	NOPV4IN  LDY #0
2315	.$156b	STY A_REG
2316	.$156e	STA TMP_ZP
2317	.$1570	LDA TMP2_REG+1
2318	.$1573	STA TMP_ZP+1
2319	.$1575	LDA (TMP_ZP),Y
2320	.$1577	STA JUMP_TARGET
2321	.$1579	INY
2322	.$157a	LDA (TMP_ZP),Y
2323	.$157c	STA JUMP_TARGET+1
2324	.$157e	RTS
2325	.$157f	STEPZERO PLA
2326	.$1580	JMP LOOPING
2327	.$1583	EXITLOOP LDA TMP2_REG
2328	.$1586	STA FORSTACKP
2329	.$1589	LDA TMP2_REG+1
2330	.$158c	STA FORSTACKP+1
2331	.$158f	LDA #1
2332	.$1591	STA A_REG
2333	.$1594	RTS
2336	.$1595	RETURN  LDA FORSTACKP
2337	.$1598	STA TMP_ZP
2338	.$159a	LDA FORSTACKP+1
2339	.$159d	STA TMP_ZP+1
2340	.$159f	SEARCHGOSUB LDA TMP_ZP
2341	.$15a1	SEC
2342	.$15a2	SBC #2
2343	.$15a4	STA TMP_ZP
2344	.$15a6	BCS NOPV1SG
2345	.$15a8	DEC TMP_ZP+1
2346	.$15aa	NOPV1SG  LDY #0
2347	.$15ac	LDA (TMP_ZP),Y
2348	.$15ae	BEQ FOUNDGOSUB
2349	.$15b0	INY
2350	.$15b1	LDA (TMP_ZP),Y
2351	.$15b3	STA TMP3_ZP
2352	.$15b5	LDA TMP_ZP
2353	.$15b7	SEC
2354	.$15b8	SBC (TMP_ZP),Y
2355	.$15ba	STA TMP_ZP
2356	.$15bc	BCS NOPV1GS
2357	.$15be	DEC TMP_ZP+1
2358	.$15c0	NOPV1GS  JMP SEARCHGOSUB
2359	.$15c3	FOUNDGOSUB
2360	.$15c3	LDA TMP_ZP
2361	.$15c5	STA FORSTACKP
2362	.$15c8	LDA TMP_ZP+1
2363	.$15ca	STA FORSTACKP+1
2364	.$15cd	RTS
2367	.$15ce	GOSUB  LDA FORSTACKP
2368	.$15d1	STA TMP_ZP
2369	.$15d3	LDA FORSTACKP+1
2370	.$15d6	STA TMP_ZP+1
2371	.$15d8	LDY #0
2372	.$15da	TYA
2373	.$15db	STA (TMP_ZP),Y
2374	.$15dd	INY
2375	.$15de	STA (TMP_ZP),Y
2376	.$15e0	INY
2377	.$15e1	TYA
2378	.$15e2	CLC
2379	.$15e3	ADC TMP_ZP
2380	.$15e5	STA FORSTACKP
2381	.$15e8	BCC GOSUBNOOV
2382	.$15ea	INC FORSTACKP+1
2383	.$15ed	GOSUBNOOV RTS
2386	.$15ee	REALFACPUSH STA TMP_ZP
2387	.$15f0	STY TMP_ZP+1
2388	.$15f2	LDX FPSTACKP
2389	.$15f5	LDY FPSTACKP+1
2390	.$15f8	STX TMP2_ZP
2391	.$15fa	STY TMP2_ZP+1
2392	.$15fc	LDY #0
2393	.$15fe	LDA (TMP_ZP),Y
2394	.$1600	STA (TMP2_ZP),Y
2395	.$1602	INY
2396	.$1603	LDA (TMP_ZP),Y
2397	.$1605	STA (TMP2_ZP),Y
2398	.$1607	INY
2399	.$1608	LDA (TMP_ZP),Y
2400	.$160a	STA (TMP2_ZP),Y
2401	.$160c	INY
2402	.$160d	LDA (TMP_ZP),Y
2403	.$160f	STA (TMP2_ZP),Y
2404	.$1611	INY
2405	.$1612	LDA (TMP_ZP),Y
2406	.$1614	STA (TMP2_ZP),Y
2407	.$1616	TXA    
2408	.$1617	CLC
2409	.$1618	ADC #5
2410	.$161a	STA FPSTACKP
2411	.$161d	BCC NOPVRFPXX
2412	.$161f	INC FPSTACKP+1
2413	.$1622	NOPVRFPXX RTS
2416	.$1623	PUSHREAL LDX FPSTACKP
2417	.$1626	LDY FPSTACKP+1
2418	.$1629	JSR FACMEM
2419	.$162c	LDA FPSTACKP
2420	.$162f	CLC
2421	.$1630	ADC #5
2422	.$1632	STA FPSTACKP
2423	.$1635	BCC NOPVPUR
2424	.$1637	INC FPSTACKP+1
2425	.$163a	NOPVPUR  RTS
2428	.$163b	POPREAL2X LDA FPSTACKP
2429	.$163e	SEC
2430	.$163f	SBC #5
2431	.$1641	STA FPSTACKP
2432	.$1644	BCS NOPVPR2X
2433	.$1646	DEC FPSTACKP+1
2434	.$1649	NOPVPR2X LDA FPSTACKP
2435	.$164c	LDY FPSTACKP+1
2436	.$164f	JSR REALFAC
2437	.$1652	JSR XREGARG
2438	.$1655	RTS
2441	.$1656	POPREAL  LDA FPSTACKP
2442	.$1659	SEC
2443	.$165a	SBC #5
2444	.$165c	STA FPSTACKP
2445	.$165f	BCS NOPVPR
2446	.$1661	DEC FPSTACKP+1
2447	.$1664	NOPVPR  LDA FPSTACKP
2448	.$1667	LDY FPSTACKP+1
2449	.$166a	JMP REALFAC
2452	.$166d	POPREALXREG LDA FPSTACKP
2453	.$1670	SEC
2454	.$1671	SBC #5
2455	.$1673	STA FPSTACKP
2456	.$1676	BCS NOPVPRXR
2457	.$1678	DEC FPSTACKP+1
2458	.$167b	NOPVPRXR LDA FPSTACKP
2459	.$167e	LDY FPSTACKP+1
2460	.$1681	STA TMP_ZP
2461	.$1683	STY TMP_ZP+1
2462	.$1685	LDY #$4
2463	.$1687	LDA (TMP_ZP),Y
2464	.$1689	STA X_REG+4
2465	.$168b	STA FACLO
2466	.$168d	DEY
2467	.$168e	LDA (TMP_ZP),Y
2468	.$1690	STA X_REG+3
2469	.$1692	STA FACMO
2470	.$1694	DEY
2471	.$1695	LDA (TMP_ZP),Y
2472	.$1697	STA X_REG+2
2473	.$1699	STA FACMOH
2474	.$169b	DEY
2475	.$169c	LDA (TMP_ZP),Y
2476	.$169e	STA X_REG+1
2477	.$16a0	STA FACSGN
2478	.$16a2	ORA #$80
2479	.$16a4	STA FACHO
2480	.$16a6	DEY
2481	.$16a7	LDA (TMP_ZP),Y
2482	.$16a9	STA X_REG
2483	.$16ab	STA FACEXP
2484	.$16ad	STY FACOV
2485	.$16af	RTS
2488	.$16b0	SHL   LDA FACEXP
2489	.$16b2	BEQ SHLOK
2490	.$16b4	CLC
2491	.$16b5	ADC A_REG
2492	.$16b8	BCC SHLOK
2493	.$16ba	LDA #0
2494	.$16bc	STA FACSGN
2495	.$16be	STA FACLO
2496	.$16c0	STA FACMO
2497	.$16c2	STA FACMOH
2498	.$16c4	STA FACHO
2499	.$16c6	LDA #$FF
2500	.$16c8	SHLOK  STA FACEXP
2501	.$16ca	RTS
2504	.$16cb	INCTMPZP LDA TMP_ZP
2505	.$16cd	CLC
2506	.$16ce	ADC TMP3_ZP
2507	.$16d0	STA TMP_ZP
2508	.$16d2	BCC NOPV2
2509	.$16d4	INC TMP_ZP+1
2510	.$16d6	NOPV2  RTS
2513	.$16d7	COPY2_YREG_XYA
2514	.$16d7	LDY #0
2515	.$16d9	LDA Y_REG
2516	.$16dc	STA (TMP_ZP),Y
2517	.$16de	INY
2518	.$16df	LDA Y_REG+1
2519	.$16e2	STA (TMP_ZP),Y
2520	.$16e4	INY
2521	.$16e5	LDA Y_REG+2
2522	.$16e8	STA (TMP_ZP),Y
2523	.$16ea	INY
2524	.$16eb	LDA Y_REG+3
2525	.$16ee	STA (TMP_ZP),Y
2526	.$16f0	INY
2527	.$16f1	LDA Y_REG+4
2528	.$16f4	STA (TMP_ZP),Y
2529	.$16f6	RTS
2532	.$16f7	COPY2_XYA_XREG
2533	.$16f7	STA TMP3_ZP
2534	.$16f9	STY TMP3_ZP+1
2535	.$16fb	COPY2_XY_XREG
2536	.$16fb	LDX #<X_REG  
2537	.$16fd	LDY #0
2538	.$16ff	LDA (TMP3_ZP),Y
2539	.$1701	STA X_REG
2540	.$1703	INY
2541	.$1704	LDA (TMP3_ZP),Y
2542	.$1706	STA X_REG+1
2543	.$1708	INY
2544	.$1709	LDA (TMP3_ZP),Y
2545	.$170b	STA X_REG+2
2546	.$170d	INY
2547	.$170e	LDA (TMP3_ZP),Y
2548	.$1710	STA X_REG+3
2549	.$1712	INY
2550	.$1713	LDA (TMP3_ZP),Y
2551	.$1715	STA X_REG+4
2552	.$1717	RTS
2555	.$1718	COPY2_XYA_YREG
2556	.$1718	STA TMP3_ZP
2557	.$171a	STY TMP3_ZP+1
2558	.$171c	COPY2_XY_YREG
2559	.$171c	LDX #<Y_REG  
2560	.$171e	LDY #0
2561	.$1720	LDA (TMP3_ZP),Y
2562	.$1722	STA Y_REG
2563	.$1725	INY
2564	.$1726	LDA (TMP3_ZP),Y
2565	.$1728	STA Y_REG+1
2566	.$172b	INY
2567	.$172c	LDA (TMP3_ZP),Y
2568	.$172e	STA Y_REG+2
2569	.$1731	INY
2570	.$1732	LDA (TMP3_ZP),Y
2571	.$1734	STA Y_REG+3
2572	.$1737	INY
2573	.$1738	LDA (TMP3_ZP),Y
2574	.$173a	STA Y_REG+4
2575	.$173d	RTS
2578	.$173e	COPY_XREG2YREG
2579	.$173e	LDA X_REG
2580	.$1740	STA Y_REG
2581	.$1743	LDA X_REG+1
2582	.$1745	STA Y_REG+1
2583	.$1748	LDA X_REG+2
2584	.$174a	STA Y_REG+2
2585	.$174d	LDA X_REG+3
2586	.$174f	STA Y_REG+3
2587	.$1752	LDA X_REG+4
2588	.$1754	STA Y_REG+4
2589	.$1757	RTS
2593	.$1758	FACWORD
2594	.$1758	LDA FACEXP   
2595	.$175a	BNE DOFACWORD
2596	.$175c	STA FACSGN   
2597	.$175e	DOFACWORD:
2598	.$175e	JMP XFACWORD
2602	.$1761	ONETOFAC    LDX #129
2603	.$1763	STX FAC
2604	.$1765	DEX
2605	.$1766	STX FAC+1
2606	.$1768	LDX #0
2607	.$176a	STX FAC+2
2608	.$176c	STX FAC+3
2609	.$176e	STX FAC+4
2610	.$1770	STX FAC+5
2611	.$1772	STX FAC+15
2612	.$1774	RTS
2615	.$1775	FASTAND  LDA ARGEXP   
2616	.$1777	BNE CHECKFAC
2617	.$1779	STA FACSGN   
2618	.$177b	STA FACLO
2619	.$177d	STA FACMO
2620	.$177f	STA FACMOH
2621	.$1781	STA FACHO
2622	.$1783	STA FACEXP
2623	.$1785	RTS
2624	.$1786	CHECKFAC LDA FACEXP   
2625	.$1788	BNE FACNOTNULL
2626	.$178a	STA FACSGN   
2627	.$178c	RTS    
2628	.$178d	FACNOTNULL CMP #$81
2629	.$178f	BNE NORMALAND
2630	.$1791	LDA FACHO
2631	.$1793	CMP #$80
2632	.$1795	BNE NORMALAND
2633	.$1797	LDA FACMOH
2634	.$1799	BNE NORMALAND
2635	.$179b	LDA FACMO
2636	.$179d	BNE NORMALAND
2637	.$179f	LDA FACLO
2638	.$17a1	BNE NORMALAND
2639	.$17a3	LDA FACSGN
2640	.$17a5	ROL
2641	.$17a6	BCC NORMALAND
2642	.$17a8	LDA ARGEXP   
2643	.$17aa	CMP #$81
2644	.$17ac	BNE NORMALAND
2645	.$17ae	LDA ARGHO
2646	.$17b0	CMP #$80
2647	.$17b2	BNE NORMALAND
2648	.$17b4	LDA ARGMOH
2649	.$17b6	BNE NORMALAND
2650	.$17b8	LDA ARGMO
2651	.$17ba	BNE NORMALAND
2652	.$17bc	LDA ARGLO
2653	.$17be	BNE NORMALAND
2654	.$17c0	LDA ARGSGN
2655	.$17c2	ROL
2656	.$17c3	BCC NORMALAND
2657	.$17c5	RTS    
2658	.$17c6	NORMALAND JMP ARGAND
2661	.$17c9	FASTOR  LDA FACEXP   
2662	.$17cb	BNE CHECKFACOR
2663	.$17cd	LDA ARGEXP   
2664	.$17cf	BNE CHECKARGOR 
2665	.$17d1	LDA #0
2666	.$17d3	STA FACSGN   
2667	.$17d5	RTS    
2668	.$17d6	CHECKFACOR LDA FACEXP   
2669	.$17d8	CMP #$81
2670	.$17da	BNE NORMALOR
2671	.$17dc	LDA FACHO
2672	.$17de	CMP #$80
2673	.$17e0	BNE NORMALOR
2674	.$17e2	LDA FACMOH
2675	.$17e4	BNE NORMALOR
2676	.$17e6	LDA FACMO
2677	.$17e8	BNE NORMALOR
2678	.$17ea	LDA FACLO
2679	.$17ec	BNE NORMALOR
2680	.$17ee	LDA FACSGN
2681	.$17f0	ROL
2682	.$17f1	BCC NORMALOR
2683	.$17f3	CHECKARGOR LDA ARGEXP   
2684	.$17f5	BNE CHECKARGOR2
2685	.$17f7	RTS    
2686	.$17f8	CHECKARGOR2 CMP #$81
2687	.$17fa	BNE NORMALOR
2688	.$17fc	LDA ARGHO
2689	.$17fe	CMP #$80
2690	.$1800	BNE NORMALOR
2691	.$1802	LDA ARGMOH
2692	.$1804	BNE NORMALOR
2693	.$1806	LDA ARGMO
2694	.$1808	BNE NORMALOR
2695	.$180a	LDA ARGLO
2696	.$180c	BNE NORMALOR
2697	.$180e	LDA ARGSGN
2698	.$1810	AND #$80
2699	.$1812	CMP #$80
2700	.$1814	BNE NORMALOR
2701	.$1816	JMP ARGFAC  
2702	.$1819	NORMALOR JMP FACOR
2705	.$181c	CLRCHNEW
2706	.$181c	LDA CHLOCKFLAG
2707	.$181f	BNE SKIPCLRCH
2708	.$1821	JMP CLRCH
2709	.$1824	SKIPCLRCH
2710	.$1824	RTS
2713	.$1825	NEXTWOFOR
2717	.$1825	LDX #$0A
2718	.$1827	JMP ERRALL
2721	.$182a	OUTOFMEMORY
2725	.$182a	LDX #$10
2726	.$182c	JMP ERRALL
2729	.$182f	ILLEGALQUANTITY
2733	.$182f	JMP ERRIQ
2736	.$1832	FACXREG  LDA FACLO
2737	.$1834	STA X_REG+4
2738	.$1836	LDA FACMO
2739	.$1838	STA X_REG+3
2740	.$183a	LDA FACMOH
2741	.$183c	STA X_REG+2
2742	.$183e	LDA FACSGN
2743	.$1840	ORA #$7F
2744	.$1842	AND FACHO
2745	.$1844	STA X_REG+1
2746	.$1846	LDA FACEXP
2747	.$1848	STA X_REG
2748	.$184a	LDA #0   
2749	.$184c	STA FACOV
2750	.$184e	RTS
2753	.$184f	FACYREG  LDA FACLO
2754	.$1851	STA Y_REG+4
2755	.$1854	LDA FACMO
2756	.$1856	STA Y_REG+3
2757	.$1859	LDA FACMOH
2758	.$185b	STA Y_REG+2
2759	.$185e	LDA FACSGN
2760	.$1860	ORA #$7F
2761	.$1862	AND FACHO
2762	.$1864	STA Y_REG+1
2763	.$1867	LDA FACEXP
2764	.$1869	STA Y_REG
2765	.$186c	LDA #0   
2766	.$186e	STA FACOV
2767	.$1870	RTS
2770	.$1871	XREG2VAR
2771	.$1871	STX TMP_ZP
2772	.$1873	STY TMP_ZP+1
2773	.$1875	LDY #0
2774	.$1877	LDA X_REG
2775	.$1879	STA (TMP_ZP),Y
2776	.$187b	INY
2777	.$187c	LDA X_REG+1
2778	.$187e	STA (TMP_ZP),Y
2779	.$1880	INY
2780	.$1881	LDA X_REG+2
2781	.$1883	STA (TMP_ZP),Y
2782	.$1885	INY
2783	.$1886	LDA X_REG+3
2784	.$1888	STA (TMP_ZP),Y
2785	.$188a	INY
2786	.$188b	LDA X_REG+4
2787	.$188d	STA (TMP_ZP),Y
2788	.$188f	RTS
2791	.$1890	XREGFAC  LDA X_REG+4
2792	.$1892	STA FACLO
2793	.$1894	LDA X_REG+3
2794	.$1896	STA FACMO
2795	.$1898	LDA X_REG+2
2796	.$189a	STA FACMOH
2797	.$189c	LDA X_REG+1
2798	.$189e	STA FACSGN
2799	.$18a0	ORA #$80
2800	.$18a2	STA FACHO
2801	.$18a4	LDA X_REG
2802	.$18a6	STA FACEXP
2803	.$18a8	LDA #0
2804	.$18aa	STA FACOV
2805	.$18ac	RTS
2808	.$18ad	XREGARG  LDA X_REG+4
2809	.$18af	STA ARGLO
2810	.$18b1	LDA X_REG+3
2811	.$18b3	STA ARGMO
2812	.$18b5	LDA X_REG+2
2813	.$18b7	STA ARGMOH
2814	.$18b9	LDA X_REG+1
2815	.$18bb	STA ARGSGN
2816	.$18bd	EOR FACSGN
2817	.$18bf	STA ARISGN
2818	.$18c1	LDA ARGSGN
2819	.$18c3	ORA #$80
2820	.$18c5	STA ARGHO
2821	.$18c7	LDA X_REG
2822	.$18c9	STA ARGEXP
2823	.$18cb	LDA FACEXP
2824	.$18cd	RTS
2827	.$18ce	YREGFAC  LDA Y_REG+4
2828	.$18d1	STA FACLO
2829	.$18d3	LDA Y_REG+3
2830	.$18d6	STA FACMO
2831	.$18d8	LDA Y_REG+2
2832	.$18db	STA FACMOH
2833	.$18dd	LDA Y_REG+1
2834	.$18e0	STA FACSGN
2835	.$18e2	ORA #$80
2836	.$18e4	STA FACHO
2837	.$18e6	LDA Y_REG
2838	.$18e9	STA FACEXP
2839	.$18eb	LDA #0
2840	.$18ed	STA FACOV
2841	.$18ef	RTS
2955	.$18f0	FASTFSUBMEM
2956	.$18f0	JSR MEMARG
2957	.$18f3	FASTFSUBARG
2958	.$18f3	LDA FACSGN
2959	.$18f5	EOR #$FF
2960	.$18f7	STA FACSGN
2961	.$18f9	EOR ARGSGN
2962	.$18fb	STA ARISGN
2963	.$18fd	LDA FACEXP
2964	.$18ff	JMP FASTFADDARG
2967	.$1902	FASTFADDMEM
2968	.$1902	JSR MEMARG
2969	.$1905	FASTFADDARG
2970	.$1905	BNE FADDRET2     
2971	.$1907	JMP ARGFAC
2972	.$190a	FADDRET2 LDA ARGEXP
2973	.$190c	BNE FADDRET1     
2974	.$190e	RTS
2975	.$190f	FADDRET1 SEC
2976	.$1910	SBC FACEXP
2977	.$1912	BEQ FFADD_EXPEQ     
2978	.$1914	BCC FFADD_SHFARG1   
2982	.$1916	LDY ARGEXP
2983	.$1918	STY FACEXP
2984	.$191a	LDY ARGSGN
2985	.$191c	STY FACSGN
2986	.$191e	LDX #0
2987	.$1920	STX OLDOV        
2988	.$1922	LDX #FAC         
2990	.$1924	SEC
2991	.$1925	SBC #$08
2992	.$1927	BMI FFADD_SHFFAC2
2994	.$1929	FFADD_SHFFAC1
2995	.$1929	LDY FACLO        
2996	.$192b	STY FACOV
2997	.$192d	LDY FACMO        
2998	.$192f	STY FACMO+1
2999	.$1931	LDY FACMOH       
3000	.$1933	STY FACMOH+1
3001	.$1935	LDY FACHO        
3002	.$1937	STY FACHO+1
3003	.$1939	LDY #0
3004	.$193b	STY FACHO        
3005	.$193d	SBC #$08         
3006	.$193f	BPL FFADD_SHFFAC1   
3007	.$1941	FFADD_SHFFAC2
3008	.$1941	ADC #$08         
3009	.$1943	BEQ FFADD_SHFFAC4   
3010	.$1945	TAY
3011	.$1946	LDA FACOV
3012	.$1948	FFADD_SHFFAC3
3013	.$1948	LSR FACHO        
3014	.$194a	ROR FACMOH       
3015	.$194c	ROR FACMO        
3016	.$194e	ROR FACLO        
3017	.$1950	ROR              
3018	.$1951	DEY
3019	.$1952	BNE FFADD_SHFFAC3
3020	.$1954	JMP FFADD_MANADD2   
3021	.$1957	FFADD_SHFFAC4
3022	.$1957	LDA FACOV        
3023	.$1959	JMP FFADD_MANADD2
3024	.$195c	FFADD_EXPEQ
3025	.$195c	LDX FACOV
3026	.$195e	STX OLDOV
3029	.$1960	JMP FFADD_MANADD1
3030	.$1963	FFADD_SHFARG2
3031	.$1963	LDA FACOV        
3032	.$1965	JMP FFADD_MANADD1
3033	.$1968	FFADD_SHFARG1
3034	.$1968	LDX FACOV
3035	.$196a	STX OLDOV        
3036	.$196c	LDX #$00         
3039	.$196e	ADC #$08
3040	.$1970	BPL FFADD_SHFARG6   
3041	.$1972	FFADD_SHFARG3
3042	.$1972	LDX ARGLO        
3043	.$1974	LDY ARGMO        
3044	.$1976	STY ARGMO+1
3045	.$1978	LDY ARGMOH       
3046	.$197a	STY ARGMOH+1
3047	.$197c	LDY ARGHO        
3048	.$197e	STY ARGHO+1
3049	.$1980	LDY #0
3050	.$1982	STY ARGHO        
3051	.$1984	FFADD_SHFARG4
3052	.$1984	ADC #$08
3053	.$1986	BMI FFADD_SHFARG3
3054	.$1988	BEQ FFADD_SHFARG3
3055	.$198a	FFADD_SHFARG6
3056	.$198a	SBC #$08
3057	.$198c	BEQ FFADD_SHFARG2   
3058	.$198e	TAY
3059	.$198f	TXA              
3060	.$1990	FFADD_SHFARG5
3061	.$1990	LSR ARGHO
3062	.$1992	ROR ARGMOH
3063	.$1994	ROR ARGMO
3064	.$1996	ROR ARGLO
3065	.$1998	ROR           
3066	.$1999	INY
3067	.$199a	BNE FFADD_SHFARG5
3068	.$199c	FFADD_MANADD1
3069	.$199c	LDX #ARGEXP      
3070	.$199e	FFADD_MANADD2
3071	.$199e	BIT ARISGN
3072	.$19a0	BMI FFADD_MANSUB1   
3073	.$19a2	CLC
3074	.$19a3	ADC OLDOV
3075	.$19a5	STA FACOV
3076	.$19a7	LDA FACLO
3077	.$19a9	ADC ARGLO
3078	.$19ab	STA FACLO
3079	.$19ad	LDA FACMO
3080	.$19af	ADC ARGMO
3081	.$19b1	STA FACMO
3082	.$19b3	LDA FACMOH
3083	.$19b5	ADC ARGMOH
3084	.$19b7	STA FACMOH
3085	.$19b9	LDA FACHO
3086	.$19bb	ADC ARGHO
3087	.$19bd	STA FACHO
3088	.$19bf	BCC FFADD_RNDRTS
3089	.$19c1	INC FACEXP
3090	.$19c3	BEQ FFADD_OVERR
3092	.$19c5	ROR FACHO
3093	.$19c7	ROR FACMOH
3094	.$19c9	ROR FACMO
3095	.$19cb	ROR FACLO
3096	.$19cd	ROR FACOV
3097	.$19cf	FFADD_RNDRTS
3098	.$19cf	RTS
3099	.$19d0	FFADD_OVERR
3100	.$19d0	JMP ILLEGALQUANTITY
3101	.$19d3	FFADD_MANSUB1
3102	.$19d3	LDY #FACEXP
3103	.$19d5	CPX #ARGEXP
3104	.$19d7	BEQ FFADD_MANSUB2
3105	.$19d9	LDY #ARGEXP
3106	.$19db	FFADD_MANSUB2
3107	.$19db	SEC              
3108	.$19dc	EOR #$FF
3109	.$19de	ADC OLDOV
3110	.$19e0	STA FACOV
3111	.$19e2	LDA 4,Y
3112	.$19e5	SBC 4,X
3113	.$19e7	STA FACLO
3114	.$19e9	LDA 3,Y
3115	.$19ec	SBC 3,X
3116	.$19ee	STA FACMO
3117	.$19f0	LDA 2,Y
3118	.$19f3	SBC 2,X
3119	.$19f5	STA FACMOH
3120	.$19f7	LDA 1,Y
3121	.$19fa	SBC 1,X
3122	.$19fc	STA FACHO
3123	.$19fe	BCS FCNORMAL
3124	.$1a00	LDA FACSGN
3125	.$1a02	EOR #$FF
3126	.$1a04	STA FACSGN
3127	.$1a06	LDA FACHO
3128	.$1a08	EOR #$FF
3129	.$1a0a	STA FACHO
3130	.$1a0c	LDA FACMOH
3131	.$1a0e	EOR #$FF
3132	.$1a10	STA FACMOH
3133	.$1a12	LDA FACMO
3134	.$1a14	EOR #$FF
3135	.$1a16	STA FACMO
3136	.$1a18	LDA FACLO
3137	.$1a1a	EOR #$FF
3138	.$1a1c	STA FACLO
3139	.$1a1e	LDA FACOV
3140	.$1a20	EOR #$FF
3141	.$1a22	CLC
3142	.$1a23	ADC #1
3143	.$1a25	STA FACOV
3144	.$1a27	BNE FCNORMAL
3145	.$1a29	INC FACLO
3146	.$1a2b	BNE FCNORMAL
3147	.$1a2d	INC FACMO
3148	.$1a2f	BNE FCNORMAL
3149	.$1a31	INC FACMOH
3150	.$1a33	BNE FCNORMAL
3151	.$1a35	INC FACHO
3152	.$1a37	FCNORMAL   BIT FACHO
3153	.$1a39	BMI FFADD_RET       
3154	.$1a3b	LDA #0           
3155	.$1a3d	CLC
3156	.$1a3e	FFADD_NORM3
3157	.$1a3e	LDX FACHO
3158	.$1a40	BNE FFADD_NORM1
3159	.$1a42	LDX FACHO+1
3160	.$1a44	STX FACHO
3161	.$1a46	LDX FACMOH+1
3162	.$1a48	STX FACMOH
3163	.$1a4a	LDX FACMO+1
3164	.$1a4c	STX FACMO
3165	.$1a4e	LDX FACOV
3166	.$1a50	STX FACLO
3167	.$1a52	LDX #0
3168	.$1a54	STX FACOV
3169	.$1a56	ADC #$08
3170	.$1a58	CMP #$20
3171	.$1a5a	BNE FFADD_NORM3
3172	.$1a5c	JMP FFADD_ZEROFAC
3173	.$1a5f	FFADD_NORM2
3174	.$1a5f	CLC
3175	.$1a60	ADC #1
3176	.$1a62	ASL FACOV
3177	.$1a64	ROL FACLO
3178	.$1a66	ROL FACMO
3179	.$1a68	ROL FACMOH
3180	.$1a6a	ROL FACHO
3181	.$1a6c	FFADD_NORM1
3182	.$1a6c	BPL FFADD_NORM2     
3183	.$1a6e	SEC
3184	.$1a6f	SBC FACEXP
3185	.$1a71	BCS FFADD_ZEROFAC
3186	.$1a73	EOR #$FF
3187	.$1a75	CLC
3188	.$1a76	ADC #1
3189	.$1a78	STA FACEXP
3190	.$1a7a	FFADD_RET   RTS
3191	.$1a7b	FFADD_ZEROFAC
3192	.$1a7b	LDX #0
3193	.$1a7d	STX FACEXP
3194	.$1a7f	STX FACSGN
3195	.$1a81	RTS
3198	.$1a82	FASTFMULMEM
3199	.$1a82	JSR MEMARG
3200	.$1a85	FASTFMULARG
3201	.$1a85	BEQ FFMUL_MULTRT    
3202	.$1a87	LDA ARGEXP
3203	.$1a89	BEQ FFMUL_ZEREMV    
3204	.$1a8b	CLC
3205	.$1a8c	ADC FACEXP
3206	.$1a8e	BCC FFMUL_TRYOFF
3207	.$1a90	CLC
3208	.$1a91	BPL FFMUL_ADJUST
3209	.$1a93	JMP ILLEGALQUANTITY
3210	.$1a96	FFMUL_ZEREMV
3211	.$1a96	LDY #0
3212	.$1a98	STY FACEXP       
3213	.$1a9a	STY FACSGN
3214	.$1a9c	FFMUL_MULTRT
3215	.$1a9c	RTS
3216	.$1a9d	FFMUL_TRYOFF
3217	.$1a9d	BPL FFMUL_ZEREMV    
3218	.$1a9f	FFMUL_ADJUST
3219	.$1a9f	ADC #$80         
3220	.$1aa1	BEQ FFMUL_ZEREMV    
3221	.$1aa3	STA FACEXP
3222	.$1aa5	LDA ARISGN
3223	.$1aa7	STA FACSGN
3224	.$1aa9	LDY #0
3225	.$1aab	STY RESHOP
3226	.$1aad	STY RESHO
3227	.$1aaf	STY RESMOH
3228	.$1ab1	STY RESMO
3229	.$1ab3	STY RESLO
3230	.$1ab5	STY RESOV
3231	.$1ab7	STY FACHOP
3232	.$1ab9	FFMUL_B0
3233	.$1ab9	LSR ARGLO        
3234	.$1abb	BCC FFMUL_B1
3235	.$1abd	LDA RESOV
3236	.$1abf	CLC
3237	.$1ac0	ADC FACMOH       
3238	.$1ac2	STA RESOV
3239	.$1ac4	LDA RESLO
3240	.$1ac6	ADC FACHO        
3241	.$1ac8	STA RESLO
3242	.$1aca	LDA RESMO
3243	.$1acc	ADC FACHOP       
3244	.$1ace	STA RESMO
3245	.$1ad0	BCC FFMUL_B1
3246	.$1ad2	INC RESMOH
3247	.$1ad4	BNE FFMUL_B1
3248	.$1ad6	INC RESHO
3249	.$1ad8	BNE FFMUL_B1
3250	.$1ada	INC RESHOP
3251	.$1adc	FFMUL_B1
3252	.$1adc	LSR ARGMO        
3253	.$1ade	BCC FFMUL_B2
3254	.$1ae0	LDA RESOV
3255	.$1ae2	CLC
3256	.$1ae3	ADC FACMO        
3257	.$1ae5	STA RESOV
3258	.$1ae7	LDA RESLO
3259	.$1ae9	ADC FACMOH       
3260	.$1aeb	STA RESLO
3261	.$1aed	LDA RESMO
3262	.$1aef	ADC FACHO        
3263	.$1af1	STA RESMO
3264	.$1af3	LDA RESMOH
3265	.$1af5	ADC FACHOP       
3266	.$1af7	STA RESMOH
3267	.$1af9	BCC FFMUL_B2
3268	.$1afb	INC RESHO
3269	.$1afd	BNE FFMUL_B2
3270	.$1aff	INC RESHOP
3271	.$1b01	FFMUL_B2
3272	.$1b01	LSR ARGMOH       
3273	.$1b03	BCC FFMUL_B3
3274	.$1b05	LDA RESOV
3275	.$1b07	CLC
3276	.$1b08	ADC FACLO        
3277	.$1b0a	STA RESOV
3278	.$1b0c	LDA RESLO
3279	.$1b0e	ADC FACMO        
3280	.$1b10	STA RESLO
3281	.$1b12	LDA RESMO
3282	.$1b14	ADC FACMOH       
3283	.$1b16	STA RESMO
3284	.$1b18	LDA RESMOH
3285	.$1b1a	ADC FACHO        
3286	.$1b1c	STA RESMOH
3287	.$1b1e	LDA RESHO
3288	.$1b20	ADC FACHOP       
3289	.$1b22	STA RESHO
3290	.$1b24	BCC FFMUL_B3
3291	.$1b26	INC RESHOP
3292	.$1b28	FFMUL_B3
3293	.$1b28	LSR ARGHO        
3294	.$1b2a	BCC FFMUL_ROTA
3295	.$1b2c	LDA RESOV
3296	.$1b2e	CLC
3297	.$1b2f	ADC FACOV        
3298	.$1b31	STA RESOV
3299	.$1b33	LDA RESLO
3300	.$1b35	ADC FACLO        
3301	.$1b37	STA RESLO
3302	.$1b39	LDA RESMO
3303	.$1b3b	ADC FACMO        
3304	.$1b3d	STA RESMO
3305	.$1b3f	LDA RESMOH
3306	.$1b41	ADC FACMOH       
3307	.$1b43	STA RESMOH
3308	.$1b45	LDA RESHO
3309	.$1b47	ADC FACHO        
3310	.$1b49	STA RESHO
3311	.$1b4b	LDA RESHOP
3312	.$1b4d	ADC FACHOP       
3313	.$1b4f	STA RESHOP
3314	.$1b51	FFMUL_ROTA
3315	.$1b51	ASL FACOV
3316	.$1b53	ROL FACLO
3317	.$1b55	ROL FACMO
3318	.$1b57	ROL FACMOH
3319	.$1b59	ROL FACHO
3320	.$1b5b	ROL FACHOP
3321	.$1b5d	BMI FFMUL_FIN
3322	.$1b5f	JMP FFMUL_B0
3323	.$1b62	FFMUL_FIN
3324	.$1b62	LDA RESHOP
3325	.$1b64	STA FACHO
3326	.$1b66	LDA RESHO
3327	.$1b68	STA FACMOH
3328	.$1b6a	LDA RESMOH
3329	.$1b6c	STA FACMO
3330	.$1b6e	LDA RESMO
3331	.$1b70	STA FACLO
3332	.$1b72	LDA RESLO
3333	.$1b74	STA FACOV
3334	.$1b76	JMP FCNORMAL      
3335	.$1b79	MUL10
3336	.$1b79	JSR ARGFAC       
3337	.$1b7c	TAX              
3338	.$1b7d	BEQ FFMUL_MUL101    
3339	.$1b7f	CLC
3340	.$1b80	ADC #2
3341	.$1b82	BCS FFMUL_MUL102    
3342	.$1b84	STA FACEXP       
3343	.$1b86	LDY #0
3344	.$1b88	STY ARISGN
3345	.$1b8a	JSR FASTFADDARG      
3346	.$1b8d	INC FACEXP
3347	.$1b8f	BEQ FFMUL_MUL102     
3348	.$1b91	FFMUL_MUL101
3349	.$1b91	RTS
3350	.$1b92	FFMUL_MUL102
3351	.$1b92	JMP ILLEGALQUANTITY
3352	.$1b95	MUL6
3353	.$1b95	JSR ARGFAC       
3354	.$1b98	TAX              
3355	.$1b99	BEQ FFMUL_MUL61     
3356	.$1b9b	INC FACEXP
3357	.$1b9d	BEQ FFMUL_MUL62     
3358	.$1b9f	LDY #0
3359	.$1ba1	STY ARISGN
3360	.$1ba3	JSR FASTFADDARG      
3361	.$1ba6	INC FACEXP
3362	.$1ba8	BEQ FFMUL_MUL62     
3363	.$1baa	FFMUL_MUL61
3364	.$1baa	RTS
3365	.$1bab	FFMUL_MUL62
3366	.$1bab	JMP ILLEGALQUANTITY
3369	.$1bae	INITVARS
3370	.$1bae	JSR INITSTRVARS
3371	.$1bb1	LDA #0
3372	.$1bb3	LDY #4
3373	.$1bb5	REALINITLOOP0:
3374	.$1bb5	STA VAR_I,Y
3375	.$1bb8	STA VAR_LP,Y
3376	.$1bbb	STA VAR_PT,Y
3377	.$1bbe	STA VAR_PO,Y
3378	.$1bc1	STA VAR_PC,Y
3379	.$1bc4	STA VAR_CH,Y
3380	.$1bc7	STA VAR_IX,Y
3381	.$1bca	STA VAR_NX,Y
3382	.$1bcd	STA VAR_CP,Y
3383	.$1bd0	STA VAR_FL,Y
3384	.$1bd3	STA VAR_NF,Y
3385	.$1bd6	STA VAR_Z,Y
3386	.$1bd9	DEY
3387	.$1bda	BMI REALLOOPEXIT0
3388	.$1bdc	JMP REALINITLOOP0
3389	.$1bdf	REALLOOPEXIT0:
3390	.$1bdf	LDA #<VAR_TY[]
3391	.$1be1	LDY #>VAR_TY[]
3392	.$1be3	JSR INITSPARAMS
3393	.$1be6	JSR INITNARRAY
3394	.$1be9	LDA #<VAR_P[]
3395	.$1beb	LDY #>VAR_P[]
3396	.$1bed	JSR INITSPARAMS
3397	.$1bf0	JSR INITNARRAY
3398	.$1bf3	LDA #0
3399	.$1bf5	RTS
3403	.$1bf6	CONSTANTS
3406	.$1bf6	CONST_0R .REAL 1.0
3412	.$1bfb	CONST_2R .REAL 0.0
3415	.$1c00	CONST_3 .REAL 20.0
3418	.$1c05	CONST_4R .REAL 42.0
3427	.$1c0a	CONST_7 .REAL 0.0784313725490196
3430	.$1c0f	CONST_8 .REAL 6.375
3433	.$1c14	CONST_9R .REAL 1024.0
3436	.$1c19	CONST_10R .REAL 98.0
3439	.$1c1e	CONST_11R .REAL 32.0
3442	.$1c23	CONST_12R .REAL 40.0
3445	.$1c28	CONST_13R .REAL 2023.0
3448	.$1c2d	CONST_14R .REAL 100.0
3451	.$1c32	CONST_15R .REAL 1983.0
3454	.$1c37	CONST_16R .REAL 46.0
3463	.$1c3c	CONST_19R .REAL 39.0
3466	.$1c41	CONST_20R .REAL 160.0
3469	.$1c46	CONST_21R .REAL 121.0
3472	.$1c4b	CONST_22R .REAL 248.0
3475	.$1c50	CONST_23R .REAL 247.0
3478	.$1c55	DATAS
3479	.$1c55	.BYTE $FF
3481	.$1c56	CONSTANTS_END
3484	.$1c56	VARIABLES
3486	.$1c56	VAR_I .REAL 0.0
3488	.$1c5b	.BYTE 1
3489	.$1c5c	.WORD 105
3490	.$1c5e	VAR_TY[] .ARRAY 105
3492	.$1cc7	VAR_LP .REAL 0.0
3494	.$1ccc	.BYTE 1
3495	.$1ccd	.WORD 105
3496	.$1ccf	VAR_P[] .ARRAY 105
3498	.$1d38	VAR_PT .REAL 0.0
3500	.$1d3d	VAR_PO .REAL 0.0
3502	.$1d42	VAR_PC .REAL 0.0
3504	.$1d47	VAR_CH .REAL 0.0
3506	.$1d4c	VAR_IX .REAL 0.0
3508	.$1d51	VAR_NX .REAL 0.0
3510	.$1d56	VAR_CP .REAL 0.0
3512	.$1d5b	VAR_FL .REAL 0.0
3514	.$1d60	VAR_NF .REAL 0.0
3516	.$1d65	VAR_Z .REAL 0.0
3517	.$1d6a	STRINGVARS_START
3519	.$1d6a	VAR_TI$ .WORD EMPTYSTR
3520	.$1d6c	STRINGVARS_END
3521	.$1d6c	STRINGARRAYS_START
3522	.$1d6c	STRINGARRAYS_END
3523	.$1d6c	VARIABLES_END
3525	.$1d6c	Y_REG .REAL 0.0
3526	.$1d71	C_REG .REAL 0.0
3527	.$1d76	D_REG .REAL 0.0
3528	.$1d7b	E_REG .REAL 0.0
3529	.$1d80	F_REG .REAL 0.0
3530	.$1d85	A_REG .WORD 0
3531	.$1d87	B_REG .WORD 0
3532	.$1d89	CMD_NUM .BYTE 0
3533	.$1d8a	CHANNEL .BYTE 0
3534	.$1d8b	SP_SAVE .BYTE 0
3535	.$1d8c	TMP2_REG .WORD 0
3536	.$1d8e	TMP3_REG .WORD 0
3537	.$1d90	TMP4_REG .WORD 0
3538	.$1d92	AS_TMP .WORD 0
3539	.$1d94	BPOINTER_TMP .WORD 0
3540	.$1d96	BASICTEXTP .BYTE 0
3541	.$1d97	STORE1 .WORD 0
3542	.$1d99	STORE2 .WORD 0
3543	.$1d9b	STORE3 .WORD 0
3544	.$1d9d	STORE4 .WORD 0
3545	.$1d9f	GCSTART .WORD 0
3546	.$1da1	GCLEN .WORD 0
3547	.$1da3	GCWORK .WORD 0
3548	.$1da5	INPUTLENGTH .BYTE 0
3549	.$1da6	TMP_FREG .REAL 0
3550	.$1dab	TMP2_FREG .REAL 0
3551	.$1db0	TMP_FLAG .BYTE 0
3552	.$1db1	INT_FLAG .BYTE 0
3553	.$1db2	REAL_CONST_ONE .REAL 1.0
3554	.$1db7	REAL_CONST_ZERO .REAL 0.0
3555	.$1dbc	REAL_CONST_MINUS_ONE .REAL -1.0
3556	.$1dc1	CHLOCKFLAG .BYTE 0
3557	.$1dc2	EMPTYSTR .BYTE 0
3558	.$1dc3	FPSTACKP .WORD FPSTACK
3559	.$1dc5	FORSTACKP .WORD FORSTACK
3560	.$1dc7	DATASP .WORD DATAS
3561	.$1dc9	LASTVAR .WORD 0
3562	.$1dcb	LASTVARP .WORD 0
3563	.$1dcd	HIGHP .WORD STRBUF
3564	.$1dcf	STRBUFP .WORD STRBUF
3565	.$1dd1	ENDSTRBUF .WORD 0
3566	.$1dd3	INPUTQUEUEP .BYTE 0
3567	.$1dd4	PROGRAMEND
3568	.$1dd4	INPUTQUEUE .ARRAY $0F
3569	.$1de3	FPSTACK .ARRAY 100
3570	.$1e47	FORSTACK .ARRAY 340
3571	.$1f9b	STRBUF .BYTE 0
