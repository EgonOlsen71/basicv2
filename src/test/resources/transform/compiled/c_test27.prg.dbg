117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
127	.$81f	LDX #4
128	.$821	dcloop235_1:
129	.$821	LDA CONST_0R,X
130	.$824	STA VAR_A,X
131	.$827	LDA CONST_1,X
132	.$82a	STA VAR_B,X
133	.$82d	LDA CONST_2R,X
134	.$830	STA VAR_C,X
135	.$833	DEX
136	.$834	BPL dcloop235_1
139	.$836	LDY #9
140	.$838	LDA #0
142	.$83a	STY VAR_D%
143	.$83d	STA VAR_D%+1
145	.$840	LINE_20:
147	.$840	LDA #<CONST_0R
148	.$842	LDY #>CONST_0R
149	.$844	JSR REALFAC
150	.$847	LDA #<CONST_4
151	.$849	LDY #>CONST_4
152	.$84b	JSR CMPFAC
154	.$84e	ROL
155	.$84f	BCS GT_GT0
156	.$851	LDA #<REAL_CONST_ZERO
157	.$853	LDY #>REAL_CONST_ZERO
158	.$855	JMP GT_SKIP0
159	.$858	GT_GT0:
160	.$858	LDA #<REAL_CONST_MINUS_ONE
161	.$85a	LDY #>REAL_CONST_MINUS_ONE
162	.$85c	GT_SKIP0:
164	.$85c	JSR REALFAC
165	.$85f	JSR FACXREG
167	.$862	JSR INTOUT
168	.$865	JSR CRSRRIGHT
169	.$868	JSR TABOUT
170	.$86b	LDA #<CONST_4
171	.$86d	LDY #>CONST_4
172	.$86f	JSR REALFAC
173	.$872	LDA #<CONST_1
174	.$874	LDY #>CONST_1
175	.$876	JSR CMPFAC
177	.$879	BCC LTEQ_LTEQ1
178	.$87b	BEQ LTEQ_LTEQ1
179	.$87d	LDA #<REAL_CONST_ZERO
180	.$87f	LDY #>REAL_CONST_ZERO
181	.$881	JMP LTEQ_SKIP1
182	.$884	LTEQ_LTEQ1:
183	.$884	LDA #<REAL_CONST_MINUS_ONE
184	.$886	LDY #>REAL_CONST_MINUS_ONE
185	.$888	LTEQ_SKIP1:
187	.$888	JSR REALFAC
188	.$88b	JSR FACXREG
190	.$88e	JSR INTOUT
191	.$891	JSR CRSRRIGHT
192	.$894	JSR TABOUT
193	.$897	LDA #<CONST_3R
194	.$899	LDY #>CONST_3R
195	.$89b	JSR REALFAC
196	.$89e	LDA #<CONST_5
197	.$8a0	LDY #>CONST_5
198	.$8a2	JSR CMPFAC
200	.$8a5	BEQ EQ_EQ2
201	.$8a7	LDA #<REAL_CONST_ZERO
202	.$8a9	LDY #>REAL_CONST_ZERO
203	.$8ab	JMP EQ_SKIP2
204	.$8ae	EQ_EQ2:
205	.$8ae	LDA #<REAL_CONST_MINUS_ONE
206	.$8b0	LDY #>REAL_CONST_MINUS_ONE
207	.$8b2	EQ_SKIP2:
209	.$8b2	JSR REALFAC
210	.$8b5	JSR FACXREG
212	.$8b8	JSR INTOUT
213	.$8bb	JSR CRSRRIGHT
214	.$8be	JSR TABOUT
215	.$8c1	LDA #<CONST_4
216	.$8c3	LDY #>CONST_4
217	.$8c5	JSR REALFAC
218	.$8c8	LDA #<CONST_1
219	.$8ca	LDY #>CONST_1
220	.$8cc	JSR CMPFAC
222	.$8cf	BEQ GTEQ_GTEQ3
223	.$8d1	BCS GTEQ_GTEQ3
224	.$8d3	LDA #<REAL_CONST_ZERO
225	.$8d5	LDY #>REAL_CONST_ZERO
226	.$8d7	JMP GTEQ_SKIP3
227	.$8da	GTEQ_GTEQ3:
228	.$8da	LDA #<REAL_CONST_MINUS_ONE
229	.$8dc	LDY #>REAL_CONST_MINUS_ONE
230	.$8de	GTEQ_SKIP3:
232	.$8de	JSR REALFAC
233	.$8e1	JSR FACXREG
235	.$8e4	JSR INTOUT
236	.$8e7	JSR CRSRRIGHT
237	.$8ea	JSR TABOUT
238	.$8ed	LDA #<CONST_3R
239	.$8ef	LDY #>CONST_3R
240	.$8f1	JSR REALFAC
241	.$8f4	LDA #<CONST_1
242	.$8f6	LDY #>CONST_1
243	.$8f8	JSR CMPFAC
245	.$8fb	ROL
246	.$8fc	BCS GT_GT4
247	.$8fe	LDA #<REAL_CONST_ZERO
248	.$900	LDY #>REAL_CONST_ZERO
249	.$902	JMP GT_SKIP4
250	.$905	GT_GT4:
251	.$905	LDA #<REAL_CONST_MINUS_ONE
252	.$907	LDY #>REAL_CONST_MINUS_ONE
253	.$909	GT_SKIP4:
255	.$909	JSR REALFAC
256	.$90c	JSR FACXREG
258	.$90f	JSR INTOUT
259	.$912	JSR CRSRRIGHT
260	.$915	JSR TABOUT
261	.$918	LDA #<CONST_3R
262	.$91a	LDY #>CONST_3R
263	.$91c	JSR REALFAC
264	.$91f	LDA #<CONST_1
265	.$921	LDY #>CONST_1
266	.$923	JSR CMPFAC
268	.$926	ROL
269	.$927	BCS GT_GT5
270	.$929	LDA #<REAL_CONST_ZERO
271	.$92b	LDY #>REAL_CONST_ZERO
272	.$92d	JMP GT_SKIP5
273	.$930	GT_GT5:
274	.$930	LDA #<REAL_CONST_MINUS_ONE
275	.$932	LDY #>REAL_CONST_MINUS_ONE
276	.$934	GT_SKIP5:
278	.$934	JSR REALFAC
279	.$937	JSR FACXREG
281	.$93a	LDA #<CONST_6
282	.$93c	LDY #>CONST_6
283	.$93e	JSR REALFAC
285	.$941	LDA #<X_REG
286	.$943	LDY #>X_REG
288	.$945	JSR FASTFMULMEM
290	.$948	JSR FACXREG
292	.$94b	JSR REALOUTBRK
294	.$94e	JSR END
295	.$951	RTS
298	.$952	END   LDX SP_SAVE
299	.$955	TXS
306	.$956	RTS
309	.$957	START  LDA ENDSTRBUF+1
310	.$95a	BNE ENDGIVEN
311	.$95c	LDA BASICEND
312	.$95e	STA ENDSTRBUF
313	.$961	LDA BASICEND+1
314	.$963	STA ENDSTRBUF+1
315	.$966	ENDGIVEN LDA #<FPSTACK
316	.$968	LDY #>FPSTACK
317	.$96a	STA FPSTACKP
318	.$96d	STY FPSTACKP+1
319	.$970	LDA #<FORSTACK
320	.$972	LDY #>FORSTACK
321	.$974	STA FORSTACKP
322	.$977	STY FORSTACKP+1
323	.$97a	LDA #<STRBUF
324	.$97c	LDY #>STRBUF
325	.$97e	STA STRBUFP
326	.$981	STY STRBUFP+1
327	.$984	STA HIGHP
328	.$987	STY HIGHP+1
329	.$98a	LDA #0
330	.$98c	STA CHLOCKFLAG
331	.$98f	STA LASTVAR
332	.$992	STA LASTVAR+1
333	.$995	JSR INITVARS
334	.$998	LDA #0
335	.$99a	STA CMD_NUM
336	.$99d	STA CHANNEL
337	.$9a0	TAY
338	.$9a1	TAX
342	.$9a2	STA KEYNDX
348	.$9a4	JSR RESTORE
349	.$9a7	CLC
353	.$9a8	RTS
356	.$9a9	INITNARRAY
357	.$9a9	STA TMP_ZP
358	.$9ab	STY TMP_ZP+1
359	.$9ad	LDY #0
360	.$9af	TYA
361	.$9b0	NINITLOOP STA (TMP_ZP),Y
362	.$9b2	INC TMP_ZP
363	.$9b4	BNE NLOOPNOV
364	.$9b6	INC TMP_ZP+1
365	.$9b8	NLOOPNOV LDX TMP2_ZP
366	.$9ba	BNE NLOOPNOV2
367	.$9bc	DEC TMP2_ZP+1
368	.$9be	NLOOPNOV2 DEC TMP2_ZP
369	.$9c0	BNE NINITLOOP
370	.$9c2	LDX TMP2_ZP+1
371	.$9c4	BNE NINITLOOP
372	.$9c6	RTS
375	.$9c7	INITSTRARRAY
376	.$9c7	STA TMP_ZP
377	.$9c9	STY TMP_ZP+1
378	.$9cb	SINITLOOP LDY #0
379	.$9cd	LDA #<EMPTYSTR
380	.$9cf	STA (TMP_ZP),Y
381	.$9d1	LDA #>EMPTYSTR
382	.$9d3	INY
383	.$9d4	STA (TMP_ZP),Y
384	.$9d6	CLC
385	.$9d7	LDA TMP_ZP
386	.$9d9	ADC #2
387	.$9db	STA TMP_ZP
388	.$9dd	BCC SLOOPNOV1
389	.$9df	INC TMP_ZP+1
390	.$9e1	SLOOPNOV1 SEC
391	.$9e2	LDA TMP2_ZP
392	.$9e4	SBC #2
393	.$9e6	STA TMP2_ZP
394	.$9e8	BCS SLOOPNOV2
395	.$9ea	DEC TMP2_ZP+1
396	.$9ec	SLOOPNOV2 LDA TMP2_ZP
397	.$9ee	BNE SINITLOOP
398	.$9f0	LDA TMP2_ZP+1
399	.$9f2	BNE SINITLOOP
400	.$9f4	RTS
403	.$9f5	INITSPARAMS STA TMP3_ZP
404	.$9f7	STY TMP3_ZP+1
405	.$9f9	SEC
406	.$9fa	SBC #2
407	.$9fc	STA TMP_ZP
408	.$9fe	TYA
409	.$9ff	SBC #0
410	.$a01	STA TMP_ZP+1
411	.$a03	LDY #0
412	.$a05	LDA (TMP_ZP),Y
413	.$a07	STA TMP2_ZP
414	.$a09	INY
415	.$a0a	LDA (TMP_ZP),Y
416	.$a0c	STA TMP2_ZP+1
417	.$a0e	LDA TMP3_ZP
418	.$a10	LDY TMP3_ZP+1
419	.$a12	RTS
422	.$a13	INITSTRVARS LDA #<STRINGVARS_START  
423	.$a15	LDY #>STRINGVARS_START
424	.$a17	CMP #<STRINGVARS_END
425	.$a19	BNE INITIT1
426	.$a1b	CPY #>STRINGVARS_END
427	.$a1d	BNE INITIT1
428	.$a1f	JMP INITSA2     
429	.$a22	INITIT1  STA TMP_ZP
430	.$a24	STY TMP_ZP+1
431	.$a26	LDY #0
432	.$a28	INITSTRLOOP LDA #<EMPTYSTR
433	.$a2a	STA (TMP_ZP),Y
434	.$a2c	INY
435	.$a2d	LDA #>EMPTYSTR
436	.$a2f	STA (TMP_ZP),Y
437	.$a31	DEY
438	.$a32	LDA TMP_ZP
439	.$a34	CLC
440	.$a35	ADC #2
441	.$a37	STA TMP_ZP
442	.$a39	LDA TMP_ZP+1
443	.$a3b	ADC #0
444	.$a3d	STA TMP_ZP+1
445	.$a3f	CMP #>STRINGVARS_END
446	.$a41	BNE INITSTRLOOP
447	.$a43	LDA TMP_ZP
448	.$a45	CMP #<STRINGVARS_END
449	.$a47	BNE INITSTRLOOP
450	.$a49	INITSA2  LDA #<STRINGARRAYS_START 
451	.$a4b	LDY #>STRINGARRAYS_START
452	.$a4d	CMP #<STRINGARRAYS_END
453	.$a4f	BNE ARRAYLOOP
454	.$a51	CPY #>STRINGARRAYS_END
455	.$a53	BNE ARRAYLOOP
456	.$a55	RTS       
457	.$a56	ARRAYLOOP CLC
458	.$a57	ADC #3
459	.$a59	BCC ARRAYSKIP1
460	.$a5b	INY
461	.$a5c	ARRAYSKIP1 CPY #>STRINGARRAYS_END
462	.$a5e	BEQ ARRAYSC
463	.$a60	BCC ARRAYSKIP2
464	.$a62	JMP ARRAYQUIT
465	.$a65	ARRAYSC  CMP #<STRINGARRAYS_END
466	.$a67	BCS ARRAYQUIT
467	.$a69	ARRAYSKIP2 STA TMP_REG
468	.$a6b	STY TMP_REG+1
469	.$a6d	JSR INITSPARAMS
470	.$a70	LDA TMP_REG
471	.$a72	LDY TMP_REG+1
472	.$a74	JSR INITSTRARRAY
473	.$a77	LDA TMP_ZP
474	.$a79	LDY TMP_ZP+1
475	.$a7b	JMP ARRAYLOOP
476	.$a7e	ARRAYQUIT RTS
479	.$a7f	RESTORE  LDA #<DATAS
480	.$a81	LDY #>DATAS
481	.$a83	STA DATASP
482	.$a86	STY DATASP+1
483	.$a89	RTS
486	.$a8a	TABSPC     BCC DOSPC
487	.$a8c	TXA
488	.$a8d	SBC $09
489	.$a8f	BCC TABSPCQUIT
490	.$a91	TAX
491	.$a92	DOSPC  INX
492	.$a93	TABSPCLOOP  DEX
493	.$a94	BNE TABSPCRIGHT
494	.$a96	TABSPCQUIT RTS
495	.$a97	TABSPCRIGHT JSR CRSRRIGHT
496	.$a9a	JMP TABSPCLOOP
499	.$a9d	REROUTE  LDA CMD_NUM  
500	.$aa0	BEQ REROUTECMD
501	.$aa2	TAX
502	.$aa3	STA CHANNEL
503	.$aa6	JMP CHKOUT
504	.$aa9	REROUTECMD RTS
507	.$aaa	RESETROUTE LDA CMD_NUM  
508	.$aad	BEQ RESETROUTECMD
509	.$aaf	JMP CLRCHNEW
510	.$ab2	RESETROUTECMD
511	.$ab2	RTS
514	.$ab3	INTOUT  JMP REALOUT
517	.$ab6	INTOUTFASTZ LDX #32    
518	.$ab8	LDA TMP_ZP+1
519	.$aba	BPL INTISPOS
520	.$abc	CLC
521	.$abd	LDA TMP_ZP
522	.$abf	EOR #$FF
523	.$ac1	ADC #1
524	.$ac3	STA TMP_ZP
525	.$ac5	LDA TMP_ZP+1
526	.$ac7	EOR #$FF
527	.$ac9	ADC #0
528	.$acb	STA TMP_ZP+1
529	.$acd	LDX #45    
530	.$acf	INTISPOS
531	.$acf	TXA
532	.$ad0	JSR CHROUT
533	.$ad3	JSR CONVPOSINT
534	.$ad6	LDA NUMFLAG
535	.$ad9	BNE ALLINTOUTDONE
536	.$adb	LDA #48
537	.$add	JSR CHROUT
538	.$ae0	ALLINTOUTDONE
539	.$ae0	RTS
542	.$ae1	NUMBEROUT
543	.$ae1	BEQ NUMZERO
544	.$ae3	ORA #$30
545	.$ae5	STA NUMFLAG
546	.$ae8	JMP CHROUT
547	.$aeb	NUMZERO
548	.$aeb	LDX NUMFLAG
549	.$aee	BEQ STILLZERO
550	.$af0	ORA #$30
551	.$af2	JMP CHROUT
552	.$af5	STILLZERO
553	.$af5	RTS
556	.$af6	CONVPOSINT
557	.$af6	JSR INT2BCD
558	.$af9	LDX #0
559	.$afb	STX NUMFLAG
560	.$afe	AND #$0F
561	.$b00	JSR NUMBEROUT
562	.$b03	LDA BCD+1
563	.$b06	LSR
564	.$b07	LSR
565	.$b08	LSR
566	.$b09	LSR
567	.$b0a	JSR NUMBEROUT
568	.$b0d	LDA BCD+1
569	.$b10	AND #$0F
570	.$b12	TAY
571	.$b13	JSR NUMBEROUT
572	.$b16	LDA BCD
573	.$b19	LSR
574	.$b1a	LSR
575	.$b1b	LSR
576	.$b1c	LSR
577	.$b1d	JSR NUMBEROUT
578	.$b20	LDA BCD
579	.$b23	AND #$0F
580	.$b25	JSR NUMBEROUT
581	.$b28	RTS
584	.$b29	INT2BCD
585	.$b29	SED
586	.$b2a	LDA #0
587	.$b2c	STA BCD
588	.$b2f	STA BCD+1
589	.$b32	STA BCD+2
590	.$b35	ASL TMP_ZP
591	.$b37	ROL TMP_ZP+1
592	.$b39	LDA BCD
593	.$b3c	ADC BCD
594	.$b3f	STA BCD
595	.$b42	ASL TMP_ZP
596	.$b44	ROL TMP_ZP+1
597	.$b46	ADC BCD
598	.$b49	STA BCD
599	.$b4c	ASL TMP_ZP
600	.$b4e	ROL TMP_ZP+1
601	.$b50	ADC BCD
602	.$b53	STA BCD
603	.$b56	ASL TMP_ZP
604	.$b58	ROL TMP_ZP+1
605	.$b5a	ADC BCD
606	.$b5d	STA BCD
607	.$b60	ASL TMP_ZP
608	.$b62	ROL TMP_ZP+1
609	.$b64	ADC BCD
610	.$b67	STA BCD
611	.$b6a	ASL TMP_ZP
612	.$b6c	ROL TMP_ZP+1
613	.$b6e	ADC BCD
614	.$b71	STA BCD
615	.$b74	LDX #7
616	.$b76	BCDBIT1
617	.$b76	ASL TMP_ZP
618	.$b78	ROL TMP_ZP+1
619	.$b7a	LDA BCD
620	.$b7d	ADC BCD
621	.$b80	STA BCD
622	.$b83	LDA BCD+1
623	.$b86	ADC BCD+1
624	.$b89	STA BCD+1
625	.$b8c	DEX
626	.$b8d	BNE BCDBIT1
627	.$b8f	LDX #3
628	.$b91	BCDBIT2
629	.$b91	ASL TMP_ZP
630	.$b93	ROL TMP_ZP+1
631	.$b95	LDA BCD
632	.$b98	ADC BCD
633	.$b9b	STA BCD
634	.$b9e	LDA BCD+1
635	.$ba1	ADC BCD+1
636	.$ba4	STA BCD+1
637	.$ba7	LDA BCD+2
638	.$baa	ADC BCD+2
639	.$bad	STA BCD+2
640	.$bb0	DEX
641	.$bb1	BNE BCDBIT2
642	.$bb3	CLD
643	.$bb4	RTS
644	.$bb5	BCD
645	.$bb5	.WORD 0 0
646	.$bb9	NUMFLAG
647	.$bb9	.BYTE 0
650	.$bba	REALOUTFAST JSR FACINT
651	.$bbd	STA TMP_ZP+1
652	.$bbf	STY TMP_ZP
653	.$bc1	JMP INTOUTFASTZ
656	.$bc4	CHECKFORFASTOUT
657	.$bc4	JSR REROUTE
658	.$bc7	JSR XREGFAC
659	.$bca	LDA FACEXP
660	.$bcc	CMP #$90
661	.$bce	BCS REALOUTINT
662	.$bd0	CMP #$81
663	.$bd2	BCC REALOUTINT
664	.$bd4	MAYBEREALOUTFAST
665	.$bd4	LDA FACEXP+3
666	.$bd6	BNE REALOUTINT
667	.$bd8	LDA FACEXP+4
668	.$bda	BNE REALOUTINT
669	.$bdc	LDA FACEXP
670	.$bde	SEC
671	.$bdf	SBC #129
672	.$be1	ASL
673	.$be2	TAX
674	.$be3	LDA FACEXP+1
675	.$be5	AND MANTMASK,X
676	.$be8	BNE REALOUTINT
677	.$bea	INX
678	.$beb	LDA FACEXP+2
679	.$bed	AND MANTMASK,X
680	.$bf0	BNE REALOUTINT
681	.$bf2	JMP REALOUTFAST
682	.$bf5	REALOUTINT LDY #0
683	.$bf7	JSR FACSTR
684	.$bfa	LDY #0
685	.$bfc	LDA LOFBUF,Y
686	.$bff	STRLOOPRO JSR CHROUT
687	.$c02	INY
688	.$c03	LDA LOFBUF,Y
689	.$c06	BNE STRLOOPRO
690	.$c08	RTS
691	.$c09	MANTMASK
692	.$c09	.BYTE 127 255 63 255 31 255 15 255 7 255 3 255 1 255 0 255 0 127 0 63 0 31 0 15 0 7 0 3 0 1
695	.$c27	REALOUT  LDA X_REG
696	.$c29	BNE RNOTNULL
697	.$c2b	JMP PRINTNULL
698	.$c2e	RNOTNULL JSR CHECKFORFASTOUT
699	.$c31	JMP RESETROUTE
702	.$c34	REALOUTBRK  LDA X_REG
703	.$c36	BNE RNOTNULLBRK
704	.$c38	JMP PRINTNULLBRK
705	.$c3b	RNOTNULLBRK JSR CHECKFORFASTOUT
706	.$c3e	LDA #$0D
707	.$c40	JSR CHROUT
708	.$c43	JMP RESETROUTE
711	.$c46	PRINTNULL JSR REROUTE
712	.$c49	LDA #$20
713	.$c4b	JSR CHROUT
714	.$c4e	LDA #$30
715	.$c50	JSR CHROUT
716	.$c53	JMP RESETROUTE
719	.$c56	PRINTNULLBRK
720	.$c56	JSR REROUTE
721	.$c59	LDA #$20
722	.$c5b	JSR CHROUT
723	.$c5e	LDA #$30
724	.$c60	JSR CHROUT
725	.$c63	LDA #$0D
726	.$c65	JSR CHROUT
727	.$c68	JMP RESETROUTE
730	.$c6b	TABOUT  JSR REROUTE
731	.$c6e	LDA CMD_NUM
732	.$c71	BEQ NORMALTABOUT  
733	.$c73	CMP #3
734	.$c75	BEQ NORMALTABOUT2  
735	.$c77	JMP TABOUTCHANNEL2
736	.$c7a	NORMALTABOUT2
737	.$c7a	JSR CLRCHNEW
738	.$c7d	NORMALTABOUT
739	.$c7d	SEC
740	.$c7e	JSR CRSRPOS
741	.$c81	TYA
742	.$c82	SEC
743	.$c83	TABSUB   SBC #$0A
744	.$c85	BCS TABSUB
745	.$c87	EOR #$FF
746	.$c89	ADC #$01
747	.$c8b	TAX
748	.$c8c	INX
749	.$c8d	TABLOOP  DEX
750	.$c8e	BNE TABRIGHT
751	.$c90	RTS
752	.$c91	TABRIGHT JSR CRSRRIGHT
753	.$c94	JMP TABLOOP
757	.$c97	FACWORD
758	.$c97	LDA FACEXP   
759	.$c99	BNE DOFACWORD
760	.$c9b	STA FACSGN   
761	.$c9d	DOFACWORD:
762	.$c9d	JMP XFACWORD
766	.$ca0	INITOUTCHANNEL
767	.$ca0	LDA CHLOCKFLAG
768	.$ca3	BEQ INITOUT2
769	.$ca5	CMP #$FF
770	.$ca7	BNE SKIPINITCH
771	.$ca9	INITOUT2
772	.$ca9	LDA #<C_REG
773	.$cab	LDY #>C_REG
774	.$cad	JSR REALFAC
775	.$cb0	JSR FACWORD
776	.$cb3	TYA
777	.$cb4	TAX
778	.$cb5	CPX CMD_NUM
779	.$cb8	BNE CMDNEQUAL
780	.$cba	LDY #0
781	.$cbc	STY CMD_NUM   
782	.$cbf	CMDNEQUAL STA CHANNEL
783	.$cc2	STA CHLOCKFLAG
784	.$cc5	JMP CHKOUT
785	.$cc8	SKIPINITCH
786	.$cc8	RTS
789	.$cc9	CLRCHNEW
790	.$cc9	LDA CHLOCKFLAG
791	.$ccc	BNE SKIPCLRCH
792	.$cce	JMP CLRCH
793	.$cd1	SKIPCLRCH
794	.$cd1	RTS
797	.$cd2	TABOUTCHANNEL
798	.$cd2	JSR INITOUTCHANNEL
799	.$cd5	LDA CHANNEL
800	.$cd8	CMP #3  
801	.$cda	BEQ TABOUTSCREEN
802	.$cdc	TABOUTCHANNEL2
803	.$cdc	LDA IOCHANNEL
804	.$cde	STA STORE1
805	.$ce1	LDA #1
806	.$ce3	STA IOCHANNEL  
807	.$ce5	LDX #10
808	.$ce7	JMP EXITCHANNEL
809	.$cea	TABOUTSCREEN
810	.$cea	JSR CLRCHNEW
811	.$ced	JMP TABOUT
814	.$cf0	EXITCHANNEL CLC
815	.$cf1	JSR TABSPC
816	.$cf4	JSR CLRCHNEW
817	.$cf7	LDA STORE1
818	.$cfa	STA IOCHANNEL
819	.$cfc	RTS
822	.$cfd	ILLEGALQUANTITY
826	.$cfd	JMP ERRIQ
829	.$d00	FACXREG  LDA FACLO
830	.$d02	STA X_REG+4
831	.$d04	LDA FACMO
832	.$d06	STA X_REG+3
833	.$d08	LDA FACMOH
834	.$d0a	STA X_REG+2
835	.$d0c	LDA FACSGN
836	.$d0e	ORA #$7F
837	.$d10	AND FACHO
838	.$d12	STA X_REG+1
839	.$d14	LDA FACEXP
840	.$d16	STA X_REG
841	.$d18	LDA #0   
842	.$d1a	STA FACOV
843	.$d1c	RTS
846	.$d1d	XREGFAC  LDA X_REG+4
847	.$d1f	STA FACLO
848	.$d21	LDA X_REG+3
849	.$d23	STA FACMO
850	.$d25	LDA X_REG+2
851	.$d27	STA FACMOH
852	.$d29	LDA X_REG+1
853	.$d2b	STA FACSGN
854	.$d2d	ORA #$80
855	.$d2f	STA FACHO
856	.$d31	LDA X_REG
857	.$d33	STA FACEXP
858	.$d35	LDA #0
859	.$d37	STA FACOV
860	.$d39	RTS
974	.$d3a	FASTFADDMEM
975	.$d3a	JSR MEMARG
976	.$d3d	FASTFADDARG
977	.$d3d	BNE FADDRET2     
978	.$d3f	JMP ARGFAC
979	.$d42	FADDRET2 LDA ARGEXP
980	.$d44	BNE FADDRET1     
981	.$d46	RTS
982	.$d47	FADDRET1 SEC
983	.$d48	SBC FACEXP
984	.$d4a	BEQ FFADD_EXPEQ     
985	.$d4c	BCC FFADD_SHFARG1   
989	.$d4e	LDY ARGEXP
990	.$d50	STY FACEXP
991	.$d52	LDY ARGSGN
992	.$d54	STY FACSGN
993	.$d56	LDX #0
994	.$d58	STX OLDOV        
995	.$d5a	LDX #FAC         
997	.$d5c	SEC
998	.$d5d	SBC #$08
999	.$d5f	BMI FFADD_SHFFAC2
1001	.$d61	FFADD_SHFFAC1
1002	.$d61	LDY FACLO        
1003	.$d63	STY FACOV
1004	.$d65	LDY FACMO        
1005	.$d67	STY FACMO+1
1006	.$d69	LDY FACMOH       
1007	.$d6b	STY FACMOH+1
1008	.$d6d	LDY FACHO        
1009	.$d6f	STY FACHO+1
1010	.$d71	LDY #0
1011	.$d73	STY FACHO        
1012	.$d75	SBC #$08         
1013	.$d77	BPL FFADD_SHFFAC1   
1014	.$d79	FFADD_SHFFAC2
1015	.$d79	ADC #$08         
1016	.$d7b	BEQ FFADD_SHFFAC4   
1017	.$d7d	TAY
1018	.$d7e	LDA FACOV
1019	.$d80	FFADD_SHFFAC3
1020	.$d80	LSR FACHO        
1021	.$d82	ROR FACMOH       
1022	.$d84	ROR FACMO        
1023	.$d86	ROR FACLO        
1024	.$d88	ROR              
1025	.$d89	DEY
1026	.$d8a	BNE FFADD_SHFFAC3
1027	.$d8c	JMP FFADD_MANADD2   
1028	.$d8f	FFADD_SHFFAC4
1029	.$d8f	LDA FACOV        
1030	.$d91	JMP FFADD_MANADD2
1031	.$d94	FFADD_EXPEQ
1032	.$d94	LDX FACOV
1033	.$d96	STX OLDOV
1036	.$d98	JMP FFADD_MANADD1
1037	.$d9b	FFADD_SHFARG2
1038	.$d9b	LDA FACOV        
1039	.$d9d	JMP FFADD_MANADD1
1040	.$da0	FFADD_SHFARG1
1041	.$da0	LDX FACOV
1042	.$da2	STX OLDOV        
1043	.$da4	LDX #$00         
1046	.$da6	ADC #$08
1047	.$da8	BPL FFADD_SHFARG6   
1048	.$daa	FFADD_SHFARG3
1049	.$daa	LDX ARGLO        
1050	.$dac	LDY ARGMO        
1051	.$dae	STY ARGMO+1
1052	.$db0	LDY ARGMOH       
1053	.$db2	STY ARGMOH+1
1054	.$db4	LDY ARGHO        
1055	.$db6	STY ARGHO+1
1056	.$db8	LDY #0
1057	.$dba	STY ARGHO        
1058	.$dbc	FFADD_SHFARG4
1059	.$dbc	ADC #$08
1060	.$dbe	BMI FFADD_SHFARG3
1061	.$dc0	BEQ FFADD_SHFARG3
1062	.$dc2	FFADD_SHFARG6
1063	.$dc2	SBC #$08
1064	.$dc4	BEQ FFADD_SHFARG2   
1065	.$dc6	TAY
1066	.$dc7	TXA              
1067	.$dc8	FFADD_SHFARG5
1068	.$dc8	LSR ARGHO
1069	.$dca	ROR ARGMOH
1070	.$dcc	ROR ARGMO
1071	.$dce	ROR ARGLO
1072	.$dd0	ROR           
1073	.$dd1	INY
1074	.$dd2	BNE FFADD_SHFARG5
1075	.$dd4	FFADD_MANADD1
1076	.$dd4	LDX #ARGEXP      
1077	.$dd6	FFADD_MANADD2
1078	.$dd6	BIT ARISGN
1079	.$dd8	BMI FFADD_MANSUB1   
1080	.$dda	CLC
1081	.$ddb	ADC OLDOV
1082	.$ddd	STA FACOV
1083	.$ddf	LDA FACLO
1084	.$de1	ADC ARGLO
1085	.$de3	STA FACLO
1086	.$de5	LDA FACMO
1087	.$de7	ADC ARGMO
1088	.$de9	STA FACMO
1089	.$deb	LDA FACMOH
1090	.$ded	ADC ARGMOH
1091	.$def	STA FACMOH
1092	.$df1	LDA FACHO
1093	.$df3	ADC ARGHO
1094	.$df5	STA FACHO
1095	.$df7	BCC FFADD_RNDRTS
1096	.$df9	INC FACEXP
1097	.$dfb	BEQ FFADD_OVERR
1099	.$dfd	ROR FACHO
1100	.$dff	ROR FACMOH
1101	.$e01	ROR FACMO
1102	.$e03	ROR FACLO
1103	.$e05	ROR FACOV
1104	.$e07	FFADD_RNDRTS
1105	.$e07	RTS
1106	.$e08	FFADD_OVERR
1107	.$e08	JMP ILLEGALQUANTITY
1108	.$e0b	FFADD_MANSUB1
1109	.$e0b	LDY #FACEXP
1110	.$e0d	CPX #ARGEXP
1111	.$e0f	BEQ FFADD_MANSUB2
1112	.$e11	LDY #ARGEXP
1113	.$e13	FFADD_MANSUB2
1114	.$e13	SEC              
1115	.$e14	EOR #$FF
1116	.$e16	ADC OLDOV
1117	.$e18	STA FACOV
1118	.$e1a	LDA 4,Y
1119	.$e1d	SBC 4,X
1120	.$e1f	STA FACLO
1121	.$e21	LDA 3,Y
1122	.$e24	SBC 3,X
1123	.$e26	STA FACMO
1124	.$e28	LDA 2,Y
1125	.$e2b	SBC 2,X
1126	.$e2d	STA FACMOH
1127	.$e2f	LDA 1,Y
1128	.$e32	SBC 1,X
1129	.$e34	STA FACHO
1130	.$e36	BCS FCNORMAL
1131	.$e38	LDA FACSGN
1132	.$e3a	EOR #$FF
1133	.$e3c	STA FACSGN
1134	.$e3e	LDA FACHO
1135	.$e40	EOR #$FF
1136	.$e42	STA FACHO
1137	.$e44	LDA FACMOH
1138	.$e46	EOR #$FF
1139	.$e48	STA FACMOH
1140	.$e4a	LDA FACMO
1141	.$e4c	EOR #$FF
1142	.$e4e	STA FACMO
1143	.$e50	LDA FACLO
1144	.$e52	EOR #$FF
1145	.$e54	STA FACLO
1146	.$e56	LDA FACOV
1147	.$e58	EOR #$FF
1148	.$e5a	CLC
1149	.$e5b	ADC #1
1150	.$e5d	STA FACOV
1151	.$e5f	BNE FCNORMAL
1152	.$e61	INC FACLO
1153	.$e63	BNE FCNORMAL
1154	.$e65	INC FACMO
1155	.$e67	BNE FCNORMAL
1156	.$e69	INC FACMOH
1157	.$e6b	BNE FCNORMAL
1158	.$e6d	INC FACHO
1159	.$e6f	FCNORMAL   BIT FACHO
1160	.$e71	BMI FFADD_RET       
1161	.$e73	LDA #0           
1162	.$e75	CLC
1163	.$e76	FFADD_NORM3
1164	.$e76	LDX FACHO
1165	.$e78	BNE FFADD_NORM1
1166	.$e7a	LDX FACHO+1
1167	.$e7c	STX FACHO
1168	.$e7e	LDX FACMOH+1
1169	.$e80	STX FACMOH
1170	.$e82	LDX FACMO+1
1171	.$e84	STX FACMO
1172	.$e86	LDX FACOV
1173	.$e88	STX FACLO
1174	.$e8a	LDX #0
1175	.$e8c	STX FACOV
1176	.$e8e	ADC #$08
1177	.$e90	CMP #$20
1178	.$e92	BNE FFADD_NORM3
1179	.$e94	JMP FFADD_ZEROFAC
1180	.$e97	FFADD_NORM2
1181	.$e97	CLC
1182	.$e98	ADC #1
1183	.$e9a	ASL FACOV
1184	.$e9c	ROL FACLO
1185	.$e9e	ROL FACMO
1186	.$ea0	ROL FACMOH
1187	.$ea2	ROL FACHO
1188	.$ea4	FFADD_NORM1
1189	.$ea4	BPL FFADD_NORM2     
1190	.$ea6	SEC
1191	.$ea7	SBC FACEXP
1192	.$ea9	BCS FFADD_ZEROFAC
1193	.$eab	EOR #$FF
1194	.$ead	CLC
1195	.$eae	ADC #1
1196	.$eb0	STA FACEXP
1197	.$eb2	FFADD_RET   RTS
1198	.$eb3	FFADD_ZEROFAC
1199	.$eb3	LDX #0
1200	.$eb5	STX FACEXP
1201	.$eb7	STX FACSGN
1202	.$eb9	RTS
1205	.$eba	FASTFMULMEM
1206	.$eba	JSR MEMARG
1207	.$ebd	FASTFMULARG
1208	.$ebd	BEQ FFMUL_MULTRT    
1209	.$ebf	LDA ARGEXP
1210	.$ec1	BEQ FFMUL_ZEREMV    
1211	.$ec3	CLC
1212	.$ec4	ADC FACEXP
1213	.$ec6	BCC FFMUL_TRYOFF
1214	.$ec8	CLC
1215	.$ec9	BPL FFMUL_ADJUST
1216	.$ecb	JMP ILLEGALQUANTITY
1217	.$ece	FFMUL_ZEREMV
1218	.$ece	LDY #0
1219	.$ed0	STY FACEXP       
1220	.$ed2	STY FACSGN
1221	.$ed4	FFMUL_MULTRT
1222	.$ed4	RTS
1223	.$ed5	FFMUL_TRYOFF
1224	.$ed5	BPL FFMUL_ZEREMV    
1225	.$ed7	FFMUL_ADJUST
1226	.$ed7	ADC #$80         
1227	.$ed9	BEQ FFMUL_ZEREMV    
1228	.$edb	STA FACEXP
1229	.$edd	LDA ARISGN
1230	.$edf	STA FACSGN
1231	.$ee1	LDY #0
1232	.$ee3	STY RESHOP
1233	.$ee5	STY RESHO
1234	.$ee7	STY RESMOH
1235	.$ee9	STY RESMO
1236	.$eeb	STY RESLO
1237	.$eed	STY RESOV
1238	.$eef	STY FACHOP
1239	.$ef1	FFMUL_B0
1240	.$ef1	LSR ARGLO        
1241	.$ef3	BCC FFMUL_B1
1242	.$ef5	LDA RESOV
1243	.$ef7	CLC
1244	.$ef8	ADC FACMOH       
1245	.$efa	STA RESOV
1246	.$efc	LDA RESLO
1247	.$efe	ADC FACHO        
1248	.$f00	STA RESLO
1249	.$f02	LDA RESMO
1250	.$f04	ADC FACHOP       
1251	.$f06	STA RESMO
1252	.$f08	BCC FFMUL_B1
1253	.$f0a	INC RESMOH
1254	.$f0c	BNE FFMUL_B1
1255	.$f0e	INC RESHO
1256	.$f10	BNE FFMUL_B1
1257	.$f12	INC RESHOP
1258	.$f14	FFMUL_B1
1259	.$f14	LSR ARGMO        
1260	.$f16	BCC FFMUL_B2
1261	.$f18	LDA RESOV
1262	.$f1a	CLC
1263	.$f1b	ADC FACMO        
1264	.$f1d	STA RESOV
1265	.$f1f	LDA RESLO
1266	.$f21	ADC FACMOH       
1267	.$f23	STA RESLO
1268	.$f25	LDA RESMO
1269	.$f27	ADC FACHO        
1270	.$f29	STA RESMO
1271	.$f2b	LDA RESMOH
1272	.$f2d	ADC FACHOP       
1273	.$f2f	STA RESMOH
1274	.$f31	BCC FFMUL_B2
1275	.$f33	INC RESHO
1276	.$f35	BNE FFMUL_B2
1277	.$f37	INC RESHOP
1278	.$f39	FFMUL_B2
1279	.$f39	LSR ARGMOH       
1280	.$f3b	BCC FFMUL_B3
1281	.$f3d	LDA RESOV
1282	.$f3f	CLC
1283	.$f40	ADC FACLO        
1284	.$f42	STA RESOV
1285	.$f44	LDA RESLO
1286	.$f46	ADC FACMO        
1287	.$f48	STA RESLO
1288	.$f4a	LDA RESMO
1289	.$f4c	ADC FACMOH       
1290	.$f4e	STA RESMO
1291	.$f50	LDA RESMOH
1292	.$f52	ADC FACHO        
1293	.$f54	STA RESMOH
1294	.$f56	LDA RESHO
1295	.$f58	ADC FACHOP       
1296	.$f5a	STA RESHO
1297	.$f5c	BCC FFMUL_B3
1298	.$f5e	INC RESHOP
1299	.$f60	FFMUL_B3
1300	.$f60	LSR ARGHO        
1301	.$f62	BCC FFMUL_ROTA
1302	.$f64	LDA RESOV
1303	.$f66	CLC
1304	.$f67	ADC FACOV        
1305	.$f69	STA RESOV
1306	.$f6b	LDA RESLO
1307	.$f6d	ADC FACLO        
1308	.$f6f	STA RESLO
1309	.$f71	LDA RESMO
1310	.$f73	ADC FACMO        
1311	.$f75	STA RESMO
1312	.$f77	LDA RESMOH
1313	.$f79	ADC FACMOH       
1314	.$f7b	STA RESMOH
1315	.$f7d	LDA RESHO
1316	.$f7f	ADC FACHO        
1317	.$f81	STA RESHO
1318	.$f83	LDA RESHOP
1319	.$f85	ADC FACHOP       
1320	.$f87	STA RESHOP
1321	.$f89	FFMUL_ROTA
1322	.$f89	ASL FACOV
1323	.$f8b	ROL FACLO
1324	.$f8d	ROL FACMO
1325	.$f8f	ROL FACMOH
1326	.$f91	ROL FACHO
1327	.$f93	ROL FACHOP
1328	.$f95	BMI FFMUL_FIN
1329	.$f97	JMP FFMUL_B0
1330	.$f9a	FFMUL_FIN
1331	.$f9a	LDA RESHOP
1332	.$f9c	STA FACHO
1333	.$f9e	LDA RESHO
1334	.$fa0	STA FACMOH
1335	.$fa2	LDA RESMOH
1336	.$fa4	STA FACMO
1337	.$fa6	LDA RESMO
1338	.$fa8	STA FACLO
1339	.$faa	LDA RESLO
1340	.$fac	STA FACOV
1341	.$fae	JMP FCNORMAL      
1342	.$fb1	MUL10
1343	.$fb1	JSR ARGFAC       
1344	.$fb4	TAX              
1345	.$fb5	BEQ FFMUL_MUL101    
1346	.$fb7	CLC
1347	.$fb8	ADC #2
1348	.$fba	BCS FFMUL_MUL102    
1349	.$fbc	STA FACEXP       
1350	.$fbe	LDY #0
1351	.$fc0	STY ARISGN
1352	.$fc2	JSR FASTFADDARG      
1353	.$fc5	INC FACEXP
1354	.$fc7	BEQ FFMUL_MUL102     
1355	.$fc9	FFMUL_MUL101
1356	.$fc9	RTS
1357	.$fca	FFMUL_MUL102
1358	.$fca	JMP ILLEGALQUANTITY
1359	.$fcd	MUL6
1360	.$fcd	JSR ARGFAC       
1361	.$fd0	TAX              
1362	.$fd1	BEQ FFMUL_MUL61     
1363	.$fd3	INC FACEXP
1364	.$fd5	BEQ FFMUL_MUL62     
1365	.$fd7	LDY #0
1366	.$fd9	STY ARISGN
1367	.$fdb	JSR FASTFADDARG      
1368	.$fde	INC FACEXP
1369	.$fe0	BEQ FFMUL_MUL62     
1370	.$fe2	FFMUL_MUL61
1371	.$fe2	RTS
1372	.$fe3	FFMUL_MUL62
1373	.$fe3	JMP ILLEGALQUANTITY
1376	.$fe6	INITVARS
1377	.$fe6	JSR INITSTRVARS
1378	.$fe9	LDA #0
1379	.$feb	LDY #4
1380	.$fed	REALINITLOOP0:
1381	.$fed	STA VAR_A,Y
1382	.$ff0	STA VAR_B,Y
1383	.$ff3	STA VAR_C,Y
1384	.$ff6	DEY
1385	.$ff7	BMI REALLOOPEXIT0
1386	.$ff9	JMP REALINITLOOP0
1387	.$ffc	REALLOOPEXIT0:
1388	.$ffc	STA VAR_D%
1389	.$fff	STA VAR_D%+1
1390	.$1002	RTS
1394	.$1003	CONSTANTS
1397	.$1003	CONST_0R .REAL 5.0
1400	.$1008	CONST_1 .REAL 12.2
1403	.$100d	CONST_2R .REAL 67.0
1406	.$1012	CONST_3R .REAL 9.0
1409	.$1017	CONST_4 .REAL 5.0
1412	.$101c	CONST_5 .REAL 67.0
1415	.$1021	CONST_6 .REAL 11.23
1418	.$1026	DATAS
1419	.$1026	.BYTE $FF
1421	.$1027	CONSTANTS_END
1424	.$1027	VARIABLES
1426	.$1027	VAR_A .REAL 0.0
1428	.$102c	VAR_B .REAL 0.0
1430	.$1031	VAR_C .REAL 0.0
1432	.$1036	VAR_D% .WORD 0
1433	.$1038	STRINGVARS_START
1435	.$1038	VAR_TI$ .WORD EMPTYSTR
1436	.$103a	STRINGVARS_END
1437	.$103a	STRINGARRAYS_START
1438	.$103a	STRINGARRAYS_END
1439	.$103a	VARIABLES_END
1441	.$103a	Y_REG .REAL 0.0
1442	.$103f	C_REG .REAL 0.0
1443	.$1044	D_REG .REAL 0.0
1444	.$1049	E_REG .REAL 0.0
1445	.$104e	F_REG .REAL 0.0
1446	.$1053	A_REG .WORD 0
1447	.$1055	B_REG .WORD 0
1448	.$1057	CMD_NUM .BYTE 0
1449	.$1058	CHANNEL .BYTE 0
1450	.$1059	SP_SAVE .BYTE 0
1451	.$105a	TMP2_REG .WORD 0
1452	.$105c	TMP3_REG .WORD 0
1453	.$105e	TMP4_REG .WORD 0
1454	.$1060	AS_TMP .WORD 0
1455	.$1062	BPOINTER_TMP .WORD 0
1456	.$1064	BASICTEXTP .BYTE 0
1457	.$1065	STORE1 .WORD 0
1458	.$1067	STORE2 .WORD 0
1459	.$1069	STORE3 .WORD 0
1460	.$106b	STORE4 .WORD 0
1461	.$106d	GCSTART .WORD 0
1462	.$106f	GCLEN .WORD 0
1463	.$1071	GCWORK .WORD 0
1464	.$1073	INPUTLENGTH .BYTE 0
1465	.$1074	TMP_FREG .REAL 0
1466	.$1079	TMP2_FREG .REAL 0
1467	.$107e	TMP_FLAG .BYTE 0
1468	.$107f	INT_FLAG .BYTE 0
1469	.$1080	REAL_CONST_ONE .REAL 1.0
1470	.$1085	REAL_CONST_ZERO .REAL 0.0
1471	.$108a	REAL_CONST_MINUS_ONE .REAL -1.0
1472	.$108f	CHLOCKFLAG .BYTE 0
1473	.$1090	EMPTYSTR .BYTE 0
1474	.$1091	FPSTACKP .WORD FPSTACK
1475	.$1093	FORSTACKP .WORD FORSTACK
1476	.$1095	DATASP .WORD DATAS
1477	.$1097	LASTVAR .WORD 0
1478	.$1099	LASTVARP .WORD 0
1479	.$109b	HIGHP .WORD STRBUF
1480	.$109d	STRBUFP .WORD STRBUF
1481	.$109f	ENDSTRBUF .WORD 0
1482	.$10a1	INPUTQUEUEP .BYTE 0
1483	.$10a2	PROGRAMEND
1484	.$10a2	INPUTQUEUE .ARRAY $0F
1485	.$10b1	FPSTACK .ARRAY 100
1486	.$1115	FORSTACK .ARRAY 340
1487	.$1269	STRBUF .BYTE 0
