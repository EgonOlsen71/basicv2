117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
128	.$81f	LDA #<CONST_0
129	.$821	LDY #>CONST_0
130	.$823	JSR STROUTBRKWL
134	.$826	LINE_20:
136	.$826	LDY #7
137	.$828	STY 53280
139	.$82b	LDY #0
140	.$82d	STY 53280
143	.$830	LINE_30:
144	.$830	LDX #4
145	.$832	dcloop401_1:
146	.$832	LDA CONST_3R,X
147	.$835	STA VAR_X,X
148	.$838	LDA CONST_3R,X
149	.$83b	STA VAR_Y,X
150	.$83e	DEX
151	.$83f	BPL dcloop401_1
155	.$841	LINE_40:
156	.$841	LDX #4
157	.$843	dcloop567_1:
158	.$843	LDA CONST_3R,X
159	.$846	STA VAR_DX,X
160	.$849	LDA CONST_3R,X
161	.$84c	STA VAR_DY,X
162	.$84f	DEX
163	.$850	BPL dcloop567_1
167	.$852	LINE_50:
169	.$852	LDA #<VAR_Y
170	.$854	LDY #>VAR_Y
172	.$856	JSR REALFAC
173	.$859	JSR FACYREG
174	.$85c	LDY #5
175	.$85e	LDA #0
176	.$860	STY A_REG
177	.$863	STA A_REG+1
182	.$866	JSR SHL
183	.$869	JSR FACXREG
185	.$86c	LDY #3
186	.$86e	LDA #0
187	.$870	STY A_REG
188	.$873	STA A_REG+1
189	.$876	JSR YREGFAC
192	.$879	JSR SHL
194	.$87c	LDA #<X_REG
195	.$87e	LDY #>X_REG
197	.$880	JSR FASTFADDMEM
201	.$883	JSR PUSHREAL
202	.$886	LDA #<VAR_X
203	.$888	LDY #>VAR_X
204	.$88a	JSR REALFAC
205	.$88d	LDA #<CONST_6
206	.$88f	LDY #>CONST_6
207	.$891	JSR FASTFADDMEM
211	.$894	JSR FACXREG
213	.$897	JSR POPREAL2X
215	.$89a	JSR FASTFADDARG
221	.$89d	JSR FACWORD
222	.$8a0	STY MOVBSELF3+1
223	.$8a3	STA MOVBSELF3+2
224	.$8a6	LDA #$1
225	.$8a8	MOVBSELF3:
226	.$8a8	STA $FFFF
228	.$8ab	LINE_55:
230	.$8ab	LDA #<VAR_Y
231	.$8ad	LDY #>VAR_Y
233	.$8af	JSR REALFAC
234	.$8b2	JSR FACYREG
235	.$8b5	LDY #5
236	.$8b7	LDA #0
237	.$8b9	STY A_REG
238	.$8bc	STA A_REG+1
243	.$8bf	JSR SHL
244	.$8c2	JSR FACXREG
246	.$8c5	LDY #3
247	.$8c7	LDA #0
248	.$8c9	STY A_REG
249	.$8cc	STA A_REG+1
250	.$8cf	JSR YREGFAC
253	.$8d2	JSR SHL
255	.$8d5	LDA #<X_REG
256	.$8d7	LDY #>X_REG
258	.$8d9	JSR FASTFADDMEM
262	.$8dc	JSR PUSHREAL
263	.$8df	LDA #<VAR_X
264	.$8e1	LDY #>VAR_X
265	.$8e3	JSR REALFAC
266	.$8e6	LDA #<CONST_7R
267	.$8e8	LDY #>CONST_7R
268	.$8ea	JSR FASTFADDMEM
272	.$8ed	JSR FACXREG
274	.$8f0	JSR POPREAL2X
276	.$8f3	JSR FASTFADDARG
282	.$8f6	JSR FACWORD
283	.$8f9	STY MOVBSELF4+1
284	.$8fc	STA MOVBSELF4+2
285	.$8ff	LDA #$51
286	.$901	MOVBSELF4:
287	.$901	STA $FFFF
289	.$904	LINE_60:
291	.$904	LDX #4
292	.$906	dcloop1065_1:
293	.$906	LDA CONST_9R,X
294	.$909	STA VAR_T,X
295	.$90c	DEX
296	.$90d	BPL dcloop1065_1
299	.$90f	LINE_70:
301	.$90f	LDA #<VAR_Y
302	.$911	LDY #>VAR_Y
304	.$913	JSR REALFAC
305	.$916	JSR FACYREG
306	.$919	LDY #5
307	.$91b	LDA #0
308	.$91d	STY A_REG
309	.$920	STA A_REG+1
314	.$923	JSR SHL
315	.$926	JSR FACXREG
317	.$929	LDY #3
318	.$92b	LDA #0
319	.$92d	STY A_REG
320	.$930	STA A_REG+1
321	.$933	JSR YREGFAC
324	.$936	JSR SHL
326	.$939	LDA #<X_REG
327	.$93b	LDY #>X_REG
329	.$93d	JSR FASTFADDMEM
333	.$940	JSR PUSHREAL
334	.$943	LDA #<VAR_X
335	.$945	LDY #>VAR_X
336	.$947	JSR REALFAC
337	.$94a	LDA #<CONST_7R
338	.$94c	LDY #>CONST_7R
339	.$94e	JSR FASTFADDMEM
343	.$951	JSR FACXREG
345	.$954	JSR POPREAL2X
347	.$957	JSR FASTFADDARG
353	.$95a	JSR FACWORD
354	.$95d	STY MOVBSELF5+1
355	.$960	STA MOVBSELF5+2
356	.$963	LDA #$20
357	.$965	MOVBSELF5:
358	.$965	STA $FFFF
360	.$968	LINE_80:
362	.$968	LDA #<VAR_DX
363	.$96a	LDY #>VAR_DX
364	.$96c	JSR REALFAC
365	.$96f	LDA #<VAR_X
366	.$971	LDY #>VAR_X
367	.$973	JSR FASTFADDMEM
372	.$976	LDX #<VAR_X
373	.$978	LDY #>VAR_X
375	.$97a	JSR FACMEM
377	.$97d	LINE_90:
379	.$97d	LDA #<CONST_11R
380	.$97f	LDY #>CONST_11R
381	.$981	JSR REALFAC
382	.$984	LDA #<VAR_X
383	.$986	LDY #>VAR_X
384	.$988	JSR CMPFAC
386	.$98b	BEQ EQ_EQ0
387	.$98d	LDA #<REAL_CONST_ZERO
388	.$98f	LDY #>REAL_CONST_ZERO
389	.$991	JMP EQ_SKIP0
390	.$994	EQ_EQ0:
391	.$994	LDA #<REAL_CONST_MINUS_ONE
392	.$996	LDY #>REAL_CONST_MINUS_ONE
393	.$998	EQ_SKIP0:
395	.$998	JSR REALFACPUSH
397	.$99b	LDA #<CONST_2R
398	.$99d	LDY #>CONST_2R
399	.$99f	JSR REALFAC
400	.$9a2	LDA #<VAR_X
401	.$9a4	LDY #>VAR_X
402	.$9a6	JSR CMPFAC
404	.$9a9	BEQ EQ_EQ1
405	.$9ab	LDA #<REAL_CONST_ZERO
406	.$9ad	LDY #>REAL_CONST_ZERO
407	.$9af	JMP EQ_SKIP1
408	.$9b2	EQ_EQ1:
409	.$9b2	LDA #<REAL_CONST_MINUS_ONE
410	.$9b4	LDY #>REAL_CONST_MINUS_ONE
411	.$9b6	EQ_SKIP1:
413	.$9b6	JSR REALFAC
414	.$9b9	JSR FACXREG
416	.$9bc	JSR POPREAL2X
418	.$9bf	JSR FASTOR
421	.$9c2	JSR FACXREG
423	.$9c5	LDA X_REG
424	.$9c7	COMP_SKP0:
425	.$9c7	BEQ LINE_SKIP2
428	.$9c9	LINE_NSKIP2:
430	.$9c9	LDA #<VAR_DX
431	.$9cb	LDY #>VAR_DX
432	.$9cd	JSR REALFAC
435	.$9d0	JSR NEG
437	.$9d3	LDX #<VAR_DX
438	.$9d5	LDY #>VAR_DX
440	.$9d7	JSR FACMEM
442	.$9da	LINE_SKIP2:
445	.$9da	LINE_100:
447	.$9da	LDA #<VAR_DY
448	.$9dc	LDY #>VAR_DY
449	.$9de	JSR REALFAC
450	.$9e1	LDA #<VAR_Y
451	.$9e3	LDY #>VAR_Y
452	.$9e5	JSR FASTFADDMEM
457	.$9e8	LDX #<VAR_Y
458	.$9ea	LDY #>VAR_Y
460	.$9ec	JSR FACMEM
462	.$9ef	LINE_110:
464	.$9ef	LDA #<CONST_12R
465	.$9f1	LDY #>CONST_12R
466	.$9f3	JSR REALFAC
467	.$9f6	LDA #<VAR_Y
468	.$9f8	LDY #>VAR_Y
469	.$9fa	JSR CMPFAC
471	.$9fd	BEQ EQ_EQ2
472	.$9ff	LDA #<REAL_CONST_ZERO
473	.$a01	LDY #>REAL_CONST_ZERO
474	.$a03	JMP EQ_SKIP2
475	.$a06	EQ_EQ2:
476	.$a06	LDA #<REAL_CONST_MINUS_ONE
477	.$a08	LDY #>REAL_CONST_MINUS_ONE
478	.$a0a	EQ_SKIP2:
480	.$a0a	JSR REALFACPUSH
482	.$a0d	LDA #<CONST_2R
483	.$a0f	LDY #>CONST_2R
484	.$a11	JSR REALFAC
485	.$a14	LDA #<VAR_Y
486	.$a16	LDY #>VAR_Y
487	.$a18	JSR CMPFAC
489	.$a1b	BEQ EQ_EQ3
490	.$a1d	LDA #<REAL_CONST_ZERO
491	.$a1f	LDY #>REAL_CONST_ZERO
492	.$a21	JMP EQ_SKIP3
493	.$a24	EQ_EQ3:
494	.$a24	LDA #<REAL_CONST_MINUS_ONE
495	.$a26	LDY #>REAL_CONST_MINUS_ONE
496	.$a28	EQ_SKIP3:
498	.$a28	JSR REALFAC
499	.$a2b	JSR FACXREG
501	.$a2e	JSR POPREAL2X
503	.$a31	JSR FASTOR
506	.$a34	JSR FACXREG
508	.$a37	LDA X_REG
509	.$a39	COMP_SKP1:
510	.$a39	BEQ LINE_SKIP3
513	.$a3b	LINE_NSKIP3:
515	.$a3b	LDA #<VAR_DY
516	.$a3d	LDY #>VAR_DY
517	.$a3f	JSR REALFAC
520	.$a42	JSR NEG
522	.$a45	LDX #<VAR_DY
523	.$a47	LDY #>VAR_DY
525	.$a49	JSR FACMEM
527	.$a4c	LINE_SKIP3:
530	.$a4c	LINE_120:
532	.$a4c	JMP LINE_50
533	.$a4f	JSR END
534	.$a52	RTS
537	.$a53	END   LDX SP_SAVE
538	.$a56	TXS
545	.$a57	RTS
548	.$a58	START  LDA ENDSTRBUF+1
549	.$a5b	BNE ENDGIVEN
550	.$a5d	LDA BASICEND
551	.$a5f	STA ENDSTRBUF
552	.$a62	LDA BASICEND+1
553	.$a64	STA ENDSTRBUF+1
554	.$a67	ENDGIVEN LDA #<FPSTACK
555	.$a69	LDY #>FPSTACK
556	.$a6b	STA FPSTACKP
557	.$a6e	STY FPSTACKP+1
558	.$a71	LDA #<FORSTACK
559	.$a73	LDY #>FORSTACK
560	.$a75	STA FORSTACKP
561	.$a78	STY FORSTACKP+1
562	.$a7b	LDA #<STRBUF
563	.$a7d	LDY #>STRBUF
564	.$a7f	STA STRBUFP
565	.$a82	STY STRBUFP+1
566	.$a85	STA HIGHP
567	.$a88	STY HIGHP+1
568	.$a8b	LDA #0
569	.$a8d	STA CHLOCKFLAG
570	.$a90	STA LASTVAR
571	.$a93	STA LASTVAR+1
572	.$a96	JSR INITVARS
573	.$a99	LDA #0
574	.$a9b	STA CMD_NUM
575	.$a9e	STA CHANNEL
576	.$aa1	TAY
577	.$aa2	TAX
581	.$aa3	STA KEYNDX
587	.$aa5	JSR RESTORE
588	.$aa8	CLC
592	.$aa9	RTS
595	.$aaa	INITNARRAY
596	.$aaa	STA TMP_ZP
597	.$aac	STY TMP_ZP+1
598	.$aae	LDY #0
599	.$ab0	TYA
600	.$ab1	NINITLOOP STA (TMP_ZP),Y
601	.$ab3	INC TMP_ZP
602	.$ab5	BNE NLOOPNOV
603	.$ab7	INC TMP_ZP+1
604	.$ab9	NLOOPNOV LDX TMP2_ZP
605	.$abb	BNE NLOOPNOV2
606	.$abd	DEC TMP2_ZP+1
607	.$abf	NLOOPNOV2 DEC TMP2_ZP
608	.$ac1	BNE NINITLOOP
609	.$ac3	LDX TMP2_ZP+1
610	.$ac5	BNE NINITLOOP
611	.$ac7	RTS
614	.$ac8	INITSTRARRAY
615	.$ac8	STA TMP_ZP
616	.$aca	STY TMP_ZP+1
617	.$acc	SINITLOOP LDY #0
618	.$ace	LDA #<EMPTYSTR
619	.$ad0	STA (TMP_ZP),Y
620	.$ad2	LDA #>EMPTYSTR
621	.$ad4	INY
622	.$ad5	STA (TMP_ZP),Y
623	.$ad7	CLC
624	.$ad8	LDA TMP_ZP
625	.$ada	ADC #2
626	.$adc	STA TMP_ZP
627	.$ade	BCC SLOOPNOV1
628	.$ae0	INC TMP_ZP+1
629	.$ae2	SLOOPNOV1 SEC
630	.$ae3	LDA TMP2_ZP
631	.$ae5	SBC #2
632	.$ae7	STA TMP2_ZP
633	.$ae9	BCS SLOOPNOV2
634	.$aeb	DEC TMP2_ZP+1
635	.$aed	SLOOPNOV2 LDA TMP2_ZP
636	.$aef	BNE SINITLOOP
637	.$af1	LDA TMP2_ZP+1
638	.$af3	BNE SINITLOOP
639	.$af5	RTS
642	.$af6	INITSPARAMS STA TMP3_ZP
643	.$af8	STY TMP3_ZP+1
644	.$afa	SEC
645	.$afb	SBC #2
646	.$afd	STA TMP_ZP
647	.$aff	TYA
648	.$b00	SBC #0
649	.$b02	STA TMP_ZP+1
650	.$b04	LDY #0
651	.$b06	LDA (TMP_ZP),Y
652	.$b08	STA TMP2_ZP
653	.$b0a	INY
654	.$b0b	LDA (TMP_ZP),Y
655	.$b0d	STA TMP2_ZP+1
656	.$b0f	LDA TMP3_ZP
657	.$b11	LDY TMP3_ZP+1
658	.$b13	RTS
661	.$b14	INITSTRVARS LDA #<STRINGVARS_START  
662	.$b16	LDY #>STRINGVARS_START
663	.$b18	CMP #<STRINGVARS_END
664	.$b1a	BNE INITIT1
665	.$b1c	CPY #>STRINGVARS_END
666	.$b1e	BNE INITIT1
667	.$b20	JMP INITSA2     
668	.$b23	INITIT1  STA TMP_ZP
669	.$b25	STY TMP_ZP+1
670	.$b27	LDY #0
671	.$b29	INITSTRLOOP LDA #<EMPTYSTR
672	.$b2b	STA (TMP_ZP),Y
673	.$b2d	INY
674	.$b2e	LDA #>EMPTYSTR
675	.$b30	STA (TMP_ZP),Y
676	.$b32	DEY
677	.$b33	LDA TMP_ZP
678	.$b35	CLC
679	.$b36	ADC #2
680	.$b38	STA TMP_ZP
681	.$b3a	LDA TMP_ZP+1
682	.$b3c	ADC #0
683	.$b3e	STA TMP_ZP+1
684	.$b40	CMP #>STRINGVARS_END
685	.$b42	BNE INITSTRLOOP
686	.$b44	LDA TMP_ZP
687	.$b46	CMP #<STRINGVARS_END
688	.$b48	BNE INITSTRLOOP
689	.$b4a	INITSA2  LDA #<STRINGARRAYS_START 
690	.$b4c	LDY #>STRINGARRAYS_START
691	.$b4e	CMP #<STRINGARRAYS_END
692	.$b50	BNE ARRAYLOOP
693	.$b52	CPY #>STRINGARRAYS_END
694	.$b54	BNE ARRAYLOOP
695	.$b56	RTS       
696	.$b57	ARRAYLOOP CLC
697	.$b58	ADC #3
698	.$b5a	BCC ARRAYSKIP1
699	.$b5c	INY
700	.$b5d	ARRAYSKIP1 CPY #>STRINGARRAYS_END
701	.$b5f	BEQ ARRAYSC
702	.$b61	BCC ARRAYSKIP2
703	.$b63	JMP ARRAYQUIT
704	.$b66	ARRAYSC  CMP #<STRINGARRAYS_END
705	.$b68	BCS ARRAYQUIT
706	.$b6a	ARRAYSKIP2 STA TMP_REG
707	.$b6c	STY TMP_REG+1
708	.$b6e	JSR INITSPARAMS
709	.$b71	LDA TMP_REG
710	.$b73	LDY TMP_REG+1
711	.$b75	JSR INITSTRARRAY
712	.$b78	LDA TMP_ZP
713	.$b7a	LDY TMP_ZP+1
714	.$b7c	JMP ARRAYLOOP
715	.$b7f	ARRAYQUIT RTS
718	.$b80	RESTORE  LDA #<DATAS
719	.$b82	LDY #>DATAS
720	.$b84	STA DATASP
721	.$b87	STY DATASP+1
722	.$b8a	RTS
725	.$b8b	REROUTE  LDA CMD_NUM  
726	.$b8e	BEQ REROUTECMD
727	.$b90	TAX
728	.$b91	STA CHANNEL
729	.$b94	JMP CHKOUT
730	.$b97	REROUTECMD RTS
733	.$b98	RESETROUTE LDA CMD_NUM  
734	.$b9b	BEQ RESETROUTECMD
735	.$b9d	JMP CLRCHNEW
736	.$ba0	RESETROUTECMD
737	.$ba0	RTS
740	.$ba1	STROUTBRKWL STA A_REG
741	.$ba4	STY A_REG+1
742	.$ba7	STROUTBRK JSR REROUTE
743	.$baa	LDA A_REG
744	.$bad	STA INDEX1
745	.$baf	LDA A_REG+1
746	.$bb2	STA INDEX1+1
747	.$bb4	LDY #0
748	.$bb6	LDA (INDEX1),Y
749	.$bb8	TAX
750	.$bb9	INC INDEX1
751	.$bbb	BNE PRINTSTR2
752	.$bbd	INC INDEX1+1
753	.$bbf	PRINTSTR2 JSR PRINTSTRS
754	.$bc2	LDA HIGHP   
755	.$bc5	STA STRBUFP
756	.$bc8	LDA HIGHP+1
757	.$bcb	STA STRBUFP+1
758	.$bce	LDA #$0D
759	.$bd0	JSR CHROUT
760	.$bd3	JMP RESETROUTE  
763	.$bd6	REALFACPUSH STA TMP_ZP
764	.$bd8	STY TMP_ZP+1
765	.$bda	LDX FPSTACKP
766	.$bdd	LDY FPSTACKP+1
767	.$be0	STX TMP2_ZP
768	.$be2	STY TMP2_ZP+1
769	.$be4	LDY #0
770	.$be6	LDA (TMP_ZP),Y
771	.$be8	STA (TMP2_ZP),Y
772	.$bea	INY
773	.$beb	LDA (TMP_ZP),Y
774	.$bed	STA (TMP2_ZP),Y
775	.$bef	INY
776	.$bf0	LDA (TMP_ZP),Y
777	.$bf2	STA (TMP2_ZP),Y
778	.$bf4	INY
779	.$bf5	LDA (TMP_ZP),Y
780	.$bf7	STA (TMP2_ZP),Y
781	.$bf9	INY
782	.$bfa	LDA (TMP_ZP),Y
783	.$bfc	STA (TMP2_ZP),Y
784	.$bfe	TXA    
785	.$bff	CLC
786	.$c00	ADC #5
787	.$c02	STA FPSTACKP
788	.$c05	BCC NOPVRFPXX
789	.$c07	INC FPSTACKP+1
790	.$c0a	NOPVRFPXX RTS
793	.$c0b	PUSHREAL LDX FPSTACKP
794	.$c0e	LDY FPSTACKP+1
795	.$c11	JSR FACMEM
796	.$c14	LDA FPSTACKP
797	.$c17	CLC
798	.$c18	ADC #5
799	.$c1a	STA FPSTACKP
800	.$c1d	BCC NOPVPUR
801	.$c1f	INC FPSTACKP+1
802	.$c22	NOPVPUR  RTS
805	.$c23	POPREAL2X LDA FPSTACKP
806	.$c26	SEC
807	.$c27	SBC #5
808	.$c29	STA FPSTACKP
809	.$c2c	BCS NOPVPR2X
810	.$c2e	DEC FPSTACKP+1
811	.$c31	NOPVPR2X LDA FPSTACKP
812	.$c34	LDY FPSTACKP+1
813	.$c37	JSR REALFAC
814	.$c3a	JSR XREGARG
815	.$c3d	RTS
818	.$c3e	SHL   LDA FACEXP
819	.$c40	BEQ SHLOK
820	.$c42	CLC
821	.$c43	ADC A_REG
822	.$c46	BCC SHLOK
823	.$c48	LDA #0
824	.$c4a	STA FACSGN
825	.$c4c	STA FACLO
826	.$c4e	STA FACMO
827	.$c50	STA FACMOH
828	.$c52	STA FACHO
829	.$c54	LDA #$FF
830	.$c56	SHLOK  STA FACEXP
831	.$c58	RTS
834	.$c59	NEG   LDA FACSGN
835	.$c5b	EOR #$FF
836	.$c5d	STA FACSGN
837	.$c5f	RTS
841	.$c60	FACWORD
842	.$c60	LDA FACEXP   
843	.$c62	BNE DOFACWORD
844	.$c64	STA FACSGN   
845	.$c66	DOFACWORD:
846	.$c66	JMP XFACWORD
850	.$c69	FASTOR  LDA FACEXP   
851	.$c6b	BNE CHECKFACOR
852	.$c6d	LDA ARGEXP   
853	.$c6f	BNE CHECKARGOR 
854	.$c71	LDA #0
855	.$c73	STA FACSGN   
856	.$c75	RTS    
857	.$c76	CHECKFACOR LDA FACEXP   
858	.$c78	CMP #$81
859	.$c7a	BNE NORMALOR
860	.$c7c	LDA FACHO
861	.$c7e	CMP #$80
862	.$c80	BNE NORMALOR
863	.$c82	LDA FACMOH
864	.$c84	BNE NORMALOR
865	.$c86	LDA FACMO
866	.$c88	BNE NORMALOR
867	.$c8a	LDA FACLO
868	.$c8c	BNE NORMALOR
869	.$c8e	LDA FACSGN
870	.$c90	ROL
871	.$c91	BCC NORMALOR
872	.$c93	CHECKARGOR LDA ARGEXP   
873	.$c95	BNE CHECKARGOR2
874	.$c97	RTS    
875	.$c98	CHECKARGOR2 CMP #$81
876	.$c9a	BNE NORMALOR
877	.$c9c	LDA ARGHO
878	.$c9e	CMP #$80
879	.$ca0	BNE NORMALOR
880	.$ca2	LDA ARGMOH
881	.$ca4	BNE NORMALOR
882	.$ca6	LDA ARGMO
883	.$ca8	BNE NORMALOR
884	.$caa	LDA ARGLO
885	.$cac	BNE NORMALOR
886	.$cae	LDA ARGSGN
887	.$cb0	AND #$80
888	.$cb2	CMP #$80
889	.$cb4	BNE NORMALOR
890	.$cb6	JMP ARGFAC  
891	.$cb9	NORMALOR JMP FACOR
894	.$cbc	CLRCHNEW
895	.$cbc	LDA CHLOCKFLAG
896	.$cbf	BNE SKIPCLRCH
897	.$cc1	JMP CLRCH
898	.$cc4	SKIPCLRCH
899	.$cc4	RTS
902	.$cc5	ILLEGALQUANTITY
906	.$cc5	JMP ERRIQ
909	.$cc8	FACXREG  LDA FACLO
910	.$cca	STA X_REG+4
911	.$ccc	LDA FACMO
912	.$cce	STA X_REG+3
913	.$cd0	LDA FACMOH
914	.$cd2	STA X_REG+2
915	.$cd4	LDA FACSGN
916	.$cd6	ORA #$7F
917	.$cd8	AND FACHO
918	.$cda	STA X_REG+1
919	.$cdc	LDA FACEXP
920	.$cde	STA X_REG
921	.$ce0	LDA #0   
922	.$ce2	STA FACOV
923	.$ce4	RTS
926	.$ce5	FACYREG  LDA FACLO
927	.$ce7	STA Y_REG+4
928	.$cea	LDA FACMO
929	.$cec	STA Y_REG+3
930	.$cef	LDA FACMOH
931	.$cf1	STA Y_REG+2
932	.$cf4	LDA FACSGN
933	.$cf6	ORA #$7F
934	.$cf8	AND FACHO
935	.$cfa	STA Y_REG+1
936	.$cfd	LDA FACEXP
937	.$cff	STA Y_REG
938	.$d02	LDA #0   
939	.$d04	STA FACOV
940	.$d06	RTS
943	.$d07	XREGARG  LDA X_REG+4
944	.$d09	STA ARGLO
945	.$d0b	LDA X_REG+3
946	.$d0d	STA ARGMO
947	.$d0f	LDA X_REG+2
948	.$d11	STA ARGMOH
949	.$d13	LDA X_REG+1
950	.$d15	STA ARGSGN
951	.$d17	EOR FACSGN
952	.$d19	STA ARISGN
953	.$d1b	LDA ARGSGN
954	.$d1d	ORA #$80
955	.$d1f	STA ARGHO
956	.$d21	LDA X_REG
957	.$d23	STA ARGEXP
958	.$d25	LDA FACEXP
959	.$d27	RTS
962	.$d28	YREGFAC  LDA Y_REG+4
963	.$d2b	STA FACLO
964	.$d2d	LDA Y_REG+3
965	.$d30	STA FACMO
966	.$d32	LDA Y_REG+2
967	.$d35	STA FACMOH
968	.$d37	LDA Y_REG+1
969	.$d3a	STA FACSGN
970	.$d3c	ORA #$80
971	.$d3e	STA FACHO
972	.$d40	LDA Y_REG
973	.$d43	STA FACEXP
974	.$d45	LDA #0
975	.$d47	STA FACOV
976	.$d49	RTS
1090	.$d4a	FASTFADDMEM
1091	.$d4a	JSR MEMARG
1092	.$d4d	FASTFADDARG
1093	.$d4d	BNE FADDRET2     
1094	.$d4f	JMP ARGFAC
1095	.$d52	FADDRET2 LDA ARGEXP
1096	.$d54	BNE FADDRET1     
1097	.$d56	RTS
1098	.$d57	FADDRET1 SEC
1099	.$d58	SBC FACEXP
1100	.$d5a	BEQ FFADD_EXPEQ     
1101	.$d5c	BCC FFADD_SHFARG1   
1105	.$d5e	LDY ARGEXP
1106	.$d60	STY FACEXP
1107	.$d62	LDY ARGSGN
1108	.$d64	STY FACSGN
1109	.$d66	LDX #0
1110	.$d68	STX OLDOV        
1111	.$d6a	LDX #FAC         
1113	.$d6c	SEC
1114	.$d6d	SBC #$08
1115	.$d6f	BMI FFADD_SHFFAC2
1117	.$d71	FFADD_SHFFAC1
1118	.$d71	LDY FACLO        
1119	.$d73	STY FACOV
1120	.$d75	LDY FACMO        
1121	.$d77	STY FACMO+1
1122	.$d79	LDY FACMOH       
1123	.$d7b	STY FACMOH+1
1124	.$d7d	LDY FACHO        
1125	.$d7f	STY FACHO+1
1126	.$d81	LDY #0
1127	.$d83	STY FACHO        
1128	.$d85	SBC #$08         
1129	.$d87	BPL FFADD_SHFFAC1   
1130	.$d89	FFADD_SHFFAC2
1131	.$d89	ADC #$08         
1132	.$d8b	BEQ FFADD_SHFFAC4   
1133	.$d8d	TAY
1134	.$d8e	LDA FACOV
1135	.$d90	FFADD_SHFFAC3
1136	.$d90	LSR FACHO        
1137	.$d92	ROR FACMOH       
1138	.$d94	ROR FACMO        
1139	.$d96	ROR FACLO        
1140	.$d98	ROR              
1141	.$d99	DEY
1142	.$d9a	BNE FFADD_SHFFAC3
1143	.$d9c	JMP FFADD_MANADD2   
1144	.$d9f	FFADD_SHFFAC4
1145	.$d9f	LDA FACOV        
1146	.$da1	JMP FFADD_MANADD2
1147	.$da4	FFADD_EXPEQ
1148	.$da4	LDX FACOV
1149	.$da6	STX OLDOV
1152	.$da8	JMP FFADD_MANADD1
1153	.$dab	FFADD_SHFARG2
1154	.$dab	LDA FACOV        
1155	.$dad	JMP FFADD_MANADD1
1156	.$db0	FFADD_SHFARG1
1157	.$db0	LDX FACOV
1158	.$db2	STX OLDOV        
1159	.$db4	LDX #$00         
1162	.$db6	ADC #$08
1163	.$db8	BPL FFADD_SHFARG6   
1164	.$dba	FFADD_SHFARG3
1165	.$dba	LDX ARGLO        
1166	.$dbc	LDY ARGMO        
1167	.$dbe	STY ARGMO+1
1168	.$dc0	LDY ARGMOH       
1169	.$dc2	STY ARGMOH+1
1170	.$dc4	LDY ARGHO        
1171	.$dc6	STY ARGHO+1
1172	.$dc8	LDY #0
1173	.$dca	STY ARGHO        
1174	.$dcc	FFADD_SHFARG4
1175	.$dcc	ADC #$08
1176	.$dce	BMI FFADD_SHFARG3
1177	.$dd0	BEQ FFADD_SHFARG3
1178	.$dd2	FFADD_SHFARG6
1179	.$dd2	SBC #$08
1180	.$dd4	BEQ FFADD_SHFARG2   
1181	.$dd6	TAY
1182	.$dd7	TXA              
1183	.$dd8	FFADD_SHFARG5
1184	.$dd8	LSR ARGHO
1185	.$dda	ROR ARGMOH
1186	.$ddc	ROR ARGMO
1187	.$dde	ROR ARGLO
1188	.$de0	ROR           
1189	.$de1	INY
1190	.$de2	BNE FFADD_SHFARG5
1191	.$de4	FFADD_MANADD1
1192	.$de4	LDX #ARGEXP      
1193	.$de6	FFADD_MANADD2
1194	.$de6	BIT ARISGN
1195	.$de8	BMI FFADD_MANSUB1   
1196	.$dea	CLC
1197	.$deb	ADC OLDOV
1198	.$ded	STA FACOV
1199	.$def	LDA FACLO
1200	.$df1	ADC ARGLO
1201	.$df3	STA FACLO
1202	.$df5	LDA FACMO
1203	.$df7	ADC ARGMO
1204	.$df9	STA FACMO
1205	.$dfb	LDA FACMOH
1206	.$dfd	ADC ARGMOH
1207	.$dff	STA FACMOH
1208	.$e01	LDA FACHO
1209	.$e03	ADC ARGHO
1210	.$e05	STA FACHO
1211	.$e07	BCC FFADD_RNDRTS
1212	.$e09	INC FACEXP
1213	.$e0b	BEQ FFADD_OVERR
1215	.$e0d	ROR FACHO
1216	.$e0f	ROR FACMOH
1217	.$e11	ROR FACMO
1218	.$e13	ROR FACLO
1219	.$e15	ROR FACOV
1220	.$e17	FFADD_RNDRTS
1221	.$e17	RTS
1222	.$e18	FFADD_OVERR
1223	.$e18	JMP ILLEGALQUANTITY
1224	.$e1b	FFADD_MANSUB1
1225	.$e1b	LDY #FACEXP
1226	.$e1d	CPX #ARGEXP
1227	.$e1f	BEQ FFADD_MANSUB2
1228	.$e21	LDY #ARGEXP
1229	.$e23	FFADD_MANSUB2
1230	.$e23	SEC              
1231	.$e24	EOR #$FF
1232	.$e26	ADC OLDOV
1233	.$e28	STA FACOV
1234	.$e2a	LDA 4,Y
1235	.$e2d	SBC 4,X
1236	.$e2f	STA FACLO
1237	.$e31	LDA 3,Y
1238	.$e34	SBC 3,X
1239	.$e36	STA FACMO
1240	.$e38	LDA 2,Y
1241	.$e3b	SBC 2,X
1242	.$e3d	STA FACMOH
1243	.$e3f	LDA 1,Y
1244	.$e42	SBC 1,X
1245	.$e44	STA FACHO
1246	.$e46	BCS FCNORMAL
1247	.$e48	LDA FACSGN
1248	.$e4a	EOR #$FF
1249	.$e4c	STA FACSGN
1250	.$e4e	LDA FACHO
1251	.$e50	EOR #$FF
1252	.$e52	STA FACHO
1253	.$e54	LDA FACMOH
1254	.$e56	EOR #$FF
1255	.$e58	STA FACMOH
1256	.$e5a	LDA FACMO
1257	.$e5c	EOR #$FF
1258	.$e5e	STA FACMO
1259	.$e60	LDA FACLO
1260	.$e62	EOR #$FF
1261	.$e64	STA FACLO
1262	.$e66	LDA FACOV
1263	.$e68	EOR #$FF
1264	.$e6a	CLC
1265	.$e6b	ADC #1
1266	.$e6d	STA FACOV
1267	.$e6f	BNE FCNORMAL
1268	.$e71	INC FACLO
1269	.$e73	BNE FCNORMAL
1270	.$e75	INC FACMO
1271	.$e77	BNE FCNORMAL
1272	.$e79	INC FACMOH
1273	.$e7b	BNE FCNORMAL
1274	.$e7d	INC FACHO
1275	.$e7f	FCNORMAL   BIT FACHO
1276	.$e81	BMI FFADD_RET       
1277	.$e83	LDA #0           
1278	.$e85	CLC
1279	.$e86	FFADD_NORM3
1280	.$e86	LDX FACHO
1281	.$e88	BNE FFADD_NORM1
1282	.$e8a	LDX FACHO+1
1283	.$e8c	STX FACHO
1284	.$e8e	LDX FACMOH+1
1285	.$e90	STX FACMOH
1286	.$e92	LDX FACMO+1
1287	.$e94	STX FACMO
1288	.$e96	LDX FACOV
1289	.$e98	STX FACLO
1290	.$e9a	LDX #0
1291	.$e9c	STX FACOV
1292	.$e9e	ADC #$08
1293	.$ea0	CMP #$20
1294	.$ea2	BNE FFADD_NORM3
1295	.$ea4	JMP FFADD_ZEROFAC
1296	.$ea7	FFADD_NORM2
1297	.$ea7	CLC
1298	.$ea8	ADC #1
1299	.$eaa	ASL FACOV
1300	.$eac	ROL FACLO
1301	.$eae	ROL FACMO
1302	.$eb0	ROL FACMOH
1303	.$eb2	ROL FACHO
1304	.$eb4	FFADD_NORM1
1305	.$eb4	BPL FFADD_NORM2     
1306	.$eb6	SEC
1307	.$eb7	SBC FACEXP
1308	.$eb9	BCS FFADD_ZEROFAC
1309	.$ebb	EOR #$FF
1310	.$ebd	CLC
1311	.$ebe	ADC #1
1312	.$ec0	STA FACEXP
1313	.$ec2	FFADD_RET   RTS
1314	.$ec3	FFADD_ZEROFAC
1315	.$ec3	LDX #0
1316	.$ec5	STX FACEXP
1317	.$ec7	STX FACSGN
1318	.$ec9	RTS
1321	.$eca	INITVARS
1322	.$eca	JSR INITSTRVARS
1323	.$ecd	LDA #0
1324	.$ecf	LDY #4
1325	.$ed1	REALINITLOOP0:
1326	.$ed1	STA VAR_X,Y
1327	.$ed4	STA VAR_Y,Y
1328	.$ed7	STA VAR_DX,Y
1329	.$eda	STA VAR_DY,Y
1330	.$edd	STA VAR_T,Y
1331	.$ee0	DEY
1332	.$ee1	BMI REALLOOPEXIT0
1333	.$ee3	JMP REALINITLOOP0
1334	.$ee6	REALLOOPEXIT0:
1335	.$ee6	RTS
1339	.$ee7	CONSTANTS
1341	.$ee7	CONST_0 .BYTE 7
1342	.$ee8	.STRG "{clear}"
1348	.$ee9	CONST_2R .REAL 0.0
1351	.$eee	CONST_3R .REAL 1.0
1360	.$ef3	CONST_6 .REAL 55296
1363	.$ef8	CONST_7R .REAL 1024.0
1369	.$efd	CONST_9R .REAL 10.0
1375	.$f02	CONST_11R .REAL 39.0
1378	.$f07	CONST_12R .REAL 24.0
1381	.$f0c	DATAS
1382	.$f0c	.BYTE $FF
1384	.$f0d	CONSTANTS_END
1387	.$f0d	VARIABLES
1389	.$f0d	VAR_X .REAL 0.0
1391	.$f12	VAR_Y .REAL 0.0
1393	.$f17	VAR_DX .REAL 0.0
1395	.$f1c	VAR_DY .REAL 0.0
1397	.$f21	VAR_T .REAL 0.0
1398	.$f26	STRINGVARS_START
1400	.$f26	VAR_TI$ .WORD EMPTYSTR
1401	.$f28	STRINGVARS_END
1402	.$f28	STRINGARRAYS_START
1403	.$f28	STRINGARRAYS_END
1404	.$f28	VARIABLES_END
1406	.$f28	Y_REG .REAL 0.0
1407	.$f2d	C_REG .REAL 0.0
1408	.$f32	D_REG .REAL 0.0
1409	.$f37	E_REG .REAL 0.0
1410	.$f3c	F_REG .REAL 0.0
1411	.$f41	A_REG .WORD 0
1412	.$f43	B_REG .WORD 0
1413	.$f45	CMD_NUM .BYTE 0
1414	.$f46	CHANNEL .BYTE 0
1415	.$f47	SP_SAVE .BYTE 0
1416	.$f48	TMP2_REG .WORD 0
1417	.$f4a	TMP3_REG .WORD 0
1418	.$f4c	TMP4_REG .WORD 0
1419	.$f4e	AS_TMP .WORD 0
1420	.$f50	BPOINTER_TMP .WORD 0
1421	.$f52	BASICTEXTP .BYTE 0
1422	.$f53	STORE1 .WORD 0
1423	.$f55	STORE2 .WORD 0
1424	.$f57	STORE3 .WORD 0
1425	.$f59	STORE4 .WORD 0
1426	.$f5b	GCSTART .WORD 0
1427	.$f5d	GCLEN .WORD 0
1428	.$f5f	GCWORK .WORD 0
1429	.$f61	INPUTLENGTH .BYTE 0
1430	.$f62	TMP_FREG .REAL 0
1431	.$f67	TMP2_FREG .REAL 0
1432	.$f6c	TMP_FLAG .BYTE 0
1433	.$f6d	INT_FLAG .BYTE 0
1434	.$f6e	REAL_CONST_ONE .REAL 1.0
1435	.$f73	REAL_CONST_ZERO .REAL 0.0
1436	.$f78	REAL_CONST_MINUS_ONE .REAL -1.0
1437	.$f7d	CHLOCKFLAG .BYTE 0
1438	.$f7e	EMPTYSTR .BYTE 0
1439	.$f7f	FPSTACKP .WORD FPSTACK
1440	.$f81	FORSTACKP .WORD FORSTACK
1441	.$f83	DATASP .WORD DATAS
1442	.$f85	LASTVAR .WORD 0
1443	.$f87	LASTVARP .WORD 0
1444	.$f89	HIGHP .WORD STRBUF
1445	.$f8b	STRBUFP .WORD STRBUF
1446	.$f8d	ENDSTRBUF .WORD 0
1447	.$f8f	INPUTQUEUEP .BYTE 0
1448	.$f90	PROGRAMEND
1449	.$f90	INPUTQUEUE .ARRAY $0F
1450	.$f9f	FPSTACK .ARRAY 100
1451	.$1003	FORSTACK .ARRAY 340
1452	.$1157	STRBUF .BYTE 0
