PROGRAMSTART:
JSR START
0:
10:
NOP
MOVB 53280,#0{INTEGER}
NOP
MOVB 53281,#0{INTEGER}
20:
NOP
MOV A,#number of ball (1-255)?{STRING}
JSR STROUT
JSR LINEBREAK
30:
NOP
INPUT0:
JSR CLEARQUEUE
JSR COMPACTMAX
MOV A,#{STRING}
JSR STROUT
JSR QMARKOUT1
JSR INPUTNUMBER
CMP X,#0{REAL}
JE INPUT0_0
MOV A,#?redo from start{STRING}
JSR STROUT
JSR LINEBREAK
JMP INPUT0
INPUT0_0:
JSR INPUTLENGTHCHECK
JE EMPTYINPUTSKIP1
MOV N{REAL},Y
EMPTYINPUTSKIP1:
JSR QUEUESIZE
CMP X,#0{REAL}
JE INPUTCHECK0
JSR EXTRAIGNORED
INPUTCHECK0:
40:
NOP
MOV Y,#255{INTEGER}
MOV X,N{REAL}
GT X,Y
PUSH X
MOV Y,#1{INTEGER}
MOV X,N{REAL}
LT X,Y
POP Y
OR X,Y
CMP X,#0{REAL}
JNE NSKIP0
JMP SKIP0
NSKIP0:
JMP 20
NOP
SKIP0:
60:
NOP
JSR COMPACTMAX
MOV Y,#147{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
70:
75:
80:
NOP
MOV Y,#0{INTEGER}
MOV B{REAL},Y
NOP
MOV Y,N{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(B{REAL})
JSR INITFOR
90:
NOP
MOV Y,B{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
RND X,Y
MOV A,#5{INTEGER}
MOV Y,X
SHL X,A
MOV A,#3{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,X
INT X,Y
MOV Y,X
POP X
MOV G,BX[]{REAL}
JSR ARRAYSTORE
100:
NOP
MOV Y,B{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
RND X,Y
MOV Y,#25{INTEGER}
MUL X,Y
MOV Y,X
INT X,Y
MOV Y,X
POP X
MOV G,BY[]{REAL}
JSR ARRAYSTORE
105:
NOP
MOV Y,B{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
RND X,Y
MOV A,#4{INTEGER}
MOV Y,X
SHL X,A
MOV A,#1{INTEGER}
SHL Y,A
SUB X,Y
MOV Y,X
INT X,Y
MOV Y,#1{INTEGER}
ADD X,Y
MOV Y,X
POP X
MOV G,BC[]{REAL}
JSR ARRAYSTORE
106:
NOP
MOV Y,B{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
RND X,Y
MOV A,#1{INTEGER}
SHL X,A
MOV Y,X
INT X,Y
MOV Y,X
POP X
MOV G,DX[]{REAL}
JSR ARRAYSTORE
108:
NOP
109:
NOP
MOV Y,B{REAL}
PUSH Y
NOP
POP X
MOV Y,#1{INTEGER}
MOV G,DY[]{REAL}
JSR ARRAYSTORE
110:
NOP
MOV A,(B{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
120:
NOP
130:
NOP
MOV Y,#1024{INTEGER}
MOV I{REAL},Y
MOV Y,#2023{INTEGER}
PUSH Y
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
MOV X,#81{INTEGER}
JSR FASTFOR
CMP A,#0{INTEGER}
JE ($JUMP)
140:
NOP
MOV Y,#55295{INTEGER}
MOV I{REAL},Y
MOV Y,#56295{INTEGER}
PUSH Y
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(I{REAL})
MOV X,#0{INTEGER}
JSR FASTFOR
CMP A,#0{INTEGER}
JE ($JUMP)
200:
NOP
MOV B,#000000{STRING}
MOV TI${STRING},B
NOP
MOV Y,#1{INTEGER}
MOV B{REAL},Y
NOP
MOV Y,N{REAL}
PUSH Y
NOP
MOV Y,#1{INTEGER}
PUSH Y
MOV A,(B{REAL})
JSR INITFOR
210:
NOP
MOV X,B{REAL}
MOV G,BX[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
PUSH X
MOV X,B{REAL}
MOV G,BY[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV A,#5{INTEGER}
MOV Y,X
SHL X,A
MOV A,#3{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,#55296{INTEGER}
ADD X,Y
POP Y
ADD X,Y
MOV Y,X
MOVB (Y),#0{INTEGER}
240:
NOP
MOV X,B{REAL}
MOV G,DX[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#0{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP1
JMP SKIP1
NSKIP1:
JSR GOSUB
JSR 1010
NOP
SKIP1:
250:
NOP
MOV X,B{REAL}
MOV G,DX[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#1{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP2
JMP SKIP2
NSKIP2:
JSR GOSUB
JSR 1040
NOP
SKIP2:
260:
NOP
MOV X,B{REAL}
MOV G,DY[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#0{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP3
JMP SKIP3
NSKIP3:
JSR GOSUB
JSR 1070
NOP
SKIP3:
270:
NOP
MOV X,B{REAL}
MOV G,DY[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#1{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP4
JMP SKIP4
NSKIP4:
JSR GOSUB
JSR 1100
NOP
SKIP4:
280:
NOP
MOV X,B{REAL}
MOV G,BX[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
PUSH X
MOV X,B{REAL}
MOV G,BY[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV A,#5{INTEGER}
MOV Y,X
SHL X,A
MOV A,#3{INTEGER}
SHL Y,A
ADD X,Y
MOV Y,#55296{INTEGER}
ADD X,Y
POP Y
ADD X,Y
PUSH X
MOV X,B{REAL}
MOV G,BC[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
POP Y
MOVB (Y),X
290:
NOP
MOV A,(B{})
JSR NEXT
CMP A,#0{INTEGER}
JE ($JUMP)
NOP
JSR COMPACTMAX
MOV Y,#19{INTEGER}
CHGCTX #1
JSR CHR
JSR STROUT
NOP
MOV X,TI{REAL}
JSR REALOUT
JSR LINEBREAK
300:
NOP
JMP 200
1000:
NOP
1010:
NOP
MOV X,B{REAL}
MOV G,BX[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#0{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP5
JMP SKIP5
NSKIP5:
NOP
MOV Y,B{REAL}
PUSH Y
NOP
POP X
MOV Y,#1{INTEGER}
MOV G,DX[]{REAL}
JSR ARRAYSTORE
JMP RETURN
NOP
SKIP5:
1020:
NOP
MOV Y,B{REAL}
PUSH Y
NOP
MOV X,B{REAL}
MOV G,BX[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#1{INTEGER}
SUB X,Y
MOV Y,X
POP X
MOV G,BX[]{REAL}
JSR ARRAYSTORE
NOP
JMP RETURN
1030:
NOP
1040:
NOP
MOV X,B{REAL}
MOV G,BX[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#39{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP6
JMP SKIP6
NSKIP6:
NOP
MOV Y,B{REAL}
PUSH Y
NOP
POP X
MOV Y,#38{INTEGER}
MOV G,BX[]{REAL}
JSR ARRAYSTORE
NOP
MOV Y,B{REAL}
PUSH Y
NOP
POP X
MOV Y,#0{INTEGER}
MOV G,DX[]{REAL}
JSR ARRAYSTORE
JMP RETURN
NOP
SKIP6:
1050:
NOP
MOV Y,B{REAL}
PUSH Y
NOP
MOV X,B{REAL}
MOV G,BX[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#1{INTEGER}
ADD X,Y
MOV Y,X
POP X
MOV G,BX[]{REAL}
JSR ARRAYSTORE
NOP
JMP RETURN
1060:
NOP
1070:
NOP
MOV X,B{REAL}
MOV G,BY[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#0{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP7
JMP SKIP7
NSKIP7:
NOP
MOV Y,B{REAL}
PUSH Y
NOP
POP X
MOV Y,#1{INTEGER}
MOV G,DY[]{REAL}
JSR ARRAYSTORE
JMP RETURN
NOP
SKIP7:
1080:
NOP
MOV Y,B{REAL}
PUSH Y
NOP
MOV X,B{REAL}
MOV G,BY[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#1{INTEGER}
SUB X,Y
MOV Y,X
POP X
MOV G,BY[]{REAL}
JSR ARRAYSTORE
NOP
JMP RETURN
1090:
NOP
1100:
NOP
MOV X,B{REAL}
MOV G,BY[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#24{INTEGER}
EQ X,Y
CMP X,#0{REAL}
JNE NSKIP8
JMP SKIP8
NSKIP8:
NOP
MOV Y,B{REAL}
PUSH Y
NOP
POP X
MOV Y,#23{INTEGER}
MOV G,BY[]{REAL}
JSR ARRAYSTORE
NOP
MOV Y,B{REAL}
PUSH Y
NOP
POP X
MOV Y,#0{INTEGER}
MOV G,DY[]{REAL}
JSR ARRAYSTORE
JMP RETURN
NOP
SKIP8:
1110:
NOP
MOV Y,B{REAL}
PUSH Y
NOP
MOV X,B{REAL}
MOV G,BY[]{REAL}
CHGCTX #0
JSR ARRAYACCESS
MOV Y,#1{INTEGER}
ADD X,Y
MOV Y,X
POP X
MOV G,BY[]{REAL}
JSR ARRAYSTORE
NOP
JMP RETURN
NOP
JSR END
RTS
