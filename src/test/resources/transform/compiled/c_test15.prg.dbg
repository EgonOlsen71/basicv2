117	.$818	TSX
118	.$819	STX SP_SAVE
120	.$81c	PROGRAMSTART:
121	.$81c	JSR START
123	.$81f	LINE_0:
126	.$81f	LINE_10:
129	.$81f	LINE_20:
132	.$81f	LINE_30:
134	.$81f	JSR COMPACTMAX
135	.$822	LDA #<CONST_0
136	.$824	LDY #>CONST_0
137	.$826	STA TMP_ZP
138	.$828	STY TMP_ZP+1
139	.$82a	JSR PUSHINT
141	.$82d	LDA #147
142	.$82f	JSR CHRINT
144	.$832	JSR POPINT2B
146	.$835	JSR CONCAT
147	.$838	JSR STROUTBRK
150	.$83b	LINE_40:
152	.$83b	JSR COMPACTMAX
153	.$83e	LDA #<CONST_2
154	.$840	LDY #>CONST_2
155	.$842	STA B_REG
156	.$845	STY B_REG+1
157	.$848	LDA #<CONST_3
158	.$84a	LDY #>CONST_3
159	.$84c	STA A_REG
160	.$84f	STY A_REG+1
161	.$852	JSR CONCAT
162	.$855	LDA #<CONST_4
163	.$857	LDY #>CONST_4
164	.$859	STA B_REG
165	.$85c	STY B_REG+1
166	.$85f	JSR CONCAT
167	.$862	LDA #<CONST_2
168	.$864	LDY #>CONST_2
169	.$866	STA B_REG
170	.$869	STY B_REG+1
171	.$86c	JSR CONCAT
172	.$86f	JSR STROUTBRK
175	.$872	LINE_50:
177	.$872	JSR COMPACTMAX
178	.$875	LDA #<CONST_2
179	.$877	LDY #>CONST_2
180	.$879	STA B_REG
181	.$87c	STY B_REG+1
182	.$87f	LDY #4
183	.$881	JSR LEFTCONST
191	.$884	LDA A_REG
192	.$887	LDY A_REG+1
193	.$88a	STA TMP_ZP
194	.$88c	STY TMP_ZP+1
195	.$88e	LDA #<VAR_D$
196	.$890	LDY #>VAR_D$
197	.$892	JSR COPYSTRING
198	.$895	LDA VAR_D$
199	.$898	LDY VAR_D$+1
200	.$89b	JSR STROUTWL
202	.$89e	JSR COMPACTMAX
203	.$8a1	LDA #<CONST_7
204	.$8a3	LDY #>CONST_7
205	.$8a5	STA B_REG
206	.$8a8	STY B_REG+1
207	.$8ab	LDY #2
208	.$8ad	JSR LEFTCONST
215	.$8b0	JSR STROUTBRK
217	.$8b3	LDA #<CONST_2
218	.$8b5	LDY #>CONST_2
219	.$8b7	JSR STROUTBRKWL
223	.$8ba	LINE_60:
225	.$8ba	JSR COMPACTMAX
226	.$8bd	LDA #<CONST_2
227	.$8bf	LDY #>CONST_2
228	.$8c1	STA B_REG
229	.$8c4	STY B_REG+1
230	.$8c7	LDY #22
231	.$8c9	JSR LEFTCONST
238	.$8cc	JSR STROUTBRK
241	.$8cf	LINE_70:
243	.$8cf	JSR COMPACTMAX
244	.$8d2	LDA #<CONST_7
245	.$8d4	LDY #>CONST_7
246	.$8d6	STA B_REG
247	.$8d9	STY B_REG+1
248	.$8dc	LDY #2
249	.$8de	JSR RIGHTCONST
256	.$8e1	LDA A_REG
257	.$8e4	LDY A_REG+1
258	.$8e7	STA TMP_ZP
259	.$8e9	STY TMP_ZP+1
260	.$8eb	JSR PUSHINT
262	.$8ee	LDA #<CONST_9R
263	.$8f0	LDY #>CONST_9R
264	.$8f2	JSR COPY2_XYA_YREG
269	.$8f5	JSR STR
270	.$8f8	LDA A_REG
271	.$8fb	LDY A_REG+1
272	.$8fe	STA TMP_ZP
273	.$900	STY TMP_ZP+1
274	.$902	JSR PUSHINT
276	.$905	LDA #<CONST_2
277	.$907	LDY #>CONST_2
278	.$909	STA B_REG
279	.$90c	STY B_REG+1
280	.$90f	LDY #4
281	.$911	JSR RIGHTCONST
288	.$914	JSR POPINT2B
290	.$917	JSR CONCAT
291	.$91a	JSR POPINT2B
293	.$91d	JSR CONCAT
295	.$920	LDA A_REG
296	.$923	LDY A_REG+1
297	.$926	STA TMP_ZP
298	.$928	STY TMP_ZP+1
299	.$92a	LDA #<VAR_D$
300	.$92c	LDY #>VAR_D$
301	.$92e	JSR COPYSTRING
302	.$931	LDA VAR_D$
303	.$934	LDY VAR_D$+1
304	.$937	JSR STROUTBRKWL
308	.$93a	LINE_80:
310	.$93a	JSR COMPACTMAX
311	.$93d	LDA #<CONST_6R
312	.$93f	LDY #>CONST_6R
313	.$941	JSR REALFACPUSH
315	.$944	LDA #<CONST_2
316	.$946	LDY #>CONST_2
317	.$948	STA B_REG
318	.$94b	STY B_REG+1
319	.$94e	LDY #4
320	.$950	JSR LEFTCONST
327	.$953	LDY A_REG
328	.$956	LDA A_REG+1
329	.$959	STY B_REG
330	.$95c	STA B_REG+1
331	.$95f	JSR POPREAL
332	.$962	LDX #<C_REG
333	.$964	LDY #>C_REG
335	.$966	JSR FACMEM
336	.$969	JSR RIGHT
337	.$96c	JSR STROUTBRK
339	.$96f	JSR COMPACTMAX
340	.$972	LDA #<CONST_2
341	.$974	LDY #>CONST_2
342	.$976	STA B_REG
343	.$979	STY B_REG+1
344	.$97c	LDY #20
345	.$97e	JSR RIGHTCONST
352	.$981	JSR STROUTBRK
355	.$984	LINE_90:
357	.$984	JSR COMPACTMAX
358	.$987	LDA #<CONST_11R
359	.$989	LDY #>CONST_11R
360	.$98b	JSR COPY2_XYA_CREG
364	.$98e	LDA #<CONST_2
365	.$990	LDY #>CONST_2
366	.$992	STA B_REG
367	.$995	STY B_REG+1
368	.$998	LDY #4
369	.$99a	JSR MIDCONST
378	.$99d	JSR STROUTBRK
380	.$9a0	JSR COMPACTMAX
381	.$9a3	LDA #<CONST_2
382	.$9a5	LDY #>CONST_2
383	.$9a7	STA B_REG
384	.$9aa	STY B_REG+1
385	.$9ad	LDY #4
386	.$9af	JSR LEFTCONST
393	.$9b2	JSR STROUTBRK
395	.$9b5	JSR COMPACTMAX
396	.$9b8	LDA #<CONST_12R
397	.$9ba	LDY #>CONST_12R
398	.$9bc	JSR COPY2_XYA_CREG
402	.$9bf	LDA #<CONST_2
403	.$9c1	LDY #>CONST_2
404	.$9c3	STA B_REG
405	.$9c6	STY B_REG+1
406	.$9c9	JSR MIDNEGC
416	.$9cc	JSR STROUTBRK
419	.$9cf	LINE_100:
421	.$9cf	JSR COMPACTMAX
422	.$9d2	LDA #<CONST_14R
423	.$9d4	LDY #>CONST_14R
424	.$9d6	JSR COPY2_XYA_CREG
428	.$9d9	LDA #<CONST_2
429	.$9db	LDY #>CONST_2
430	.$9dd	STA B_REG
431	.$9e0	STY B_REG+1
432	.$9e3	LDY #10
433	.$9e5	JSR MIDCONST
442	.$9e8	JSR STROUTBRK
444	.$9eb	JSR COMPACTMAX
445	.$9ee	LDA #<CONST_6R
446	.$9f0	LDY #>CONST_6R
447	.$9f2	JSR COPY2_XYA_CREG
451	.$9f5	LDA #<CONST_2
452	.$9f7	LDY #>CONST_2
453	.$9f9	STA B_REG
454	.$9fc	STY B_REG+1
455	.$9ff	LDY #0
456	.$a01	JSR MIDCONST
465	.$a04	JSR STROUTBRK
467	.$a07	JSR END
468	.$a0a	RTS
471	.$a0b	END   LDX SP_SAVE
472	.$a0e	TXS
479	.$a0f	RTS
482	.$a10	START  LDA ENDSTRBUF+1
483	.$a13	BNE ENDGIVEN
484	.$a15	LDA BASICEND
485	.$a17	STA ENDSTRBUF
486	.$a1a	LDA BASICEND+1
487	.$a1c	STA ENDSTRBUF+1
488	.$a1f	ENDGIVEN LDA #<FPSTACK
489	.$a21	LDY #>FPSTACK
490	.$a23	STA FPSTACKP
491	.$a26	STY FPSTACKP+1
492	.$a29	LDA #<FORSTACK
493	.$a2b	LDY #>FORSTACK
494	.$a2d	STA FORSTACKP
495	.$a30	STY FORSTACKP+1
496	.$a33	LDA #<STRBUF
497	.$a35	LDY #>STRBUF
498	.$a37	STA STRBUFP
499	.$a3a	STY STRBUFP+1
500	.$a3d	STA HIGHP
501	.$a40	STY HIGHP+1
502	.$a43	LDA #0
503	.$a45	STA CHLOCKFLAG
504	.$a48	STA LASTVAR
505	.$a4b	STA LASTVAR+1
506	.$a4e	JSR INITVARS
507	.$a51	LDA #0
508	.$a53	STA CMD_NUM
509	.$a56	STA CHANNEL
510	.$a59	TAY
511	.$a5a	TAX
515	.$a5b	STA KEYNDX
521	.$a5d	JSR RESTORE
522	.$a60	CLC
526	.$a61	RTS
529	.$a62	INITNARRAY
530	.$a62	STA TMP_ZP
531	.$a64	STY TMP_ZP+1
532	.$a66	LDY #0
533	.$a68	TYA
534	.$a69	NINITLOOP STA (TMP_ZP),Y
535	.$a6b	INC TMP_ZP
536	.$a6d	BNE NLOOPNOV
537	.$a6f	INC TMP_ZP+1
538	.$a71	NLOOPNOV LDX TMP2_ZP
539	.$a73	BNE NLOOPNOV2
540	.$a75	DEC TMP2_ZP+1
541	.$a77	NLOOPNOV2 DEC TMP2_ZP
542	.$a79	BNE NINITLOOP
543	.$a7b	LDX TMP2_ZP+1
544	.$a7d	BNE NINITLOOP
545	.$a7f	RTS
548	.$a80	INITSTRARRAY
549	.$a80	STA TMP_ZP
550	.$a82	STY TMP_ZP+1
551	.$a84	SINITLOOP LDY #0
552	.$a86	LDA #<EMPTYSTR
553	.$a88	STA (TMP_ZP),Y
554	.$a8a	LDA #>EMPTYSTR
555	.$a8c	INY
556	.$a8d	STA (TMP_ZP),Y
557	.$a8f	CLC
558	.$a90	LDA TMP_ZP
559	.$a92	ADC #2
560	.$a94	STA TMP_ZP
561	.$a96	BCC SLOOPNOV1
562	.$a98	INC TMP_ZP+1
563	.$a9a	SLOOPNOV1 SEC
564	.$a9b	LDA TMP2_ZP
565	.$a9d	SBC #2
566	.$a9f	STA TMP2_ZP
567	.$aa1	BCS SLOOPNOV2
568	.$aa3	DEC TMP2_ZP+1
569	.$aa5	SLOOPNOV2 LDA TMP2_ZP
570	.$aa7	BNE SINITLOOP
571	.$aa9	LDA TMP2_ZP+1
572	.$aab	BNE SINITLOOP
573	.$aad	RTS
576	.$aae	INITSPARAMS STA TMP3_ZP
577	.$ab0	STY TMP3_ZP+1
578	.$ab2	SEC
579	.$ab3	SBC #2
580	.$ab5	STA TMP_ZP
581	.$ab7	TYA
582	.$ab8	SBC #0
583	.$aba	STA TMP_ZP+1
584	.$abc	LDY #0
585	.$abe	LDA (TMP_ZP),Y
586	.$ac0	STA TMP2_ZP
587	.$ac2	INY
588	.$ac3	LDA (TMP_ZP),Y
589	.$ac5	STA TMP2_ZP+1
590	.$ac7	LDA TMP3_ZP
591	.$ac9	LDY TMP3_ZP+1
592	.$acb	RTS
595	.$acc	INITSTRVARS LDA #<STRINGVARS_START  
596	.$ace	LDY #>STRINGVARS_START
597	.$ad0	CMP #<STRINGVARS_END
598	.$ad2	BNE INITIT1
599	.$ad4	CPY #>STRINGVARS_END
600	.$ad6	BNE INITIT1
601	.$ad8	JMP INITSA2     
602	.$adb	INITIT1  STA TMP_ZP
603	.$add	STY TMP_ZP+1
604	.$adf	LDY #0
605	.$ae1	INITSTRLOOP LDA #<EMPTYSTR
606	.$ae3	STA (TMP_ZP),Y
607	.$ae5	INY
608	.$ae6	LDA #>EMPTYSTR
609	.$ae8	STA (TMP_ZP),Y
610	.$aea	DEY
611	.$aeb	LDA TMP_ZP
612	.$aed	CLC
613	.$aee	ADC #2
614	.$af0	STA TMP_ZP
615	.$af2	LDA TMP_ZP+1
616	.$af4	ADC #0
617	.$af6	STA TMP_ZP+1
618	.$af8	CMP #>STRINGVARS_END
619	.$afa	BNE INITSTRLOOP
620	.$afc	LDA TMP_ZP
621	.$afe	CMP #<STRINGVARS_END
622	.$b00	BNE INITSTRLOOP
623	.$b02	INITSA2  LDA #<STRINGARRAYS_START 
624	.$b04	LDY #>STRINGARRAYS_START
625	.$b06	CMP #<STRINGARRAYS_END
626	.$b08	BNE ARRAYLOOP
627	.$b0a	CPY #>STRINGARRAYS_END
628	.$b0c	BNE ARRAYLOOP
629	.$b0e	RTS       
630	.$b0f	ARRAYLOOP CLC
631	.$b10	ADC #3
632	.$b12	BCC ARRAYSKIP1
633	.$b14	INY
634	.$b15	ARRAYSKIP1 CPY #>STRINGARRAYS_END
635	.$b17	BEQ ARRAYSC
636	.$b19	BCC ARRAYSKIP2
637	.$b1b	JMP ARRAYQUIT
638	.$b1e	ARRAYSC  CMP #<STRINGARRAYS_END
639	.$b20	BCS ARRAYQUIT
640	.$b22	ARRAYSKIP2 STA TMP_REG
641	.$b24	STY TMP_REG+1
642	.$b26	JSR INITSPARAMS
643	.$b29	LDA TMP_REG
644	.$b2b	LDY TMP_REG+1
645	.$b2d	JSR INITSTRARRAY
646	.$b30	LDA TMP_ZP
647	.$b32	LDY TMP_ZP+1
648	.$b34	JMP ARRAYLOOP
649	.$b37	ARRAYQUIT RTS
652	.$b38	RESTORE  LDA #<DATAS
653	.$b3a	LDY #>DATAS
654	.$b3c	STA DATASP
655	.$b3f	STY DATASP+1
656	.$b42	RTS
659	.$b43	MID   LDA #<D_REG
660	.$b45	LDY #>D_REG
661	.$b47	JSR REALFAC
662	.$b4a	JSR SGNFAC
663	.$b4d	ROL
664	.$b4e	BCC MIDLENGTH  
665	.$b50	MIDNEGC  JSR STRFUNCINT  
666	.$b53	LDA TMP_REG   
667	.$b55	STA TMP_REG+1
668	.$b57	BNE MIDOK2
669	.$b59	JMP ILLEGALQUANTITY 
670	.$b5c	MIDOK2  DEC TMP_REG+1  
671	.$b5e	LDA (TMP_ZP),Y
672	.$b60	SEC
673	.$b61	SBC TMP_REG+1
674	.$b63	STA TMP_REG   
675	.$b65	BCS MIDNOV2
676	.$b67	STY TMP_REG   
677	.$b69	JMP MIDNOV2
678	.$b6c	MIDLENGTH JSR FACWORD
679	.$b6f	MIDCONST STY TMP2_REG  
680	.$b72	JSR STRFUNCINT
681	.$b75	LDA TMP_REG   
682	.$b77	BNE MIDOK
683	.$b79	JMP ILLEGALQUANTITY 
684	.$b7c	MIDOK  LDX TMP2_REG
685	.$b7f	STX TMP_REG   
686	.$b81	STA TMP_REG+1
687	.$b83	DEC TMP_REG+1  
688	.$b85	MIDNOV
689	.$b85	MIDNOV2  LDA TMP_REG+1  
690	.$b87	CLC
691	.$b88	ADC TMP_REG   
692	.$b8a	BCS MIDCLAMP
693	.$b8c	CMP (TMP_ZP),Y
694	.$b8e	BCS MIDCLAMP
695	.$b90	MIDCOPY  JMP STRFUNC
696	.$b93	MIDCLAMP LDA (TMP_ZP),Y  
697	.$b95	SEC
698	.$b96	SBC TMP_REG+1
699	.$b98	STA TMP_REG
700	.$b9a	BCS MIDCOPY
701	.$b9c	STY TMP_REG
702	.$b9e	JMP MIDCOPY
705	.$ba1	RIGHTCONSTA CMP #0
706	.$ba3	BEQ RIGHTCONST
707	.$ba5	LDY #$FF
708	.$ba7	RIGHTCONST JSR STRFUNCINTINT
709	.$baa	JMP RIGHT2
712	.$bad	RIGHT  JSR STRFUNCINT
713	.$bb0	RIGHT2  LDA (TMP_ZP),Y
714	.$bb2	TAX
715	.$bb3	CMP TMP_REG   
716	.$bb5	BCS RIGHTBELOW
717	.$bb7	STA TMP_REG   
718	.$bb9	RIGHTBELOW TXA
719	.$bba	SEC
720	.$bbb	SBC TMP_REG
721	.$bbd	BCS RIGHTNOV
722	.$bbf	LDA #0
723	.$bc1	RIGHTNOV STA TMP_REG+1
724	.$bc3	JMP STRFUNC
727	.$bc6	LEFTCONSTA CMP #0
728	.$bc8	BEQ LEFTCONST
729	.$bca	LDY #$FF
730	.$bcc	LEFTCONST JSR STRFUNCINTINT
731	.$bcf	JMP LEFT2
734	.$bd2	LEFT  JSR STRFUNCINT
735	.$bd5	LEFT2  STY TMP_REG+1  
736	.$bd7	LDA (TMP_ZP),Y
737	.$bd9	CMP TMP_REG   
738	.$bdb	BCS LEFTBELOW
739	.$bdd	STA TMP_REG   
740	.$bdf	LEFTBELOW JMP STRFUNC
743	.$be2	STRFUNCINT  LDA B_REG   
744	.$be5	STA TMP_ZP
745	.$be7	LDA B_REG+1
746	.$bea	STA TMP_ZP+1
747	.$bec	LDA #<C_REG
748	.$bee	LDY #>C_REG
749	.$bf0	JSR REALFAC
750	.$bf3	JSR FACWORD
751	.$bf6	STY TMP_REG   
752	.$bf8	LDY #0
753	.$bfa	RTS
756	.$bfb	STRFUNCINTINT
757	.$bfb	LDA B_REG   
758	.$bfe	STA TMP_ZP
759	.$c00	LDA B_REG+1
760	.$c03	STA TMP_ZP+1
761	.$c05	STY TMP_REG   
762	.$c07	LDY #0
763	.$c09	RTS
770	.$c0a	STRFUNC  LDA TMP_REG+1
771	.$c0c	BEQ STARTATZERO
772	.$c0e	LDA TMP_ZP
773	.$c10	CLC
774	.$c11	ADC TMP_REG+1
775	.$c13	STA TMP_ZP
776	.$c15	BCC STARTATZERO
777	.$c17	INC TMP_ZP+1
778	.$c19	STARTATZERO LDY #0
779	.$c1b	LDA (TMP_ZP),Y
780	.$c1d	PHA     
781	.$c1e	LDA TMP_REG
782	.$c20	BNE STRFUNCNZ
783	.$c22	LDA #<EMPTYSTR
784	.$c24	STA A_REG
785	.$c27	LDA #>EMPTYSTR
786	.$c29	STA A_REG+1
787	.$c2c	PLA     
790	.$c2d	JMP EXITSTRFUNC
791	.$c30	STRFUNCNZ STA (TMP_ZP),Y
792	.$c32	LDA #<A_REG
793	.$c34	LDY #>A_REG
794	.$c36	STA TMP2_ZP
795	.$c38	STY TMP2_ZP+1
796	.$c3a	LDX TMP_REG   
797	.$c3c	JSR COPYONLY
798	.$c3f	PLA
799	.$c40	LDY #0
800	.$c42	STA (TMP_ZP),Y  
801	.$c44	EXITSTRFUNC RTS
804	.$c45	CONCAT  LDA A_REG
805	.$c48	STA TMP_ZP
806	.$c4a	LDA A_REG+1
807	.$c4d	STA TMP_ZP+1
808	.$c4f	LDA STRBUFP  
809	.$c52	STA A_REG
810	.$c55	STA TMP3_ZP
811	.$c57	LDA STRBUFP+1
812	.$c5a	STA A_REG+1
813	.$c5d	STA TMP3_ZP+1
814	.$c5f	LDY #0
815	.$c61	LDA (TMP_ZP),Y
816	.$c63	TAX
817	.$c64	LDA B_REG
818	.$c67	STA TMP2_ZP
819	.$c69	LDA B_REG+1
820	.$c6c	STA TMP2_ZP+1
821	.$c6e	TXA
822	.$c6f	CLC
823	.$c70	ADC (TMP2_ZP),Y
824	.$c72	BCC CCSTRFITS
825	.$c74	JMP STRINGTOOLONG
826	.$c77	CCSTRFITS STA (TMP3_ZP),Y
827	.$c79	INC TMP3_ZP
828	.$c7b	BNE CCNOOV2
829	.$c7d	INC TMP3_ZP+1
830	.$c7f	CCNOOV2  CLC
831	.$c80	ADC STRBUFP
832	.$c83	PHP
833	.$c84	CLC
834	.$c85	ADC #3
835	.$c87	STA STRBUFP
836	.$c8a	BCC CCNOCS1
837	.$c8c	INC STRBUFP+1
838	.$c8f	CCNOCS1  PLP
839	.$c90	BCC CCSTRFITS2
840	.$c92	INC STRBUFP+1
841	.$c95	CCSTRFITS2 JSR COPY2CONCAT  
842	.$c98	LDA B_REG   
843	.$c9b	STA TMP_ZP
844	.$c9d	LDA B_REG+1
845	.$ca0	STA TMP_ZP+1
846	.$ca2	JMP COPY2CONCAT  
849	.$ca5	COPY2CONCAT LDY #0
850	.$ca7	LDA (TMP_ZP),Y
851	.$ca9	BEQ NOC2C   
852	.$cab	STA TMP2_ZP
853	.$cad	INC TMP_ZP
854	.$caf	BNE COPY2LOOP
855	.$cb1	INC TMP_ZP+1
856	.$cb3	COPY2LOOP LDA (TMP_ZP),Y
857	.$cb5	STA (TMP3_ZP),Y
858	.$cb7	INY
859	.$cb8	CPY TMP2_ZP
860	.$cba	BNE COPY2LOOP
861	.$cbc	TYA
862	.$cbd	CLC
863	.$cbe	ADC TMP3_ZP   
864	.$cc0	STA TMP3_ZP
865	.$cc2	BCC NOC2C
866	.$cc4	INC TMP3_ZP+1
867	.$cc6	NOC2C  RTS
870	.$cc7	STR   JSR YREGFAC
871	.$cca	STRINT  LDY #1
872	.$ccc	JSR FACSTR
873	.$ccf	LDY #0
874	.$cd1	STY TMP_ZP+1
875	.$cd3	LDA #LOFBUF
876	.$cd5	STA TMP_ZP
877	.$cd7	DEY
878	.$cd8	STRLOOP  INY
879	.$cd9	LDA LOFBUFH,Y
880	.$cdc	BNE STRLOOP
881	.$cde	STY LOFBUF
882	.$ce0	TYA
883	.$ce1	TAX   
884	.$ce2	LDA #<A_REG
885	.$ce4	LDY #>A_REG
886	.$ce6	STA TMP2_ZP
887	.$ce8	STY TMP2_ZP+1
888	.$cea	JMP COPYONLY
891	.$ced	CHRINT  TAX
892	.$cee	LDA STRBUFP
893	.$cf1	STA TMP_ZP
894	.$cf3	STA A_REG
895	.$cf6	LDA STRBUFP+1
896	.$cf9	STA TMP_ZP+1
897	.$cfb	STA A_REG+1
898	.$cfe	LDA #1
899	.$d00	LDY #0
900	.$d02	STA (TMP_ZP),Y
901	.$d04	TXA
902	.$d05	INY
903	.$d06	STA (TMP_ZP),Y
904	.$d08	LDA STRBUFP
905	.$d0b	CLC
906	.$d0c	ADC #2
907	.$d0e	STA STRBUFP
908	.$d11	BCC NOCHR2
909	.$d13	INC STRBUFP+1
910	.$d16	NOCHR2  RTS
913	.$d17	SAVEPOINTERS
914	.$d17	LDA TMP_ZP   
915	.$d19	STA STORE1
916	.$d1c	LDA TMP_ZP+1
917	.$d1e	STA STORE1+1
918	.$d21	LDA TMP2_ZP
919	.$d23	STA STORE2
920	.$d26	LDA TMP2_ZP+1
921	.$d28	STA STORE2+1
922	.$d2b	LDA TMP3_ZP
923	.$d2d	STA STORE3
924	.$d30	LDA TMP3_ZP+1
925	.$d32	STA STORE3+1
926	.$d35	RTS
929	.$d36	RESTOREPOINTERS
930	.$d36	LDA STORE3+1  
931	.$d39	STA TMP3_ZP+1
932	.$d3b	LDA STORE3
933	.$d3e	STA TMP3_ZP
934	.$d40	LDA STORE2+1
935	.$d43	STA TMP2_ZP+1
936	.$d45	LDA STORE2
937	.$d48	STA TMP2_ZP
938	.$d4a	LDA STORE1+1
939	.$d4d	STA TMP_ZP+1
940	.$d4f	LDA STORE1
941	.$d52	STA TMP_ZP
942	.$d54	RTS
949	.$d55	COMPACTMAX
950	.$d55	LDA #$FF
951	.$d57	LDY #$0
952	.$d59	JMP COMPACTF
955	.$d5c	COMPACT
956	.$d5c	LDY #0
957	.$d5e	GCBUFNE  LDA (TMP_ZP),Y  
958	.$d60	COMPACTF STA TMP4_REG  
959	.$d63	LDY STRBUFP+1  
960	.$d66	STY TMP4_REG+1  
961	.$d69	INY     
962	.$d6a	BEQ ENDMEM   
963	.$d6c	CPY ENDSTRBUF+1  
964	.$d6f	BCC RGCEXIT   
965	.$d71	ENDMEM  LDA STRBUFP
966	.$d74	CLC
967	.$d75	ADC TMP4_REG
968	.$d78	STA TMP4_REG
969	.$d7b	BCC RGCNOOV1
970	.$d7d	INC TMP4_REG+1
971	.$d80	RGCNOOV1 CLC
972	.$d81	LDA TMP4_REG
973	.$d84	ADC #3
974	.$d86	STA TMP4_REG
975	.$d89	BCC RGCNOOV2
976	.$d8b	INC TMP4_REG+1
977	.$d8e	RGCNOOV2 LDA TMP4_REG+1  
978	.$d91	CMP ENDSTRBUF+1
979	.$d94	BEQ RGCLOW1
980	.$d96	BCS GCEXECOMP  
981	.$d98	JMP RGCEXIT
982	.$d9b	RGCLOW1  LDA TMP4_REG
983	.$d9e	CMP ENDSTRBUF
984	.$da1	BCS GCEXECOMP  
985	.$da3	RGCEXIT  RTS     
986	.$da4	GCEXECOMP LDA STRBUFP
987	.$da7	STA STORE4
988	.$daa	LDA STRBUFP+1
989	.$dad	STA STORE4+1
990	.$db0	JSR GCEXE
991	.$db3	JMP CHECKMEMORY
994	.$db6	GCEXE  JSR SAVEPOINTERS
995	.$db9	LDA #0
996	.$dbb	STA LASTVAR
997	.$dbe	STA LASTVAR+1  
998	.$dc1	LDA #<STRBUF
999	.$dc3	STA TMP_ZP
1000	.$dc5	STA GCSTART
1001	.$dc8	LDA #>STRBUF
1002	.$dca	STA TMP_ZP+1  
1003	.$dcc	STA GCSTART+1
1004	.$dcf	GCLOOP  LDY #0
1005	.$dd1	LDA TMP_ZP
1006	.$dd3	STA GCWORK
1007	.$dd6	LDA TMP_ZP+1
1008	.$dd8	STA GCWORK+1  
1009	.$ddb	LDA (TMP_ZP),Y
1010	.$ddd	STA GCLEN   
1011	.$de0	INC TMP_ZP
1012	.$de2	BNE GCLOOPNOOV
1013	.$de4	INC TMP_ZP+1
1014	.$de6	GCLOOPNOOV LDA TMP_ZP
1015	.$de8	CLC
1016	.$de9	ADC GCLEN
1017	.$dec	STA TMP_ZP
1018	.$dee	BCC GCLOOPNOOV2
1019	.$df0	INC TMP_ZP+1  
1020	.$df2	GCLOOPNOOV2 LDY #0
1021	.$df4	LDA (TMP_ZP),Y
1022	.$df6	STA TMP2_ZP
1023	.$df8	INY
1024	.$df9	LDA (TMP_ZP),Y
1025	.$dfb	STA TMP2_ZP+1  
1026	.$dfd	LDA TMP_ZP
1027	.$dff	CLC
1028	.$e00	ADC #2
1029	.$e02	STA TMP_ZP
1030	.$e04	BCC GCLOOPNOOV3
1031	.$e06	INC TMP_ZP+1  
1032	.$e08	GCLOOPNOOV3 LDY #0
1033	.$e0a	LDA (TMP2_ZP),Y
1034	.$e0c	CMP GCWORK
1035	.$e0f	BNE GCKLOOP
1036	.$e11	INY
1037	.$e12	LDA (TMP2_ZP),Y
1038	.$e14	CMP GCWORK+1
1039	.$e17	BEQ MEMFREE
1040	.$e19	GCKLOOP  LDA TMP_ZP+1  
1041	.$e1b	CMP HIGHP+1
1042	.$e1e	BEQ GCHECKLOW
1043	.$e20	BCC GCLOOP
1044	.$e22	JMP GCDONE
1045	.$e25	GCHECKLOW LDA TMP_ZP
1046	.$e27	CMP HIGHP
1047	.$e2a	BCS GCDONE
1048	.$e2c	JMP GCLOOP
1049	.$e2f	MEMFREE  LDA GCSTART   
1050	.$e32	CMP GCWORK   
1051	.$e35	BNE COPYDOWN
1052	.$e37	LDA GCSTART+1
1053	.$e3a	CMP GCWORK+1
1054	.$e3d	BNE COPYDOWN
1055	.$e3f	LDA TMP_ZP   
1056	.$e41	STA GCSTART
1057	.$e44	LDA TMP_ZP+1
1058	.$e46	STA GCSTART+1
1059	.$e49	JMP GCKLOOP   
1060	.$e4c	COPYDOWN LDA GCSTART   
1061	.$e4f	STA TMP_REG
1062	.$e51	LDA GCSTART+1
1063	.$e54	STA TMP_REG+1  
1064	.$e56	LDA GCWORK
1065	.$e59	STA TMP2_REG
1066	.$e5c	LDA GCWORK+1
1067	.$e5f	STA TMP2_REG+1  
1068	.$e62	LDA TMP_ZP
1069	.$e64	SEC
1070	.$e65	SBC GCWORK
1071	.$e68	STA TMP3_REG
1072	.$e6b	LDA TMP_ZP+1
1073	.$e6d	SBC GCWORK+1
1074	.$e70	STA TMP3_REG+1  
1075	.$e73	LDA GCSTART
1076	.$e76	CLC
1077	.$e77	ADC TMP3_REG
1078	.$e7a	STA GCSTART
1079	.$e7d	LDA GCSTART+1
1080	.$e80	ADC TMP3_REG+1
1081	.$e83	STA GCSTART+1  
1082	.$e86	JSR QUICKCOPY  
1083	.$e89	LDY #0
1084	.$e8b	LDA TMP_REG
1085	.$e8d	STA (TMP2_ZP),Y
1086	.$e8f	INY
1087	.$e90	LDA TMP_REG+1
1088	.$e92	STA (TMP2_ZP),Y  
1089	.$e94	JMP GCKLOOP
1090	.$e97	GCDONE  LDA GCSTART
1091	.$e9a	STA HIGHP
1092	.$e9d	STA STRBUFP
1093	.$ea0	LDA GCSTART+1
1094	.$ea3	STA HIGHP+1
1095	.$ea6	STA STRBUFP+1  
1096	.$ea9	GCSKIP  JSR RESTOREPOINTERS
1097	.$eac	RTS     
1100	.$ead	CHECKMEMORY
1101	.$ead	LDA STRBUFP+1  
1102	.$eb0	CMP STORE4+1  
1103	.$eb3	BCC STILLFITSCM  
1107	.$eb5	BEQ CHECKMEMLOWCM
1108	.$eb7	JMP OUTOFMEMORY  
1109	.$eba	CHECKMEMLOWCM
1110	.$eba	LDA STRBUFP   
1111	.$ebd	CMP STORE4
1112	.$ec0	BCC STILLFITSCM
1113	.$ec2	JMP OUTOFMEMORY  
1114	.$ec5	STILLFITSCM RTS
1117	.$ec6	QUICKCOPY LDA TMP_REG  
1118	.$ec8	STA TMEM+1
1119	.$ecb	LDA TMP_REG+1
1120	.$ecd	STA TMEM+2
1121	.$ed0	LDA TMP2_REG
1122	.$ed3	STA SMEM+1
1123	.$ed6	LDA TMP2_REG+1
1124	.$ed9	STA SMEM+2
1125	.$edc	LDY #$0
1126	.$ede	LDX TMP3_REG
1127	.$ee1	BNE QCLOOP
1128	.$ee3	LDA TMP3_REG+1
1129	.$ee6	BEQ QCEXIT  
1130	.$ee8	QCLOOP
1131	.$ee8	SMEM  LDA $0000,Y
1132	.$eeb	TMEM  STA $0000,Y
1133	.$eee	INY
1134	.$eef	BNE YNOOV
1135	.$ef1	INC TMEM+2
1136	.$ef4	INC SMEM+2
1137	.$ef7	YNOOV  DEX
1138	.$ef8	BNE QCLOOP
1139	.$efa	LDA TMP3_REG+1
1140	.$efd	BEQ QCEXIT
1141	.$eff	DEC TMP3_REG+1
1142	.$f02	JMP QCLOOP
1143	.$f05	QCEXIT  RTS
1146	.$f06	COPYSTRING STA TMP2_ZP
1147	.$f08	STY TMP2_ZP+1
1148	.$f0a	CPY TMP_ZP+1
1149	.$f0c	BNE CONTCOPY
1150	.$f0e	LDA TMP2_ZP
1151	.$f10	CMP TMP_ZP
1152	.$f12	BNE CONTCOPY
1153	.$f14	RTS     
1154	.$f15	CONTCOPY JSR COMPACT   
1155	.$f18	LDY #0
1156	.$f1a	STY TMP_FLAG
1157	.$f1d	LDA (TMP_ZP),Y
1158	.$f1f	BNE NOTEMPTYSTR
1159	.$f21	LDA #<EMPTYSTR  
1160	.$f23	STA TMP_ZP
1161	.$f25	LDA #>EMPTYSTR
1162	.$f27	STA TMP_ZP+1
1163	.$f29	JMP ISCONST
1164	.$f2c	NOTEMPTYSTR TAX     
1165	.$f2d	LDA (TMP2_ZP),Y
1166	.$f2f	STA TMP3_ZP
1167	.$f31	INY
1168	.$f32	LDA (TMP2_ZP),Y
1169	.$f34	STA TMP3_ZP+1
1170	.$f36	DEY
1171	.$f37	LDA TMP_ZP+1  
1172	.$f39	CMP #>CONSTANTS_END
1173	.$f3b	BEQ CHECKLOW1
1174	.$f3d	BCS INVAR
1175	.$f3f	JMP CHECKNEXT
1176	.$f42	CHECKLOW1 LDA TMP_ZP
1177	.$f44	CMP #<CONSTANTS_END
1178	.$f46	BCS INVAR
1179	.$f48	CHECKNEXT LDA TMP_ZP+1  
1180	.$f4a	CMP #>CONSTANTS
1181	.$f4c	BEQ CHECKLOW3
1182	.$f4e	BCC INVAR
1183	.$f50	JMP ISCONST
1184	.$f53	CHECKLOW3 LDA TMP_ZP
1185	.$f55	CMP #<CONSTANTS
1186	.$f57	BCC INVAR   
1187	.$f59	ISCONST  JSR CHECKLASTVAR 
1188	.$f5c	LDA TMP_ZP
1189	.$f5e	STA (TMP2_ZP),Y  
1190	.$f60	INY
1191	.$f61	LDA TMP_ZP+1
1192	.$f63	STA (TMP2_ZP),Y
1193	.$f65	LDA HIGHP   
1194	.$f68	STA STRBUFP
1195	.$f6b	LDA HIGHP+1
1196	.$f6e	STA STRBUFP+1
1197	.$f71	RTS
1198	.$f72	INVAR  INY
1199	.$f73	LDA (TMP2_ZP),Y  
1200	.$f75	CMP #>CONSTANTS_END
1201	.$f77	BEQ CHECKLOW2
1202	.$f79	BCS INVAR2
1203	.$f7b	JMP PUPDATEPTR
1204	.$f7e	CHECKLOW2 DEY
1205	.$f7f	LDA (TMP2_ZP),Y
1206	.$f81	CMP #<CONSTANTS_END
1207	.$f83	BCS INVAR2
1208	.$f85	JMP PUPDATEPTR
1209	.$f88	INVAR2  LDY #0   
1210	.$f8a	LDA (TMP3_ZP),Y
1211	.$f8c	STA TMP_REG
1212	.$f8e	TXA
1213	.$f8f	CMP TMP_REG  
1214	.$f91	BEQ UPDATEHP2 
1217	.$f93	PUPDATEPTR JSR CHECKLASTVAR
1218	.$f96	LDY #1   
1219	.$f98	STY TMP_FLAG 
1220	.$f9b	JMP UPDATEPTR 
1221	.$f9e	UPDATEHP2 LDA HIGHP  
1222	.$fa1	STA STRBUFP
1223	.$fa4	LDA HIGHP+1
1224	.$fa7	STA STRBUFP+1
1225	.$faa	JMP STRFITS
1226	.$fad	COPYONLY LDY #0
1227	.$faf	STY TMP_FLAG
1228	.$fb2	JMP CHECKMEM
1229	.$fb5	ALTCOPY  JMP COPYSTRING2
1230	.$fb8	UPDATEPTR LDA TMP_ZP+1 
1231	.$fba	CMP HIGHP+1  
1232	.$fbd	BEQ CHECKXT1
1233	.$fbf	BCS ALTCOPY
1234	.$fc1	JMP CHECKMEM
1235	.$fc4	CHECKXT1 LDA TMP_ZP
1236	.$fc6	CMP HIGHP
1237	.$fc9	BCS ALTCOPY
1238	.$fcb	CHECKMEM
1239	.$fcb	MEMOK  LDY #0
1240	.$fcd	LDA STRBUFP  
1241	.$fd0	STA (TMP2_ZP),Y 
1242	.$fd2	STA TMP3_ZP
1243	.$fd4	LDA STRBUFP+1
1244	.$fd7	INY
1245	.$fd8	STA (TMP2_ZP),Y
1246	.$fda	STA TMP3_ZP+1
1247	.$fdc	TXA
1248	.$fdd	CLC
1249	.$fde	ADC STRBUFP
1250	.$fe1	PHP
1251	.$fe2	CLC
1252	.$fe3	ADC #3
1253	.$fe5	STA STRBUFP
1254	.$fe8	BCC NOCS1
1255	.$fea	INC STRBUFP+1
1256	.$fed	NOCS1  PLP
1257	.$fee	BCC STRFITS
1258	.$ff0	INC STRBUFP+1
1259	.$ff3	STRFITS  LDY TMP_FLAG 
1260	.$ff6	BEQ NOHPUPDATE 
1261	.$ff8	LDA HIGHP+1
1262	.$ffb	CMP STRBUFP+1
1263	.$ffe	BCC UPDATEHIGHP
1264	.$1000	BEQ CHECKNEXTHP
1265	.$1002	JMP NOHPUPDATE
1266	.$1005	CHECKNEXTHP LDA HIGHP
1267	.$1008	CMP STRBUFP
1268	.$100b	BCC UPDATEHIGHP
1269	.$100d	JMP NOHPUPDATE
1270	.$1010	UPDATEHIGHP LDA STRBUFP
1271	.$1013	STA HIGHP
1272	.$1016	LDA STRBUFP+1
1273	.$1019	STA HIGHP+1  
1274	.$101c	JSR REMEMBERLASTVAR
1275	.$101f	JSR STOREVARREF
1276	.$1022	NOHPUPDATE LDY #0
1277	.$1024	LDA (TMP_ZP),Y 
1278	.$1026	STA (TMP3_ZP),Y
1279	.$1028	TAY    
1280	.$1029	BEQ EXITCOPY 
1281	.$102b	LOOP  LDA (TMP_ZP),Y 
1282	.$102d	STA (TMP3_ZP),Y
1283	.$102f	DEY
1284	.$1030	BNE LOOP
1285	.$1032	EXITCOPY RTS
1290	.$1033	COPYSTRING2 LDY #0
1291	.$1035	LDA (TMP_ZP),Y
1292	.$1037	STA TMP_REG
1293	.$1039	TAX
1294	.$103a	LDA HIGHP
1295	.$103d	STA TMP3_ZP
1296	.$103f	STA (TMP2_ZP),Y
1297	.$1041	LDA HIGHP+1
1298	.$1044	STA TMP3_ZP+1
1299	.$1046	INY
1300	.$1047	STA (TMP2_ZP),Y
1301	.$1049	JSR REMEMBERLASTVAR
1304	.$104c	LDA TMP_ZP
1305	.$104e	CMP TMP3_ZP
1306	.$1050	BNE DOLOOP
1307	.$1052	LDA TMP_ZP+1
1308	.$1054	CMP TMP3_ZP+1
1309	.$1056	BEQ SKIPCP2
1310	.$1058	DOLOOP  DEY
1311	.$1059	TXA
1312	.$105a	STA (TMP3_ZP),Y
1313	.$105c	INY
1314	.$105d	ASLOOP  LDA (TMP_ZP),Y
1315	.$105f	STA (TMP3_ZP),Y
1316	.$1061	INY
1317	.$1062	DEX
1318	.$1063	BNE ASLOOP
1319	.$1065	SKIPCP2  LDA HIGHP
1320	.$1068	CLC
1321	.$1069	ADC TMP_REG
1322	.$106b	PHP
1323	.$106c	CLC
1324	.$106d	ADC #3
1325	.$106f	STA HIGHP
1326	.$1072	STA STRBUFP
1327	.$1075	BCC SKIPLOWAS1
1328	.$1077	INC HIGHP+1
1329	.$107a	SKIPLOWAS1 PLP
1330	.$107b	BCC SKIPLOWAS2
1331	.$107d	INC HIGHP+1
1332	.$1080	SKIPLOWAS2 LDA HIGHP+1
1333	.$1083	STA STRBUFP+1
1334	.$1086	JSR STOREVARREF
1335	.$1089	RTS
1339	.$108a	CHECKLASTVAR
1340	.$108a	LDA TMP2_ZP
1341	.$108c	CMP LASTVAR
1342	.$108f	BNE NOTSAMEVAR
1343	.$1091	LDA TMP2_ZP+1
1344	.$1093	CMP LASTVAR+1
1345	.$1096	BNE NOTSAMEVAR
1346	.$1098	LDA LASTVARP   
1347	.$109b	STA HIGHP
1348	.$109e	STA STRBUFP
1349	.$10a1	LDA LASTVARP+1
1350	.$10a4	STA HIGHP+1
1351	.$10a7	STA STRBUFP+1
1352	.$10aa	NOTSAMEVAR RTS
1356	.$10ab	REMEMBERLASTVAR
1357	.$10ab	LDA TMP2_ZP
1358	.$10ad	STA LASTVAR
1359	.$10b0	LDA TMP2_ZP+1
1360	.$10b2	STA LASTVAR+1
1361	.$10b5	LDA TMP3_ZP
1362	.$10b7	STA LASTVARP
1363	.$10ba	LDA TMP3_ZP+1
1364	.$10bc	STA LASTVARP+1 
1365	.$10bf	RTS
1370	.$10c0	STOREVARREF
1371	.$10c0	TYA
1372	.$10c1	PHA    
1373	.$10c2	LDA TMP_ZP
1374	.$10c4	PHA
1375	.$10c5	LDA TMP_ZP+1
1376	.$10c7	PHA
1377	.$10c8	LDA HIGHP+1
1378	.$10cb	STA TMP_ZP+1
1379	.$10cd	LDA HIGHP
1380	.$10d0	SEC
1381	.$10d1	SBC #2
1382	.$10d3	STA TMP_ZP
1383	.$10d5	BCS RLVNOOV
1384	.$10d7	DEC TMP_ZP+1
1385	.$10d9	RLVNOOV  LDA TMP2_ZP
1386	.$10db	LDY #0
1387	.$10dd	STA (TMP_ZP),Y
1388	.$10df	LDA TMP2_ZP+1
1389	.$10e1	INY
1390	.$10e2	STA (TMP_ZP),Y 
1391	.$10e4	PLA
1392	.$10e5	STA TMP_ZP+1
1393	.$10e7	PLA
1394	.$10e8	STA TMP_ZP  
1395	.$10ea	PLA
1396	.$10eb	TAY    
1397	.$10ec	RTS
1400	.$10ed	REROUTE  LDA CMD_NUM  
1401	.$10f0	BEQ REROUTECMD
1402	.$10f2	TAX
1403	.$10f3	STA CHANNEL
1404	.$10f6	JMP CHKOUT
1405	.$10f9	REROUTECMD RTS
1408	.$10fa	RESETROUTE LDA CMD_NUM  
1409	.$10fd	BEQ RESETROUTECMD
1410	.$10ff	JMP CLRCHNEW
1411	.$1102	RESETROUTECMD
1412	.$1102	RTS
1415	.$1103	STROUTWL STA A_REG
1416	.$1106	STY A_REG+1
1417	.$1109	STROUT  JSR REROUTE
1418	.$110c	LDA A_REG
1419	.$110f	STA INDEX1
1420	.$1111	LDA A_REG+1
1421	.$1114	STA INDEX1+1
1422	.$1116	LDY #0
1423	.$1118	LDA (INDEX1),Y
1424	.$111a	TAX
1425	.$111b	INC INDEX1
1426	.$111d	BNE PRINTSTR
1427	.$111f	INC INDEX1+1
1428	.$1121	PRINTSTR JSR PRINTSTRS
1429	.$1124	LDA HIGHP   
1430	.$1127	STA STRBUFP
1431	.$112a	LDA HIGHP+1
1432	.$112d	STA STRBUFP+1
1433	.$1130	JSR RESETROUTE
1434	.$1133	RTS
1437	.$1134	STROUTBRKWL STA A_REG
1438	.$1137	STY A_REG+1
1439	.$113a	STROUTBRK JSR REROUTE
1440	.$113d	LDA A_REG
1441	.$1140	STA INDEX1
1442	.$1142	LDA A_REG+1
1443	.$1145	STA INDEX1+1
1444	.$1147	LDY #0
1445	.$1149	LDA (INDEX1),Y
1446	.$114b	TAX
1447	.$114c	INC INDEX1
1448	.$114e	BNE PRINTSTR2
1449	.$1150	INC INDEX1+1
1450	.$1152	PRINTSTR2 JSR PRINTSTRS
1451	.$1155	LDA HIGHP   
1452	.$1158	STA STRBUFP
1453	.$115b	LDA HIGHP+1
1454	.$115e	STA STRBUFP+1
1455	.$1161	LDA #$0D
1456	.$1163	JSR CHROUT
1457	.$1166	JMP RESETROUTE  
1460	.$1169	PUSHINT  LDX FPSTACKP
1461	.$116c	STX TMP2_ZP
1462	.$116e	LDX FPSTACKP+1
1463	.$1171	STX TMP2_ZP+1
1464	.$1173	LDA TMP_ZP
1465	.$1175	LDY #0
1466	.$1177	STA (TMP2_ZP),Y
1467	.$1179	LDA TMP_ZP+1
1468	.$117b	INY
1469	.$117c	STA (TMP2_ZP),Y
1470	.$117e	LDA TMP2_ZP
1471	.$1180	CLC
1472	.$1181	ADC #2
1473	.$1183	STA FPSTACKP
1474	.$1186	LDA TMP2_ZP+1
1475	.$1188	ADC #0
1476	.$118a	STA FPSTACKP+1
1477	.$118d	RTS
1480	.$118e	POPINT2B LDA FPSTACKP
1481	.$1191	SEC
1482	.$1192	SBC #2
1483	.$1194	STA FPSTACKP
1484	.$1197	LDA FPSTACKP+1
1485	.$119a	SBC #0
1486	.$119c	STA FPSTACKP+1
1487	.$119f	LDX FPSTACKP
1488	.$11a2	STX TMP2_ZP
1489	.$11a4	LDX FPSTACKP+1
1490	.$11a7	STX TMP2_ZP+1
1491	.$11a9	LDY #0
1492	.$11ab	LDA (TMP2_ZP),Y
1493	.$11ad	STA B_REG
1494	.$11b0	INY
1495	.$11b1	LDA (TMP2_ZP),Y
1496	.$11b3	STA B_REG+1
1497	.$11b6	RTS
1500	.$11b7	REALFACPUSH STA TMP_ZP
1501	.$11b9	STY TMP_ZP+1
1502	.$11bb	LDX FPSTACKP
1503	.$11be	LDY FPSTACKP+1
1504	.$11c1	STX TMP2_ZP
1505	.$11c3	STY TMP2_ZP+1
1506	.$11c5	LDY #0
1507	.$11c7	LDA (TMP_ZP),Y
1508	.$11c9	STA (TMP2_ZP),Y
1509	.$11cb	INY
1510	.$11cc	LDA (TMP_ZP),Y
1511	.$11ce	STA (TMP2_ZP),Y
1512	.$11d0	INY
1513	.$11d1	LDA (TMP_ZP),Y
1514	.$11d3	STA (TMP2_ZP),Y
1515	.$11d5	INY
1516	.$11d6	LDA (TMP_ZP),Y
1517	.$11d8	STA (TMP2_ZP),Y
1518	.$11da	INY
1519	.$11db	LDA (TMP_ZP),Y
1520	.$11dd	STA (TMP2_ZP),Y
1521	.$11df	TXA    
1522	.$11e0	CLC
1523	.$11e1	ADC #5
1524	.$11e3	STA FPSTACKP
1525	.$11e6	BCC NOPVRFPXX
1526	.$11e8	INC FPSTACKP+1
1527	.$11eb	NOPVRFPXX RTS
1530	.$11ec	POPREAL  LDA FPSTACKP
1531	.$11ef	SEC
1532	.$11f0	SBC #5
1533	.$11f2	STA FPSTACKP
1534	.$11f5	BCS NOPVPR
1535	.$11f7	DEC FPSTACKP+1
1536	.$11fa	NOPVPR  LDA FPSTACKP
1537	.$11fd	LDY FPSTACKP+1
1538	.$1200	JMP REALFAC
1541	.$1203	COPY2_XYA_CREG
1542	.$1203	STA TMP3_ZP
1543	.$1205	STY TMP3_ZP+1
1544	.$1207	COPY2_XY_CREG
1545	.$1207	LDX #<C_REG  
1546	.$1209	LDY #0
1547	.$120b	LDA (TMP3_ZP),Y
1548	.$120d	STA C_REG
1549	.$1210	INY
1550	.$1211	LDA (TMP3_ZP),Y
1551	.$1213	STA C_REG+1
1552	.$1216	INY
1553	.$1217	LDA (TMP3_ZP),Y
1554	.$1219	STA C_REG+2
1555	.$121c	INY
1556	.$121d	LDA (TMP3_ZP),Y
1557	.$121f	STA C_REG+3
1558	.$1222	INY
1559	.$1223	LDA (TMP3_ZP),Y
1560	.$1225	STA C_REG+4
1561	.$1228	RTS
1564	.$1229	COPY2_XYA_YREG
1565	.$1229	STA TMP3_ZP
1566	.$122b	STY TMP3_ZP+1
1567	.$122d	COPY2_XY_YREG
1568	.$122d	LDX #<Y_REG  
1569	.$122f	LDY #0
1570	.$1231	LDA (TMP3_ZP),Y
1571	.$1233	STA Y_REG
1572	.$1236	INY
1573	.$1237	LDA (TMP3_ZP),Y
1574	.$1239	STA Y_REG+1
1575	.$123c	INY
1576	.$123d	LDA (TMP3_ZP),Y
1577	.$123f	STA Y_REG+2
1578	.$1242	INY
1579	.$1243	LDA (TMP3_ZP),Y
1580	.$1245	STA Y_REG+3
1581	.$1248	INY
1582	.$1249	LDA (TMP3_ZP),Y
1583	.$124b	STA Y_REG+4
1584	.$124e	RTS
1588	.$124f	FACWORD
1589	.$124f	LDA FACEXP   
1590	.$1251	BNE DOFACWORD
1591	.$1253	STA FACSGN   
1592	.$1255	DOFACWORD:
1593	.$1255	JMP XFACWORD
1597	.$1258	CLRCHNEW
1598	.$1258	LDA CHLOCKFLAG
1599	.$125b	BNE SKIPCLRCH
1600	.$125d	JMP CLRCH
1601	.$1260	SKIPCLRCH
1602	.$1260	RTS
1605	.$1261	OUTOFMEMORY
1609	.$1261	LDX #$10
1610	.$1263	JMP ERRALL
1613	.$1266	STRINGTOOLONG
1617	.$1266	LDX #$17
1618	.$1268	JMP ERRALL
1621	.$126b	ILLEGALQUANTITY
1625	.$126b	JMP ERRIQ
1628	.$126e	YREGFAC  LDA Y_REG+4
1629	.$1271	STA FACLO
1630	.$1273	LDA Y_REG+3
1631	.$1276	STA FACMO
1632	.$1278	LDA Y_REG+2
1633	.$127b	STA FACMOH
1634	.$127d	LDA Y_REG+1
1635	.$1280	STA FACSGN
1636	.$1282	ORA #$80
1637	.$1284	STA FACHO
1638	.$1286	LDA Y_REG
1639	.$1289	STA FACEXP
1640	.$128b	LDA #0
1641	.$128d	STA FACOV
1642	.$128f	RTS
1756	.$1290	INITVARS
1757	.$1290	JSR INITSTRVARS
1758	.$1293	LDA #0
1759	.$1295	RTS
1763	.$1296	CONSTANTS
1765	.$1296	CONST_0 .BYTE 18
1766	.$1297	.STRG "hello  66 world!!!"
1771	.$12a9	CONST_2 .BYTE 5
1772	.$12aa	.STRG "hello"
1774	.$12af	CONST_3 .BYTE 6
1775	.$12b0	.STRG "hello "
1777	.$12b6	CONST_4 .BYTE 1
1778	.$12b7	.STRG " "
1784	.$12b8	CONST_6R .REAL 2.0
1786	.$12bd	CONST_7 .BYTE 5
1787	.$12be	.STRG "world"
1793	.$12c3	CONST_9R .REAL 1337.0
1799	.$12c8	CONST_11R .REAL 1.0
1802	.$12cd	CONST_12R .REAL 3.0
1808	.$12d2	CONST_14R .REAL 100.0
1817	.$12d7	DATAS
1818	.$12d7	.BYTE $FF
1820	.$12d8	CONSTANTS_END
1823	.$12d8	VARIABLES
1824	.$12d8	STRINGVARS_START
1826	.$12d8	VAR_D$ .WORD EMPTYSTR
1828	.$12da	VAR_TI$ .WORD EMPTYSTR
1829	.$12dc	STRINGVARS_END
1830	.$12dc	STRINGARRAYS_START
1831	.$12dc	STRINGARRAYS_END
1832	.$12dc	VARIABLES_END
1834	.$12dc	Y_REG .REAL 0.0
1835	.$12e1	C_REG .REAL 0.0
1836	.$12e6	D_REG .REAL 0.0
1837	.$12eb	E_REG .REAL 0.0
1838	.$12f0	F_REG .REAL 0.0
1839	.$12f5	A_REG .WORD 0
1840	.$12f7	B_REG .WORD 0
1841	.$12f9	CMD_NUM .BYTE 0
1842	.$12fa	CHANNEL .BYTE 0
1843	.$12fb	SP_SAVE .BYTE 0
1844	.$12fc	TMP2_REG .WORD 0
1845	.$12fe	TMP3_REG .WORD 0
1846	.$1300	TMP4_REG .WORD 0
1847	.$1302	AS_TMP .WORD 0
1848	.$1304	BPOINTER_TMP .WORD 0
1849	.$1306	BASICTEXTP .BYTE 0
1850	.$1307	STORE1 .WORD 0
1851	.$1309	STORE2 .WORD 0
1852	.$130b	STORE3 .WORD 0
1853	.$130d	STORE4 .WORD 0
1854	.$130f	GCSTART .WORD 0
1855	.$1311	GCLEN .WORD 0
1856	.$1313	GCWORK .WORD 0
1857	.$1315	INPUTLENGTH .BYTE 0
1858	.$1316	TMP_FREG .REAL 0
1859	.$131b	TMP2_FREG .REAL 0
1860	.$1320	TMP_FLAG .BYTE 0
1861	.$1321	INT_FLAG .BYTE 0
1862	.$1322	REAL_CONST_ONE .REAL 1.0
1863	.$1327	REAL_CONST_ZERO .REAL 0.0
1864	.$132c	REAL_CONST_MINUS_ONE .REAL -1.0
1865	.$1331	CHLOCKFLAG .BYTE 0
1866	.$1332	EMPTYSTR .BYTE 0
1867	.$1333	FPSTACKP .WORD FPSTACK
1868	.$1335	FORSTACKP .WORD FORSTACK
1869	.$1337	DATASP .WORD DATAS
1870	.$1339	LASTVAR .WORD 0
1871	.$133b	LASTVARP .WORD 0
1872	.$133d	HIGHP .WORD STRBUF
1873	.$133f	STRBUFP .WORD STRBUF
1874	.$1341	ENDSTRBUF .WORD 0
1875	.$1343	INPUTQUEUEP .BYTE 0
1876	.$1344	PROGRAMEND
1877	.$1344	INPUTQUEUE .ARRAY $0F
1878	.$1353	FPSTACK .ARRAY 100
1879	.$13b7	FORSTACK .ARRAY 340
1880	.$150b	STRBUF .BYTE 0
