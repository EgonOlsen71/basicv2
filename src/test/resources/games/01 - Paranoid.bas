0 BACKGROUND=1
5 POKE55,255:POKE56,31
6 DIMP(7):FORI=0TO7:P(I)=2^(7-I):NEXT
10 V=53248:POKEV+32,0:POKEV+33,0
30 POKEV+24,PEEK(V+24)OR8
40 POKEV+17,PEEK(V+17)OR32
50 FORI=1024TO2024:POKEI,BA:NEXT
60 FORI=8192TO8192+8*1024:POKEI,0:NEXT
100 X=79:Y=49:DX=INT(RND(1)*3-1):DY=INT(RND(1)*3-1):IFDX=0ANDDY=0THEN100
105 Y1=Y:X1=X:GOSUB1000:X1=319-X:GOSUB1000:Y1=199-Y:GOSUB1000:X1=X:GOSUB1000
107 Y1=Y*2:X1=X*2:GOSUB1000:Y1=199-Y1:X1=319-X1:GOSUB1000
110 X=X+DX:Y=Y+DY:IFX<0ORX>159THENDX=-DX:GOTO110
115 IFY<0ORY>99THENDY=-DY:GOTO110
120 IFRND(1)>.9THENDX=INT(RND(1)*3-1)
130 IFRND(1)>.9THENDY=INT(RND(1)*3-1)
135 IFDX<>0ORDY<>0THEN105
140 DX=INT(RND(1)*3-1):DY=INT(RND(1)*3-1):IFDX=0ANDDY=0THEN140
150 GOTO105
1000 YA=INT(Y1/8):YB=Y1-YA*8:XA=INT(X1/8):XB=X1-XA*8
1005 P=8*1024+YA*320+XA*8+YB:XC=P(XB)
1010 POKEP,PEEK(P)ORXC:RETURN
